{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(module,exports,__webpack_require__){module.exports=__webpack_require__(\"zUnb\")},KtZj:function(module,exports,__webpack_require__){\"use strict\";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;\"undefined\"!=typeof window&&window,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=\"function\"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){if(\"undefined\"==typeof window)return null;var globalWindow=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),requestAnimationFrame=globalWindow.requestAnimationFrame||globalWindow.mozRequestAnimationFrame||globalWindow.webkitRequestAnimationFrame||function(fn){return globalWindow.setTimeout(fn,20)};function forEachElement(elements,callback){var elementsType=Object.prototype.toString.call(elements),isCollectionTyped=\"[object Array]\"===elementsType||\"[object NodeList]\"===elementsType||\"[object HTMLCollection]\"===elementsType||\"[object Object]\"===elementsType||\"undefined\"!=typeof jQuery&&elements instanceof jQuery||\"undefined\"!=typeof Elements&&elements instanceof Elements,i=0,j=elements.length;if(isCollectionTyped)for(;i<j;i++)callback(elements[i]);else callback(elements)}function getElementSize(element){if(!element.getBoundingClientRect)return{width:element.offsetWidth,height:element.offsetHeight};var rect=element.getBoundingClientRect();return{width:Math.round(rect.width),height:Math.round(rect.height)}}function setStyle(element,style){Object.keys(style).forEach(function(key){element.style[key]=style[key]})}var ResizeSensor=function(element,callback){function EventQueue(){var i,j,q=[];this.add=function(ev){q.push(ev)},this.call=function(sizeInfo){for(i=0,j=q.length;i<j;i++)q[i].call(this,sizeInfo)},this.remove=function(ev){var newQueue=[];for(i=0,j=q.length;i<j;i++)q[i]!==ev&&newQueue.push(q[i]);q=newQueue},this.length=function(){return q.length}}forEachElement(element,function(elem){!function(element,resized){if(element)if(element.resizedAttached)element.resizedAttached.add(resized);else{element.resizedAttached=new EventQueue,element.resizedAttached.add(resized),element.resizeSensor=document.createElement(\"div\"),element.resizeSensor.dir=\"ltr\",element.resizeSensor.className=\"resize-sensor\";var style={pointerEvents:\"none\",position:\"absolute\",left:\"0px\",top:\"0px\",right:\"0px\",bottom:\"0px\",overflow:\"hidden\",zIndex:\"-1\",visibility:\"hidden\",maxWidth:\"100%\"},styleChild={position:\"absolute\",left:\"0px\",top:\"0px\",transition:\"0s\"};setStyle(element.resizeSensor,style);var expand=document.createElement(\"div\");expand.className=\"resize-sensor-expand\",setStyle(expand,style);var expandChild=document.createElement(\"div\");setStyle(expandChild,styleChild),expand.appendChild(expandChild);var shrink=document.createElement(\"div\");shrink.className=\"resize-sensor-shrink\",setStyle(shrink,style);var shrinkChild=document.createElement(\"div\");setStyle(shrinkChild,styleChild),setStyle(shrinkChild,{width:\"200%\",height:\"200%\"}),shrink.appendChild(shrinkChild),element.resizeSensor.appendChild(expand),element.resizeSensor.appendChild(shrink),element.appendChild(element.resizeSensor);var dirty,rafId,computedStyle=window.getComputedStyle(element),position=computedStyle?computedStyle.getPropertyValue(\"position\"):null;\"absolute\"!==position&&\"relative\"!==position&&\"fixed\"!==position&&(element.style.position=\"relative\");var size=getElementSize(element),lastWidth=0,lastHeight=0,initialHiddenCheck=!0,lastAnimationFrame=0,reset=function(){if(initialHiddenCheck){if(0===element.offsetWidth&&0===element.offsetHeight)return void(lastAnimationFrame||(lastAnimationFrame=requestAnimationFrame(function(){lastAnimationFrame=0,reset()})));initialHiddenCheck=!1}var width,height;height=element.offsetHeight,expandChild.style.width=(width=element.offsetWidth)+10+\"px\",expandChild.style.height=height+10+\"px\",expand.scrollLeft=width+10,expand.scrollTop=height+10,shrink.scrollLeft=width+10,shrink.scrollTop=height+10};element.resizeSensor.resetSensor=reset;var onResized=function(){rafId=0,dirty&&(lastWidth=size.width,lastHeight=size.height,element.resizedAttached&&element.resizedAttached.call(size))},onScroll=function(){size=getElementSize(element),(dirty=size.width!==lastWidth||size.height!==lastHeight)&&!rafId&&(rafId=requestAnimationFrame(onResized)),reset()},addEvent=function(el,name,cb){el.attachEvent?el.attachEvent(\"on\"+name,cb):el.addEventListener(name,cb)};addEvent(expand,\"scroll\",onScroll),addEvent(shrink,\"scroll\",onScroll),requestAnimationFrame(reset)}}(elem,callback)}),this.detach=function(ev){ResizeSensor.detach(element,ev)},this.reset=function(){element.resizeSensor.resetSensor()}};if(ResizeSensor.reset=function(element){forEachElement(element,function(elem){elem.resizeSensor.resetSensor()})},ResizeSensor.detach=function(element,ev){forEachElement(element,function(elem){elem&&(elem.resizedAttached&&\"function\"==typeof ev&&(elem.resizedAttached.remove(ev),elem.resizedAttached.length())||elem.resizeSensor&&(elem.contains(elem.resizeSensor)&&elem.removeChild(elem.resizeSensor),delete elem.resizeSensor,delete elem.resizedAttached))})},\"undefined\"!=typeof MutationObserver){var observer=new MutationObserver(function(mutations){for(var i in mutations)if(mutations.hasOwnProperty(i))for(var items=mutations[i].addedNodes,j=0;j<items.length;j++)items[j].resizeSensor&&ResizeSensor.reset(items[j])});document.addEventListener(\"DOMContentLoaded\",function(event){observer.observe(document.body,{childList:!0,subtree:!0})})}return ResizeSensor})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},zUnb:function(module,__webpack_exports__,__webpack_require__){\"use strict\";function isFunction(x){return\"function\"==typeof x}__webpack_require__.r(__webpack_exports__);let _enable_super_gross_mode_that_will_cause_bad_things=!1;const config_config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(value){if(value){const error=new Error;console.warn(\"DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n\"+error.stack)}else _enable_super_gross_mode_that_will_cause_bad_things&&console.log(\"RxJS: Back to a better error behavior. Thank you. <3\");_enable_super_gross_mode_that_will_cause_bad_things=value},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(err){setTimeout(()=>{throw err})}const Observer_empty={closed:!0,next(value){},error(err){if(config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)},complete(){}},isArray=Array.isArray||(x=>x&&\"number\"==typeof x.length);function isObject(x){return null!==x&&\"object\"==typeof x}function UnsubscriptionErrorImpl(errors){return Error.call(this),this.message=errors?`${errors.length} errors occurred during unsubscription:\\n${errors.map((err,i)=>`${i+1}) ${err.toString()}`).join(\"\\n  \")}`:\"\",this.name=\"UnsubscriptionError\",this.errors=errors,this}UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype);const UnsubscriptionError=UnsubscriptionErrorImpl;let Subscription_Subscription=(()=>{class Subscription{constructor(unsubscribe){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,unsubscribe&&(this._unsubscribe=unsubscribe)}unsubscribe(){let errors,hasErrors=!1;if(this.closed)return;let{_parent:_parent,_parents:_parents,_unsubscribe:_unsubscribe,_subscriptions:_subscriptions}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let index=-1,len=_parents?_parents.length:0;for(;_parent;)_parent.remove(this),_parent=++index<len&&_parents[index]||null;if(isFunction(_unsubscribe))try{_unsubscribe.call(this)}catch(e){hasErrors=!0,errors=e instanceof UnsubscriptionError?flattenUnsubscriptionErrors(e.errors):[e]}if(isArray(_subscriptions))for(index=-1,len=_subscriptions.length;++index<len;){const sub=_subscriptions[index];if(isObject(sub))try{sub.unsubscribe()}catch(e){hasErrors=!0,errors=errors||[],e instanceof UnsubscriptionError?errors=errors.concat(flattenUnsubscriptionErrors(e.errors)):errors.push(e)}}if(hasErrors)throw new UnsubscriptionError(errors)}add(teardown){let subscription=teardown;switch(typeof teardown){case\"function\":subscription=new Subscription(teardown);case\"object\":if(subscription===this||subscription.closed||\"function\"!=typeof subscription.unsubscribe)return subscription;if(this.closed)return subscription.unsubscribe(),subscription;if(!(subscription instanceof Subscription)){const tmp=subscription;(subscription=new Subscription)._subscriptions=[tmp]}break;default:if(!teardown)return Subscription.EMPTY;throw new Error(\"unrecognized teardown \"+teardown+\" added to Subscription.\")}if(subscription._addParent(this)){const subscriptions=this._subscriptions;subscriptions?subscriptions.push(subscription):this._subscriptions=[subscription]}return subscription}remove(subscription){const subscriptions=this._subscriptions;if(subscriptions){const subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}_addParent(parent){let{_parent:_parent,_parents:_parents}=this;return _parent!==parent&&(_parent?_parents?-1===_parents.indexOf(parent)&&(_parents.push(parent),!0):(this._parents=[parent],!0):(this._parent=parent,!0))}}return Subscription.EMPTY=function(empty){return empty.closed=!0,empty}(new Subscription),Subscription})();function flattenUnsubscriptionErrors(errors){return errors.reduce((errs,err)=>errs.concat(err instanceof UnsubscriptionError?err.errors:err),[])}const rxSubscriber=\"function\"==typeof Symbol?Symbol(\"rxSubscriber\"):\"@@rxSubscriber_\"+Math.random();class Subscriber_Subscriber extends Subscription_Subscription{constructor(destinationOrNext,error,complete){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_empty;break;case 1:if(!destinationOrNext){this.destination=Observer_empty;break}if(\"object\"==typeof destinationOrNext){destinationOrNext instanceof Subscriber_Subscriber?(this.syncErrorThrowable=destinationOrNext.syncErrorThrowable,this.destination=destinationOrNext,destinationOrNext.add(this)):(this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext,error,complete)}}[rxSubscriber](){return this}static create(next,error,complete){const subscriber=new Subscriber_Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber}next(value){this.isStopped||this._next(value)}error(err){this.isStopped||(this.isStopped=!0,this._error(err))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(value){this.destination.next(value)}_error(err){this.destination.error(err),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:_parent,_parents:_parents}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=_parent,this._parents=_parents,this}}class Subscriber_SafeSubscriber extends Subscriber_Subscriber{constructor(_parentSubscriber,observerOrNext,error,complete){let next;super(),this._parentSubscriber=_parentSubscriber;let context=this;isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,observerOrNext!==Observer_empty&&(isFunction((context=Object.create(observerOrNext)).unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this))),this._context=context,this._next=next,this._error=error,this._complete=complete}next(value){if(!this.isStopped&&this._next){const{_parentSubscriber:_parentSubscriber}=this;config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?this.__tryOrSetError(_parentSubscriber,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}}error(err){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this,{useDeprecatedSynchronousErrorHandling:useDeprecatedSynchronousErrorHandling}=config_config;if(this._error)useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else if(_parentSubscriber.syncErrorThrowable)useDeprecatedSynchronousErrorHandling?(_parentSubscriber.syncErrorValue=err,_parentSubscriber.syncErrorThrown=!0):hostReportError(err),this.unsubscribe();else{if(this.unsubscribe(),useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}}complete(){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this;if(this._complete){const wrappedComplete=()=>this._complete.call(this._context);config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,wrappedComplete),this.unsubscribe()):(this.__tryOrUnsub(wrappedComplete),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(fn,value){try{fn.call(this._context,value)}catch(err){if(this.unsubscribe(),config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}__tryOrSetError(parent,fn,value){if(!config_config.useDeprecatedSynchronousErrorHandling)throw new Error(\"bad call\");try{fn.call(this._context,value)}catch(err){return config_config.useDeprecatedSynchronousErrorHandling?(parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0):(hostReportError(err),!0)}return!1}_unsubscribe(){const{_parentSubscriber:_parentSubscriber}=this;this._context=null,this._parentSubscriber=null,_parentSubscriber.unsubscribe()}}const observable_observable=\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\";function noop(){}function pipe(...fns){return pipeFromArray(fns)}function pipeFromArray(fns){return fns?1===fns.length?fns[0]:function(input){return fns.reduce((prev,fn)=>fn(prev),input)}:noop}let Observable_Observable=(()=>{class Observable{constructor(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}lift(operator){const observable=new Observable;return observable.source=this,observable.operator=operator,observable}subscribe(observerOrNext,error,complete){const{operator:operator}=this,sink=function(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber_Subscriber)return nextOrObserver;if(nextOrObserver[rxSubscriber])return nextOrObserver[rxSubscriber]()}return nextOrObserver||error||complete?new Subscriber_Subscriber(nextOrObserver,error,complete):new Subscriber_Subscriber(Observer_empty)}(observerOrNext,error,complete);if(sink.add(operator?operator.call(sink,this.source):this.source||config_config.useDeprecatedSynchronousErrorHandling&&!sink.syncErrorThrowable?this._subscribe(sink):this._trySubscribe(sink)),config_config.useDeprecatedSynchronousErrorHandling&&sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink}_trySubscribe(sink){try{return this._subscribe(sink)}catch(err){config_config.useDeprecatedSynchronousErrorHandling&&(sink.syncErrorThrown=!0,sink.syncErrorValue=err),function(observer){for(;observer;){const{closed:closed,destination:destination,isStopped:isStopped}=observer;if(closed||isStopped)return!1;observer=destination&&destination instanceof Subscriber_Subscriber?destination:null}return!0}(sink)?sink.error(err):console.warn(err)}}forEach(next,promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let subscription;subscription=this.subscribe(value=>{try{next(value)}catch(err){reject(err),subscription&&subscription.unsubscribe()}},reject,resolve)})}_subscribe(subscriber){const{source:source}=this;return source&&source.subscribe(subscriber)}[observable_observable](){return this}pipe(...operations){return 0===operations.length?this:pipeFromArray(operations)(this)}toPromise(promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let value;this.subscribe(x=>value=x,err=>reject(err),()=>resolve(value))})}}return Observable.create=subscribe=>new Observable(subscribe),Observable})();function getPromiseCtor(promiseCtor){if(promiseCtor||(promiseCtor=config_config.Promise||Promise),!promiseCtor)throw new Error(\"no Promise impl found\");return promiseCtor}function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message=\"object unsubscribed\",this.name=\"ObjectUnsubscribedError\",this}ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype);const ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl;class SubjectSubscription_SubjectSubscription extends Subscription_Subscription{constructor(subject,subscriber){super(),this.subject=subject,this.subscriber=subscriber,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const subject=this.subject,observers=subject.observers;if(this.subject=null,!observers||0===observers.length||subject.isStopped||subject.closed)return;const subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}class Subject_SubjectSubscriber extends Subscriber_Subscriber{constructor(destination){super(destination),this.destination=destination}}let Subject_Subject=(()=>{class Subject extends Observable_Observable{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[rxSubscriber](){return new Subject_SubjectSubscriber(this)}lift(operator){const subject=new Subject_AnonymousSubject(this,this);return subject.operator=operator,subject}next(value){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped){const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].next(value)}}error(err){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].error(err);this.observers.length=0}complete(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return super._trySubscribe(subscriber)}_subscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),Subscription_Subscription.EMPTY):this.isStopped?(subscriber.complete(),Subscription_Subscription.EMPTY):(this.observers.push(subscriber),new SubjectSubscription_SubjectSubscription(this,subscriber))}asObservable(){const observable=new Observable_Observable;return observable.source=this,observable}}return Subject.create=(destination,source)=>new Subject_AnonymousSubject(destination,source),Subject})();class Subject_AnonymousSubject extends Subject_Subject{constructor(destination,source){super(),this.destination=destination,this.source=source}next(value){const{destination:destination}=this;destination&&destination.next&&destination.next(value)}error(err){const{destination:destination}=this;destination&&destination.error&&this.destination.error(err)}complete(){const{destination:destination}=this;destination&&destination.complete&&this.destination.complete()}_subscribe(subscriber){const{source:source}=this;return source?this.source.subscribe(subscriber):Subscription_Subscription.EMPTY}}function isScheduler(value){return value&&\"function\"==typeof value.schedule}class InnerSubscriber_InnerSubscriber extends Subscriber_Subscriber{constructor(parent,outerValue,outerIndex){super(),this.parent=parent,this.outerValue=outerValue,this.outerIndex=outerIndex,this.index=0}_next(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)}_error(error){this.parent.notifyError(error,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const subscribeToArray=array=>subscriber=>{for(let i=0,len=array.length;i<len&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.closed||subscriber.complete()},subscribeToPromise=promise=>subscriber=>(promise.then(value=>{subscriber.closed||(subscriber.next(value),subscriber.complete())},err=>subscriber.error(err)).then(null,hostReportError),subscriber);function getSymbolIterator(){return\"function\"==typeof Symbol&&Symbol.iterator?Symbol.iterator:\"@@iterator\"}const iterator_iterator=getSymbolIterator(),subscribeToIterable=iterable=>subscriber=>{const iterator=iterable[iterator_iterator]();for(;;){const item=iterator.next();if(item.done){subscriber.complete();break}if(subscriber.next(item.value),subscriber.closed)break}return\"function\"==typeof iterator.return&&subscriber.add(()=>{iterator.return&&iterator.return()}),subscriber},subscribeToObservable=obj=>subscriber=>{const obs=obj[observable_observable]();if(\"function\"!=typeof obs.subscribe)throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");return obs.subscribe(subscriber)},isArrayLike=x=>x&&\"number\"==typeof x.length&&\"function\"!=typeof x;function isPromise(value){return!!value&&\"function\"!=typeof value.subscribe&&\"function\"==typeof value.then}const subscribeTo=result=>{if(result instanceof Observable_Observable)return subscriber=>result._isScalar?(subscriber.next(result.value),void subscriber.complete()):result.subscribe(subscriber);if(result&&\"function\"==typeof result[observable_observable])return subscribeToObservable(result);if(isArrayLike(result))return subscribeToArray(result);if(isPromise(result))return subscribeToPromise(result);if(result&&\"function\"==typeof result[iterator_iterator])return subscribeToIterable(result);{const value=isObject(result)?\"an invalid object\":`'${result}'`;throw new TypeError(`You provided ${value} where a stream was expected.`+\" You can provide an Observable, Promise, Array, or Iterable.\")}};function subscribeToResult(outerSubscriber,result,outerValue,outerIndex,destination=new InnerSubscriber_InnerSubscriber(outerSubscriber,outerValue,outerIndex)){if(!destination.closed)return subscribeTo(result)(destination)}class OuterSubscriber_OuterSubscriber extends Subscriber_Subscriber{notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyError(error,innerSub){this.destination.error(error)}notifyComplete(innerSub){this.destination.complete()}}function map(project,thisArg){return function(source){if(\"function\"!=typeof project)throw new TypeError(\"argument is not a function. Are you looking for `mapTo()`?\");return source.lift(new MapOperator(project,thisArg))}}class MapOperator{constructor(project,thisArg){this.project=project,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new map_MapSubscriber(subscriber,this.project,this.thisArg))}}class map_MapSubscriber extends Subscriber_Subscriber{constructor(destination,project,thisArg){super(destination),this.project=project,this.count=0,this.thisArg=thisArg||this}_next(value){let result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}function fromArray(input,scheduler){return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;let i=0;return sub.add(scheduler.schedule(function(){i!==input.length?(subscriber.next(input[i++]),subscriber.closed||sub.add(this.schedule())):subscriber.complete()})),sub}:subscribeToArray(input))}function from_from(input,scheduler){if(!scheduler)return input instanceof Observable_Observable?input:new Observable_Observable(subscribeTo(input));if(null!=input){if(function(input){return input&&\"function\"==typeof input[observable_observable]}(input))return function(input,scheduler){return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>{const observable=input[observable_observable]();sub.add(observable.subscribe({next(value){sub.add(scheduler.schedule(()=>subscriber.next(value)))},error(err){sub.add(scheduler.schedule(()=>subscriber.error(err)))},complete(){sub.add(scheduler.schedule(()=>subscriber.complete()))}}))})),sub}:subscribeToObservable(input))}(input,scheduler);if(isPromise(input))return function(input,scheduler){return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>input.then(value=>{sub.add(scheduler.schedule(()=>{subscriber.next(value),sub.add(scheduler.schedule(()=>subscriber.complete()))}))},err=>{sub.add(scheduler.schedule(()=>subscriber.error(err)))}))),sub}:subscribeToPromise(input))}(input,scheduler);if(isArrayLike(input))return fromArray(input,scheduler);if(function(input){return input&&\"function\"==typeof input[iterator_iterator]}(input)||\"string\"==typeof input)return function(input,scheduler){if(!input)throw new Error(\"Iterable cannot be null\");return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;let iterator;return sub.add(()=>{iterator&&\"function\"==typeof iterator.return&&iterator.return()}),sub.add(scheduler.schedule(()=>{iterator=input[iterator_iterator](),sub.add(scheduler.schedule(function(){if(subscriber.closed)return;let value,done;try{const result=iterator.next();value=result.value,done=result.done}catch(err){return void subscriber.error(err)}done?subscriber.complete():(subscriber.next(value),this.schedule())}))})),sub}:subscribeToIterable(input))}(input,scheduler)}throw new TypeError((null!==input&&typeof input||input)+\" is not observable\")}function mergeMap(project,resultSelector,concurrent=Number.POSITIVE_INFINITY){return\"function\"==typeof resultSelector?source=>source.pipe(mergeMap((a,i)=>from_from(project(a,i)).pipe(map((b,ii)=>resultSelector(a,b,i,ii))),concurrent)):(\"number\"==typeof resultSelector&&(concurrent=resultSelector),source=>source.lift(new MergeMapOperator(project,concurrent)))}class MergeMapOperator{constructor(project,concurrent=Number.POSITIVE_INFINITY){this.project=project,this.concurrent=concurrent}call(observer,source){return source.subscribe(new mergeMap_MergeMapSubscriber(observer,this.project,this.concurrent))}}class mergeMap_MergeMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project,concurrent=Number.POSITIVE_INFINITY){super(destination),this.project=project,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)}_tryNext(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)}_innerSub(ish,value,index){const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),subscribeToResult(this,ish,value,index,innerSubscriber)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyComplete(innerSub){const buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function identity(x){return x}function mergeAll(concurrent=Number.POSITIVE_INFINITY){return mergeMap(identity,concurrent)}function refCount(){return function(source){return source.lift(new RefCountOperator(source))}}class RefCountOperator{constructor(connectable){this.connectable=connectable}call(subscriber,source){const{connectable:connectable}=this;connectable._refCount++;const refCounter=new refCount_RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription}}class refCount_RefCountSubscriber extends Subscriber_Subscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_unsubscribe(){const{connectable:connectable}=this;if(!connectable)return void(this.connection=null);this.connectable=null;const refCount=connectable._refCount;if(refCount<=0)return void(this.connection=null);if(connectable._refCount=refCount-1,refCount>1)return void(this.connection=null);const{connection:connection}=this,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()}}const connectableProto=class extends Observable_Observable{constructor(source,subjectFactory){super(),this.source=source,this.subjectFactory=subjectFactory,this._refCount=0,this._isComplete=!1}_subscribe(subscriber){return this.getSubject().subscribe(subscriber)}getSubject(){const subject=this._subject;return subject&&!subject.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let connection=this._connection;return connection||(this._isComplete=!1,(connection=this._connection=new Subscription_Subscription).add(this.source.subscribe(new ConnectableObservable_ConnectableSubscriber(this.getSubject(),this))),connection.closed?(this._connection=null,connection=Subscription_Subscription.EMPTY):this._connection=connection),connection}refCount(){return refCount()(this)}}.prototype,connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}};class ConnectableObservable_ConnectableSubscriber extends Subject_SubjectSubscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_error(err){this._unsubscribe(),super._error(err)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const connectable=this.connectable;if(connectable){this.connectable=null;const connection=connectable._connection;connectable._refCount=0,connectable._subject=null,connectable._connection=null,connection&&connection.unsubscribe()}}}function shareSubjectFactory(){return new Subject_Subject}const PARAMETERS=\"__parameters__\";function makeParamDecorator(name,props,parentClass){const metaCtor=function(props){return function(...args){if(props){const values=props(...args);for(const propName in values)this[propName]=values[propName]}}}(props);function ParamDecoratorFactory(...args){if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;const annotationInstance=new ParamDecoratorFactory(...args);return ParamDecorator.annotation=annotationInstance,ParamDecorator;function ParamDecorator(cls,unusedKey,index){const parameters=cls.hasOwnProperty(PARAMETERS)?cls[PARAMETERS]:Object.defineProperty(cls,PARAMETERS,{value:[]})[PARAMETERS];for(;parameters.length<=index;)parameters.push(null);return(parameters[index]=parameters[index]||[]).push(annotationInstance),cls}}return parentClass&&(ParamDecoratorFactory.prototype=Object.create(parentClass.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=name,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory}const Inject=makeParamDecorator(\"Inject\",token=>({token:token})),Optional=makeParamDecorator(\"Optional\"),Self=makeParamDecorator(\"Self\"),SkipSelf=makeParamDecorator(\"SkipSelf\");var InjectFlags=function(InjectFlags){return InjectFlags[InjectFlags.Default=0]=\"Default\",InjectFlags[InjectFlags.Host=1]=\"Host\",InjectFlags[InjectFlags.Self=2]=\"Self\",InjectFlags[InjectFlags.SkipSelf=4]=\"SkipSelf\",InjectFlags[InjectFlags.Optional=8]=\"Optional\",InjectFlags}({});function getClosureSafeProperty(objWithPropertyToExtract){for(let key in objWithPropertyToExtract)if(objWithPropertyToExtract[key]===getClosureSafeProperty)return key;throw Error(\"Could not find renamed property on target object.\")}function ɵɵdefineInjectable(opts){return{token:opts.token,providedIn:opts.providedIn||null,factory:opts.factory,value:void 0}}function getInjectableDef(type){const def=type[NG_INJECTABLE_DEF];return def&&def.token===type?def:null}const NG_INJECTABLE_DEF=getClosureSafeProperty({ngInjectableDef:getClosureSafeProperty});function stringify(token){if(\"string\"==typeof token)return token;if(token instanceof Array)return\"[\"+token.map(stringify).join(\", \")+\"]\";if(null==token)return\"\"+token;if(token.overriddenName)return`${token.overriddenName}`;if(token.name)return`${token.name}`;const res=token.toString();if(null==res)return\"\"+res;const newLineIndex=res.indexOf(\"\\n\");return-1===newLineIndex?res:res.substring(0,newLineIndex)}const __forward_ref__=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return stringify(this())},forwardRefFn}function resolveForwardRef(type){const fn=type;return\"function\"==typeof fn&&fn.hasOwnProperty(__forward_ref__)&&fn.__forward_ref__===forwardRef?fn():type}const __globalThis=\"undefined\"!=typeof globalThis&&globalThis,__window=\"undefined\"!=typeof window&&window,__self=\"undefined\"!=typeof self&&\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,__global=\"undefined\"!=typeof global&&global,_global=__globalThis||__global||__window||__self;class InjectionToken{constructor(_desc,options){this._desc=_desc,this.ngMetadataName=\"InjectionToken\",this.ngInjectableDef=void 0,\"number\"==typeof options?this.__NG_ELEMENT_ID__=options:void 0!==options&&(this.ngInjectableDef=ɵɵdefineInjectable({token:this,providedIn:options.providedIn||\"root\",factory:options.factory}))}toString(){return`InjectionToken ${this._desc}`}}const INJECTOR=new InjectionToken(\"INJECTOR\",-1),THROW_IF_NOT_FOUND=new Object,NG_TEMP_TOKEN_PATH=\"ngTempTokenPath\",NG_TOKEN_PATH=\"ngTokenPath\",NEW_LINE=/\\n/gm,NO_NEW_LINE=\"ɵ\",SOURCE=\"__source\",USE_VALUE=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});let _injectImplementation,_currentInjector=void 0;function setCurrentInjector(injector){const former=_currentInjector;return _currentInjector=injector,former}function ɵɵinject(token,flags=InjectFlags.Default){return(_injectImplementation||function(token,flags=InjectFlags.Default){if(void 0===_currentInjector)throw new Error(\"inject() must be called from an injection context\");return null===_currentInjector?function(token,notFoundValue,flags){const injectableDef=getInjectableDef(token);if(injectableDef&&\"root\"==injectableDef.providedIn)return void 0===injectableDef.value?injectableDef.value=injectableDef.factory():injectableDef.value;if(flags&InjectFlags.Optional)return null;throw new Error(`Injector: NOT_FOUND [${stringify(token)}]`)}(token,0,flags):_currentInjector.get(token,flags&InjectFlags.Optional?null:void 0,flags)})(token,flags)}class NullInjector{get(token,notFoundValue=THROW_IF_NOT_FOUND){if(notFoundValue===THROW_IF_NOT_FOUND){const error=new Error(`NullInjectorError: No provider for ${stringify(token)}!`);throw error.name=\"NullInjectorError\",error}return notFoundValue}}function formatError(text,obj,injectorErrorName,source=null){text=text&&\"\\n\"===text.charAt(0)&&text.charAt(1)==NO_NEW_LINE?text.substr(2):text;let context=stringify(obj);if(obj instanceof Array)context=obj.map(stringify).join(\" -> \");else if(\"object\"==typeof obj){let parts=[];for(let key in obj)if(obj.hasOwnProperty(key)){let value=obj[key];parts.push(key+\":\"+(\"string\"==typeof value?JSON.stringify(value):stringify(value)))}context=`{${parts.join(\", \")}}`}return`${injectorErrorName}${source?\"(\"+source+\")\":\"\"}[${context}]: ${text.replace(NEW_LINE,\"\\n  \")}`}class NgModuleRef{}class NgModuleFactory{}function addToArray(arr,index,value){index>=arr.length?arr.push(value):arr.splice(index,0,value)}function removeFromArray(arr,index){return index>=arr.length-1?arr.pop():arr.splice(index,1)[0]}const ViewEncapsulation=function(){var ViewEncapsulation={Emulated:0,Native:1,None:2,ShadowDom:3};return ViewEncapsulation[ViewEncapsulation.Emulated]=\"Emulated\",ViewEncapsulation[ViewEncapsulation.Native]=\"Native\",ViewEncapsulation[ViewEncapsulation.None]=\"None\",ViewEncapsulation[ViewEncapsulation.ShadowDom]=\"ShadowDom\",ViewEncapsulation}(),defaultScheduler=(()=>(\"undefined\"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_global))(),ERROR_DEBUG_CONTEXT=\"ngDebugContext\",ERROR_ORIGINAL_ERROR=\"ngOriginalError\",ERROR_LOGGER=\"ngErrorLogger\";function getDebugContext(error){return error[ERROR_DEBUG_CONTEXT]}function getOriginalError(error){return error[ERROR_ORIGINAL_ERROR]}function defaultErrorLogger(console,...values){console.error(...values)}class ErrorHandler{constructor(){this._console=console}handleError(error){const originalError=this._findOriginalError(error),context=this._findContext(error),errorLogger=function(error){return error[ERROR_LOGGER]||defaultErrorLogger}(error);errorLogger(this._console,\"ERROR\",error),originalError&&errorLogger(this._console,\"ORIGINAL ERROR\",originalError),context&&errorLogger(this._console,\"ERROR CONTEXT\",context)}_findContext(error){return error?getDebugContext(error)?getDebugContext(error):this._findContext(getOriginalError(error)):null}_findOriginalError(error){let e=getOriginalError(error);for(;e&&getOriginalError(e);)e=getOriginalError(e);return e}}let _devMode=!0,_runModeLocked=!1;function isDevMode(){return _runModeLocked=!0,_devMode}class InertBodyHelper{constructor(defaultDoc){if(this.defaultDoc=defaultDoc,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument(\"sanitization-inert\"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const inertHtml=this.inertDocument.createElement(\"html\");this.inertDocument.appendChild(inertHtml),this.inertBodyElement=this.inertDocument.createElement(\"body\"),inertHtml.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload=\"this.parentNode.remove()\"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector(\"svg\")?(this.inertBodyElement.innerHTML='<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector(\"svg img\")&&function(){try{return!!window.DOMParser}catch(_a){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(html){html=\"<body><remove></remove>\"+html+\"</body>\";try{html=encodeURI(html)}catch(_a){return null}const xhr=new XMLHttpRequest;xhr.responseType=\"document\",xhr.open(\"GET\",\"data:text/html;charset=utf-8,\"+html,!1),xhr.send(void 0);const body=xhr.response.body;return body.removeChild(body.firstChild),body}getInertBodyElement_DOMParser(html){html=\"<body><remove></remove>\"+html+\"</body>\";try{const body=(new window.DOMParser).parseFromString(html,\"text/html\").body;return body.removeChild(body.firstChild),body}catch(_a){return null}}getInertBodyElement_InertDocument(html){const templateEl=this.inertDocument.createElement(\"template\");return\"content\"in templateEl?(templateEl.innerHTML=html,templateEl):(this.inertBodyElement.innerHTML=html,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(el){const elAttrs=el.attributes;for(let i=elAttrs.length-1;0<i;i--){const attrName=elAttrs.item(i).name;\"xmlns:ns1\"!==attrName&&0!==attrName.indexOf(\"ns1:\")||el.removeAttribute(attrName)}let childNode=el.firstChild;for(;childNode;)childNode.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(childNode),childNode=childNode.nextSibling}}const SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\\/?#]*(?:[\\/?#]|$))/gi,DATA_URL_PATTERN=/^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\\/]+=*$/i;function _sanitizeUrl(url){return(url=String(url)).match(SAFE_URL_PATTERN)||url.match(DATA_URL_PATTERN)?url:(isDevMode()&&console.warn(`WARNING: sanitizing unsafe URL value ${url} (see http://g.co/ng/security#xss)`),\"unsafe:\"+url)}function tagSet(tags){const res={};for(const t of tags.split(\",\"))res[t]=!0;return res}function core_merge(...sets){const res={};for(const s of sets)for(const v in s)s.hasOwnProperty(v)&&(res[v]=!0);return res}const VOID_ELEMENTS=tagSet(\"area,br,col,hr,img,wbr\"),OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\"),OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet(\"rp,rt\"),OPTIONAL_END_TAG_ELEMENTS=core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS),VALID_ELEMENTS=core_merge(VOID_ELEMENTS,core_merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet(\"address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul\")),core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet(\"a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video\")),OPTIONAL_END_TAG_ELEMENTS),URI_ATTRS=tagSet(\"background,cite,href,itemtype,longdesc,poster,src,xlink:href\"),SRCSET_ATTRS=tagSet(\"srcset\"),VALID_ATTRS=core_merge(URI_ATTRS,SRCSET_ATTRS,tagSet(\"abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width\"),tagSet(\"aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext\")),SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS=tagSet(\"script,style,template\");class SanitizingHtmlSerializer{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(el){let current=el.firstChild,traverseContent=!0;for(;current;)if(current.nodeType===Node.ELEMENT_NODE?traverseContent=this.startElement(current):current.nodeType===Node.TEXT_NODE?this.chars(current.nodeValue):this.sanitizedSomething=!0,traverseContent&&current.firstChild)current=current.firstChild;else for(;current;){current.nodeType===Node.ELEMENT_NODE&&this.endElement(current);let next=this.checkClobberedElement(current,current.nextSibling);if(next){current=next;break}current=this.checkClobberedElement(current,current.parentNode)}return this.buf.join(\"\")}startElement(element){const tagName=element.nodeName.toLowerCase();if(!VALID_ELEMENTS.hasOwnProperty(tagName))return this.sanitizedSomething=!0,!SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS.hasOwnProperty(tagName);this.buf.push(\"<\"),this.buf.push(tagName);const elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const elAttr=elAttrs.item(i),attrName=elAttr.name,lower=attrName.toLowerCase();if(!VALID_ATTRS.hasOwnProperty(lower)){this.sanitizedSomething=!0;continue}let value=elAttr.value;URI_ATTRS[lower]&&(value=_sanitizeUrl(value)),SRCSET_ATTRS[lower]&&(srcset=value,value=(srcset=String(srcset)).split(\",\").map(srcset=>_sanitizeUrl(srcset.trim())).join(\", \")),this.buf.push(\" \",attrName,'=\"',encodeEntities(value),'\"')}var srcset;return this.buf.push(\">\"),!0}endElement(current){const tagName=current.nodeName.toLowerCase();VALID_ELEMENTS.hasOwnProperty(tagName)&&!VOID_ELEMENTS.hasOwnProperty(tagName)&&(this.buf.push(\"</\"),this.buf.push(tagName),this.buf.push(\">\"))}chars(chars){this.buf.push(encodeEntities(chars))}checkClobberedElement(node,nextNode){if(nextNode&&(node.compareDocumentPosition(nextNode)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${node.outerHTML}`);return nextNode}}const SURROGATE_PAIR_REGEXP=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\\#-~ |!])/g;function encodeEntities(value){return value.replace(/&/g,\"&amp;\").replace(SURROGATE_PAIR_REGEXP,function(match){return\"&#\"+(1024*(match.charCodeAt(0)-55296)+(match.charCodeAt(1)-56320)+65536)+\";\"}).replace(NON_ALPHANUMERIC_REGEXP,function(match){return\"&#\"+match.charCodeAt(0)+\";\"}).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}let inertBodyHelper;function getTemplateContent(el){return\"content\"in el&&function(el){return el.nodeType===Node.ELEMENT_NODE&&\"TEMPLATE\"===el.nodeName}(el)?el.content:null}const SecurityContext=function(){var SecurityContext={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return SecurityContext[SecurityContext.NONE]=\"NONE\",SecurityContext[SecurityContext.HTML]=\"HTML\",SecurityContext[SecurityContext.STYLE]=\"STYLE\",SecurityContext[SecurityContext.SCRIPT]=\"SCRIPT\",SecurityContext[SecurityContext.URL]=\"URL\",SecurityContext[SecurityContext.RESOURCE_URL]=\"RESOURCE_URL\",SecurityContext}();class Sanitizer{}const SAFE_STYLE_VALUE=new RegExp(\"^([-,.\\\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\\\([-0-9.%, #a-zA-Z]+\\\\))$\",\"g\"),URL_RE=/^url\\(([^)]+)\\)$/,CAMEL_CASE_REGEXP=/([A-Z])/g;function normalizeDebugBindingValue(value){try{return null!=value?value.toString().slice(0,30):value}catch(e){return\"[ERROR] Exception while trying to serialize the value\"}}let ChangeDetectorRef=(()=>{class ChangeDetectorRef{}return ChangeDetectorRef.__NG_ELEMENT_ID__=()=>SWITCH_CHANGE_DETECTOR_REF_FACTORY(),ChangeDetectorRef})();const SWITCH_CHANGE_DETECTOR_REF_FACTORY=(...args)=>{},APP_ROOT=new InjectionToken(\"The presence of this token marks an injector as being the root injector.\"),INJECTOR_IMPL=function(providers,parent,name){return new StaticInjector(providers,parent,name)};let Injector=(()=>{class Injector{static create(options,parent){return Array.isArray(options)?INJECTOR_IMPL(options,parent,\"\"):INJECTOR_IMPL(options.providers,options.parent,options.name||\"\")}}return Injector.THROW_IF_NOT_FOUND=THROW_IF_NOT_FOUND,Injector.NULL=new NullInjector,Injector.ngInjectableDef=ɵɵdefineInjectable({token:Injector,providedIn:\"any\",factory:()=>ɵɵinject(INJECTOR)}),Injector.__NG_ELEMENT_ID__=-1,Injector})();const IDENT=function(value){return value},EMPTY=[],CIRCULAR$1=IDENT,MULTI_PROVIDER_FN=function(){return Array.prototype.slice.call(arguments)},NO_NEW_LINE$1=\"ɵ\";class StaticInjector{constructor(providers,parent=Injector.NULL,source=null){this.parent=parent,this.source=source;const records=this._records=new Map;records.set(Injector,{token:Injector,fn:IDENT,deps:EMPTY,value:this,useNew:!1}),records.set(INJECTOR,{token:INJECTOR,fn:IDENT,deps:EMPTY,value:this,useNew:!1}),function recursivelyProcessProviders(records,provider){if(provider)if((provider=resolveForwardRef(provider))instanceof Array)for(let i=0;i<provider.length;i++)recursivelyProcessProviders(records,provider[i]);else{if(\"function\"==typeof provider)throw staticError(\"Function/Class not supported\",provider);if(!provider||\"object\"!=typeof provider||!provider.provide)throw staticError(\"Unexpected provider\",provider);{let token=resolveForwardRef(provider.provide);const resolvedProvider=function(provider){const deps=function(provider){let deps=EMPTY;const providerDeps=provider.deps;if(providerDeps&&providerDeps.length){deps=[];for(let i=0;i<providerDeps.length;i++){let options=6,token=resolveForwardRef(providerDeps[i]);if(token instanceof Array)for(let j=0,annotations=token;j<annotations.length;j++){const annotation=annotations[j];annotation instanceof Optional||annotation==Optional?options|=1:annotation instanceof SkipSelf||annotation==SkipSelf?options&=-3:annotation instanceof Self||annotation==Self?options&=-5:token=annotation instanceof Inject?annotation.token:resolveForwardRef(annotation)}deps.push({token:token,options:options})}}else if(provider.useExisting)deps=[{token:resolveForwardRef(provider.useExisting),options:6}];else if(!(providerDeps||USE_VALUE in provider))throw staticError(\"'deps' required\",provider);return deps}(provider);let fn=IDENT,value=EMPTY,useNew=!1,provide=resolveForwardRef(provider.provide);if(USE_VALUE in provider)value=provider.useValue;else if(provider.useFactory)fn=provider.useFactory;else if(provider.useExisting);else if(provider.useClass)useNew=!0,fn=resolveForwardRef(provider.useClass);else{if(\"function\"!=typeof provide)throw staticError(\"StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable\",provider);useNew=!0,fn=provide}return{deps:deps,fn:fn,useNew:useNew,value:value}}(provider);if(!0===provider.multi){let multiProvider=records.get(token);if(multiProvider){if(multiProvider.fn!==MULTI_PROVIDER_FN)throw multiProviderMixError(token)}else records.set(token,multiProvider={token:provider.provide,deps:[],useNew:!1,fn:MULTI_PROVIDER_FN,value:EMPTY});multiProvider.deps.push({token:token=provider,options:6})}const record=records.get(token);if(record&&record.fn==MULTI_PROVIDER_FN)throw multiProviderMixError(token);records.set(token,resolvedProvider)}}}(records,providers)}get(token,notFoundValue,flags=InjectFlags.Default){const record=this._records.get(token);try{return function tryResolveToken(token,record,records,parent,notFoundValue,flags){try{return function(token,record,records,parent,notFoundValue,flags){let value;if(!record||flags&InjectFlags.SkipSelf)flags&InjectFlags.Self||(value=parent.get(token,notFoundValue,InjectFlags.Default));else{if((value=record.value)==CIRCULAR$1)throw Error(NO_NEW_LINE$1+\"Circular dependency\");if(value===EMPTY){record.value=CIRCULAR$1;let obj=void 0,useNew=record.useNew,fn=record.fn,depRecords=record.deps,deps=EMPTY;if(depRecords.length){deps=[];for(let i=0;i<depRecords.length;i++){const depRecord=depRecords[i],options=depRecord.options,childRecord=2&options?records.get(depRecord.token):void 0;deps.push(tryResolveToken(depRecord.token,childRecord,records,childRecord||4&options?parent:Injector.NULL,1&options?null:Injector.THROW_IF_NOT_FOUND,InjectFlags.Default))}}record.value=value=useNew?new fn(...deps):fn.apply(obj,deps)}}return value}(token,record,records,parent,notFoundValue,flags)}catch(e){throw e instanceof Error||(e=new Error(e)),(e[NG_TEMP_TOKEN_PATH]=e[NG_TEMP_TOKEN_PATH]||[]).unshift(token),record&&record.value==CIRCULAR$1&&(record.value=EMPTY),e}}(token,record,this._records,this.parent,notFoundValue,flags)}catch(e){return function(e,token,injectorErrorName,source){const tokenPath=e[NG_TEMP_TOKEN_PATH];throw token[SOURCE]&&tokenPath.unshift(token[SOURCE]),e.message=formatError(\"\\n\"+e.message,tokenPath,\"StaticInjectorError\",source),e[NG_TOKEN_PATH]=tokenPath,e[NG_TEMP_TOKEN_PATH]=null,e}(e,token,0,this.source)}}toString(){const tokens=[];return this._records.forEach((v,token)=>tokens.push(stringify(token))),`StaticInjector[${tokens.join(\", \")}]`}}function multiProviderMixError(token){return staticError(\"Cannot mix multi providers and regular providers\",token)}function staticError(text,obj){return new Error(formatError(text,obj,\"StaticInjectorError\"))}const ANALYZE_FOR_ENTRY_COMPONENTS=new InjectionToken(\"AnalyzeForEntryComponents\");let _symbolIterator=null;function core_getSymbolIterator(){if(!_symbolIterator){const Symbol=_global.Symbol;if(Symbol&&Symbol.iterator)_symbolIterator=Symbol.iterator;else{const keys=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<keys.length;++i){const key=keys[i];\"entries\"!==key&&\"size\"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}}}return _symbolIterator}function looseIdentical(a,b){return a===b||\"number\"==typeof a&&\"number\"==typeof b&&isNaN(a)&&isNaN(b)}function devModeEqual$1(a,b){const isListLikeIterableA=isListLikeIterable$1(a),isListLikeIterableB=isListLikeIterable$1(b);if(isListLikeIterableA&&isListLikeIterableB)return function(a,b,comparator){const iterator1=a[core_getSymbolIterator()](),iterator2=b[core_getSymbolIterator()]();for(;;){const item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}(a,b,devModeEqual$1);{const isAObject=a&&(\"object\"==typeof a||\"function\"==typeof a),isBObject=b&&(\"object\"==typeof b||\"function\"==typeof b);return!(isListLikeIterableA||!isAObject||isListLikeIterableB||!isBObject)||looseIdentical(a,b)}}class WrappedValue{constructor(value){this.wrapped=value}static wrap(value){return new WrappedValue(value)}static unwrap(value){return WrappedValue.isWrapped(value)?value.wrapped:value}static isWrapped(value){return value instanceof WrappedValue}}function isListLikeIterable$1(obj){return!!isJsObject$1(obj)&&(Array.isArray(obj)||!(obj instanceof Map)&&core_getSymbolIterator()in obj)}function isJsObject$1(o){return null!==o&&(\"function\"==typeof o||\"object\"==typeof o)}function core_isPromise(obj){return!!obj&&\"function\"==typeof obj.then}function isObservable(obj){return!!obj&&\"function\"==typeof obj.subscribe}class SimpleChange{constructor(previousValue,currentValue,firstChange){this.previousValue=previousValue,this.currentValue=currentValue,this.firstChange=firstChange}isFirstChange(){return this.firstChange}}class ComponentRef{}class ComponentFactory{}function noComponentFactoryError(component){const error=Error(`No component factory found for ${stringify(component)}. Did you add it to @NgModule.entryComponents?`);return error[ERROR_COMPONENT]=component,error}const ERROR_COMPONENT=\"ngComponent\";class _NullComponentFactoryResolver{resolveComponentFactory(component){throw noComponentFactoryError(component)}}let ComponentFactoryResolver=(()=>{class ComponentFactoryResolver{}return ComponentFactoryResolver.NULL=new _NullComponentFactoryResolver,ComponentFactoryResolver})();class CodegenComponentFactoryResolver{constructor(factories,_parent,_ngModule){this._parent=_parent,this._ngModule=_ngModule,this._factories=new Map;for(let i=0;i<factories.length;i++){const factory=factories[i];this._factories.set(factory.componentType,factory)}}resolveComponentFactory(component){let factory=this._factories.get(component);if(!factory&&this._parent&&(factory=this._parent.resolveComponentFactory(component)),!factory)throw noComponentFactoryError(component);return new ComponentFactoryBoundToModule(factory,this._ngModule)}}class ComponentFactoryBoundToModule extends ComponentFactory{constructor(factory,ngModule){super(),this.factory=factory,this.ngModule=ngModule,this.selector=factory.selector,this.componentType=factory.componentType,this.ngContentSelectors=factory.ngContentSelectors,this.inputs=factory.inputs,this.outputs=factory.outputs}create(injector,projectableNodes,rootSelectorOrNode,ngModule){return this.factory.create(injector,projectableNodes,rootSelectorOrNode,ngModule||this.ngModule)}}function core_noop(...args){}let ElementRef=(()=>{class ElementRef{constructor(nativeElement){this.nativeElement=nativeElement}}return ElementRef.__NG_ELEMENT_ID__=()=>SWITCH_ELEMENT_REF_FACTORY(ElementRef),ElementRef})();const SWITCH_ELEMENT_REF_FACTORY=core_noop;class Renderer{}class RendererFactory2{}const RendererStyleFlags2=function(){var RendererStyleFlags2={Important:1,DashCase:2};return RendererStyleFlags2[RendererStyleFlags2.Important]=\"Important\",RendererStyleFlags2[RendererStyleFlags2.DashCase]=\"DashCase\",RendererStyleFlags2}();let Renderer2=(()=>{class Renderer2{}return Renderer2.__NG_ELEMENT_ID__=()=>SWITCH_RENDERER2_FACTORY(),Renderer2})();const SWITCH_RENDERER2_FACTORY=core_noop;class Version{constructor(full){this.full=full,this.major=full.split(\".\")[0],this.minor=full.split(\".\")[1],this.patch=full.split(\".\").slice(2).join(\".\")}}const VERSION=new Version(\"8.2.5\");class DefaultIterableDifferFactory{constructor(){}supports(obj){return isListLikeIterable$1(obj)}create(trackByFn){return new DefaultIterableDiffer(trackByFn)}}const trackByIdentity=(index,item)=>item;class DefaultIterableDiffer{constructor(trackByFn){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=trackByFn||trackByIdentity}forEachItem(fn){let record;for(record=this._itHead;null!==record;record=record._next)fn(record)}forEachOperation(fn){let nextIt=this._itHead,nextRemove=this._removalsHead,addRemoveOffset=0,moveOffsets=null;for(;nextIt||nextRemove;){const record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove,adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets),currentIndex=record.currentIndex;if(record===nextRemove)addRemoveOffset--,nextRemove=nextRemove._nextRemoved;else if(nextIt=nextIt._next,null==record.previousIndex)addRemoveOffset++;else{moveOffsets||(moveOffsets=[]);const localMovePreviousIndex=adjPreviousIndex-addRemoveOffset,localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(let i=0;i<localMovePreviousIndex;i++){const offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0,index=offset+i;localCurrentIndex<=index&&index<localMovePreviousIndex&&(moveOffsets[i]=offset+1)}moveOffsets[record.previousIndex]=localCurrentIndex-localMovePreviousIndex}}adjPreviousIndex!==currentIndex&&fn(record,adjPreviousIndex,currentIndex)}}forEachPreviousItem(fn){let record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachMovedItem(fn){let record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}forEachIdentityChange(fn){let record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)}diff(collection){if(null==collection&&(collection=[]),!isListLikeIterable$1(collection))throw new Error(`Error trying to diff '${stringify(collection)}'. Only arrays and iterables are allowed`);return this.check(collection)?this:null}onDestroy(){}check(collection){this._reset();let index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(Array.isArray(collection)){this.length=collection.length;for(let index=0;index<this.length;index++)itemTrackBy=this._trackByFn(index,item=collection[index]),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next}else index=0,function(obj,fn){if(Array.isArray(obj))for(let i=0;i<obj.length;i++)fn(obj[i]);else{const iterator=obj[core_getSymbolIterator()]();let item;for(;!(item=iterator.next()).done;)fn(item.value)}}(collection,item=>{itemTrackBy=this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this.length=index;return this._truncate(record),this.collection=collection,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let record,nextRecord;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(record,item,itemTrackBy,index){let previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),null!==(record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):null!==(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new IterableChangeRecord_(item,itemTrackBy),previousRecord,index),record}_verifyReinsertion(record,item,itemTrackBy,index){let reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record}_truncate(record){for(;null!==record;){const nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);const prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_moveAfter(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_addAfter(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),this._additionsTail=null===this._additionsTail?this._additionsHead=record:this._additionsTail._nextAdded=record,record}_insertAfter(record,prevRecord,index){const next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record}_remove(record){return this._addToRemovals(this._unlink(record))}_unlink(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);const prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record}_addToMoves(record,toIndex){return record.previousIndex===toIndex?record:(this._movesTail=null===this._movesTail?this._movesHead=record:this._movesTail._nextMoved=record,record)}_addToRemovals(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record}_addIdentityChange(record,item){return record.item=item,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=record:this._identityChangesTail._nextIdentityChange=record,record}}class IterableChangeRecord_{constructor(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _DuplicateItemRecordList{constructor(){this._head=null,this._tail=null}add(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)}get(trackById,atOrAfterIndex){let record;for(record=this._head;null!==record;record=record._nextDup)if((null===atOrAfterIndex||atOrAfterIndex<=record.currentIndex)&&looseIdentical(record.trackById,trackById))return record;return null}remove(record){const prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head}}class _DuplicateMap{constructor(){this.map=new Map}put(record){const key=record.trackById;let duplicates=this.map.get(key);duplicates||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)}get(trackById,atOrAfterIndex){const recordList=this.map.get(trackById);return recordList?recordList.get(trackById,atOrAfterIndex):null}remove(record){const key=record.trackById;return this.map.get(key).remove(record)&&this.map.delete(key),record}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function getPreviousIndex(item,addRemoveOffset,moveOffsets){const previousIndex=item.previousIndex;if(null===previousIndex)return previousIndex;let moveOffset=0;return moveOffsets&&previousIndex<moveOffsets.length&&(moveOffset=moveOffsets[previousIndex]),previousIndex+addRemoveOffset+moveOffset}class DefaultKeyValueDifferFactory{constructor(){}supports(obj){return obj instanceof Map||isJsObject$1(obj)}create(){return new DefaultKeyValueDiffer}}class DefaultKeyValueDiffer{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(fn){let record;for(record=this._mapHead;null!==record;record=record._next)fn(record)}forEachPreviousItem(fn){let record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)}forEachChangedItem(fn){let record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}diff(map){if(map){if(!(map instanceof Map||isJsObject$1(map)))throw new Error(`Error trying to diff '${stringify(map)}'. Only maps and objects are allowed`)}else map=new Map;return this.check(map)?this:null}onDestroy(){}check(map){this._reset();let insertBefore=this._mapHead;if(this._appendAfter=null,this._forEach(map,(value,key)=>{if(insertBefore&&insertBefore.key===key)this._maybeAddToChanges(insertBefore,value),this._appendAfter=insertBefore,insertBefore=insertBefore._next;else{const record=this._getOrCreateRecordForKey(key,value);insertBefore=this._insertBeforeOrAppend(insertBefore,record)}}),insertBefore){insertBefore._prev&&(insertBefore._prev._next=null),this._removalsHead=insertBefore;for(let record=insertBefore;null!==record;record=record._nextRemoved)record===this._mapHead&&(this._mapHead=null),this._records.delete(record.key),record._nextRemoved=record._next,record.previousValue=record.currentValue,record.currentValue=null,record._prev=null,record._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(before,record){if(before){const prev=before._prev;return record._next=before,record._prev=prev,before._prev=record,prev&&(prev._next=record),before===this._mapHead&&(this._mapHead=record),this._appendAfter=before,before}return this._appendAfter?(this._appendAfter._next=record,record._prev=this._appendAfter):this._mapHead=record,this._appendAfter=record,null}_getOrCreateRecordForKey(key,value){if(this._records.has(key)){const record=this._records.get(key);this._maybeAddToChanges(record,value);const prev=record._prev,next=record._next;return prev&&(prev._next=next),next&&(next._prev=prev),record._next=null,record._prev=null,record}const record=new KeyValueChangeRecord_(key);return this._records.set(key,record),record.currentValue=value,this._addToAdditions(record),record}_reset(){if(this.isDirty){let record;for(this._previousMapHead=this._mapHead,record=this._previousMapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(record,newValue){looseIdentical(newValue,record.currentValue)||(record.previousValue=record.currentValue,record.currentValue=newValue,this._addToChanges(record))}_addToAdditions(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)}_addToChanges(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)}_forEach(obj,fn){obj instanceof Map?obj.forEach(fn):Object.keys(obj).forEach(k=>fn(obj[k],k))}}class KeyValueChangeRecord_{constructor(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let IterableDiffers=(()=>{class IterableDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(null!=parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new IterableDiffers(factories)}static extend(factories){return{provide:IterableDiffers,useFactory:parent=>{if(!parent)throw new Error(\"Cannot extend IterableDiffers without a parent injector\");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new SkipSelf,new Optional]]}}find(iterable){const factory=this.factories.find(f=>f.supports(iterable));if(null!=factory)return factory;throw new Error(`Cannot find a differ supporting object '${iterable}' of type '${type=iterable,type.name||typeof type}'`);var type}}return IterableDiffers.ngInjectableDef=ɵɵdefineInjectable({token:IterableDiffers,providedIn:\"root\",factory:()=>new IterableDiffers([new DefaultIterableDifferFactory])}),IterableDiffers})(),KeyValueDiffers=(()=>{class KeyValueDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new KeyValueDiffers(factories)}static extend(factories){return{provide:KeyValueDiffers,useFactory:parent=>{if(!parent)throw new Error(\"Cannot extend KeyValueDiffers without a parent injector\");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new SkipSelf,new Optional]]}}find(kv){const factory=this.factories.find(f=>f.supports(kv));if(factory)return factory;throw new Error(`Cannot find a differ supporting object '${kv}'`)}}return KeyValueDiffers.ngInjectableDef=ɵɵdefineInjectable({token:KeyValueDiffers,providedIn:\"root\",factory:()=>new KeyValueDiffers([new DefaultKeyValueDifferFactory])}),KeyValueDiffers})();const keyValDiff=[new DefaultKeyValueDifferFactory],defaultIterableDiffers=new IterableDiffers([new DefaultIterableDifferFactory]),defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff);let TemplateRef=(()=>{class TemplateRef{}return TemplateRef.__NG_ELEMENT_ID__=()=>SWITCH_TEMPLATE_REF_FACTORY(TemplateRef,ElementRef),TemplateRef})();const SWITCH_TEMPLATE_REF_FACTORY=core_noop;let ViewContainerRef=(()=>{class ViewContainerRef{}return ViewContainerRef.__NG_ELEMENT_ID__=()=>SWITCH_VIEW_CONTAINER_REF_FACTORY(ViewContainerRef,ElementRef),ViewContainerRef})();const SWITCH_VIEW_CONTAINER_REF_FACTORY=core_noop;function expressionChangedAfterItHasBeenCheckedError(context,oldValue,currValue,isFirstCheck){let msg=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${oldValue}'. Current value: '${currValue}'.`;return isFirstCheck&&(msg+=\" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?\"),function(msg,context){const err=new Error(msg);return _addDebugContext(err,context),err}(msg,context)}function _addDebugContext(err,context){err[ERROR_DEBUG_CONTEXT]=context,err[ERROR_LOGGER]=context.logError.bind(context)}function viewDestroyedError(action){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${action}`)}function shiftInitState(view,priorInitState,newInitState){const state=view.state,initState=1792&state;return initState===priorInitState?(view.state=-1793&state|newInitState,view.initIndex=-1,!0):initState===newInitState}function shouldCallLifecycleInitHook(view,initState,index){return(1792&view.state)===initState&&view.initIndex<=index&&(view.initIndex=index+1,!0)}function asTextData(view,index){return view.nodes[index]}function asElementData(view,index){return view.nodes[index]}function asProviderData(view,index){return view.nodes[index]}function asPureExpressionData(view,index){return view.nodes[index]}function asQueryList(view,index){return view.nodes[index]}const Services={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},NOOP=()=>{},_tokenKeyCache=new Map;function tokenKey(token){let key=_tokenKeyCache.get(token);return key||(key=stringify(token)+\"_\"+_tokenKeyCache.size,_tokenKeyCache.set(token,key)),key}const UNDEFINED_RENDERER_TYPE_ID=\"$$undefined\",EMPTY_RENDERER_TYPE_ID=\"$$empty\";function createRendererType2(values){return{id:UNDEFINED_RENDERER_TYPE_ID,styles:values.styles,encapsulation:values.encapsulation,data:values.data}}let _renderCompCount$1=0;function checkBinding(view,def,bindingIdx,value){return!(!(2&view.state)&&looseIdentical(view.oldValues[def.bindingIndex+bindingIdx],value))}function checkAndUpdateBinding(view,def,bindingIdx,value){return!!checkBinding(view,def,bindingIdx,value)&&(view.oldValues[def.bindingIndex+bindingIdx]=value,!0)}function checkBindingNoChanges(view,def,bindingIdx,value){const oldValue=view.oldValues[def.bindingIndex+bindingIdx];if(1&view.state||!devModeEqual$1(oldValue,value)){const bindingName=def.bindings[bindingIdx].name;throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,def.nodeIndex),`${bindingName}: ${oldValue}`,`${bindingName}: ${value}`,0!=(1&view.state))}}function markParentViewsForCheck(view){let currView=view;for(;currView;)2&currView.def.flags&&(currView.state|=8),currView=currView.viewContainerParent||currView.parent}function markParentViewsForCheckProjectedViews(view,endView){let currView=view;for(;currView&&currView!==endView;)currView.state|=64,currView=currView.viewContainerParent||currView.parent}function dispatchEvent(view,nodeIndex,eventName,event){try{return markParentViewsForCheck(33554432&view.def.nodes[nodeIndex].flags?asElementData(view,nodeIndex).componentView:view),Services.handleEvent(view,nodeIndex,eventName,event)}catch(e){view.root.errorHandler.handleError(e)}}function declaredViewContainer(view){return view.parent?asElementData(view.parent,view.parentNodeDef.nodeIndex):null}function viewParentEl(view){return view.parent?view.parentNodeDef.parent:null}function renderNode(view,def){switch(201347067&def.flags){case 1:return asElementData(view,def.nodeIndex).renderElement;case 2:return asTextData(view,def.nodeIndex).renderText}}function isComponentView(view){return!!view.parent&&!!(32768&view.parentNodeDef.flags)}function isEmbeddedView(view){return!(!view.parent||32768&view.parentNodeDef.flags)}function splitMatchedQueriesDsl(matchedQueriesDsl){const matchedQueries={};let matchedQueryIds=0;const references={};return matchedQueriesDsl&&matchedQueriesDsl.forEach(([queryId,valueType])=>{\"number\"==typeof queryId?(matchedQueries[queryId]=valueType,matchedQueryIds|=function(queryId){return 1<<queryId%32}(queryId)):references[queryId]=valueType}),{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}}function splitDepsDsl(deps,sourceName){return deps.map(value=>{let token,flags;return Array.isArray(value)?[flags,token]=value:(flags=0,token=value),token&&(\"function\"==typeof token||\"object\"==typeof token)&&sourceName&&Object.defineProperty(token,SOURCE,{value:sourceName,configurable:!0}),{flags:flags,token:token,tokenKey:tokenKey(token)}})}function getParentRenderElement(view,renderHost,def){let renderParent=def.renderParent;return renderParent?0==(1&renderParent.flags)||0==(33554432&renderParent.flags)||renderParent.element.componentRendererType&&renderParent.element.componentRendererType.encapsulation===ViewEncapsulation.Native?asElementData(view,def.renderParent.nodeIndex).renderElement:void 0:renderHost}const DEFINITION_CACHE=new WeakMap;function resolveDefinition(factory){let value=DEFINITION_CACHE.get(factory);return value||((value=factory(()=>NOOP)).factory=factory,DEFINITION_CACHE.set(factory,value)),value}function visitRootRenderNodes(view,action,parentNode,nextSibling,target){3===action&&(parentNode=view.renderer.parentNode(renderNode(view,view.def.lastRenderRootNode))),visitSiblingRenderNodes(view,action,0,view.def.nodes.length-1,parentNode,nextSibling,target)}function visitSiblingRenderNodes(view,action,startIndex,endIndex,parentNode,nextSibling,target){for(let i=startIndex;i<=endIndex;i++){const nodeDef=view.def.nodes[i];11&nodeDef.flags&&visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}}function visitProjectedRenderNodes(view,ngContentIndex,action,parentNode,nextSibling,target){let compView=view;for(;compView&&!isComponentView(compView);)compView=compView.parent;const hostView=compView.parent,hostElDef=viewParentEl(compView),endIndex=hostElDef.nodeIndex+hostElDef.childCount;for(let i=hostElDef.nodeIndex+1;i<=endIndex;i++){const nodeDef=hostView.def.nodes[i];nodeDef.ngContentIndex===ngContentIndex&&visitRenderNode(hostView,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}if(!hostView.parent){const projectedNodes=view.root.projectableNodes[ngContentIndex];if(projectedNodes)for(let i=0;i<projectedNodes.length;i++)execRenderNodeAction(view,projectedNodes[i],action,parentNode,nextSibling,target)}}function visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target){if(8&nodeDef.flags)visitProjectedRenderNodes(view,nodeDef.ngContent.index,action,parentNode,nextSibling,target);else{const rn=renderNode(view,nodeDef);if(3===action&&33554432&nodeDef.flags&&48&nodeDef.bindingFlags?(16&nodeDef.bindingFlags&&execRenderNodeAction(view,rn,action,parentNode,nextSibling,target),32&nodeDef.bindingFlags&&execRenderNodeAction(asElementData(view,nodeDef.nodeIndex).componentView,rn,action,parentNode,nextSibling,target)):execRenderNodeAction(view,rn,action,parentNode,nextSibling,target),16777216&nodeDef.flags){const embeddedViews=asElementData(view,nodeDef.nodeIndex).viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++)visitRootRenderNodes(embeddedViews[k],action,parentNode,nextSibling,target)}1&nodeDef.flags&&!nodeDef.element.name&&visitSiblingRenderNodes(view,action,nodeDef.nodeIndex+1,nodeDef.nodeIndex+nodeDef.childCount,parentNode,nextSibling,target)}}function execRenderNodeAction(view,renderNode,action,parentNode,nextSibling,target){const renderer=view.renderer;switch(action){case 1:renderer.appendChild(parentNode,renderNode);break;case 2:renderer.insertBefore(parentNode,renderNode,nextSibling);break;case 3:renderer.removeChild(parentNode,renderNode);break;case 0:target.push(renderNode)}}const NS_PREFIX_RE=/^:([^:]+):(.+)$/;function splitNamespace(name){if(\":\"===name[0]){const match=name.match(NS_PREFIX_RE);return[match[1],match[2]]}return[\"\",name]}function calcBindingFlags(bindings){let flags=0;for(let i=0;i<bindings.length;i++)flags|=bindings[i].flags;return flags}const UNDEFINED_VALUE=new Object,InjectorRefTokenKey=tokenKey(Injector),INJECTORRefTokenKey=tokenKey(INJECTOR),NgModuleRefTokenKey=tokenKey(NgModuleRef);function moduleProvideDef(flags,token,value,deps){return value=resolveForwardRef(value),{index:-1,deps:splitDepsDsl(deps,stringify(token)),flags:flags,token:token,value:value}}function resolveNgModuleDep(data,depDef,notFoundValue=Injector.THROW_IF_NOT_FOUND){const former=setCurrentInjector(data);try{if(8&depDef.flags)return depDef.token;if(2&depDef.flags&&(notFoundValue=null),1&depDef.flags)return data._parent.get(depDef.token,notFoundValue);const tokenKey=depDef.tokenKey;switch(tokenKey){case InjectorRefTokenKey:case INJECTORRefTokenKey:case NgModuleRefTokenKey:return data}const providerDef=data._def.providersByKey[tokenKey];let injectableDef;if(providerDef){let providerInstance=data._providers[providerDef.index];return void 0===providerInstance&&(providerInstance=data._providers[providerDef.index]=_createProviderInstance(data,providerDef)),providerInstance===UNDEFINED_VALUE?void 0:providerInstance}if((injectableDef=getInjectableDef(depDef.token))&&(ngModule=data,null!=(def=injectableDef).providedIn&&(function(ngModule,scope){return ngModule._def.modules.indexOf(def.providedIn)>-1}(ngModule)||\"root\"===def.providedIn&&ngModule._def.isRoot))){const index=data._providers.length;return data._def.providers[index]=data._def.providersByKey[depDef.tokenKey]={flags:5120,value:injectableDef.factory,deps:[],index:index,token:depDef.token},data._providers[index]=UNDEFINED_VALUE,data._providers[index]=_createProviderInstance(data,data._def.providersByKey[depDef.tokenKey])}return 4&depDef.flags?notFoundValue:data._parent.get(depDef.token,notFoundValue)}finally{setCurrentInjector(former)}var ngModule,def}function _createProviderInstance(ngModule,providerDef){let injectable;switch(201347067&providerDef.flags){case 512:injectable=function(ngModule,ctor,deps){const len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveNgModuleDep(ngModule,deps[0]));case 2:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:const depValues=new Array(len);for(let i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return new ctor(...depValues)}}(ngModule,providerDef.value,providerDef.deps);break;case 1024:injectable=function(ngModule,factory,deps){const len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveNgModuleDep(ngModule,deps[0]));case 2:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:const depValues=Array(len);for(let i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return factory(...depValues)}}(ngModule,providerDef.value,providerDef.deps);break;case 2048:injectable=resolveNgModuleDep(ngModule,providerDef.deps[0]);break;case 256:injectable=providerDef.value}return injectable===UNDEFINED_VALUE||null===injectable||\"object\"!=typeof injectable||131072&providerDef.flags||\"function\"!=typeof injectable.ngOnDestroy||(providerDef.flags|=131072),void 0===injectable?UNDEFINED_VALUE:injectable}function detachEmbeddedView(elementData,viewIndex){const embeddedViews=elementData.viewContainer._embeddedViews;if((null==viewIndex||viewIndex>=embeddedViews.length)&&(viewIndex=embeddedViews.length-1),viewIndex<0)return null;const view=embeddedViews[viewIndex];return view.viewContainerParent=null,removeFromArray(embeddedViews,viewIndex),Services.dirtyParentQueries(view),renderDetachView$1(view),view}function renderAttachEmbeddedView(elementData,prevView,view){const prevRenderNode=prevView?renderNode(prevView,prevView.def.lastRenderRootNode):elementData.renderElement,parentNode=view.renderer.parentNode(prevRenderNode),nextSibling=view.renderer.nextSibling(prevRenderNode);visitRootRenderNodes(view,2,parentNode,nextSibling,void 0)}function renderDetachView$1(view){visitRootRenderNodes(view,3,null,null,void 0)}const EMPTY_CONTEXT=new Object;function createComponentFactory(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors){return new ComponentFactory_(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors)}class ComponentFactory_ extends ComponentFactory{constructor(selector,componentType,viewDefFactory,_inputs,_outputs,ngContentSelectors){super(),this.selector=selector,this.componentType=componentType,this._inputs=_inputs,this._outputs=_outputs,this.ngContentSelectors=ngContentSelectors,this.viewDefFactory=viewDefFactory}get inputs(){const inputsArr=[],inputs=this._inputs;for(let propName in inputs)inputsArr.push({propName:propName,templateName:inputs[propName]});return inputsArr}get outputs(){const outputsArr=[];for(let propName in this._outputs)outputsArr.push({propName:propName,templateName:this._outputs[propName]});return outputsArr}create(injector,projectableNodes,rootSelectorOrNode,ngModule){if(!ngModule)throw new Error(\"ngModule should be provided\");const viewDef=resolveDefinition(this.viewDefFactory),componentNodeIndex=viewDef.nodes[0].element.componentProvider.nodeIndex,view=Services.createRootView(injector,projectableNodes||[],rootSelectorOrNode,viewDef,ngModule,EMPTY_CONTEXT),component=asProviderData(view,componentNodeIndex).instance;return rootSelectorOrNode&&view.renderer.setAttribute(asElementData(view,0).renderElement,\"ng-version\",VERSION.full),new ComponentRef_(view,new ViewRef_(view),component)}}class ComponentRef_ extends ComponentRef{constructor(_view,_viewRef,_component){super(),this._view=_view,this._viewRef=_viewRef,this._component=_component,this._elDef=this._view.def.nodes[0],this.hostView=_viewRef,this.changeDetectorRef=_viewRef,this.instance=_component}get location(){return new ElementRef(asElementData(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Injector_(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(callback){this._viewRef.onDestroy(callback)}}function createViewContainerData(view,elDef,elData){return new ViewContainerRef_(view,elDef,elData)}class ViewContainerRef_{constructor(_view,_elDef,_data){this._view=_view,this._elDef=_elDef,this._data=_data,this._embeddedViews=[]}get element(){return new ElementRef(this._data.renderElement)}get injector(){return new Injector_(this._view,this._elDef)}get parentInjector(){let view=this._view,elDef=this._elDef.parent;for(;!elDef&&view;)elDef=viewParentEl(view),view=view.parent;return view?new Injector_(view,elDef):new Injector_(this._view,null)}clear(){for(let i=this._embeddedViews.length-1;i>=0;i--){const view=detachEmbeddedView(this._data,i);Services.destroyView(view)}}get(index){const view=this._embeddedViews[index];if(view){const ref=new ViewRef_(view);return ref.attachToViewContainerRef(this),ref}return null}get length(){return this._embeddedViews.length}createEmbeddedView(templateRef,context,index){const viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef}createComponent(componentFactory,index,injector,projectableNodes,ngModuleRef){const contextInjector=injector||this.parentInjector;ngModuleRef||componentFactory instanceof ComponentFactoryBoundToModule||(ngModuleRef=contextInjector.get(NgModuleRef));const componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef}insert(viewRef,index){if(viewRef.destroyed)throw new Error(\"Cannot insert a destroyed View in a ViewContainer!\");const viewRef_=viewRef;return function(parentView,elementData,viewIndex,view){let embeddedViews=elementData.viewContainer._embeddedViews;null==viewIndex&&(viewIndex=embeddedViews.length),view.viewContainerParent=parentView,addToArray(embeddedViews,viewIndex,view),function(vcElementData,view){const dvcElementData=declaredViewContainer(view);if(!dvcElementData||dvcElementData===vcElementData||16&view.state)return;view.state|=16;let projectedViews=dvcElementData.template._projectedViews;projectedViews||(projectedViews=dvcElementData.template._projectedViews=[]),projectedViews.push(view),function(viewDef,nodeDef){if(4&nodeDef.flags)return;view.parent.def.nodeFlags|=4,nodeDef.flags|=4;let parentNodeDef=nodeDef.parent;for(;parentNodeDef;)parentNodeDef.childFlags|=4,parentNodeDef=parentNodeDef.parent}(0,view.parentNodeDef)}(elementData,view),Services.dirtyParentQueries(view),renderAttachEmbeddedView(elementData,viewIndex>0?embeddedViews[viewIndex-1]:null,view)}(this._view,this._data,index,viewRef_._view),viewRef_.attachToViewContainerRef(this),viewRef}move(viewRef,currentIndex){if(viewRef.destroyed)throw new Error(\"Cannot move a destroyed View in a ViewContainer!\");const previousIndex=this._embeddedViews.indexOf(viewRef._view);return function(elementData,oldViewIndex,newViewIndex){const embeddedViews=elementData.viewContainer._embeddedViews,view=embeddedViews[previousIndex];removeFromArray(embeddedViews,previousIndex),null==newViewIndex&&(newViewIndex=embeddedViews.length),addToArray(embeddedViews,newViewIndex,view),Services.dirtyParentQueries(view),renderDetachView$1(view),renderAttachEmbeddedView(elementData,newViewIndex>0?embeddedViews[newViewIndex-1]:null,view)}(this._data,0,currentIndex),viewRef}indexOf(viewRef){return this._embeddedViews.indexOf(viewRef._view)}remove(index){const viewData=detachEmbeddedView(this._data,index);viewData&&Services.destroyView(viewData)}detach(index){const view=detachEmbeddedView(this._data,index);return view?new ViewRef_(view):null}}function createChangeDetectorRef(view){return new ViewRef_(view)}class ViewRef_{constructor(_view){this._view=_view,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(view){const renderNodes=[];return visitRootRenderNodes(view,0,void 0,void 0,renderNodes),renderNodes}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){markParentViewsForCheck(this._view)}detach(){this._view.state&=-5}detectChanges(){const fs=this._view.root.rendererFactory;fs.begin&&fs.begin();try{Services.checkAndUpdateView(this._view)}finally{fs.end&&fs.end()}}checkNoChanges(){Services.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(callback){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(callback)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Services.destroyView(this._view)}detachFromAppRef(){this._appRef=null,renderDetachView$1(this._view),Services.dirtyParentQueries(this._view)}attachToAppRef(appRef){if(this._viewContainerRef)throw new Error(\"This view is already attached to a ViewContainer!\");this._appRef=appRef}attachToViewContainerRef(vcRef){if(this._appRef)throw new Error(\"This view is already attached directly to the ApplicationRef!\");this._viewContainerRef=vcRef}}function createTemplateData(view,def){return new TemplateRef_(view,def)}class TemplateRef_ extends TemplateRef{constructor(_parentView,_def){super(),this._parentView=_parentView,this._def=_def}createEmbeddedView(context){return new ViewRef_(Services.createEmbeddedView(this._parentView,this._def,this._def.element.template,context))}get elementRef(){return new ElementRef(asElementData(this._parentView,this._def.nodeIndex).renderElement)}}function createInjector$1(view,elDef){return new Injector_(view,elDef)}class Injector_{constructor(view,elDef){this.view=view,this.elDef=elDef}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND){return Services.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:token,tokenKey:tokenKey(token)},notFoundValue)}}function createRendererV1(view){return new RendererAdapter(view.renderer)}class RendererAdapter{constructor(delegate){this.delegate=delegate}selectRootElement(selectorOrNode){return this.delegate.selectRootElement(selectorOrNode)}createElement(parent,namespaceAndName){const[ns,name]=splitNamespace(namespaceAndName),el=this.delegate.createElement(name,ns);return parent&&this.delegate.appendChild(parent,el),el}createViewRoot(hostElement){return hostElement}createTemplateAnchor(parentElement){const comment=this.delegate.createComment(\"\");return parentElement&&this.delegate.appendChild(parentElement,comment),comment}createText(parentElement,value){const node=this.delegate.createText(value);return parentElement&&this.delegate.appendChild(parentElement,node),node}projectNodes(parentElement,nodes){for(let i=0;i<nodes.length;i++)this.delegate.appendChild(parentElement,nodes[i])}attachViewAfter(node,viewRootNodes){const parentElement=this.delegate.parentNode(node),nextSibling=this.delegate.nextSibling(node);for(let i=0;i<viewRootNodes.length;i++)this.delegate.insertBefore(parentElement,viewRootNodes[i],nextSibling)}detachView(viewRootNodes){for(let i=0;i<viewRootNodes.length;i++){const node=viewRootNodes[i],parentElement=this.delegate.parentNode(node);this.delegate.removeChild(parentElement,node)}}destroyView(hostElement,viewAllNodes){for(let i=0;i<viewAllNodes.length;i++)this.delegate.destroyNode(viewAllNodes[i])}listen(renderElement,name,callback){return this.delegate.listen(renderElement,name,callback)}listenGlobal(target,name,callback){return this.delegate.listen(target,name,callback)}setElementProperty(renderElement,propertyName,propertyValue){this.delegate.setProperty(renderElement,propertyName,propertyValue)}setElementAttribute(renderElement,namespaceAndName,attributeValue){const[ns,name]=splitNamespace(namespaceAndName);null!=attributeValue?this.delegate.setAttribute(renderElement,name,attributeValue,ns):this.delegate.removeAttribute(renderElement,name,ns)}setBindingDebugInfo(renderElement,propertyName,propertyValue){}setElementClass(renderElement,className,isAdd){isAdd?this.delegate.addClass(renderElement,className):this.delegate.removeClass(renderElement,className)}setElementStyle(renderElement,styleName,styleValue){null!=styleValue?this.delegate.setStyle(renderElement,styleName,styleValue):this.delegate.removeStyle(renderElement,styleName)}invokeElementMethod(renderElement,methodName,args){renderElement[methodName].apply(renderElement,args)}setText(renderNode,text){this.delegate.setValue(renderNode,text)}animate(){throw new Error(\"Renderer.animate is no longer supported!\")}}function createNgModuleRef(moduleType,parent,bootstrapComponents,def){return new NgModuleRef_(moduleType,parent,bootstrapComponents,def)}class NgModuleRef_{constructor(_moduleType,_parent,_bootstrapComponents,_def){this._moduleType=_moduleType,this._parent=_parent,this._bootstrapComponents=_bootstrapComponents,this._def=_def,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(data){const def=data._def,providers=data._providers=new Array(def.providers.length);for(let i=0;i<def.providers.length;i++){const provDef=def.providers[i];4096&provDef.flags||void 0===providers[i]&&(providers[i]=_createProviderInstance(data,provDef))}}(this)}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND,injectFlags=InjectFlags.Default){let flags=0;return injectFlags&InjectFlags.SkipSelf?flags|=1:injectFlags&InjectFlags.Self&&(flags|=4),resolveNgModuleDep(this,{token:token,tokenKey:tokenKey(token),flags:flags},notFoundValue)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ComponentFactoryResolver)}destroy(){if(this._destroyed)throw new Error(`The ng module ${stringify(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(ngModule,lifecycles){const def=ngModule._def,destroyed=new Set;for(let i=0;i<def.providers.length;i++)if(131072&def.providers[i].flags){const instance=ngModule._providers[i];if(instance&&instance!==UNDEFINED_VALUE){const onDestroy=instance.ngOnDestroy;\"function\"!=typeof onDestroy||destroyed.has(instance)||(onDestroy.apply(instance),destroyed.add(instance))}}}(this),this._destroyListeners.forEach(listener=>listener())}onDestroy(callback){this._destroyListeners.push(callback)}}const RendererV1TokenKey=tokenKey(Renderer),Renderer2TokenKey=tokenKey(Renderer2),ElementRefTokenKey=tokenKey(ElementRef),ViewContainerRefTokenKey=tokenKey(ViewContainerRef),TemplateRefTokenKey=tokenKey(TemplateRef),ChangeDetectorRefTokenKey=tokenKey(ChangeDetectorRef),InjectorRefTokenKey$1=tokenKey(Injector),INJECTORRefTokenKey$1=tokenKey(INJECTOR);function directiveDef(checkIndex,flags,matchedQueries,childCount,ctor,deps,props,outputs){const bindings=[];if(props)for(let prop in props){const[bindingIndex,nonMinifiedName]=props[prop];bindings[bindingIndex]={flags:8,name:prop,nonMinifiedName:nonMinifiedName,ns:null,securityContext:null,suffix:null}}const outputDefs=[];if(outputs)for(let propName in outputs)outputDefs.push({type:1,propName:propName,target:null,eventName:outputs[propName]});return function(checkIndex,flags,matchedQueriesDsl,childCount,token,value,deps,bindings,outputs){const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);outputs||(outputs=[]),bindings||(bindings=[]),value=resolveForwardRef(value);const depDefs=splitDepsDsl(deps,stringify(token));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:-1,childCount:childCount,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:outputs,element:null,provider:{token:token,value:value,deps:depDefs},text:null,query:null,ngContent:null}}(checkIndex,flags|=16384,matchedQueries,childCount,ctor,ctor,deps,bindings,outputDefs)}function createProviderInstance(view,def){return _createProviderInstance$1(view,def)}function createPipeInstance(view,def){let compView=view;for(;compView.parent&&!isComponentView(compView);)compView=compView.parent;return createClass(compView.parent,viewParentEl(compView),!0,def.provider.value,def.provider.deps)}function createDirectiveInstance(view,def){const instance=createClass(view,def.parent,(32768&def.flags)>0,def.provider.value,def.provider.deps);if(def.outputs.length)for(let i=0;i<def.outputs.length;i++){const output=def.outputs[i],outputObservable=instance[output.propName];if(!isObservable(outputObservable))throw new Error(`@Output ${output.propName} not initialized in '${instance.constructor.name}'.`);{const subscription=outputObservable.subscribe(eventHandlerClosure(view,def.parent.nodeIndex,output.eventName));view.disposables[def.outputIndex+i]=subscription.unsubscribe.bind(subscription)}}return instance}function eventHandlerClosure(view,index,eventName){return event=>dispatchEvent(view,index,eventName,event)}function _createProviderInstance$1(view,def){const allowPrivateServices=(8192&def.flags)>0,providerDef=def.provider;switch(201347067&def.flags){case 512:return createClass(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 1024:return function(view,elDef,allowPrivateServices,factory,deps){const len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:const depValues=Array(len);for(let i=0;i<len;i++)depValues[i]=resolveDep(view,elDef,allowPrivateServices,deps[i]);return factory(...depValues)}}(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 2048:return resolveDep(view,def.parent,allowPrivateServices,providerDef.deps[0]);case 256:return providerDef.value}}function createClass(view,elDef,allowPrivateServices,ctor,deps){const len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:const depValues=new Array(len);for(let i=0;i<len;i++)depValues[i]=resolveDep(view,elDef,allowPrivateServices,deps[i]);return new ctor(...depValues)}}const NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR={};function resolveDep(view,elDef,allowPrivateServices,depDef,notFoundValue=Injector.THROW_IF_NOT_FOUND){if(8&depDef.flags)return depDef.token;const startView=view;2&depDef.flags&&(notFoundValue=null);const tokenKey=depDef.tokenKey;tokenKey===ChangeDetectorRefTokenKey&&(allowPrivateServices=!(!elDef||!elDef.element.componentView)),elDef&&1&depDef.flags&&(allowPrivateServices=!1,elDef=elDef.parent);let searchView=view;for(;searchView;){if(elDef)switch(tokenKey){case RendererV1TokenKey:return createRendererV1(findCompView(searchView,elDef,allowPrivateServices));case Renderer2TokenKey:return findCompView(searchView,elDef,allowPrivateServices).renderer;case ElementRefTokenKey:return new ElementRef(asElementData(searchView,elDef.nodeIndex).renderElement);case ViewContainerRefTokenKey:return asElementData(searchView,elDef.nodeIndex).viewContainer;case TemplateRefTokenKey:if(elDef.element.template)return asElementData(searchView,elDef.nodeIndex).template;break;case ChangeDetectorRefTokenKey:return createChangeDetectorRef(findCompView(searchView,elDef,allowPrivateServices));case InjectorRefTokenKey$1:case INJECTORRefTokenKey$1:return createInjector$1(searchView,elDef);default:const providerDef=(allowPrivateServices?elDef.element.allProviders:elDef.element.publicProviders)[tokenKey];if(providerDef){let providerData=asProviderData(searchView,providerDef.nodeIndex);return providerData||(providerData={instance:_createProviderInstance$1(searchView,providerDef)},searchView.nodes[providerDef.nodeIndex]=providerData),providerData.instance}}allowPrivateServices=isComponentView(searchView),elDef=viewParentEl(searchView),searchView=searchView.parent,4&depDef.flags&&(searchView=null)}const value=startView.root.injector.get(depDef.token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:startView.root.ngModule.injector.get(depDef.token,notFoundValue)}function findCompView(view,elDef,allowPrivateServices){let compView;if(allowPrivateServices)compView=asElementData(view,elDef.nodeIndex).componentView;else for(compView=view;compView.parent&&!isComponentView(compView);)compView=compView.parent;return compView}function updateProp(view,providerData,def,bindingIdx,value,changes){if(32768&def.flags){const compView=asElementData(view,def.parent.nodeIndex).componentView;2&compView.def.flags&&(compView.state|=8)}if(providerData.instance[def.bindings[bindingIdx].name]=value,524288&def.flags){changes=changes||{};const oldValue=WrappedValue.unwrap(view.oldValues[def.bindingIndex+bindingIdx]);changes[def.bindings[bindingIdx].nonMinifiedName]=new SimpleChange(oldValue,value,0!=(2&view.state))}return view.oldValues[def.bindingIndex+bindingIdx]=value,changes}function callLifecycleHooksChildrenFirst(view,lifecycles){if(!(view.def.nodeFlags&lifecycles))return;const nodes=view.def.nodes;let initIndex=0;for(let i=0;i<nodes.length;i++){const nodeDef=nodes[i];let parent=nodeDef.parent;for(!parent&&nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),0==(nodeDef.childFlags&lifecycles)&&(i+=nodeDef.childCount);parent&&1&parent.flags&&i===parent.nodeIndex+parent.childCount;)parent.directChildFlags&lifecycles&&(initIndex=callElementProvidersLifecycles(view,parent,lifecycles,initIndex)),parent=parent.parent}}function callElementProvidersLifecycles(view,elDef,lifecycles,initIndex){for(let i=elDef.nodeIndex+1;i<=elDef.nodeIndex+elDef.childCount;i++){const nodeDef=view.def.nodes[i];nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),i+=nodeDef.childCount}return initIndex}function callProviderLifecycles(view,index,lifecycles,initIndex){const providerData=asProviderData(view,index);if(!providerData)return;const provider=providerData.instance;provider&&(Services.setCurrentNode(view,index),1048576&lifecycles&&shouldCallLifecycleInitHook(view,512,initIndex)&&provider.ngAfterContentInit(),2097152&lifecycles&&provider.ngAfterContentChecked(),4194304&lifecycles&&shouldCallLifecycleInitHook(view,768,initIndex)&&provider.ngAfterViewInit(),8388608&lifecycles&&provider.ngAfterViewChecked(),131072&lifecycles&&provider.ngOnDestroy())}const SCHEDULER=new InjectionToken(\"SCHEDULER_TOKEN\",{providedIn:\"root\",factory:()=>defaultScheduler}),LOCALE_DATA={},LocaleDataIndex=function(){var LocaleDataIndex={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return LocaleDataIndex[LocaleDataIndex.LocaleId]=\"LocaleId\",LocaleDataIndex[LocaleDataIndex.DayPeriodsFormat]=\"DayPeriodsFormat\",LocaleDataIndex[LocaleDataIndex.DayPeriodsStandalone]=\"DayPeriodsStandalone\",LocaleDataIndex[LocaleDataIndex.DaysFormat]=\"DaysFormat\",LocaleDataIndex[LocaleDataIndex.DaysStandalone]=\"DaysStandalone\",LocaleDataIndex[LocaleDataIndex.MonthsFormat]=\"MonthsFormat\",LocaleDataIndex[LocaleDataIndex.MonthsStandalone]=\"MonthsStandalone\",LocaleDataIndex[LocaleDataIndex.Eras]=\"Eras\",LocaleDataIndex[LocaleDataIndex.FirstDayOfWeek]=\"FirstDayOfWeek\",LocaleDataIndex[LocaleDataIndex.WeekendRange]=\"WeekendRange\",LocaleDataIndex[LocaleDataIndex.DateFormat]=\"DateFormat\",LocaleDataIndex[LocaleDataIndex.TimeFormat]=\"TimeFormat\",LocaleDataIndex[LocaleDataIndex.DateTimeFormat]=\"DateTimeFormat\",LocaleDataIndex[LocaleDataIndex.NumberSymbols]=\"NumberSymbols\",LocaleDataIndex[LocaleDataIndex.NumberFormats]=\"NumberFormats\",LocaleDataIndex[LocaleDataIndex.CurrencySymbol]=\"CurrencySymbol\",LocaleDataIndex[LocaleDataIndex.CurrencyName]=\"CurrencyName\",LocaleDataIndex[LocaleDataIndex.Currencies]=\"Currencies\",LocaleDataIndex[LocaleDataIndex.PluralCase]=\"PluralCase\",LocaleDataIndex[LocaleDataIndex.ExtraData]=\"ExtraData\",LocaleDataIndex}(),u=void 0;var localeEn=[\"en\",[[\"a\",\"p\"],[\"AM\",\"PM\"],u],[[\"AM\",\"PM\"],u,u],[[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"]],u,[[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]],u,[[\"B\",\"A\"],[\"BC\",\"AD\"],[\"Before Christ\",\"Anno Domini\"]],0,[6,0],[\"M/d/yy\",\"MMM d, y\",\"MMMM d, y\",\"EEEE, MMMM d, y\"],[\"h:mm a\",\"h:mm:ss a\",\"h:mm:ss a z\",\"h:mm:ss a zzzz\"],[\"{1}, {0}\",u,\"{1} 'at' {0}\",u],[\".\",\",\",\";\",\"%\",\"+\",\"-\",\"E\",\"×\",\"‰\",\"∞\",\"NaN\",\":\"],[\"#,##0.###\",\"#,##0%\",\"¤#,##0.00\",\"#E0\"],\"$\",\"US Dollar\",{},function(n){let i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\\.?/,\"\").length;return 1===i&&0===v?1:5}];const DEFAULT_LOCALE_ID=\"en-US\";let LOCALE_ID=DEFAULT_LOCALE_ID;function setLocaleId(localeId){var msg;msg=\"Expected localeId to be defined\",null==localeId&&function(msg){throw new Error(`ASSERTION ERROR: ${msg}`)}(msg),\"string\"==typeof localeId&&(LOCALE_ID=localeId.toLowerCase().replace(/_/g,\"-\"))}class core_EventEmitter extends Subject_Subject{constructor(isAsync=!1){super(),this.__isAsync=isAsync}emit(value){super.next(value)}subscribe(generatorOrNext,error,complete){let schedulerFn,errorFn=err=>null,completeFn=()=>null;generatorOrNext&&\"object\"==typeof generatorOrNext?(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext.next(value))}:value=>{generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>generatorOrNext.error(err))}:err=>{generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>generatorOrNext.complete())}:()=>{generatorOrNext.complete()})):(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext(value))}:value=>{generatorOrNext(value)},error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>error(err))}:err=>{error(err)}),complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>complete())}:()=>{complete()}));const sink=super.subscribe(schedulerFn,errorFn,completeFn);return generatorOrNext instanceof Subscription_Subscription&&generatorOrNext.add(sink),sink}}function symbolIterator(){return this._results[core_getSymbolIterator()]()}class QueryList{constructor(){this.dirty=!0,this._results=[],this.changes=new core_EventEmitter,this.length=0;const symbol=core_getSymbolIterator(),proto=QueryList.prototype;proto[symbol]||(proto[symbol]=symbolIterator)}map(fn){return this._results.map(fn)}filter(fn){return this._results.filter(fn)}find(fn){return this._results.find(fn)}reduce(fn,init){return this._results.reduce(fn,init)}forEach(fn){this._results.forEach(fn)}some(fn){return this._results.some(fn)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(resultsTree){this._results=function flatten(list,dst){void 0===dst&&(dst=list);for(let i=0;i<list.length;i++){let item=list[i];Array.isArray(item)?(dst===list&&(dst=list.slice(0,i)),flatten(item,dst)):dst!==list&&dst.push(item)}return dst}(resultsTree),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const APP_INITIALIZER=new InjectionToken(\"Application Initializer\");class ApplicationInitStatus{constructor(appInits){this.appInits=appInits,this.initialized=!1,this.done=!1,this.donePromise=new Promise((res,rej)=>{this.resolve=res,this.reject=rej})}runInitializers(){if(this.initialized)return;const asyncInitPromises=[],complete=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const initResult=this.appInits[i]();core_isPromise(initResult)&&asyncInitPromises.push(initResult)}Promise.all(asyncInitPromises).then(()=>{complete()}).catch(e=>{this.reject(e)}),0===asyncInitPromises.length&&complete(),this.initialized=!0}}const APP_ID=new InjectionToken(\"AppId\");function _appIdRandomProviderFactory(){return`${_randomChar()}${_randomChar()}${_randomChar()}`}function _randomChar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PLATFORM_INITIALIZER=new InjectionToken(\"Platform Initializer\"),PLATFORM_ID=new InjectionToken(\"Platform ID\"),APP_BOOTSTRAP_LISTENER=new InjectionToken(\"appBootstrapListener\");class Console{log(message){console.log(message)}warn(message){console.warn(message)}}const LOCALE_ID$1=new InjectionToken(\"LocaleId\"),ivyEnabled=!1;function _throwError(){throw new Error(\"Runtime compiler is not loaded\")}const Compiler_compileModuleSync=_throwError,Compiler_compileModuleAsync=_throwError,Compiler_compileModuleAndAllComponentsSync=_throwError,Compiler_compileModuleAndAllComponentsAsync=_throwError;class Compiler{constructor(){this.compileModuleSync=Compiler_compileModuleSync,this.compileModuleAsync=Compiler_compileModuleAsync,this.compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync,this.compileModuleAndAllComponentsAsync=Compiler_compileModuleAndAllComponentsAsync}clearCache(){}clearCacheFor(type){}getModuleId(moduleType){}}class CompilerFactory{}let trace,events;function detectWTF(){const wtf=_global.wtf;return!(!wtf||!(trace=wtf.trace)||(events=trace.events,0))}const wtfEnabled=detectWTF(),wtfCreateScope=wtfEnabled?function(signature,flags=null){return events.createScope(signature,flags)}:(signature,flags)=>(function(arg0,arg1){return null}),wtfLeave=wtfEnabled?function(scope,returnValue){return trace.leaveScope(scope,returnValue),returnValue}:(s,r)=>r,core_promise=(()=>Promise.resolve(0))();function scheduleMicroTask(fn){\"undefined\"==typeof Zone?core_promise.then(()=>{fn&&fn.apply(null,null)}):Zone.current.scheduleMicroTask(\"scheduleMicrotask\",fn)}class NgZone{constructor({enableLongStackTrace:enableLongStackTrace=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter(!1),this.onMicrotaskEmpty=new core_EventEmitter(!1),this.onStable=new core_EventEmitter(!1),this.onError=new core_EventEmitter(!1),\"undefined\"==typeof Zone)throw new Error(\"In this configuration Angular requires Zone.js\");var zone;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(zone=this)._inner=zone._inner.fork({name:\"angular\",properties:{isAngularZone:!0},onInvokeTask:(delegate,current,target,task,applyThis,applyArgs)=>{try{return onEnter(zone),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{onLeave(zone)}},onInvoke:(delegate,current,target,callback,applyThis,applyArgs,source)=>{try{return onEnter(zone),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{onLeave(zone)}},onHasTask:(delegate,current,target,hasTaskState)=>{delegate.hasTask(target,hasTaskState),current===target&&(\"microTask\"==hasTaskState.change?(zone.hasPendingMicrotasks=hasTaskState.microTask,checkStable(zone)):\"macroTask\"==hasTaskState.change&&(zone.hasPendingMacrotasks=hasTaskState.macroTask))},onHandleError:(delegate,current,target,error)=>(delegate.handleError(target,error),zone.runOutsideAngular(()=>zone.onError.emit(error)),!1)})}static isInAngularZone(){return!0===Zone.current.get(\"isAngularZone\")}static assertInAngularZone(){if(!NgZone.isInAngularZone())throw new Error(\"Expected to be in Angular Zone, but it is not!\")}static assertNotInAngularZone(){if(NgZone.isInAngularZone())throw new Error(\"Expected to not be in Angular Zone, but it is!\")}run(fn,applyThis,applyArgs){return this._inner.run(fn,applyThis,applyArgs)}runTask(fn,applyThis,applyArgs,name){const zone=this._inner,task=zone.scheduleEventTask(\"NgZoneEvent: \"+name,fn,EMPTY_PAYLOAD,noop$1,noop$1);try{return zone.runTask(task,applyThis,applyArgs)}finally{zone.cancelTask(task)}}runGuarded(fn,applyThis,applyArgs){return this._inner.runGuarded(fn,applyThis,applyArgs)}runOutsideAngular(fn){return this._outer.run(fn)}}function noop$1(){}const EMPTY_PAYLOAD={};function checkStable(zone){if(0==zone._nesting&&!zone.hasPendingMicrotasks&&!zone.isStable)try{zone._nesting++,zone.onMicrotaskEmpty.emit(null)}finally{if(zone._nesting--,!zone.hasPendingMicrotasks)try{zone.runOutsideAngular(()=>zone.onStable.emit(null))}finally{zone.isStable=!0}}}function onEnter(zone){zone._nesting++,zone.isStable&&(zone.isStable=!1,zone.onUnstable.emit(null))}function onLeave(zone){zone._nesting--,checkStable(zone)}class NoopNgZone{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter,this.onMicrotaskEmpty=new core_EventEmitter,this.onStable=new core_EventEmitter,this.onError=new core_EventEmitter}run(fn){return fn()}runGuarded(fn){return fn()}runOutsideAngular(fn){return fn()}runTask(fn){return fn()}}class Testability{constructor(_ngZone){this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),_ngZone.run(()=>{this.taskTrackingZone=\"undefined\"==typeof Zone?null:Zone.current.get(\"TaskTrackingZone\")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error(\"pending async requests below zero\");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())scheduleMicroTask(()=>{for(;0!==this._callbacks.length;){let cb=this._callbacks.pop();clearTimeout(cb.timeoutId),cb.doneCb(this._didWork)}this._didWork=!1});else{let pending=this.getPendingTasks();this._callbacks=this._callbacks.filter(cb=>!cb.updateCb||!cb.updateCb(pending)||(clearTimeout(cb.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(cb,timeout,updateCb){let timeoutId=-1;timeout&&timeout>0&&(timeoutId=setTimeout(()=>{this._callbacks=this._callbacks.filter(cb=>cb.timeoutId!==timeoutId),cb(this._didWork,this.getPendingTasks())},timeout)),this._callbacks.push({doneCb:cb,timeoutId:timeoutId,updateCb:updateCb})}whenStable(doneCb,timeout,updateCb){if(updateCb&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is \"zone.js/dist/task-tracking.js\" loaded?');this.addCallback(doneCb,timeout,updateCb),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(using,provider,exactMatch){return[]}}class TestabilityRegistry{constructor(){this._applications=new Map,_testabilityGetter.addToWindow(this)}registerApplication(token,testability){this._applications.set(token,testability)}unregisterApplication(token){this._applications.delete(token)}unregisterAllApplications(){this._applications.clear()}getTestability(elem){return this._applications.get(elem)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(elem,findInAncestors=!0){return _testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)}}class _NoopGetTestability{addToWindow(registry){}findTestabilityInTree(registry,elem,findInAncestors){return null}}let _platform,_testabilityGetter=new _NoopGetTestability,compileNgModuleFactory=function(injector,options,moduleType){return injector.get(CompilerFactory).createCompiler([options]).compileModuleAsync(moduleType)},isBoundToModule=function(cf){return cf instanceof ComponentFactoryBoundToModule};const ALLOW_MULTIPLE_PLATFORMS=new InjectionToken(\"AllowMultipleToken\");class NgProbeToken{constructor(name,token){this.name=name,this.token=token}}function createPlatformFactory(parentPlatformFactory,name,providers=[]){const desc=`Platform: ${name}`,marker=new InjectionToken(desc);return(extraProviders=[])=>{let platform=getPlatform();if(!platform||platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))if(parentPlatformFactory)parentPlatformFactory(providers.concat(extraProviders).concat({provide:marker,useValue:!0}));else{const injectedProviders=providers.concat(extraProviders).concat({provide:marker,useValue:!0});!function(injector){if(_platform&&!_platform.destroyed&&!_platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))throw new Error(\"There can be only one platform. Destroy the previous one to create a new one.\");_platform=injector.get(PlatformRef);const inits=injector.get(PLATFORM_INITIALIZER,null);inits&&inits.forEach(init=>init())}(Injector.create({providers:injectedProviders,name:desc}))}return function(requiredToken){const platform=getPlatform();if(!platform)throw new Error(\"No platform exists!\");if(!platform.injector.get(requiredToken,null))throw new Error(\"A platform with a different configuration has been created. Please destroy it first.\");return platform}(marker)}}function getPlatform(){return _platform&&!_platform.destroyed?_platform:null}class PlatformRef{constructor(_injector){this._injector=_injector,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(moduleFactory,options){const ngZone=\"noop\"===(ngZoneOption=options?options.ngZone:void 0)?new NoopNgZone:(\"zone.js\"===ngZoneOption?void 0:ngZoneOption)||new NgZone({enableLongStackTrace:isDevMode()}),providers=[{provide:NgZone,useValue:ngZone}];var ngZoneOption;return ngZone.run(()=>{const ngZoneInjector=Injector.create({providers:providers,parent:this.injector,name:moduleFactory.moduleType.name}),moduleRef=moduleFactory.create(ngZoneInjector),exceptionHandler=moduleRef.injector.get(ErrorHandler,null);if(!exceptionHandler)throw new Error(\"No ErrorHandler. Is platform module (BrowserModule) included?\");return ivyEnabled&&setLocaleId(moduleRef.injector.get(LOCALE_ID$1,DEFAULT_LOCALE_ID)||DEFAULT_LOCALE_ID),moduleRef.onDestroy(()=>remove(this._modules,moduleRef)),ngZone.runOutsideAngular(()=>ngZone.onError.subscribe({next:error=>{exceptionHandler.handleError(error)}})),function(errorHandler,ngZone,callback){try{const result=callback();return core_isPromise(result)?result.catch(e=>{throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}):result}catch(e){throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}}(exceptionHandler,ngZone,()=>{const initStatus=moduleRef.injector.get(ApplicationInitStatus);return initStatus.runInitializers(),initStatus.donePromise.then(()=>(this._moduleDoBootstrap(moduleRef),moduleRef))})})}bootstrapModule(moduleType,compilerOptions=[]){const options=optionsReducer({},compilerOptions);return compileNgModuleFactory(this.injector,options,moduleType).then(moduleFactory=>this.bootstrapModuleFactory(moduleFactory,options))}_moduleDoBootstrap(moduleRef){const appRef=moduleRef.injector.get(core_ApplicationRef);if(moduleRef._bootstrapComponents.length>0)moduleRef._bootstrapComponents.forEach(f=>appRef.bootstrap(f));else{if(!moduleRef.instance.ngDoBootstrap)throw new Error(`The module ${stringify(moduleRef.instance.constructor)} was bootstrapped, but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. `+\"Please define one of these.\");moduleRef.instance.ngDoBootstrap(appRef)}this._modules.push(moduleRef)}onDestroy(callback){this._destroyListeners.push(callback)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error(\"The platform has already been destroyed!\");this._modules.slice().forEach(module=>module.destroy()),this._destroyListeners.forEach(listener=>listener()),this._destroyed=!0}get destroyed(){return this._destroyed}}function optionsReducer(dst,objs){return Array.isArray(objs)?objs.reduce(optionsReducer,dst):Object.assign({},dst,objs)}let core_ApplicationRef=(()=>{class ApplicationRef{constructor(_zone,_console,_injector,_exceptionHandler,_componentFactoryResolver,_initStatus){this._zone=_zone,this._console=_console,this._injector=_injector,this._exceptionHandler=_exceptionHandler,this._componentFactoryResolver=_componentFactoryResolver,this._initStatus=_initStatus,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=isDevMode(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const isCurrentlyStable=new Observable_Observable(observer=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{observer.next(this._stable),observer.complete()})}),isStable=new Observable_Observable(observer=>{let stableSub;this._zone.runOutsideAngular(()=>{stableSub=this._zone.onStable.subscribe(()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,observer.next(!0))})})});const unstableSub=this._zone.onUnstable.subscribe(()=>{NgZone.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{observer.next(!1)}))});return()=>{stableSub.unsubscribe(),unstableSub.unsubscribe()}});this.isStable=function(...observables){let concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];return isScheduler(last)?(scheduler=observables.pop(),observables.length>1&&\"number\"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):\"number\"==typeof last&&(concurrent=observables.pop()),null===scheduler&&1===observables.length&&observables[0]instanceof Observable_Observable?observables[0]:mergeAll(concurrent)(fromArray(observables,scheduler))}(isCurrentlyStable,isStable.pipe(source=>refCount()(function(subjectOrSubjectFactory,selector){return function(source){let subjectFactory;subjectFactory=\"function\"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function(){return subjectOrSubjectFactory};const connectable=Object.create(source,connectableObservableDescriptor);return connectable.source=source,connectable.subjectFactory=subjectFactory,connectable}}(shareSubjectFactory)(source))))}bootstrap(componentOrFactory,rootSelectorOrNode){if(!this._initStatus.done)throw new Error(\"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.\");let componentFactory;componentFactory=componentOrFactory instanceof ComponentFactory?componentOrFactory:this._componentFactoryResolver.resolveComponentFactory(componentOrFactory),this.componentTypes.push(componentFactory.componentType);const ngModule=isBoundToModule(componentFactory)?null:this._injector.get(NgModuleRef),compRef=componentFactory.create(Injector.NULL,[],rootSelectorOrNode||componentFactory.selector,ngModule);compRef.onDestroy(()=>{this._unloadComponent(compRef)});const testability=compRef.injector.get(Testability,null);return testability&&compRef.injector.get(TestabilityRegistry).registerApplication(compRef.location.nativeElement,testability),this._loadComponent(compRef),isDevMode()&&this._console.log(\"Angular is running in the development mode. Call enableProdMode() to enable the production mode.\"),compRef}tick(){if(this._runningTick)throw new Error(\"ApplicationRef.tick is called recursively\");const scope=ApplicationRef._tickScope();try{this._runningTick=!0;for(let view of this._views)view.detectChanges();if(this._enforceNoNewChanges)for(let view of this._views)view.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1,wtfLeave(scope)}}attachView(viewRef){const view=viewRef;this._views.push(view),view.attachToAppRef(this)}detachView(viewRef){const view=viewRef;remove(this._views,view),view.detachFromAppRef()}_loadComponent(componentRef){this.attachView(componentRef.hostView),this.tick(),this.components.push(componentRef),this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners).forEach(listener=>listener(componentRef))}_unloadComponent(componentRef){this.detachView(componentRef.hostView),remove(this.components,componentRef)}ngOnDestroy(){this._views.slice().forEach(view=>view.destroy())}get viewCount(){return this._views.length}}return ApplicationRef._tickScope=wtfCreateScope(\"ApplicationRef#tick()\"),ApplicationRef})();function remove(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}class NgModuleFactoryLoader{}const _SEPARATOR=\"#\",FACTORY_CLASS_SUFFIX=\"NgFactory\";class SystemJsNgModuleLoaderConfig{}const DEFAULT_CONFIG={factoryPathPrefix:\"\",factoryPathSuffix:\".ngfactory\"};class SystemJsNgModuleLoader{constructor(_compiler,config){this._compiler=_compiler,this._config=config||DEFAULT_CONFIG}load(path){return!ivyEnabled&&this._compiler instanceof Compiler?this.loadFactory(path):this.loadAndCompile(path)}loadAndCompile(path){let[module,exportName]=path.split(_SEPARATOR);return void 0===exportName&&(exportName=\"default\"),__webpack_require__(\"zn8P\")(module).then(module=>module[exportName]).then(type=>checkNotEmpty(type,module,exportName)).then(type=>this._compiler.compileModuleAsync(type))}loadFactory(path){let[module,exportName]=path.split(_SEPARATOR),factoryClassSuffix=FACTORY_CLASS_SUFFIX;return void 0===exportName&&(exportName=\"default\",factoryClassSuffix=\"\"),__webpack_require__(\"zn8P\")(this._config.factoryPathPrefix+module+this._config.factoryPathSuffix).then(module=>module[exportName+factoryClassSuffix]).then(factory=>checkNotEmpty(factory,module,exportName))}}function checkNotEmpty(value,modulePath,exportName){if(!value)throw new Error(`Cannot find '${exportName}' in '${modulePath}'`);return value}class DebugEventListener{constructor(name,callback){this.name=name,this.callback=callback}}class DebugNode__PRE_R3__{constructor(nativeNode,parent,_debugContext){this.listeners=[],this.parent=null,this._debugContext=_debugContext,this.nativeNode=nativeNode,parent&&parent instanceof DebugElement__PRE_R3__&&parent.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class DebugElement__PRE_R3__ extends DebugNode__PRE_R3__{constructor(nativeNode,parent,_debugContext){super(nativeNode,parent,_debugContext),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=nativeNode}addChild(child){child&&(this.childNodes.push(child),child.parent=this)}removeChild(child){const childIndex=this.childNodes.indexOf(child);-1!==childIndex&&(child.parent=null,this.childNodes.splice(childIndex,1))}insertChildrenAfter(child,newChildren){const siblingIndex=this.childNodes.indexOf(child);-1!==siblingIndex&&(this.childNodes.splice(siblingIndex+1,0,...newChildren),newChildren.forEach(c=>{c.parent&&c.parent.removeChild(c),child.parent=this}))}insertBefore(refChild,newChild){const refIndex=this.childNodes.indexOf(refChild);-1===refIndex?this.addChild(newChild):(newChild.parent&&newChild.parent.removeChild(newChild),newChild.parent=this,this.childNodes.splice(refIndex,0,newChild))}query(predicate){return this.queryAll(predicate)[0]||null}queryAll(predicate){const matches=[];return function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(node=>{node instanceof DebugElement__PRE_R3__&&(predicate(node)&&matches.push(node),_queryElementChildren(node,predicate,matches))})}(this,predicate,matches),matches}queryAllNodes(predicate){const matches=[];return function _queryNodeChildren(parentNode,predicate,matches){parentNode instanceof DebugElement__PRE_R3__&&parentNode.childNodes.forEach(node=>{predicate(node)&&matches.push(node),node instanceof DebugElement__PRE_R3__&&_queryNodeChildren(node,predicate,matches)})}(this,predicate,matches),matches}get children(){return this.childNodes.filter(node=>node instanceof DebugElement__PRE_R3__)}triggerEventHandler(eventName,eventObj){this.listeners.forEach(listener=>{listener.name==eventName&&listener.callback(eventObj)})}}const _nativeNodeToDebugNode=new Map,getDebugNode=function(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)||null};function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}const platformCore=createPlatformFactory(null,\"core\",[{provide:PLATFORM_ID,useValue:\"unknown\"},{provide:PlatformRef,deps:[Injector]},{provide:TestabilityRegistry,deps:[]},{provide:Console,deps:[]}]);function _iterableDiffersFactory(){return defaultIterableDiffers}function _keyValueDiffersFactory(){return defaultKeyValueDiffers}function _localeFactory(locale){return locale?(ivyEnabled&&setLocaleId(locale),locale):DEFAULT_LOCALE_ID}function zoneSchedulerFactory(ngZone){let queue=[];return ngZone.onStable.subscribe(()=>{for(;queue.length;)queue.pop()()}),function(fn){queue.push(fn)}}class ApplicationModule{constructor(appRef){}}function elementDef(checkIndex,flags,matchedQueriesDsl,ngContentIndex,childCount,namespaceAndName,fixedAttrs=[],bindings,outputs,handleEvent,componentView,componentRendererType){handleEvent||(handleEvent=NOOP);const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);let ns=null,name=null;namespaceAndName&&([ns,name]=splitNamespace(namespaceAndName)),bindings=bindings||[];const bindingDefs=new Array(bindings.length);for(let i=0;i<bindings.length;i++){const[bindingFlags,namespaceAndName,suffixOrSecurityContext]=bindings[i],[ns,name]=splitNamespace(namespaceAndName);let securityContext=void 0,suffix=void 0;switch(15&bindingFlags){case 4:suffix=suffixOrSecurityContext;break;case 1:case 8:securityContext=suffixOrSecurityContext}bindingDefs[i]={flags:bindingFlags,ns:ns,name:name,nonMinifiedName:name,securityContext:securityContext,suffix:suffix}}outputs=outputs||[];const outputDefs=new Array(outputs.length);for(let i=0;i<outputs.length;i++){const[target,eventName]=outputs[i];outputDefs[i]={type:0,target:target,eventName:eventName,propName:null}}const attrs=(fixedAttrs=fixedAttrs||[]).map(([namespaceAndName,value])=>{const[ns,name]=splitNamespace(namespaceAndName);return[ns,name,value]});return componentRendererType=function(type){if(type&&type.id===UNDEFINED_RENDERER_TYPE_ID){const isFilled=null!=type.encapsulation&&type.encapsulation!==ViewEncapsulation.None||type.styles.length||Object.keys(type.data).length;type.id=isFilled?`c${_renderCompCount$1++}`:EMPTY_RENDERER_TYPE_ID}return type&&type.id===EMPTY_RENDERER_TYPE_ID&&(type=null),type||null}(componentRendererType),componentView&&(flags|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:bindingDefs,bindingFlags:calcBindingFlags(bindingDefs),outputs:outputDefs,element:{ns:ns,name:name,attrs:attrs,template:null,componentProvider:null,componentView:componentView||null,componentRendererType:componentRendererType,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}}function createElement(view,renderHost,def){const elDef=def.element,rootSelectorOrNode=view.root.selectorOrNode,renderer=view.renderer;let el;if(view.parent||!rootSelectorOrNode){el=elDef.name?renderer.createElement(elDef.name,elDef.ns):renderer.createComment(\"\");const parentEl=getParentRenderElement(view,renderHost,def);parentEl&&renderer.appendChild(parentEl,el)}else el=renderer.selectRootElement(rootSelectorOrNode,!!elDef.componentRendererType&&elDef.componentRendererType.encapsulation===ViewEncapsulation.ShadowDom);if(elDef.attrs)for(let i=0;i<elDef.attrs.length;i++){const[ns,name,value]=elDef.attrs[i];renderer.setAttribute(el,name,value,ns)}return el}function listenToElementOutputs(view,compView,def,el){for(let i=0;i<def.outputs.length;i++){const output=def.outputs[i],handleEventClosure=renderEventHandlerClosure(view,def.nodeIndex,(name=output.eventName,(target=output.target)?`${target}:${name}`:name));let listenTarget=output.target,listenerView=view;\"component\"===output.target&&(listenTarget=null,listenerView=compView);const disposable=listenerView.renderer.listen(listenTarget||el,output.eventName,handleEventClosure);view.disposables[def.outputIndex+i]=disposable}var target,name}function renderEventHandlerClosure(view,index,eventName){return event=>dispatchEvent(view,index,eventName,event)}function checkAndUpdateElementValue(view,def,bindingIdx,value){if(!checkAndUpdateBinding(view,def,bindingIdx,value))return!1;const binding=def.bindings[bindingIdx],elData=asElementData(view,def.nodeIndex),renderNode=elData.renderElement,name=binding.name;switch(15&binding.flags){case 1:!function(view,binding,renderNode,ns,name,value){const securityContext=binding.securityContext;let renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;renderValue=null!=renderValue?renderValue.toString():null;const renderer=view.renderer;null!=value?renderer.setAttribute(renderNode,name,renderValue,ns):renderer.removeAttribute(renderNode,name,ns)}(view,binding,renderNode,binding.ns,name,value);break;case 2:!function(view,renderNode,name,value){const renderer=view.renderer;value?renderer.addClass(renderNode,name):renderer.removeClass(renderNode,name)}(view,renderNode,name,value);break;case 4:!function(view,binding,renderNode,name,value){let renderValue=view.root.sanitizer.sanitize(SecurityContext.STYLE,value);if(null!=renderValue){renderValue=renderValue.toString();const unit=binding.suffix;null!=unit&&(renderValue+=unit)}else renderValue=null;const renderer=view.renderer;null!=renderValue?renderer.setStyle(renderNode,name,renderValue):renderer.removeStyle(renderNode,name)}(view,binding,renderNode,name,value);break;case 8:!function(view,binding,renderNode,name,value){const securityContext=binding.securityContext;let renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;view.renderer.setProperty(renderNode,name,renderValue)}(33554432&def.flags&&32&binding.flags?elData.componentView:view,binding,renderNode,name,value)}return!0}function dirtyParentQueries(view){const queryIds=view.def.nodeMatchedQueries;for(;view.parent&&isEmbeddedView(view);){let tplDef=view.parentNodeDef;view=view.parent;const end=tplDef.nodeIndex+tplDef.childCount;for(let i=0;i<=end;i++){const nodeDef=view.def.nodes[i];67108864&nodeDef.flags&&536870912&nodeDef.flags&&(nodeDef.query.filterId&queryIds)===nodeDef.query.filterId&&asQueryList(view,i).setDirty(),!(1&nodeDef.flags&&i+nodeDef.childCount<tplDef.nodeIndex)&&67108864&nodeDef.childFlags&&536870912&nodeDef.childFlags||(i+=nodeDef.childCount)}}if(134217728&view.def.nodeFlags)for(let i=0;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];134217728&nodeDef.flags&&536870912&nodeDef.flags&&asQueryList(view,i).setDirty(),i+=nodeDef.childCount}}function checkAndUpdateQuery(view,nodeDef){const queryList=asQueryList(view,nodeDef.nodeIndex);if(!queryList.dirty)return;let directiveInstance,newValues=void 0;if(67108864&nodeDef.flags){const elementDef=nodeDef.parent.parent;newValues=calcQueryValues(view,elementDef.nodeIndex,elementDef.nodeIndex+elementDef.childCount,nodeDef.query,[]),directiveInstance=asProviderData(view,nodeDef.parent.nodeIndex).instance}else 134217728&nodeDef.flags&&(newValues=calcQueryValues(view,0,view.def.nodes.length-1,nodeDef.query,[]),directiveInstance=view.component);queryList.reset(newValues);const bindings=nodeDef.query.bindings;let notify=!1;for(let i=0;i<bindings.length;i++){const binding=bindings[i];let boundValue;switch(binding.bindingType){case 0:boundValue=queryList.first;break;case 1:boundValue=queryList,notify=!0}directiveInstance[binding.propName]=boundValue}notify&&queryList.notifyOnChanges()}function calcQueryValues(view,startIndex,endIndex,queryDef,values){for(let i=startIndex;i<=endIndex;i++){const nodeDef=view.def.nodes[i],valueType=nodeDef.matchedQueries[queryDef.id];if(null!=valueType&&values.push(getQueryValue(view,nodeDef,valueType)),1&nodeDef.flags&&nodeDef.element.template&&(nodeDef.element.template.nodeMatchedQueries&queryDef.filterId)===queryDef.filterId){const elementData=asElementData(view,i);if((nodeDef.childMatchedQueries&queryDef.filterId)===queryDef.filterId&&(calcQueryValues(view,i+1,i+nodeDef.childCount,queryDef,values),i+=nodeDef.childCount),16777216&nodeDef.flags){const embeddedViews=elementData.viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++){const embeddedView=embeddedViews[k],dvc=declaredViewContainer(embeddedView);dvc&&dvc===elementData&&calcQueryValues(embeddedView,0,embeddedView.def.nodes.length-1,queryDef,values)}}const projectedViews=elementData.template._projectedViews;if(projectedViews)for(let k=0;k<projectedViews.length;k++){const projectedView=projectedViews[k];calcQueryValues(projectedView,0,projectedView.def.nodes.length-1,queryDef,values)}}(nodeDef.childMatchedQueries&queryDef.filterId)!==queryDef.filterId&&(i+=nodeDef.childCount)}return values}function getQueryValue(view,nodeDef,queryValueType){if(null!=queryValueType)switch(queryValueType){case 1:return asElementData(view,nodeDef.nodeIndex).renderElement;case 0:return new ElementRef(asElementData(view,nodeDef.nodeIndex).renderElement);case 2:return asElementData(view,nodeDef.nodeIndex).template;case 3:return asElementData(view,nodeDef.nodeIndex).viewContainer;case 4:return asProviderData(view,nodeDef.nodeIndex).instance}}function appendNgContent(view,renderHost,def){const parentEl=getParentRenderElement(view,renderHost,def);parentEl&&visitProjectedRenderNodes(view,def.ngContent.index,1,parentEl,null,void 0)}function textDef(checkIndex,ngContentIndex,staticText){const bindings=new Array(staticText.length-1);for(let i=1;i<staticText.length;i++)bindings[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:staticText[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:bindings,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:staticText[0]},query:null,ngContent:null}}function createText(view,renderHost,def){let renderNode;const renderer=view.renderer;renderNode=renderer.createText(def.text.prefix);const parentEl=getParentRenderElement(view,renderHost,def);return parentEl&&renderer.appendChild(parentEl,renderNode),{renderText:renderNode}}function _addInterpolationPart(value,binding){return(null!=value?value.toString():\"\")+binding.suffix}function viewDef(flags,nodes,updateDirectives,updateRenderer){let viewBindingCount=0,viewDisposableCount=0,viewNodeFlags=0,viewRootNodeFlags=0,viewMatchedQueries=0,currentParent=null,currentRenderParent=null,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,lastRenderRootNode=null;for(let i=0;i<nodes.length;i++){const node=nodes[i];if(node.nodeIndex=i,node.parent=currentParent,node.bindingIndex=viewBindingCount,node.outputIndex=viewDisposableCount,node.renderParent=currentRenderParent,viewNodeFlags|=node.flags,viewMatchedQueries|=node.matchedQueryIds,node.element){const elDef=node.element;elDef.publicProviders=currentParent?currentParent.element.publicProviders:Object.create(null),elDef.allProviders=elDef.publicProviders,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,node.element.template&&(viewMatchedQueries|=node.element.template.nodeMatchedQueries)}if(validateNode(currentParent,node,nodes.length),viewBindingCount+=node.bindings.length,viewDisposableCount+=node.outputs.length,!currentRenderParent&&3&node.flags&&(lastRenderRootNode=node),20224&node.flags){currentElementHasPublicProviders||(currentElementHasPublicProviders=!0,currentParent.element.publicProviders=Object.create(currentParent.element.publicProviders),currentParent.element.allProviders=currentParent.element.publicProviders);const isComponent=0!=(32768&node.flags);0==(8192&node.flags)||isComponent?currentParent.element.publicProviders[tokenKey(node.provider.token)]=node:(currentElementHasPrivateProviders||(currentElementHasPrivateProviders=!0,currentParent.element.allProviders=Object.create(currentParent.element.publicProviders)),currentParent.element.allProviders[tokenKey(node.provider.token)]=node),isComponent&&(currentParent.element.componentProvider=node)}if(currentParent?(currentParent.childFlags|=node.flags,currentParent.directChildFlags|=node.flags,currentParent.childMatchedQueries|=node.matchedQueryIds,node.element&&node.element.template&&(currentParent.childMatchedQueries|=node.element.template.nodeMatchedQueries)):viewRootNodeFlags|=node.flags,node.childCount>0)currentParent=node,isNgContainer(node)||(currentRenderParent=node);else for(;currentParent&&i===currentParent.nodeIndex+currentParent.childCount;){const newParent=currentParent.parent;newParent&&(newParent.childFlags|=currentParent.childFlags,newParent.childMatchedQueries|=currentParent.childMatchedQueries),currentRenderParent=(currentParent=newParent)&&isNgContainer(currentParent)?currentParent.renderParent:currentParent}}return{factory:null,nodeFlags:viewNodeFlags,rootNodeFlags:viewRootNodeFlags,nodeMatchedQueries:viewMatchedQueries,flags:flags,nodes:nodes,updateDirectives:updateDirectives||NOOP,updateRenderer:updateRenderer||NOOP,handleEvent:(view,nodeIndex,eventName,event)=>nodes[nodeIndex].element.handleEvent(view,eventName,event),bindingCount:viewBindingCount,outputCount:viewDisposableCount,lastRenderRootNode:lastRenderRootNode}}function isNgContainer(node){return 0!=(1&node.flags)&&null===node.element.name}function validateNode(parent,node,nodeCount){const template=node.element&&node.element.template;if(template){if(!template.lastRenderRootNode)throw new Error(\"Illegal State: Embedded templates without nodes are not allowed!\");if(template.lastRenderRootNode&&16777216&template.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${node.nodeIndex}!`)}if(20224&node.flags&&0==(1&(parent?parent.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${node.nodeIndex}!`);if(node.query){if(67108864&node.flags&&(!parent||0==(16384&parent.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${node.nodeIndex}!`);if(134217728&node.flags&&parent)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${node.nodeIndex}!`)}if(node.childCount){const parentEnd=parent?parent.nodeIndex+parent.childCount:nodeCount-1;if(node.nodeIndex<=parentEnd&&node.nodeIndex+node.childCount>parentEnd)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${node.nodeIndex}!`)}}function createEmbeddedView(parent,anchorDef,viewDef,context){const view=createView(parent.root,parent.renderer,parent,anchorDef,viewDef);return initView(view,parent.component,context),createViewNodes(view),view}function createRootView(root,def,context){const view=createView(root,root.renderer,null,null,def);return initView(view,context,context),createViewNodes(view),view}function createComponentView(parentView,nodeDef,viewDef,hostElement){const rendererType=nodeDef.element.componentRendererType;let compRenderer;return compRenderer=rendererType?parentView.root.rendererFactory.createRenderer(hostElement,rendererType):parentView.root.renderer,createView(parentView.root,compRenderer,parentView,nodeDef.element.componentProvider,viewDef)}function createView(root,renderer,parent,parentNodeDef,def){const nodes=new Array(def.nodes.length),disposables=def.outputCount?new Array(def.outputCount):null;return{def:def,parent:parent,viewContainerParent:null,parentNodeDef:parentNodeDef,context:null,component:null,nodes:nodes,state:13,root:root,renderer:renderer,oldValues:new Array(def.bindingCount),disposables:disposables,initIndex:-1}}function initView(view,component,context){view.component=component,view.context=context}function createViewNodes(view){let renderHost;isComponentView(view)&&(renderHost=asElementData(view.parent,view.parentNodeDef.parent.nodeIndex).renderElement);const def=view.def,nodes=view.nodes;for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];let nodeData;switch(Services.setCurrentNode(view,i),201347067&nodeDef.flags){case 1:const el=createElement(view,renderHost,nodeDef);let componentView=void 0;if(33554432&nodeDef.flags){const compViewDef=resolveDefinition(nodeDef.element.componentView);componentView=Services.createComponentView(view,nodeDef,compViewDef,el)}listenToElementOutputs(view,componentView,nodeDef,el),nodeData={renderElement:el,componentView:componentView,viewContainer:null,template:nodeDef.element.template?createTemplateData(view,nodeDef):void 0},16777216&nodeDef.flags&&(nodeData.viewContainer=createViewContainerData(view,nodeDef,nodeData));break;case 2:nodeData=createText(view,renderHost,nodeDef);break;case 512:case 1024:case 2048:case 256:(nodeData=nodes[i])||4096&nodeDef.flags||(nodeData={instance:createProviderInstance(view,nodeDef)});break;case 16:nodeData={instance:createPipeInstance(view,nodeDef)};break;case 16384:(nodeData=nodes[i])||(nodeData={instance:createDirectiveInstance(view,nodeDef)}),32768&nodeDef.flags&&initView(asElementData(view,nodeDef.parent.nodeIndex).componentView,nodeData.instance,nodeData.instance);break;case 32:case 64:case 128:nodeData={value:void 0};break;case 67108864:case 134217728:nodeData=new QueryList;break;case 8:appendNgContent(view,renderHost,nodeDef),nodeData=void 0}nodes[i]=nodeData}execComponentViewsAction(view,ViewAction.CreateViewNodes),execQueriesAction(view,201326592,268435456,0)}function checkNoChangesView(view){markProjectedViewsForCheck(view),Services.updateDirectives(view,1),execEmbeddedViewsAction(view,ViewAction.CheckNoChanges),Services.updateRenderer(view,1),execComponentViewsAction(view,ViewAction.CheckNoChanges),view.state&=-97}function checkAndUpdateView(view){1&view.state?(view.state&=-2,view.state|=2):view.state&=-3,shiftInitState(view,0,256),markProjectedViewsForCheck(view),Services.updateDirectives(view,0),execEmbeddedViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,67108864,536870912,0);let callInit=shiftInitState(view,256,512);callLifecycleHooksChildrenFirst(view,2097152|(callInit?1048576:0)),Services.updateRenderer(view,0),execComponentViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,134217728,536870912,0),callLifecycleHooksChildrenFirst(view,8388608|((callInit=shiftInitState(view,512,768))?4194304:0)),2&view.def.flags&&(view.state&=-9),view.state&=-97,shiftInitState(view,768,1024)}function checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){switch(201347067&nodeDef.flags){case 1:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindLen=def.bindings.length;let changed=!1;return bindLen>0&&checkAndUpdateElementValue(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateElementValue(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateElementValue(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateElementValue(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateElementValue(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateElementValue(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateElementValue(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateElementValue(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateElementValue(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateElementValue(view,def,9,v9)&&(changed=!0),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 2:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){let changed=!1;const bindings=def.bindings,bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){let value=def.text.prefix;bindLen>0&&(value+=_addInterpolationPart(v0,bindings[0])),bindLen>1&&(value+=_addInterpolationPart(v1,bindings[1])),bindLen>2&&(value+=_addInterpolationPart(v2,bindings[2])),bindLen>3&&(value+=_addInterpolationPart(v3,bindings[3])),bindLen>4&&(value+=_addInterpolationPart(v4,bindings[4])),bindLen>5&&(value+=_addInterpolationPart(v5,bindings[5])),bindLen>6&&(value+=_addInterpolationPart(v6,bindings[6])),bindLen>7&&(value+=_addInterpolationPart(v7,bindings[7])),bindLen>8&&(value+=_addInterpolationPart(v8,bindings[8])),bindLen>9&&(value+=_addInterpolationPart(v9,bindings[9]));const renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 16384:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance;let changed=!1,changes=void 0;const bindLen=def.bindings.length;return bindLen>0&&checkBinding(view,def,0,v0)&&(changed=!0,changes=updateProp(view,providerData,def,0,v0,changes)),bindLen>1&&checkBinding(view,def,1,v1)&&(changed=!0,changes=updateProp(view,providerData,def,1,v1,changes)),bindLen>2&&checkBinding(view,def,2,v2)&&(changed=!0,changes=updateProp(view,providerData,def,2,v2,changes)),bindLen>3&&checkBinding(view,def,3,v3)&&(changed=!0,changes=updateProp(view,providerData,def,3,v3,changes)),bindLen>4&&checkBinding(view,def,4,v4)&&(changed=!0,changes=updateProp(view,providerData,def,4,v4,changes)),bindLen>5&&checkBinding(view,def,5,v5)&&(changed=!0,changes=updateProp(view,providerData,def,5,v5,changes)),bindLen>6&&checkBinding(view,def,6,v6)&&(changed=!0,changes=updateProp(view,providerData,def,6,v6,changes)),bindLen>7&&checkBinding(view,def,7,v7)&&(changed=!0,changes=updateProp(view,providerData,def,7,v7,changes)),bindLen>8&&checkBinding(view,def,8,v8)&&(changed=!0,changes=updateProp(view,providerData,def,8,v8,changes)),bindLen>9&&checkBinding(view,def,9,v9)&&(changed=!0,changes=updateProp(view,providerData,def,9,v9,changes)),changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 32:case 64:case 128:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindings=def.bindings;let changed=!1;const bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){const data=asPureExpressionData(view,def.nodeIndex);let value;switch(201347067&def.flags){case 32:value=new Array(bindings.length),bindLen>0&&(value[0]=v0),bindLen>1&&(value[1]=v1),bindLen>2&&(value[2]=v2),bindLen>3&&(value[3]=v3),bindLen>4&&(value[4]=v4),bindLen>5&&(value[5]=v5),bindLen>6&&(value[6]=v6),bindLen>7&&(value[7]=v7),bindLen>8&&(value[8]=v8),bindLen>9&&(value[9]=v9);break;case 64:value={},bindLen>0&&(value[bindings[0].name]=v0),bindLen>1&&(value[bindings[1].name]=v1),bindLen>2&&(value[bindings[2].name]=v2),bindLen>3&&(value[bindings[3].name]=v3),bindLen>4&&(value[bindings[4].name]=v4),bindLen>5&&(value[bindings[5].name]=v5),bindLen>6&&(value[bindings[6].name]=v6),bindLen>7&&(value[bindings[7].name]=v7),bindLen>8&&(value[bindings[8].name]=v8),bindLen>9&&(value[bindings[9].name]=v9);break;case 128:const pipe=v0;switch(bindLen){case 1:value=pipe.transform(v0);break;case 2:value=pipe.transform(v1);break;case 3:value=pipe.transform(v1,v2);break;case 4:value=pipe.transform(v1,v2,v3);break;case 5:value=pipe.transform(v1,v2,v3,v4);break;case 6:value=pipe.transform(v1,v2,v3,v4,v5);break;case 7:value=pipe.transform(v1,v2,v3,v4,v5,v6);break;case 8:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7);break;case 9:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8);break;case 10:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8,v9)}}data.value=value}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);default:throw\"unreachable\"}}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function(view,nodeDef,values){switch(201347067&nodeDef.flags){case 1:return function(view,def,values){let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateElementValue(view,def,i,values[i])&&(changed=!0);return changed}(view,nodeDef,values);case 2:return function(view,def,values){const bindings=def.bindings;let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){let value=\"\";for(let i=0;i<values.length;i++)value+=_addInterpolationPart(values[i],bindings[i]);value=def.text.prefix+value;const renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,values);case 16384:return function(view,def,values){const providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance;let changed=!1,changes=void 0;for(let i=0;i<values.length;i++)checkBinding(view,def,i,values[i])&&(changed=!0,changes=updateProp(view,providerData,def,i,values[i],changes));return changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,values);case 32:case 64:case 128:return function(view,def,values){const bindings=def.bindings;let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){const data=asPureExpressionData(view,def.nodeIndex);let value;switch(201347067&def.flags){case 32:value=values;break;case 64:value={};for(let i=0;i<values.length;i++)value[bindings[i].name]=values[i];break;case 128:const pipe=values[0],params=values.slice(1);value=pipe.transform(...params)}data.value=value}return changed}(view,nodeDef,values);default:throw\"unreachable\"}}(view,nodeDef,v0)}function markProjectedViewsForCheck(view){const def=view.def;if(4&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];if(4&nodeDef.flags){const projectedViews=asElementData(view,i).template._projectedViews;if(projectedViews)for(let i=0;i<projectedViews.length;i++){const projectedView=projectedViews[i];projectedView.state|=32,markParentViewsForCheckProjectedViews(projectedView,view)}}else 0==(4&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindLen=nodeDef.bindings.length;bindLen>0&&checkBindingNoChanges(view,nodeDef,0,v0),bindLen>1&&checkBindingNoChanges(view,nodeDef,1,v1),bindLen>2&&checkBindingNoChanges(view,nodeDef,2,v2),bindLen>3&&checkBindingNoChanges(view,nodeDef,3,v3),bindLen>4&&checkBindingNoChanges(view,nodeDef,4,v4),bindLen>5&&checkBindingNoChanges(view,nodeDef,5,v5),bindLen>6&&checkBindingNoChanges(view,nodeDef,6,v6),bindLen>7&&checkBindingNoChanges(view,nodeDef,7,v7),bindLen>8&&checkBindingNoChanges(view,nodeDef,8,v8),bindLen>9&&checkBindingNoChanges(view,nodeDef,9,v9)}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function(view,nodeDef,values){for(let i=0;i<values.length;i++)checkBindingNoChanges(view,nodeDef,i,values[i])}(view,nodeDef,v0),!1}function checkNoChangesQuery(view,nodeDef){if(asQueryList(view,nodeDef.nodeIndex).dirty)throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,nodeDef.nodeIndex),`Query ${nodeDef.query.id} not dirty`,`Query ${nodeDef.query.id} dirty`,0!=(1&view.state))}function destroyView(view){if(!(128&view.state)){if(execEmbeddedViewsAction(view,ViewAction.Destroy),execComponentViewsAction(view,ViewAction.Destroy),callLifecycleHooksChildrenFirst(view,131072),view.disposables)for(let i=0;i<view.disposables.length;i++)view.disposables[i]();!function(view){if(!(16&view.state))return;const dvcElementData=declaredViewContainer(view);if(dvcElementData){const projectedViews=dvcElementData.template._projectedViews;projectedViews&&(removeFromArray(projectedViews,projectedViews.indexOf(view)),Services.dirtyParentQueries(view))}}(view),view.renderer.destroyNode&&function(view){const len=view.def.nodes.length;for(let i=0;i<len;i++){const def=view.def.nodes[i];1&def.flags?view.renderer.destroyNode(asElementData(view,i).renderElement):2&def.flags?view.renderer.destroyNode(asTextData(view,i).renderText):(67108864&def.flags||134217728&def.flags)&&asQueryList(view,i).destroy()}}(view),isComponentView(view)&&view.renderer.destroy(),view.state|=128}}const ViewAction=function(){var ViewAction={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return ViewAction[ViewAction.CreateViewNodes]=\"CreateViewNodes\",ViewAction[ViewAction.CheckNoChanges]=\"CheckNoChanges\",ViewAction[ViewAction.CheckNoChangesProjectedViews]=\"CheckNoChangesProjectedViews\",ViewAction[ViewAction.CheckAndUpdate]=\"CheckAndUpdate\",ViewAction[ViewAction.CheckAndUpdateProjectedViews]=\"CheckAndUpdateProjectedViews\",ViewAction[ViewAction.Destroy]=\"Destroy\",ViewAction}();function execComponentViewsAction(view,action){const def=view.def;if(33554432&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];33554432&nodeDef.flags?callViewAction(asElementData(view,i).componentView,action):0==(33554432&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function execEmbeddedViewsAction(view,action){const def=view.def;if(16777216&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];if(16777216&nodeDef.flags){const embeddedViews=asElementData(view,i).viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++)callViewAction(embeddedViews[k],action)}else 0==(16777216&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function callViewAction(view,action){const viewState=view.state;switch(action){case ViewAction.CheckNoChanges:0==(128&viewState)&&(12==(12&viewState)?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckNoChangesProjectedViews));break;case ViewAction.CheckNoChangesProjectedViews:0==(128&viewState)&&(32&viewState?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.CheckAndUpdate:0==(128&viewState)&&(12==(12&viewState)?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckAndUpdateProjectedViews));break;case ViewAction.CheckAndUpdateProjectedViews:0==(128&viewState)&&(32&viewState?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.Destroy:destroyView(view);break;case ViewAction.CreateViewNodes:createViewNodes(view)}}function execProjectedViewsAction(view,action){execEmbeddedViewsAction(view,action),execComponentViewsAction(view,action)}function execQueriesAction(view,queryFlags,staticDynamicQueryFlag,checkType){if(!(view.def.nodeFlags&queryFlags&&view.def.nodeFlags&staticDynamicQueryFlag))return;const nodeCount=view.def.nodes.length;for(let i=0;i<nodeCount;i++){const nodeDef=view.def.nodes[i];if(nodeDef.flags&queryFlags&&nodeDef.flags&staticDynamicQueryFlag)switch(Services.setCurrentNode(view,nodeDef.nodeIndex),checkType){case 0:checkAndUpdateQuery(view,nodeDef);break;case 1:checkNoChangesQuery(view,nodeDef)}nodeDef.childFlags&queryFlags&&nodeDef.childFlags&staticDynamicQueryFlag||(i+=nodeDef.childCount)}}let initialized=!1;function createProdRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){const rendererFactory=ngModule.injector.get(RendererFactory2);return createRootView(createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode),def,context)}function debugCreateRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){const rendererFactory=ngModule.injector.get(RendererFactory2),root=createRootData(elInjector,ngModule,new DebugRendererFactory2(rendererFactory),projectableNodes,rootSelectorOrNode),defWithOverride=applyProviderOverridesToView(def);return callWithDebugContext(DebugAction.create,createRootView,null,[root,defWithOverride,context])}function createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode){const sanitizer=ngModule.injector.get(Sanitizer),errorHandler=ngModule.injector.get(ErrorHandler),renderer=rendererFactory.createRenderer(null,null);return{ngModule:ngModule,injector:elInjector,projectableNodes:projectableNodes,selectorOrNode:rootSelectorOrNode,sanitizer:sanitizer,rendererFactory:rendererFactory,renderer:renderer,errorHandler:errorHandler}}function debugCreateEmbeddedView(parentView,anchorDef,viewDef,context){const defWithOverride=applyProviderOverridesToView(viewDef);return callWithDebugContext(DebugAction.create,createEmbeddedView,null,[parentView,anchorDef,defWithOverride,context])}function debugCreateComponentView(parentView,nodeDef,viewDef,hostElement){return viewDef=viewDefOverrides.get(nodeDef.element.componentProvider.provider.token)||applyProviderOverridesToView(viewDef),callWithDebugContext(DebugAction.create,createComponentView,null,[parentView,nodeDef,viewDef,hostElement])}function debugCreateNgModuleRef(moduleType,parentInjector,bootstrapComponents,def){return createNgModuleRef(moduleType,parentInjector,bootstrapComponents,function(def){const{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}=function(def){let hasOverrides=!1,hasDeprecatedOverrides=!1;return 0===providerOverrides.size?{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}:(def.providers.forEach(node=>{const override=providerOverrides.get(node.token);3840&node.flags&&override&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)}),def.modules.forEach(module=>{providerOverridesWithScope.forEach((override,token)=>{getInjectableDef(token).providedIn===module&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)})}),{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides})}(def);return hasOverrides?(function(def){for(let i=0;i<def.providers.length;i++){const provider=def.providers[i];hasDeprecatedOverrides&&(provider.flags|=4096);const override=providerOverrides.get(provider.token);override&&(provider.flags=-3841&provider.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}if(providerOverridesWithScope.size>0){let moduleSet=new Set(def.modules);providerOverridesWithScope.forEach((override,token)=>{if(moduleSet.has(getInjectableDef(token).providedIn)){let provider={token:token,flags:override.flags|(hasDeprecatedOverrides?4096:0),deps:splitDepsDsl(override.deps),value:override.value,index:def.providers.length};def.providers.push(provider),def.providersByKey[tokenKey(token)]=provider}})}}(def=def.factory(()=>NOOP)),def):def}(def))}const providerOverrides=new Map,providerOverridesWithScope=new Map,viewDefOverrides=new Map;function debugOverrideProvider(override){let injectableDef;providerOverrides.set(override.token,override),\"function\"==typeof override.token&&(injectableDef=getInjectableDef(override.token))&&\"function\"==typeof injectableDef.providedIn&&providerOverridesWithScope.set(override.token,override)}function debugOverrideComponentView(comp,compFactory){const hostViewDef=resolveDefinition(compFactory.viewDefFactory),compViewDef=resolveDefinition(hostViewDef.nodes[0].element.componentView);viewDefOverrides.set(comp,compViewDef)}function debugClearOverrides(){providerOverrides.clear(),providerOverridesWithScope.clear(),viewDefOverrides.clear()}function applyProviderOverridesToView(def){if(0===providerOverrides.size)return def;const elementIndicesWithOverwrittenProviders=function(def){const elIndicesWithOverwrittenProviders=[];let lastElementDef=null;for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];1&nodeDef.flags&&(lastElementDef=nodeDef),lastElementDef&&3840&nodeDef.flags&&providerOverrides.has(nodeDef.provider.token)&&(elIndicesWithOverwrittenProviders.push(lastElementDef.nodeIndex),lastElementDef=null)}return elIndicesWithOverwrittenProviders}(def);if(0===elementIndicesWithOverwrittenProviders.length)return def;def=def.factory(()=>NOOP);for(let i=0;i<elementIndicesWithOverwrittenProviders.length;i++)applyProviderOverridesToElement(def,elementIndicesWithOverwrittenProviders[i]);return def;function applyProviderOverridesToElement(viewDef,elIndex){for(let i=elIndex+1;i<viewDef.nodes.length;i++){const nodeDef=viewDef.nodes[i];if(1&nodeDef.flags)return;if(3840&nodeDef.flags){const provider=nodeDef.provider,override=providerOverrides.get(provider.token);override&&(nodeDef.flags=-3841&nodeDef.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}}}}function prodCheckAndUpdateNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const nodeDef=view.def.nodes[checkIndex];return checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function prodCheckNoChangesNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const nodeDef=view.def.nodes[checkIndex];return checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function debugCheckAndUpdateView(view){return callWithDebugContext(DebugAction.detectChanges,checkAndUpdateView,null,[view])}function debugCheckNoChangesView(view){return callWithDebugContext(DebugAction.checkNoChanges,checkNoChangesView,null,[view])}function debugDestroyView(view){return callWithDebugContext(DebugAction.destroy,destroyView,null,[view])}const DebugAction=function(){var DebugAction={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return DebugAction[DebugAction.create]=\"create\",DebugAction[DebugAction.detectChanges]=\"detectChanges\",DebugAction[DebugAction.checkNoChanges]=\"checkNoChanges\",DebugAction[DebugAction.destroy]=\"destroy\",DebugAction[DebugAction.handleEvent]=\"handleEvent\",DebugAction}();let _currentAction,_currentView,_currentNodeIndex;function debugSetCurrentNode(view,nodeIndex){_currentView=view,_currentNodeIndex=nodeIndex}function debugHandleEvent(view,nodeIndex,eventName,event){return debugSetCurrentNode(view,nodeIndex),callWithDebugContext(DebugAction.handleEvent,view.def.handleEvent,null,[view,nodeIndex,eventName,event])}function debugUpdateDirectives(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextDirectiveWithBinding(view,0)),view.def.updateDirectives(function(view,nodeIndex,argStyle,...values){const nodeDef=view.def.nodes[nodeIndex];return 0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values),16384&nodeDef.flags&&debugSetCurrentNode(view,nextDirectiveWithBinding(view,nodeIndex)),224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0},view)}function debugUpdateRenderer(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextRenderNodeWithBinding(view,0)),view.def.updateRenderer(function(view,nodeIndex,argStyle,...values){const nodeDef=view.def.nodes[nodeIndex];return 0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values),3&nodeDef.flags&&debugSetCurrentNode(view,nextRenderNodeWithBinding(view,nodeIndex)),224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0},view)}function debugCheckAndUpdateNode(view,nodeDef,argStyle,givenValues){if(checkAndUpdateNode(view,nodeDef,argStyle,...givenValues)){const values=1===argStyle?givenValues[0]:givenValues;if(16384&nodeDef.flags){const bindingValues={};for(let i=0;i<nodeDef.bindings.length;i++){const binding=nodeDef.bindings[i],value=values[i];8&binding.flags&&(bindingValues[(name=binding.nonMinifiedName,input=void 0,input=name.replace(/[$@]/g,\"_\"),`ng-reflect-${name=input.replace(CAMEL_CASE_REGEXP,(...m)=>\"-\"+m[1].toLowerCase())}`)]=normalizeDebugBindingValue(value))}const elDef=nodeDef.parent,el=asElementData(view,elDef.nodeIndex).renderElement;if(elDef.element.name)for(let attr in bindingValues){const value=bindingValues[attr];null!=value?view.renderer.setAttribute(el,attr,value):view.renderer.removeAttribute(el,attr)}else view.renderer.setValue(el,`bindings=${JSON.stringify(bindingValues,null,2)}`)}}var name,input}function debugCheckNoChangesNode(view,nodeDef,argStyle,values){checkNoChangesNode(view,nodeDef,argStyle,...values)}function nextDirectiveWithBinding(view,nodeIndex){for(let i=nodeIndex;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];if(16384&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}function nextRenderNodeWithBinding(view,nodeIndex){for(let i=nodeIndex;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];if(3&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}class DebugContext_{constructor(view,nodeIndex){this.view=view,this.nodeIndex=nodeIndex,null==nodeIndex&&(this.nodeIndex=nodeIndex=0),this.nodeDef=view.def.nodes[nodeIndex];let elDef=this.nodeDef,elView=view;for(;elDef&&0==(1&elDef.flags);)elDef=elDef.parent;if(!elDef)for(;!elDef&&elView;)elDef=viewParentEl(elView),elView=elView.parent;this.elDef=elDef,this.elView=elView}get elOrCompView(){return asElementData(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return createInjector$1(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const tokens=[];if(this.elDef)for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const childDef=this.elView.def.nodes[i];20224&childDef.flags&&tokens.push(childDef.provider.token),i+=childDef.childCount}return tokens}get references(){const references={};if(this.elDef){collectReferences(this.elView,this.elDef,references);for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const childDef=this.elView.def.nodes[i];20224&childDef.flags&&collectReferences(this.elView,childDef,references),i+=childDef.childCount}}return references}get componentRenderElement(){const elData=function(view){for(;view&&!isComponentView(view);)view=view.parent;return view.parent?asElementData(view.parent,viewParentEl(view).nodeIndex):null}(this.elOrCompView);return elData?elData.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?renderNode(this.view,this.nodeDef):renderNode(this.elView,this.elDef)}logError(console,...values){let logViewDef,logNodeIndex;2&this.nodeDef.flags?(logViewDef=this.view.def,logNodeIndex=this.nodeDef.nodeIndex):(logViewDef=this.elView.def,logNodeIndex=this.elDef.nodeIndex);const renderNodeIndex=function(viewDef,nodeIndex){let renderNodeIndex=-1;for(let i=0;i<=nodeIndex;i++)3&viewDef.nodes[i].flags&&renderNodeIndex++;return renderNodeIndex}(logViewDef,logNodeIndex);let currRenderNodeIndex=-1;logViewDef.factory(()=>++currRenderNodeIndex===renderNodeIndex?console.error.bind(console,...values):NOOP),currRenderNodeIndex<renderNodeIndex&&(console.error(\"Illegal state: the ViewDefinitionFactory did not call the logger!\"),console.error(...values))}}function collectReferences(view,nodeDef,references){for(let refName in nodeDef.references)references[refName]=getQueryValue(view,nodeDef,nodeDef.references[refName])}function callWithDebugContext(action,fn,self,args){const oldAction=_currentAction,oldView=_currentView,oldNodeIndex=_currentNodeIndex;try{_currentAction=action;const result=fn.apply(self,args);return _currentView=oldView,_currentNodeIndex=oldNodeIndex,_currentAction=oldAction,result}catch(e){if(getDebugContext(e)||!_currentView)throw e;throw function(err,context){return err instanceof Error||(err=new Error(err.toString())),_addDebugContext(err,context),err}(e,getCurrentDebugContext())}}function getCurrentDebugContext(){return _currentView?new DebugContext_(_currentView,_currentNodeIndex):null}class DebugRendererFactory2{constructor(delegate){this.delegate=delegate}createRenderer(element,renderData){return new DebugRenderer2(this.delegate.createRenderer(element,renderData))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class DebugRenderer2{constructor(delegate){this.delegate=delegate,this.debugContextFactory=getCurrentDebugContext,this.data=this.delegate.data}createDebugContext(nativeElement){return this.debugContextFactory(nativeElement)}destroyNode(node){const debugNode=getDebugNode(node);_nativeNodeToDebugNode.delete(debugNode.nativeNode),debugNode instanceof DebugNode__PRE_R3__&&(debugNode.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(node)}destroy(){this.delegate.destroy()}createElement(name,namespace){const el=this.delegate.createElement(name,namespace),debugCtx=this.createDebugContext(el);if(debugCtx){const debugEl=new DebugElement__PRE_R3__(el,null,debugCtx);debugEl.name=name,indexDebugNode(debugEl)}return el}createComment(value){const comment=this.delegate.createComment(value),debugCtx=this.createDebugContext(comment);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(comment,null,debugCtx)),comment}createText(value){const text=this.delegate.createText(value),debugCtx=this.createDebugContext(text);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(text,null,debugCtx)),text}appendChild(parent,newChild){const debugEl=getDebugNode(parent),debugChildEl=getDebugNode(newChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.addChild(debugChildEl),this.delegate.appendChild(parent,newChild)}insertBefore(parent,newChild,refChild){const debugEl=getDebugNode(parent),debugChildEl=getDebugNode(newChild),debugRefEl=getDebugNode(refChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.insertBefore(debugRefEl,debugChildEl),this.delegate.insertBefore(parent,newChild,refChild)}removeChild(parent,oldChild){const debugEl=getDebugNode(parent),debugChildEl=getDebugNode(oldChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.removeChild(debugChildEl),this.delegate.removeChild(parent,oldChild)}selectRootElement(selectorOrNode,preserveContent){const el=this.delegate.selectRootElement(selectorOrNode,preserveContent),debugCtx=getCurrentDebugContext();return debugCtx&&indexDebugNode(new DebugElement__PRE_R3__(el,null,debugCtx)),el}setAttribute(el,name,value,namespace){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.attributes[namespace?namespace+\":\"+name:name]=value),this.delegate.setAttribute(el,name,value,namespace)}removeAttribute(el,name,namespace){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.attributes[namespace?namespace+\":\"+name:name]=null),this.delegate.removeAttribute(el,name,namespace)}addClass(el,name){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!0),this.delegate.addClass(el,name)}removeClass(el,name){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!1),this.delegate.removeClass(el,name)}setStyle(el,style,value,flags){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=value),this.delegate.setStyle(el,style,value,flags)}removeStyle(el,style,flags){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=null),this.delegate.removeStyle(el,style,flags)}setProperty(el,name,value){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.properties[name]=value),this.delegate.setProperty(el,name,value)}listen(target,eventName,callback){if(\"string\"!=typeof target){const debugEl=getDebugNode(target);debugEl&&debugEl.listeners.push(new DebugEventListener(eventName,callback))}return this.delegate.listen(target,eventName,callback)}parentNode(node){return this.delegate.parentNode(node)}nextSibling(node){return this.delegate.nextSibling(node)}setValue(node,value){return this.delegate.setValue(node,value)}}function createNgModuleFactory(ngModuleType,bootstrapComponents,defFactory){return new NgModuleFactory_(ngModuleType,bootstrapComponents,defFactory)}class NgModuleFactory_ extends NgModuleFactory{constructor(moduleType,_bootstrapComponents,_ngModuleDefFactory){super(),this.moduleType=moduleType,this._bootstrapComponents=_bootstrapComponents,this._ngModuleDefFactory=_ngModuleDefFactory}create(parentInjector){!function(){if(initialized)return;initialized=!0;const services=isDevMode()?{setCurrentNode:debugSetCurrentNode,createRootView:debugCreateRootView,createEmbeddedView:debugCreateEmbeddedView,createComponentView:debugCreateComponentView,createNgModuleRef:debugCreateNgModuleRef,overrideProvider:debugOverrideProvider,overrideComponentView:debugOverrideComponentView,clearOverrides:debugClearOverrides,checkAndUpdateView:debugCheckAndUpdateView,checkNoChangesView:debugCheckNoChangesView,destroyView:debugDestroyView,createDebugContext:(view,nodeIndex)=>new DebugContext_(view,nodeIndex),handleEvent:debugHandleEvent,updateDirectives:debugUpdateDirectives,updateRenderer:debugUpdateRenderer}:{setCurrentNode:()=>{},createRootView:createProdRootView,createEmbeddedView:createEmbeddedView,createComponentView:createComponentView,createNgModuleRef:createNgModuleRef,overrideProvider:NOOP,overrideComponentView:NOOP,clearOverrides:NOOP,checkAndUpdateView:checkAndUpdateView,checkNoChangesView:checkNoChangesView,destroyView:destroyView,createDebugContext:(view,nodeIndex)=>new DebugContext_(view,nodeIndex),handleEvent:(view,nodeIndex,eventName,event)=>view.def.handleEvent(view,nodeIndex,eventName,event),updateDirectives:(view,checkType)=>view.def.updateDirectives(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view),updateRenderer:(view,checkType)=>view.def.updateRenderer(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view)};Services.setCurrentNode=services.setCurrentNode,Services.createRootView=services.createRootView,Services.createEmbeddedView=services.createEmbeddedView,Services.createComponentView=services.createComponentView,Services.createNgModuleRef=services.createNgModuleRef,Services.overrideProvider=services.overrideProvider,Services.overrideComponentView=services.overrideComponentView,Services.clearOverrides=services.clearOverrides,Services.checkAndUpdateView=services.checkAndUpdateView,Services.checkNoChangesView=services.checkNoChangesView,Services.destroyView=services.destroyView,Services.resolveDep=resolveDep,Services.createDebugContext=services.createDebugContext,Services.handleEvent=services.handleEvent,Services.updateDirectives=services.updateDirectives,Services.updateRenderer=services.updateRenderer,Services.dirtyParentQueries=dirtyParentQueries}();const def=function(def){const providers=Array.from(def.providers),modules=Array.from(def.modules),providersByKey={};for(const key in def.providersByKey)providersByKey[key]=def.providersByKey[key];return{factory:def.factory,isRoot:def.isRoot,providers:providers,modules:modules,providersByKey:providersByKey}}(resolveDefinition(this._ngModuleDefFactory));return Services.createNgModuleRef(this.moduleType,parentInjector||Injector.NULL,this._bootstrapComponents,def)}}class AppModule{}var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __values(o){var m=\"function\"==typeof Symbol&&o[Symbol.iterator],i=0;return m?m.call(o):{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}}}function __read(o,n){var m=\"function\"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}var Percent=function(){function Percent(percent){this._value=percent}return Object.defineProperty(Percent.prototype,\"value\",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(Percent.prototype,\"percent\",{get:function(){return this._value},enumerable:!0,configurable:!0}),Percent.prototype.toString=function(){return this._value+\"%\"},Percent}();function Percent_percent(value){return new Percent(value)}function Type_isNaN(value){return Number(value)!==value}function Type_getType(value){return{}.toString.call(value)}function castString(value){if(\"string\"==typeof value)return value;if(\"number\"==typeof value)return\"\"+value;throw new Error(\"Expected a string or number but got \"+Type_getType(value))}function toBoolean(value){return!!value}function toNumber(value){if(hasValue(value)&&!isNumber(value)){var converted=Number(value);return Type_isNaN(converted)&&isString(value)&&\"\"!=value?toNumber(value.replace(/[^0-9.\\-]+/g,\"\")):converted}return value}function toText(value){if(hasValue(value)&&!isString(value)){if(isNumber(value))return castString(value);if(Type_isObject(value))return value.toString()}return value}function hasValue(a){return null!=a}function getValue(a){if(hasValue(a))return a;throw new Error(\"Value doesn't exist\")}function getValueDefault(a,defaultValue){return hasValue(a)?a:defaultValue}function isDate(value){return\"[object Date]\"===Type_getType(value)}function isString(value){return\"string\"==typeof value}function isNumber(value){return\"number\"==typeof value&&Number(value)==value}function Type_isObject(value){return\"object\"==typeof value}function Type_isArray(value){return Array.isArray(value)}var PI=Math.PI,HALFPI=PI/2,RADIANS=PI/180,DEGREES=180/PI;function toNumberRange(value,min,max){return hasValue(value)?fitToRange(value=toNumber(value),min,max):value}function Math_round(value,precision,floor){if(!isNumber(precision)||precision<=0){var rounded=Math.round(value);return floor&&rounded-value==.5&&rounded--,rounded}var d=Math.pow(10,precision);return Math.round(value*d)/d}function ceil(value,precision){if(!isNumber(precision)||precision<=0)return Math.ceil(value);var d=Math.pow(10,precision);return Math.ceil(value*d)/d}function fitToRange(value,minValue,maxValue){if(isNumber(minValue)){if(isNumber(maxValue)&&maxValue<minValue){var temp=maxValue;maxValue=minValue,minValue=temp}value<minValue&&(value=minValue)}return isNumber(maxValue)&&value>maxValue&&(value=maxValue),value}function Math_sin(value){return Math_round(Math.sin(RADIANS*value),10)}function tan(value){return Math_round(Math.tan(RADIANS*value),10)}function Math_cos(value){return Math_round(Math.cos(RADIANS*value),10)}function Math_max(left,right){return isNumber(left)?isNumber(right)&&right>left?right:left:isNumber(right)?right:null}function Math_min(left,right){return isNumber(left)?isNumber(right)&&right<left?right:left:isNumber(right)?right:null}function intersect(range1,range2){var start1=getValue(range1.start),start2=getValue(range2.start),end1=getValue(range1.end),end2=getValue(range2.end);return Math.max(start1,start2)<=Math.min(end1,end2)}function invertRange(range){var start=getValue(range.start);return{start:1-getValue(range.end),end:1-start}}function getDistance(point1,point2){return point1?(point2||(point2={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(point1.x-point2.x),2)+Math.pow(Math.abs(point1.y-point2.y),2))):0}function getScale(point1,startPoint1,point2,startPoint2){var initialDistance=getDistance(startPoint1,startPoint2),currentDistance=getDistance(point1,point2);return Math.abs(currentDistance/initialDistance)}function getMidPoint(point1,point2,position){return isNumber(position)||(position=.5),{x:point1.x+(point2.x-point1.x)*position,y:point1.y+(point2.y-point1.y)*position}}function getAngle(point1,point2){point2||(point2={x:2*point1.x,y:2*point1.y});var angle=Math.atan2(point2.y-point1.y,point2.x-point1.x)*DEGREES;return angle<0&&(angle+=360),normalizeAngle(angle)}function getBBox(points){if(points){var length_1=points.length;if(0!==length_1){for(var top_1,left=void 0,right=void 0,bottom=void 0,i=0;i<length_1;i++){var point=points[i];(!isNumber(right)||point.x>right)&&(right=point.x),(!isNumber(left)||point.x<left)&&(left=point.x),(!isNumber(top_1)||point.y<top_1)&&(top_1=point.y),(!isNumber(bottom)||point.y>bottom)&&(bottom=point.y)}return{x:left,y:top_1,width:right-left,height:bottom-top_1}}}return{x:0,y:0,width:0,height:0}}function getCommonRectangle(rectangles){var length=rectangles.length;if(0!==length){for(var minX=void 0,minY=void 0,maxX=void 0,maxY=void 0,i=0;i<length;i++){var rectangle=rectangles[i];minX=Math_min(rectangle.x,minX),minY=Math_min(rectangle.y,minY),maxX=Math_max(rectangle.x+rectangle.width,maxX),maxY=Math_max(rectangle.y+rectangle.height,maxY)}return{x:minX,y:minY,width:maxX-minX,height:maxY-minY}}}function getPointOnQuadraticCurve(pointA,pointB,controlPoint,position){return{x:(1-position)*(1-position)*pointA.x+2*(1-position)*position*controlPoint.x+position*position*pointB.x,y:(1-position)*(1-position)*pointA.y+2*(1-position)*position*controlPoint.y+position*position*pointB.y}}function getPointOnCubicCurve(pointA,pointB,controlPointA,controlPointB,position){var point={x:0,y:0},mt1=1-position,mt2=mt1*mt1,mt3=mt2*mt1;return point.x=pointA.x*mt3+3*controlPointA.x*mt2*position+3*controlPointB.x*mt1*position*position+pointB.x*position*position*position,point.y=pointA.y*mt3+3*controlPointA.y*mt2*position+3*controlPointB.y*mt1*position*position+pointB.y*position*position*position,point}function getCubicControlPointA(p0,p1,p2,p3,tensionX,tensionY){return tensionX=adjustTension(tensionX),tensionY=adjustTension(tensionY),{x:(p1.x/tensionX-p0.x+p2.x)*tensionX,y:(p1.y/tensionY-p0.y+p2.y)*tensionY}}function getCubicControlPointB(p0,p1,p2,p3,tensionX,tensionY){return tensionX=adjustTension(tensionX),tensionY=adjustTension(tensionY),{x:(p1.x+p2.x/tensionX-p3.x)*tensionX,y:(p1.y+p2.y/tensionY-p3.y)*tensionY}}function adjustTension(tension){return 1-tension+1e-5}function normalizeAngle(value){return 360==value?360:value%360}function fitAngleToRange(value,startAngle,endAngle){if(startAngle>endAngle){var temp=startAngle;startAngle=endAngle,endAngle=temp}value=normalizeAngle(value);var count=(startAngle-normalizeAngle(startAngle))/360;return value<startAngle&&(value+=360*(count+1)),value>endAngle&&(value-360>startAngle?value-=360:value=value<startAngle+(endAngle-startAngle)/2+180?endAngle:startAngle),value<startAngle&&(value=value>startAngle+(endAngle-startAngle)/2-180?startAngle:endAngle),value}function getArcRect(startAngle,endAngle,radius){var minX=Number.MAX_VALUE,minY=Number.MAX_VALUE,maxX=-Number.MAX_VALUE,maxY=-Number.MAX_VALUE,bpoints=[];isNumber(radius)||(radius=1),bpoints.push(getArcPoint(radius,startAngle)),bpoints.push(getArcPoint(radius,endAngle));for(var fromAngle=Math.min(90*Math.floor(startAngle/90),90*Math.floor(endAngle/90)),toAngle=Math.max(90*Math.ceil(startAngle/90),90*Math.ceil(endAngle/90)),angle=fromAngle;angle<=toAngle;angle+=90)angle>=startAngle&&angle<=endAngle&&bpoints.push(getArcPoint(radius,angle));for(var i=0;i<bpoints.length;i++){var pt=bpoints[i];pt.x<minX&&(minX=pt.x),pt.y<minY&&(minY=pt.y),pt.x>maxX&&(maxX=pt.x),pt.y>maxY&&(maxY=pt.y)}return{x:minX,y:minY,width:maxX-minX,height:maxY-minY}}function getArcPoint(radius,arc){return{x:radius*Math_cos(arc),y:radius*Math_sin(arc)}}function isInRectangle(point,rectangle){return point.x>=rectangle.x&&point.x<=rectangle.x+rectangle.width&&point.y>rectangle.y&&point.y<rectangle.y+rectangle.height}function Array_indexOf(array,value){for(var length=array.length,i=0;i<length;++i)if(array[i]===value)return i;return-1}function Array_map(array,fn){for(var length=array.length,output=new Array(length),i=0;i<length;++i)output[i]=fn(array[i],i);return output}function each(array,fn){for(var length=array.length,i=0;i<length;++i)fn(array[i],i)}function Array_remove(array,element){var found=!1,index=array.indexOf(element);if(-1!==index){found=!0,array.splice(index,1);for(var length_1=array.length;index<length_1;)array[index]===element?(array.splice(index,1),--length_1):++index}return found}function move(array,element,toIndex){var index=Array_indexOf(array,element);-1!==index&&removeIndex(array,index),null==toIndex?array.push(element):insertIndex(array,toIndex,element)}function Array_add(array,element,index){isNumber(index)?0===index?array.unshift(element):array.splice(index,0,element):array.push(element)}function toArray(input){return Array.isArray(input)?input:[input]}function Array_copy(array){for(var length=array.length,output=new Array(length),i=0;i<length;++i)output[i]=array[i];return output}function insertIndex(array,index,value){array.splice(index,0,value)}function removeIndex(array,index){array.splice(index,1)}function getSortedIndex(array,ordering,value){for(var start=0,end=array.length,found=!1;start<end;){var pivot=start+end>>1,order=ordering(value,array[pivot]);order<0?end=pivot:0===order?(found=!0,start=pivot+1):start=pivot+1}return{found:found,index:found?start-1:start}}function findIndex(array,matches){for(var length=array.length,i=0;i<length;++i)if(matches(array[i],i))return i;return-1}var Disposer=function(){function Disposer(dispose){this._disposed=!1,this._dispose=dispose}return Disposer.prototype.isDisposed=function(){return this._disposed},Disposer.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},Disposer}(),Disposer_MultiDisposer=function(_super){function MultiDisposer(disposers){return _super.call(this,function(){each(disposers,function(x){x.dispose()})})||this}return __extends(MultiDisposer,_super),MultiDisposer}(Disposer),Disposer_MutableValueDisposer=function(_super){function MutableValueDisposer(){var _this=_super.call(this,function(){hasValue(_this._disposer)&&(_this._disposer.dispose(),_this._disposer=void 0)})||this;return _this}return __extends(MutableValueDisposer,_super),MutableValueDisposer.prototype.get=function(){return this._value},MutableValueDisposer.prototype.set=function(value,disposer){hasValue(this._disposer)&&this._disposer.dispose(),this._disposer=disposer,this._value=value},MutableValueDisposer.prototype.reset=function(){this.set(void 0,void 0)},MutableValueDisposer}(Disposer),Disposer_CounterDisposer=function(_super){function CounterDisposer(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._counter=0,_this}return __extends(CounterDisposer,_super),CounterDisposer.prototype.increment=function(){var _this=this;return++this._counter,new Disposer(function(){--_this._counter,0===_this._counter&&_this.dispose()})},CounterDisposer}(Disposer),pendingFrame=!1,nextQueue=[],readQueue=[],writeQueue=[],idleQueue=[],raf=\"function\"==typeof requestAnimationFrame?function(fn){requestAnimationFrame(fn)}:function(fn){setTimeout(fn,1e3/60)};function frameLoop(){for(var now=Date.now(),length=nextQueue.length,i=0;i<length;++i)nextQueue[i](now);for(function(array,index){for(var length=array.length,i=index;i<length;++i)array[i-index]=array[i];array.length=length-index}(nextQueue,length),i=0;i<readQueue.length;++i)readQueue[i](now);for(readQueue.length=0,i=0;i<writeQueue.length;++i)writeQueue[i](now);writeQueue.length=0,0===nextQueue.length&&0===readQueue.length?pendingFrame=!1:raf(frameLoop)}function pendFrame(){pendingFrame||(pendingFrame=!0,raf(frameLoop))}function writeFrame(fn){writeQueue.push(fn),pendFrame()}var EventDispatcher_EventDispatcher=function(){function EventDispatcher(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return EventDispatcher.prototype.isDisposed=function(){return this._disposed},EventDispatcher.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{each(a,function(x){x.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}},EventDispatcher.prototype.hasListeners=function(){return 0!==this._listeners.length},EventDispatcher.prototype.hasListenersByType=function(type){return function(array,test){for(var length=array.length,i=0;i<length;++i)if((null===(x=array[i]).type||x.type===type)&&!x.killed)return!0;var x;return!1}(this._listeners)},EventDispatcher.prototype.enable=function(){this._enabled=!0},EventDispatcher.prototype.disable=function(){this._enabled=!1},EventDispatcher.prototype.enableType=function(type){delete this._disabled[type]},EventDispatcher.prototype.disableType=function(type,amount){void 0===amount&&(amount=1/0),this._disabled[type]=amount},EventDispatcher.prototype._removeListener=function(listener){if(0===this._iterating){var index=this._listeners.indexOf(listener);if(-1===index)throw new Error(\"Invalid state: could not remove listener\");this._listeners.splice(index,1)}else this._killed.push(listener)},EventDispatcher.prototype._removeExistingListener=function(once,type,callback,context){if(this._disposed)throw new Error(\"EventDispatcher is disposed\");this._eachListener(function(info){info.once!==once||info.type!==type||null!=callback&&info.callback!==callback||info.context!==context||info.disposer.dispose()})},EventDispatcher.prototype.isEnabled=function(type){if(this._disposed)throw new Error(\"EventDispatcher is disposed\");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(type)&&null==this._disabled[type]},EventDispatcher.prototype.has=function(type,callback,context){return-1!==findIndex(this._listeners,function(info){return!0!==info.once&&info.type===type&&(null==callback||info.callback===callback)&&info.context===context})},EventDispatcher.prototype._shouldDispatch=function(type){if(this._disposed)throw new Error(\"EventDispatcher is disposed\");var count=this._disabled[type];return isNumber(count)?(count<=1?delete this._disabled[type]:--this._disabled[type],!1):this._enabled},EventDispatcher.prototype._eachListener=function(fn){var _this=this;++this._iterating;try{each(this._listeners,fn)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(each(this._killed,function(killed){_this._removeListener(killed)}),this._killed.length=0)}},EventDispatcher.prototype.dispatchImmediately=function(type,event){this._shouldDispatch(type)&&this._eachListener(function(listener){listener.killed||null!==listener.type&&listener.type!==type||listener.dispatch(type,event)})},EventDispatcher.prototype.dispatch=function(type,event){this._shouldDispatch(type)&&this._eachListener(function(listener){listener.killed||null!==listener.type&&listener.type!==type||idleQueue.push(function(){listener.killed||listener.dispatch(type,event)})})},EventDispatcher.prototype._on=function(once,type,callback,context,shouldClone,dispatch){var _this=this;if(this._disposed)throw new Error(\"EventDispatcher is disposed\");this._removeExistingListener(once,type,callback,context);var info={type:type,callback:callback,context:context,shouldClone:shouldClone,dispatch:dispatch,killed:!1,once:once,disposer:new Disposer(function(){info.killed=!0,_this._removeListener(info)})};return this._listeners.push(info),info},EventDispatcher.prototype.onAll=function(callback,context,shouldClone){return void 0===shouldClone&&(shouldClone=!0),this._on(!1,null,callback,context,shouldClone,function(type,event){return callback.call(context,type,event)}).disposer},EventDispatcher.prototype.on=function(type,callback,context,shouldClone){return void 0===shouldClone&&(shouldClone=!0),this._on(!1,type,callback,context,shouldClone,function(type,event){return callback.call(context,event)}).disposer},EventDispatcher.prototype.once=function(type,callback,context,shouldClone){void 0===shouldClone&&(shouldClone=!0);var x=this._on(!0,type,callback,context,shouldClone,function(type,event){x.disposer.dispose(),callback.call(context,event)});return x.disposer},EventDispatcher.prototype.off=function(type,callback,context){this._removeExistingListener(!1,type,callback,context)},EventDispatcher.prototype.copyFrom=function(source){var _this=this;if(this._disposed)throw new Error(\"EventDispatcher is disposed\");if(source===this)throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");each(source._listeners,function(x){!x.killed&&x.shouldClone&&(null===x.type?_this.onAll(x.callback,x.context):x.once?_this.once(x.type,x.callback,x.context):_this.on(x.type,x.callback,x.context))})},EventDispatcher}(),EventDispatcher_TargetedEventDispatcher=function(_super){function TargetedEventDispatcher(target){var _this=_super.call(this)||this;return _this.target=target,_this}return __extends(TargetedEventDispatcher,_super),TargetedEventDispatcher.prototype.copyFrom=function(source){var _this=this;if(this._disposed)throw new Error(\"EventDispatcher is disposed\");if(source===this)throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");each(source._listeners,function(x){x.context!==source.target&&!x.killed&&x.shouldClone&&(null===x.type?_this.onAll(x.callback,x.context):x.once?_this.once(x.type,x.callback,x.context):_this.on(x.type,x.callback,x.context))})},TargetedEventDispatcher}(EventDispatcher_EventDispatcher);function Object_keys(object){var output=[];for(var key in object)hasKey(object,key)&&output.push(key);return output}function hasKey(object,key){return{}.hasOwnProperty.call(object,key)}function Object_eachContinue(object,fn){for(var key in object)if(hasKey(object,key)&&!fn(key,object[key]))break}function Object_each(object,fn){Object_eachContinue(object,function(key,value){return fn(key,value),!0})}function Object_merge(object1,object2){return Object.assign({},object1,object2)}function copyProperties(source,target,keys){each(keys,function(key){hasValue(source[key])&&(target[key]=source[key])})}function forceCopyProperties(source,target,keys){each(keys,function(key){target[key]=source[key]})}function copyAllProperties(from,to){copyProperties(from,to,Object_keys(from))}function Iterator_fromArray(array){return function(push){for(var length=array.length,i=0;i<length&&push(array[i]);++i);}}function Iterator_toArray(iter){var output=[];return iter(function(value){return output.push(value),!0}),output}function Iterator_eachContinue(iter,fn){iter(fn)}function Iterator_each(iter,fn){iter(function(value){return fn(value),!0})}function Iterator_sort(iter,fn){return Iterator_fromArray(Iterator_toArray(iter).sort(fn))}function Iterator_map(iter,fn){return function(push){return iter(function(value){return push(fn(value))})}}function indexed(iter){return function(push){var index=0;iter(function(value){return push([index++,value])})}}function contains(iter,matches){var output=!1;return iter(function(value){return!matches(value)||(output=!0,!1)}),output}var Iterator_ListIterator=function(){function ListIterator(list,create){this.createNewItems=!1,this.list=list,this._create=create,this.reset()}return ListIterator.prototype.reset=function(){this._listCopy=Iterator_toArray(this.list.iterator())},ListIterator.prototype.clear=function(){this._listCopy.length=0},ListIterator.prototype.getFirst=function(){return this.returnItem(0)},ListIterator.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},ListIterator.prototype.find=function(fn){var index=findIndex(this._listCopy,fn);if(-1!==index){var item=this._listCopy[index];return Array_remove(this._listCopy,item),item}return this.getLast()},ListIterator.prototype.removeItem=function(item){return Array_remove(this._listCopy,item)},ListIterator.prototype.returnItem=function(index){if(index>=0&&index<this._listCopy.length){var item=this._listCopy[index];return Array_remove(this._listCopy,item),item}if(this.createNewItems)return this._create()},ListIterator.prototype.iterator=function(){return Iterator_fromArray(this._listCopy)},ListIterator}();function order(a,b){return a===b?0:a<b?-1:1}function repeat(string,amount){return new Array(amount+1).join(string)}var Dictionary_DictionaryDisposer=function(_super){function DictionaryDisposer(dict){var disposer=dict.events.on(\"removed\",function(x){x.oldValue.dispose()},void 0,!1);return _super.call(this,function(){disposer.dispose(),Iterator_each(dict.iterator(),function(a){a[1].dispose()})})||this}return __extends(DictionaryDisposer,_super),DictionaryDisposer}(Disposer),Dictionary_Dictionary=function(){function Dictionary(){this.events=new EventDispatcher_EventDispatcher,this._dictionary={}}return Dictionary.prototype.hasKey=function(key){return hasKey(this._dictionary,key)},Dictionary.prototype.getKey=function(key){return this._dictionary[key]},Dictionary.prototype.insertKey=function(key,value){if(hasKey(this._dictionary,key))throw new Error(\"Key \"+key+\" already exists in dictionary\");this._dictionary[key]=value,this.events.isEnabled(\"insertKey\")&&this.events.dispatchImmediately(\"insertKey\",{type:\"insertKey\",target:this,key:key,newValue:value})},Dictionary.prototype.setKey=function(key,value){if(hasKey(this._dictionary,key)){var oldValue=this._dictionary[key];oldValue!==value&&(this._dictionary[key]=value,this.events.isEnabled(\"setKey\")&&this.events.dispatchImmediately(\"setKey\",{type:\"setKey\",target:this,key:key,oldValue:oldValue,newValue:value}),this.events.isEnabled(\"removed\")&&this.events.dispatchImmediately(\"removed\",{type:\"removed\",target:this,oldValue:oldValue}))}else this._dictionary[key]=value,this.events.isEnabled(\"insertKey\")&&this.events.dispatchImmediately(\"insertKey\",{type:\"insertKey\",target:this,key:key,newValue:value})},Dictionary.prototype.updateKey=function(key,fn){if(!hasKey(this._dictionary,key))throw new Error(\"Key \"+key+\" doesn't exist in dictionary\");var oldValue=this._dictionary[key],newValue=fn(oldValue);oldValue!==newValue&&(this._dictionary[key]=newValue,this.events.isEnabled(\"setKey\")&&this.events.dispatchImmediately(\"setKey\",{type:\"setKey\",target:this,key:key,oldValue:oldValue,newValue:newValue}),this.events.isEnabled(\"removed\")&&this.events.dispatchImmediately(\"removed\",{type:\"removed\",target:this,oldValue:oldValue}))},Dictionary.prototype.removeKey=function(key){if(hasKey(this._dictionary,key)){var oldValue=this._dictionary[key];delete this._dictionary[key],this.events.isEnabled(\"removeKey\")&&this.events.dispatchImmediately(\"removeKey\",{type:\"removeKey\",target:this,key:key,oldValue:oldValue}),this.events.isEnabled(\"removed\")&&this.events.dispatchImmediately(\"removed\",{type:\"removed\",target:this,oldValue:oldValue})}},Dictionary.prototype.insertKeyIfEmpty=function(key,ifEmpty){return this.hasKey(key)||this.insertKey(key,ifEmpty()),this.getKey(key)},Dictionary.prototype.clear=function(){var _this=this;this.events.isEnabled(\"removed\")&&Object_each(this._dictionary,function(key,value){_this.events.dispatchImmediately(\"removed\",{type:\"removed\",target:_this,oldValue:value})}),this._dictionary={},this.events.isEnabled(\"cleared\")&&this.events.dispatchImmediately(\"cleared\",{type:\"cleared\",target:this})},Dictionary.prototype.copyFrom=function(source){var _this=this;Iterator_each(source.iterator(),function(a){_this.setKey(a[0],a[1])})},Dictionary.prototype.iterator=function(){return object=this._dictionary,function(push){for(var key in object)if(hasKey(object,key)&&!push([key,object[key]]))break};var object},Dictionary.prototype[Symbol.iterator]=function(){var _a,_b,_i,key;return __generator(this,function(_c){switch(_c.label){case 0:for(_b in _a=[],this._dictionary)_a.push(_b);_i=0,_c.label=1;case 1:return _i<_a.length?hasKey(this._dictionary,key=_a[_i])?[4,[key,this._dictionary[key]]]:[3,3]:[3,4];case 2:_c.sent(),_c.label=3;case 3:return _i++,[3,1];case 4:return[2]}})},Dictionary.prototype.each=function(f){Iterator_each(this.iterator(),function(_a){var _b=__read(_a,2);return f(_b[0],_b[1])})},Dictionary.prototype.sortedIterator=function(){return Iterator_sort(this.iterator(),function(x,y){return order(x[0],y[0])})},Dictionary}(),Dictionary_DictionaryTemplate=function(_super){function DictionaryTemplate(t){var _this=_super.call(this)||this;return _this.template=t,_this}return __extends(DictionaryTemplate,_super),Object.defineProperty(DictionaryTemplate.prototype,\"template\",{get:function(){return this._template},set:function(v){v.isTemplate=!0,this._template=v},enumerable:!0,configurable:!0}),DictionaryTemplate.prototype.copyFrom=function(source){var _this=this;Iterator_each(source.iterator(),function(a){_this.setKey(a[0],a[1].clone())})},DictionaryTemplate.prototype.create=function(key){var _this=this;return this.insertKeyIfEmpty(key,function(){return _this.template.clone()})},DictionaryTemplate}(Dictionary_Dictionary),Cache_cache=new(function(){function Cache(){this._storage=new Dictionary_Dictionary,this.ttl=1e3}return Cache.prototype.set=function(owner,key,value,ttl){var ownerStorage=this._storage.insertKeyIfEmpty(owner,function(){return new Dictionary_Dictionary}),item={touched:(new Date).getTime(),ttl:isNumber(ttl)?ttl:this.ttl,value:value};ownerStorage.setKey(key,item)},Cache.prototype.get=function(owner,key,value){if(void 0===value&&(value=void 0),this._storage.hasKey(owner)){var ownerStorage=this._storage.getKey(owner);if(ownerStorage.hasKey(key)){var cacheItem=ownerStorage.getKey(key);return cacheItem.ttl&&cacheItem.touched+cacheItem.ttl<(new Date).getTime()&&(cacheItem.expired=!0),cacheItem.expired?(ownerStorage.removeKey(key),value):cacheItem.value}return value}return value},Cache.prototype.clear=function(owner){owner?this._storage.removeKey(owner):this._storage.clear()},Cache}()),Registry_registry=new(function(){function Registry(){this.events=new EventDispatcher_EventDispatcher,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[]}return Registry.prototype.getUniqueId=function(){var uid=this._uidCount;return this._uidCount+=1,\"id-\"+uid},Object.defineProperty(Registry.prototype,\"map\",{get:function(){return this._map||(this._map=new Dictionary_Dictionary),this._map},enumerable:!0,configurable:!0}),Registry.prototype.setCache=function(key,value,ttl){Cache_cache.set(this.uid,key,value,ttl)},Registry.prototype.getCache=function(key,value){return void 0===value&&(value=void 0),Cache_cache.get(this.uid,key,value)},Registry.prototype.dispatch=function(eventType,data){this.events.isEnabled(eventType)&&(data?(data.type=eventType,data.target=data.target||this,this.events.dispatch(eventType,{type:eventType,target:this})):this.events.dispatch(eventType,{type:eventType,target:this}))},Registry.prototype.dispatchImmediately=function(eventType,data){this.events.isEnabled(eventType)&&(data?(data.type=eventType,data.target=data.target||this,this.events.dispatchImmediately(eventType,data)):this.events.dispatchImmediately(eventType,{type:eventType,target:this}))},Registry.prototype.getPlaceholder=function(key){return hasValue(this._placeholders[key])?this._placeholders[key]:(this._placeholders[key]=\"__amcharts_\"+key+\"_\"+function(chars){for(var res=\"\",choice=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",i=0;i<8;i++)res+=choice.charAt(Math.floor(Math.random()*choice.length));return res}()+\"__\",this._placeholders[key])},Registry.prototype.addToInvalidComponents=function(component){move(component.baseId?this.invalidDatas[component.baseId]:this.invalidDatas.noBase,component)},Registry.prototype.removeFromInvalidComponents=function(component){component.baseId&&Array_remove(this.invalidDatas[component.baseId],component),Array_remove(this.invalidDatas.noBase,component)},Registry.prototype.addToInvalidSprites=function(sprite){Array_add(sprite.baseId?this.invalidSprites[sprite.baseId]:this.invalidSprites.noBase,sprite)},Registry.prototype.removeFromInvalidSprites=function(sprite){sprite.baseId&&Array_remove(this.invalidSprites[sprite.baseId],sprite),Array_remove(this.invalidSprites.noBase,sprite)},Registry.prototype.addToInvalidPositions=function(sprite){Array_add(sprite.baseId?this.invalidPositions[sprite.baseId]:this.invalidPositions.noBase,sprite)},Registry.prototype.removeFromInvalidPositions=function(sprite){sprite.baseId&&Array_remove(this.invalidPositions[sprite.baseId],sprite),Array_remove(this.invalidPositions.noBase,sprite)},Registry.prototype.addToInvalidLayouts=function(sprite){Array_add(sprite.baseId?this.invalidLayouts[sprite.baseId]:this.invalidLayouts.noBase,sprite)},Registry.prototype.removeFromInvalidLayouts=function(sprite){sprite.baseId&&Array_remove(this.invalidLayouts[sprite.baseId],sprite),Array_remove(this.invalidLayouts.noBase,sprite)},Registry}()),Options_options={verbose:!0,commercialLicense:!1,classNamePrefix:\"amcharts-\",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,licenses:[]},system=new(function(){function System(){this._isPaused=!1,this.animations=[],this.uid=Registry_registry.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return System.prototype.reportTime=function(msg,reset){reset&&(this.time=Date.now())},System.prototype.update=function(){var _this=this;if(!this._isPaused){this._frameRequested=!1;var time=Date.now();for(var key in Registry_registry.dispatchImmediately(\"enterframe\"),Registry_registry.invalidDatas)if(hasKey(Registry_registry.invalidDatas,key)){for(var invalidData=Registry_registry.invalidDatas[key];invalidData.length>0;){var dataProvider=(component=invalidData[0]).dataProvider;if(component.isDisposed())Array_remove(invalidData,component);else if(dataProvider&&dataProvider.dataInvalid)try{if(dataProvider.validateData(),dataProvider.dataValidationProgress<1)break}catch(e){Array_remove(invalidData,dataProvider),dataProvider.raiseCriticalError(e)}else try{if(component.validateData(),component.dataValidationProgress<1)break}catch(e){Array_remove(invalidData,component),component.raiseCriticalError(e)}}if(Date.now()-time>this.updateStepDuration)break}for(;Registry_registry.invalidRawDatas.length>0;)if((component=Registry_registry.invalidRawDatas[0]).isDisposed())Array_remove(Registry_registry.invalidRawDatas,component);else try{component.validateRawData()}catch(e){Array_remove(Registry_registry.invalidRawDatas,component),component.raiseCriticalError(e)}for(;Registry_registry.invalidDataItems.length>0;){if(dataProvider=(component=Registry_registry.invalidDataItems[0]).dataProvider,component.isDisposed()||component.dataInvalid||dataProvider&&dataProvider.dataInvalid);else try{component.validateDataItems()}catch(e){Array_remove(Registry_registry.invalidDataItems,component),component.raiseCriticalError(e)}Array_remove(Registry_registry.invalidDataItems,component)}for(;Registry_registry.invalidDataRange.length>0;){var component;if(dataProvider=(component=Registry_registry.invalidDataRange[0]).dataProvider,component.isDisposed()||component.dataInvalid||dataProvider&&dataProvider.dataInvalid);else try{component.validateDataRange(),component.skipRangeEvent||component.dispatchImmediately(\"datarangechanged\"),component.skipRangeEvent=!1}catch(e){Array_remove(Registry_registry.invalidDataRange,component),component.raiseCriticalError(e)}Array_remove(Registry_registry.invalidDataRange,component)}var skippedSprites=[];Object_each(Registry_registry.invalidLayouts,function(key){_this.validateLayouts(key)}),Object_each(Registry_registry.invalidPositions,function(key){_this.validatePositions(key)});var hasSkipped=!1;if(time=Date.now(),Object_each(Registry_registry.invalidSprites,function(key,invalidSprites){for(var count=0;invalidSprites.length>0;){if(_this.validateLayouts(key),_this.validatePositions(key),5==++count){if(Date.now()-time>_this.updateStepDuration)break;count=0}var sprite=invalidSprites[invalidSprites.length-1];if(sprite&&!sprite.isDisposed()){if(sprite._systemCheckIfValidate())if(_this.checkIfValidate2(sprite))try{sprite._systemUpdate(skippedSprites)}catch(e){sprite.invalid=!1,Array_remove(invalidSprites,sprite),sprite.raiseCriticalError(e)}else skippedSprites.push(sprite);else skippedSprites.push(sprite);sprite.invalid=!1}Array_remove(invalidSprites,sprite)}Registry_registry.invalidSprites[key]=Registry_registry.invalidSprites[key].concat(skippedSprites)}),Object_each(Registry_registry.invalidSprites,function(key,value){value.length>0&&(hasSkipped=!0)}),Object_each(Registry_registry.invalidDatas,function(key,value){value.length>0&&(hasSkipped=!0)}),each(Array_copy(this.animations),function(x){x.update()}),Object_each(Registry_registry.invalidLayouts,function(key){_this.validateLayouts(key)}),Object_each(Registry_registry.invalidPositions,function(key){_this.validatePositions(key)}),function(){for(var now=Date.now(),length=idleQueue.length,i=0;i<length;++i)idleQueue.shift()(now)}(),Object_each(Registry_registry.invalidLayouts,function(key){_this.validateLayouts(key)}),Object_each(Registry_registry.invalidPositions,function(key){_this.validatePositions(key)}),Registry_registry.dispatchImmediately(\"exitframe\"),(hasSkipped||this.animations.length>0||[].length>0)&&this.requestFrame(),this.updateStepDuration<200){var all0_1=!0;Object_each(Registry_registry.invalidDatas,function(key,value){value.length>0&&(all0_1=!1)}),Object_each(Registry_registry.invalidSprites,function(key,value){value.length>0&&(all0_1=!1)}),all0_1&&(this.updateStepDuration=200)}}},System.prototype.checkIfValidate2=function(sprite){return!(sprite.dataItem&&sprite.dataItem.component&&sprite.dataItem.component.dataInvalid&&!sprite.dataItem.component.isTemplate)},System.prototype.requestFrame=function(){var _this=this;this._frameRequested||(raf(function(){_this.update()}),this._frameRequested=!0)},System.prototype.validatePositions=function(id){for(var invalidPositions=Registry_registry.invalidPositions[id];invalidPositions.length>0;){var sprite=invalidPositions[invalidPositions.length-1];if(sprite.isDisposed())Array_remove(invalidPositions,sprite);else try{sprite._systemValidatePositions()}catch(e){sprite.positionInvalid=!1,Array_remove(invalidPositions,sprite),sprite.raiseCriticalError(e)}}},System.prototype.validateLayouts=function(id){for(var invalidLayouts=Registry_registry.invalidLayouts[id];invalidLayouts.length>0;){var container=invalidLayouts[invalidLayouts.length-1];if(container.isDisposed())Array_remove(invalidLayouts,container);else try{container.children.each(function(sprite){sprite._systemValidateLayouts()}),container.validateLayout()}catch(e){container.layoutInvalid=!1,Array_remove(invalidLayouts,container),container.raiseCriticalError(e)}}},System.prototype.log=function(value){!function(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i]=arguments[_i];Options_options.verbose&&console&&console.log.apply(console,__spread(messages))}(value)},Object.defineProperty(System.prototype,\"isPaused\",{get:function(){return this._isPaused},set:function(value){this._isPaused=value,value||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),System.VERSION=\"4.5.16\",System}()),IndexedIterable=function(){function IndexedIterable(array,start,end){this._array=array,this._start=start,this._end=end}return IndexedIterable.prototype.iterator=function(){var _this=this;return function(push){if(_this._start!==_this._end)if(_this._start<_this._end)for(var i=_this._start;i<_this._end&&push(_this._array[i]);++i);else for(i=_this._start-1;i>=_this._end&&push(_this._array[i]);--i);}},IndexedIterable.prototype.backwards=function(){return new IndexedIterable(this._array,this._end,this._start)},IndexedIterable.prototype.range=function(start,end){if(start<=end){if(this._start===this._end)return this;if(this._start<this._end){var diff=end-start;return start=Math.max(this._start+start,this._start),end=Math.min(start+diff,this._end),new IndexedIterable(this._array,start,end)}return diff=end-start,start=Math.max(this._start-start,this._end),end=Math.max(start-diff,this._end),new IndexedIterable(this._array,start,end)}throw new Error(\"Start index must be lower than end index\")},IndexedIterable}(),List_ListDisposer=(function(_super){function ListGrouper(list,getKey,sort){var _this=_super.call(this,[list.events.on(\"inserted\",function(x){var value=x.newValue,key=_this._getKey(value),index=0;Iterator_eachContinue(list.iterator(),function(x){return x!==value&&(_this._getKey(x)===key&&++index,!0)}),_this._insert(value,key,index)},void 0,!1),list.events.on(\"removed\",function(x){_this._remove(x.oldValue)},void 0,!1)])||this;return _this._keys=[],_this._groups={},_this._getKey=getKey,_this._sort=sort,Iterator_each(list.iterator(),function(x){_this._insert(x,getKey(x))}),_this}__extends(ListGrouper,_super),ListGrouper.prototype._insert=function(x,key,index){if(null==this._groups[key]){this._groups[key]=[];var _a=getSortedIndex(this._keys,this._sort,key),index_1=_a.index;if(_a.found)throw new Error(\"Key already exists: \"+key);insertIndex(this._keys,index_1,key)}null==index?this._groups[key].push(x):insertIndex(this._groups[key],index,x)},ListGrouper.prototype._remove=function(x){var key=this._getKey(x),values=this._groups[key];if(null!=values&&(Array_remove(values,x),0===values.length)){delete this._groups[key];var _a=getSortedIndex(this._keys,this._sort,key),index=_a.index;if(!_a.found)throw new Error(\"Key doesn't exist: \"+key);removeIndex(this._keys,index)}},ListGrouper.prototype.iterator=function(){var iter,_this=this;return iter=Iterator_map(Iterator_fromArray(this._keys),function(key){return Iterator_fromArray(_this._groups[key])}),function(push){var go=!0,push2=function(value){return go=push(value)};iter(function(value){return value(push2),go})}}}(Disposer_MultiDisposer),function(_super){function ListDisposer(list){var disposer=list.events.on(\"removed\",function(x){x.oldValue.dispose()},void 0,!1);return _super.call(this,function(){disposer.dispose(),Iterator_each(list.iterator(),function(x){x.dispose()})})||this}return __extends(ListDisposer,_super),ListDisposer}(Disposer));function checkBounds(index,len){if(!(index>=0&&index<len))throw new Error(\"Index out of bounds: \"+index)}var List_List=function(){function List(initial){void 0===initial&&(initial=[]),this.events=new EventDispatcher_EventDispatcher,this._values=initial}return Object.defineProperty(List.prototype,\"values\",{get:function(){return this._values},enumerable:!0,configurable:!0}),List.prototype.contains=function(value){return-1!==this._values.indexOf(value)},List.prototype.removeValue=function(value){for(var i=0,length=this._values.length;i<length;)this._values[i]===value?(this.removeIndex(i),--length):++i},List.prototype.indexOf=function(value){return Array_indexOf(this._values,value)},Object.defineProperty(List.prototype,\"length\",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),List.prototype.hasIndex=function(index){return index>=0&&index<this._values.length},List.prototype.getIndex=function(index){return this._values[index]},List.prototype.setIndex=function(index,value){checkBounds(index,this._values.length);var oldValue=this._values[index];return oldValue!==value&&(this._values[index]=value,this.events.isEnabled(\"setIndex\")&&this.events.dispatchImmediately(\"setIndex\",{type:\"setIndex\",target:this,index:index,oldValue:oldValue,newValue:value}),this.events.isEnabled(\"removed\")&&this.events.dispatchImmediately(\"removed\",{type:\"removed\",target:this,oldValue:oldValue}),this.events.isEnabled(\"inserted\")&&this.events.dispatchImmediately(\"inserted\",{type:\"inserted\",target:this,newValue:value})),oldValue},List.prototype.insertIndex=function(index,value){checkBounds(index,this._values.length+1),insertIndex(this._values,index,value),this.events.isEnabled(\"insertIndex\")&&this.events.dispatchImmediately(\"insertIndex\",{type:\"insertIndex\",target:this,index:index,newValue:value}),this.events.isEnabled(\"inserted\")&&this.events.dispatchImmediately(\"inserted\",{type:\"inserted\",target:this,newValue:value})},List.prototype._sortQuicksort=function(low,high,order){if(low<high){var p=this._sortPartition(low,high,order);this._sortQuicksort(low,p,order),this._sortQuicksort(p+1,high,order)}},List.prototype._sortPartition=function(low,high,order){for(var values=this._values,pivot=values[low],i=low-1,j=high+1;;){do{++i}while(order(values[i],pivot)<0);do{--j}while(order(values[j],pivot)>0);if(i>=j)return j;this.swap(i,j)}},List.prototype.sort=function(order){this._sortQuicksort(0,this._values.length-1,order)},List.prototype.swap=function(a,b){var len=this._values.length;if(checkBounds(a,len),checkBounds(b,len),a!==b){var value_a=this._values[a],value_b=this._values[b];this._values[a]=value_b,this.events.isEnabled(\"setIndex\")&&this.events.dispatchImmediately(\"setIndex\",{type:\"setIndex\",target:this,index:a,oldValue:value_a,newValue:value_b}),this._values[b]=value_a,this.events.isEnabled(\"setIndex\")&&this.events.dispatchImmediately(\"setIndex\",{type:\"setIndex\",target:this,index:b,oldValue:value_b,newValue:value_a})}},List.prototype.removeIndex=function(index){checkBounds(index,this._values.length);var oldValue=this._values[index];return removeIndex(this._values,index),this.events.isEnabled(\"removeIndex\")&&this.events.dispatchImmediately(\"removeIndex\",{type:\"removeIndex\",target:this,index:index,oldValue:oldValue}),this.events.isEnabled(\"removed\")&&this.events.dispatchImmediately(\"removed\",{type:\"removed\",target:this,oldValue:oldValue}),oldValue},List.prototype.moveValue=function(value,toIndex){var index=this.indexOf(value);if(-1!==index){var oldValue=this._values[index];removeIndex(this._values,index),this.events.isEnabled(\"removeIndex\")&&this.events.dispatchImmediately(\"removeIndex\",{type:\"removeIndex\",target:this,index:index,oldValue:oldValue})}null==toIndex?(toIndex=this._values.length,this._values.push(value)):insertIndex(this._values,toIndex,value),this.events.isEnabled(\"insertIndex\")&&this.events.dispatchImmediately(\"insertIndex\",{type:\"insertIndex\",target:this,index:toIndex,newValue:value}),-1===index&&this.events.isEnabled(\"inserted\")&&this.events.dispatchImmediately(\"inserted\",{type:\"inserted\",target:this,newValue:value})},List.prototype.push=function(value){var index=this._values.push(value)-1;return this.events.isEnabled(\"insertIndex\")&&this.events.dispatchImmediately(\"insertIndex\",{type:\"insertIndex\",target:this,index:index,newValue:value}),this.events.isEnabled(\"inserted\")&&this.events.dispatchImmediately(\"inserted\",{type:\"inserted\",target:this,newValue:value}),value},List.prototype.unshift=function(value){this.insertIndex(0,value)},List.prototype.pushAll=function(values){var _this=this;each(values,function(value){_this.push(value)})},List.prototype.copyFrom=function(source){this.pushAll(source._values)},List.prototype.pop=function(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)},List.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},List.prototype.setAll=function(newArray){var _this=this,oldArray=Array_copy(this._values);this._values.length=0,each(newArray,function(value){_this._values.push(value)}),this.events.isEnabled(\"setAll\")&&this.events.dispatchImmediately(\"setAll\",{type:\"setAll\",target:this,oldArray:oldArray,newArray:this._values}),this.events.isEnabled(\"removed\")&&each(oldArray,function(x){_this.events.dispatchImmediately(\"removed\",{type:\"removed\",target:_this,oldValue:x})}),this.events.isEnabled(\"inserted\")&&each(this._values,function(x){_this.events.dispatchImmediately(\"inserted\",{type:\"inserted\",target:_this,newValue:x})})},List.prototype.clear=function(){this.setAll([])},List.prototype.iterator=function(){return Iterator_fromArray(this._values)},List.prototype[Symbol.iterator]=function(){var length,i;return __generator(this,function(_a){switch(_a.label){case 0:length=this._values.length,i=0,_a.label=1;case 1:return i<length?[4,this._values[i]]:[3,4];case 2:_a.sent(),_a.label=3;case 3:return++i,[3,1];case 4:return[2]}})},List.prototype.each=function(f){each(this._values,f)},List.prototype.range=function(start,end){if(start<=end){var diff=end-start;return start=Math.max(start,0),end=Math.min(start+diff,this._values.length),new IndexedIterable(this._values,start,end)}throw new Error(\"Start index must be lower than end index\")},List.prototype.backwards=function(){return new IndexedIterable(this._values,this._values.length,0)},List}(),List_ListTemplate=function(_super){function ListTemplate(t){var _this=_super.call(this)||this;return _this.template=t,_this}return __extends(ListTemplate,_super),Object.defineProperty(ListTemplate.prototype,\"template\",{get:function(){return this._template},set:function(v){v.isTemplate=!0,this._template=v},enumerable:!0,configurable:!0}),ListTemplate.prototype.copyFrom=function(source){var _this=this;Iterator_each(source.iterator(),function(value){_this.push(value.clone())})},ListTemplate.prototype.create=function(make){var clone=null!=make?new make:this.template.clone();return this.push(clone),clone},ListTemplate.prototype.clone=function(){for(var out=new ListTemplate(this.template),values=this.values,length=values.length,i=0;i<length;++i)out.push(values[i].clone());return out},ListTemplate}(List_List),SortedList_OrderedList=function(){function OrderedList(initial){this._values=[],this.events=new EventDispatcher_EventDispatcher,null!=initial&&this.setAll(initial)}return Object.defineProperty(OrderedList.prototype,\"values\",{get:function(){return this._values},enumerable:!0,configurable:!0}),OrderedList.prototype._insert=function(value){return this._values.push(value),this._values.length-1},Object.defineProperty(OrderedList.prototype,\"length\",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),OrderedList.prototype.indexOf=function(value){return Array_indexOf(this._values,value)},OrderedList.prototype.contains=function(value){return-1!==this.indexOf(value)},OrderedList.prototype.getIndex=function(index){return this._values[index]},Object.defineProperty(OrderedList.prototype,\"first\",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(OrderedList.prototype,\"last\",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),OrderedList.prototype.insert=function(value){var index=this._insert(value);this.events.isEnabled(\"inserted\")&&this.events.dispatchImmediately(\"inserted\",{type:\"inserted\",target:this,index:index,newValue:value})},OrderedList.prototype.remove=function(value){var index=this.indexOf(value);if(-1!==index){var oldValue=this._values[index];removeIndex(this._values,index),this.events.isEnabled(\"removed\")&&this.events.dispatchImmediately(\"removed\",{type:\"removed\",target:this,index:index,oldValue:oldValue})}},OrderedList.prototype.setAll=function(newArray){var _this=this;!function(array,fn){for(var i=array.length;i--;)fn(array[i],i)}(this._values,function(x,i){_this._values.pop(),_this.events.isEnabled(\"removed\")&&_this.events.dispatchImmediately(\"removed\",{type:\"removed\",target:_this,index:i,oldValue:x})}),each(newArray,function(value){_this.insert(value)})},OrderedList.prototype.clear=function(){this.setAll([])},OrderedList.prototype.slice=function(start,end){var out=new OrderedList;return out._values=this._values.slice(start,end),out},OrderedList.prototype.findClosestIndex=function(value,fn,direction){void 0===direction&&(direction=\"any\");var closestValue,closestDifference,closestIndex=-1,i=0;return Iterator_eachContinue(this.iterator(),function(element){var item=fn(element);if(\"any\"===direction){if(item===value)return closestIndex=i,!1;var difference=Math.abs(value-item);(!hasValue(closestDifference)||closestDifference>difference)&&(closestIndex=i,closestValue=item,closestDifference=difference)}else\"left\"===direction&&item<value?(!hasValue(closestValue)||closestValue<item)&&(closestIndex=i,closestValue=item):\"right\"===direction&&item>=value&&(!hasValue(closestValue)||closestValue>=item)&&(closestIndex=i,closestValue=item);return++i,!0}),-1===closestIndex&&(\"left\"===direction?closestIndex=0:\"right\"===direction&&(closestIndex=this.length-1)),closestIndex},OrderedList.prototype.iterator=function(){return Iterator_fromArray(this._values)},OrderedList.prototype[Symbol.iterator]=function(){var length,i;return __generator(this,function(_a){switch(_a.label){case 0:length=this._values.length,i=0,_a.label=1;case 1:return i<length?[4,this._values[i]]:[3,4];case 2:_a.sent(),_a.label=3;case 3:return++i,[3,1];case 4:return[2]}})},OrderedList.prototype.each=function(f){each(this._values,f)},OrderedList}(),SortedList_SortedList=function(_super){function SortedList(sort){var _this=_super.call(this)||this;return _this._ordering=sort,_this}return __extends(SortedList,_super),SortedList.prototype._insert=function(value){var index=getSortedIndex(this._values,this._ordering,value).index;return insertIndex(this._values,index,value),index},SortedList.prototype.indexOf=function(value){var _a=getSortedIndex(this._values,this._ordering,value);return _a.found?_a.index:-1},SortedList.prototype.update=function(value){var index=Array_indexOf(this._values,value);if(-1!==index){var last=this._values.length-1;(0===index||this._ordering(this._values[index-1],value)<0)&&(index===last||this._ordering(value,this._values[index+1])<0)||(removeIndex(this._values,index),this._insert(value))}},SortedList}(SortedList_OrderedList),SortedList_OrderedListTemplate=function(_super){function OrderedListTemplate(t){var _this=_super.call(this)||this;return _this.template=t,_this}return __extends(OrderedListTemplate,_super),Object.defineProperty(OrderedListTemplate.prototype,\"template\",{get:function(){return this._template},set:function(v){v.isTemplate=!0,this._template=v},enumerable:!0,configurable:!0}),OrderedListTemplate.prototype.copyFrom=function(source){var _this=this;Iterator_each(source.iterator(),function(value){_this.insert(value.clone())})},OrderedListTemplate.prototype.slice=function(start,end){var out=new OrderedListTemplate(this.template);return out._values=this._values.slice(start,end),out},OrderedListTemplate.prototype.create=function(make){var clone=null!=make?new make:this.template.clone();return this.insert(clone),clone},OrderedListTemplate}(SortedList_OrderedList),SortedList_SortedListTemplate=function(_super){function SortedListTemplate(t,sort){var _this=_super.call(this,sort)||this;return _this.template=t,_this}return __extends(SortedListTemplate,_super),Object.defineProperty(SortedListTemplate.prototype,\"template\",{get:function(){return this._template},set:function(v){v.isTemplate=!0,this._template=v},enumerable:!0,configurable:!0}),SortedListTemplate.prototype.copyFrom=function(source){var _this=this;Iterator_each(source.iterator(),function(value){_this.insert(value.clone())})},SortedListTemplate.prototype.create=function(make){var clone=null!=make?new make:this.template.clone();return this.insert(clone),clone},SortedListTemplate}(SortedList_SortedList);function Number_order(a,b){return a===b?0:a<b?-1:1}function reverse(a){switch(a){case 0:return 0;case-1:return 1;case 1:return-1}}function or(a,b){return 0===a?b:a}var globalAdapter=new(function(){function GlobalAdapter(){this._callbackId=0,this._callbacks=new SortedList_SortedList(function(left,right){return or(Number_order(left.priority,right.priority),Number_order(left.id,right.id))})}return GlobalAdapter.prototype.addAll=function(type,key,callback,priority,scope){void 0===priority&&(priority=0),this._callbacks.insert({id:++this._callbackId,key:key,callback:callback,priority:priority,scope:scope,type:type})},GlobalAdapter.prototype.isEnabled=function(type,key){return this._callbacks.length>0},GlobalAdapter.prototype.applyAll=function(type,key,value){var callbacks=this._callbacks.values,length=callbacks.length;if(0==length)return value;for(var i=0;i<length;++i){var item=callbacks[i];item.key===key&&type instanceof item.type&&(value=item.callback.call(item.scope,value,type,key))}return value},GlobalAdapter}()),Adapter_Adapter=function(){function Adapter(c){this._callbackId=0,this._callbacks=new SortedList_SortedList(function(left,right){return or(Number_order(left.priority,right.priority),Number_order(left.id,right.id))}),this.object=c,this.events=this._callbacks.events}return Adapter.prototype.add=function(key,callback,priority,scope){void 0===priority&&(priority=0),this._callbacks.insert({id:++this._callbackId,key:key,callback:callback,priority:priority,scope:scope})},Adapter.prototype.has=function(key,callback,priority,scope){return void 0===priority&&(priority=0),!1},Adapter.prototype.remove=function(key,priority){var _this=this;each(Iterator_toArray(this._callbacks.iterator()),function(item){item.key!==key||isNumber(priority)&&priority!==item.priority||_this._callbacks.remove(item)})},Adapter.prototype.isEnabled=function(key){return this._callbacks.length>0||globalAdapter.isEnabled(this.object,key)},Adapter.prototype.apply=function(key,value){var callbacks=this._callbacks.values,length=callbacks.length;if(length>0)for(var i=0;i<length;++i){var item=callbacks[i];item.key===key&&(value=item.callback.call(item.scope,value,this.object,key))}return globalAdapter.applyAll(this.object,key,value)},Adapter.prototype.keys=function(){return Iterator_toArray(Iterator_map(this._callbacks.iterator(),function(x){return x.key}))},Adapter.prototype.copyFrom=function(source){var _this=this;Iterator_each(source._callbacks.iterator(),function(x){_this.add(x.key,x.callback,x.priority,x.scope)})},Adapter.prototype.clear=function(){this._callbacks.clear()},Adapter}(),namedColors={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function pad2(c){return 1==c.length?\"0\"+c:\"\"+c}function Colors_interpolate(rgb1,rgb2,percent){return percent=fitToRange(percent,0,1),rgb1?rgb2?{r:rgb1.r+Math.round((rgb2.r-rgb1.r)*percent),g:rgb1.g+Math.round((rgb2.g-rgb1.g)*percent),b:rgb1.b+Math.round((rgb2.b-rgb1.b)*percent),a:(rgb1.a||1)+Math.round(((rgb2.a||1)-(rgb1.a||1))*percent)}:rgb1:rgb2||rgb1}function getLightnessStep(value,percent){return Math.round((percent>0?255-value:value)*percent)}function hslToRgb(color){var r,g,b,h=color.h,s=color.s,l=color.l;if(0==s)r=g=b=l;else{var hue2rgb=function(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p},q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return{r:Math.round(255*r),g:Math.round(255*g),b:Math.round(255*b)}}function rgbToHsl(color){var r=color.r/255,g=color.g/255,b=color.b/255,max=Math.max(r,g,b),min=Math.min(r,g,b),h=0,s=0,l=(max+min)/2;if(max===min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}var Color_Color=function(){function Color(color){this._value=color}return Object.defineProperty(Color.prototype,\"rgb\",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(Color.prototype,\"hex\",{get:function(){return this._value?\"#\"+pad2((rgb=this._value).r.toString(16))+pad2(rgb.g.toString(16))+pad2(rgb.b.toString(16)):\"none\";var rgb},enumerable:!0,configurable:!0}),Object.defineProperty(Color.prototype,\"rgba\",{get:function(){return this._value?hasValue((rgb=this._value).a)&&1!==rgb.a?\"rgba(\"+rgb.r+\",\"+rgb.g+\",\"+rgb.b+\",\"+rgb.a+\")\":\"rgb(\"+rgb.r+\",\"+rgb.g+\",\"+rgb.b+\")\":\"none\";var rgb},enumerable:!0,configurable:!0}),Object.defineProperty(Color.prototype,\"alpha\",{get:function(){return null!=this._value&&null!=this._value.a?this._value.a:1},set:function(value){this._value&&(this._value.a=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Color.prototype,\"lightColor\",{get:function(){return this._lightColor||(this._lightColor=new Color({r:255,g:255,b:255})),this._lightColor},set:function(color){this._lightColor=color},enumerable:!0,configurable:!0}),Object.defineProperty(Color.prototype,\"darkColor\",{get:function(){return this._darkColor||(this._darkColor=new Color({r:0,g:0,b:0})),this._darkColor},set:function(color){this._darkColor=color},enumerable:!0,configurable:!0}),Color.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},Color.prototype.lighten=function(percent){return new Color(function(rgb,percent){return rgb?{r:Math.max(0,Math.min(255,rgb.r+getLightnessStep(rgb.r,percent))),g:Math.max(0,Math.min(255,rgb.g+getLightnessStep(rgb.g,percent))),b:Math.max(0,Math.min(255,rgb.b+getLightnessStep(rgb.b,percent))),a:rgb.a}:rgb}(this.rgb,percent))},Color.prototype.brighten=function(percent){return new Color(function(rgb,percent){if(rgb){var step=getLightnessStep(Math.min(Math.max(rgb.r,rgb.g,rgb.b),230),percent);return{r:Math.max(0,Math.min(255,Math.round(rgb.r+step))),g:Math.max(0,Math.min(255,Math.round(rgb.g+step))),b:Math.max(0,Math.min(255,Math.round(rgb.b+step))),a:rgb.a}}return rgb}(this.rgb,percent))},Color.prototype.saturate=function(saturation){return new Color(function(rgb,saturation){if(null==rgb||1==saturation)return rgb;var hsl=rgbToHsl(rgb);return hsl.s=saturation,hslToRgb(hsl)}(this.rgb,saturation))},Object.defineProperty(Color.prototype,\"alternative\",{get:function(){if(null!=this.rgb)return(299*(color=this.rgb).r+587*color.g+114*color.b)/1e3>=128?this.darkColor:this.lightColor;throw new Error(\"Color does not exist\");var color},enumerable:!0,configurable:!0}),Color}();function Color_color(value,alpha){if(!hasValue(value))return new Color_Color(void 0);if(\"string\"==typeof value){var cacheId=\"_color_\"+value+\"_\"+(alpha||\"1\"),cached=Registry_registry.getCache(cacheId);if(cached)return new Color_Color({r:cached.r,g:cached.g,b:cached.b,a:cached.a});var rgb=function(color,alpha){var rgb;return namedColors[color]?rgb=namedColors[color]:\"#\"===color.charAt(0)?rgb=function(hex){hex=hex.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,function(m,r,g,b){return r+r+g+g+b+b});var result=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:void 0}(color):color.match(/^rgba?\\(/)&&(rgb=function(color){var matches=(color=color.replace(/[ ]/g,\"\")).match(/^rgb\\(([0-9]*),([0-9]*),([0-9]*)\\)/i);if(matches)matches.push(\"1\");else if(!(matches=color.match(/^rgba\\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\\)/i)))return;return{r:parseInt(matches[1]),g:parseInt(matches[2]),b:parseInt(matches[3]),a:parseFloat(matches[4])}}(color)),rgb||(rgb={r:0,g:0,b:0,a:1}),hasValue(alpha)&&(rgb.a=alpha),rgb}(value,alpha);return Registry_registry.setCache(cacheId,rgb),new Color_Color(rgb)}return value instanceof Color_Color?(hasValue(alpha)&&(value.alpha=alpha),value):new Color_Color(value)}function toColor(value){return hasValue(value)&&!function(value){return value instanceof Color_Color}(value)?function(value){return Color_color(value)}(value):value}var Base_BaseObject=function(){function BaseObject(){this._disposed=!1,this._disposers=[],this.className=\"BaseObject\"}return BaseObject.prototype.debug=function(){},Object.defineProperty(BaseObject.prototype,\"uid\",{get:function(){return this._uid||(this._uid=Registry_registry.getUniqueId(),Registry_registry.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(BaseObject.prototype,\"id\",{get:function(){return this._id},set:function(value){this._id=value},enumerable:!0,configurable:!0}),Object.defineProperty(BaseObject.prototype,\"map\",{get:function(){return this._map||(this._map=new Dictionary_Dictionary),this._map},enumerable:!0,configurable:!0}),BaseObject.prototype.applyTheme=function(){var _this=this;if(Registry_registry){var themes=this.getCurrentThemes();themes&&each(themes,function(theme,index){theme(_this)})}},Object.defineProperty(BaseObject.prototype,\"themes\",{get:function(){return this._themes},set:function(value){this._themes=value},enumerable:!0,configurable:!0}),BaseObject.prototype.getCurrentThemes=function(){return this.themes||Registry_registry.themes},BaseObject.prototype.isDisposed=function(){return this._disposed},BaseObject.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._disposers;for(this._disposers=null;0!==a.length;)a.shift().dispose();this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var uid=this._uid;null!=uid&&Registry_registry.map.removeKey(uid)}},BaseObject.prototype.addDisposer=function(target){this._disposers.push(target)},BaseObject.prototype.removeDispose=function(target){if(!this._disposed){var index=Array_indexOf(this._disposers,target);index>-1&&this._disposers.splice(index,1)}target.dispose()},BaseObject.prototype.clone=function(cloneId){cloneId||(cloneId=\"clone-\"+Registry_registry.getUniqueId());var newObject=new this.constructor;return newObject.cloneId=cloneId,newObject.copyFrom(this),newObject},Object.defineProperty(BaseObject.prototype,\"clones\",{get:function(){return this._clones||(this._clones=new List_List),this._clones},enumerable:!0,configurable:!0}),BaseObject.prototype.copyFrom=function(object){object.clones.push(this),this.clonedFrom=object},Object.defineProperty(BaseObject.prototype,\"className\",{get:function(){return this._className},set:function(value){this._className=value},enumerable:!0,configurable:!0}),BaseObject.prototype.setCache=function(key,value,ttl){Cache_cache.set(this.uid,key,value,ttl)},BaseObject.prototype.getCache=function(key,value){return void 0===value&&(value=void 0),Cache_cache.get(this.uid,key,value)},BaseObject.prototype.clearCache=function(){Cache_cache.clear(this.uid)},BaseObject.prototype.setTimeout=function(fn,delay){var _this=this,id=setTimeout(function(){_this.removeDispose(disposer),fn()},delay),disposer=new Disposer(function(){clearTimeout(id)});return this._disposers.push(disposer),disposer},BaseObject.prototype.setInterval=function(fn,delay){var _this=this,id=setInterval(function(){_this.removeDispose(disposer),fn()},delay),disposer=new Disposer(function(){clearTimeout(id)});return this._disposers.push(disposer),disposer},Object.defineProperty(BaseObject.prototype,\"config\",{set:function(config){try{this.processConfig(config)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),BaseObject.prototype.processConfig=function(config){var object,fn,_this=this;if(config){var target=this;if(fn=function(configKey,value){var item_1,configValue=value;if(\"callback\"==configKey&&\"function\"==typeof value&&value.call(target),_this.hasProperty(configKey))if(!Type_isObject(configValue)||!hasValue(configValue.type)||Type_isObject(target[configKey])&&hasValue(target[configKey].className)&&!configValue.forceCreate&&target[configKey].className==configValue.type?item_1=target[configKey]:(item_1=_this.createClassInstance(configValue.type))?target[configKey]=item_1:item_1=target[configKey],item_1 instanceof Adapter_Adapter)_this.processAdapters(item_1,configValue);else if(item_1 instanceof EventDispatcher_EventDispatcher)_this.processEvents(item_1,configValue);else if(\"locale\"==configKey&&isString(configValue))document[\"am4lang_\"+configValue]&&(target[configKey]=document[\"am4lang_\"+configValue]);else if(_this.asIs(configKey))target[configKey]=configValue;else if(configValue instanceof BaseObject)target[configKey]=configValue;else if(item_1 instanceof BaseObject)item_1.config=configValue;else if(item_1 instanceof List_ListTemplate||item_1 instanceof SortedList_OrderedListTemplate||item_1 instanceof SortedList_SortedListTemplate){if(Type_isArray(configValue))item_1 instanceof List_ListTemplate?_this.processListTemplate(configValue,item_1):_this.processOrderedTemplate(configValue,item_1);else if(Type_isObject(configValue))if(configValue instanceof BaseObject)item_1.template=configValue;else{var templateValue;templateValue=hasValue(configValue.template)?configValue.template:configValue,item_1.template instanceof BaseObject?item_1.template.config=templateValue:Object_each(templateValue,function(entryKey,entryValue){var listItem=item_1.template[entryKey];listItem instanceof Adapter_Adapter?_this.processAdapters(listItem,entryValue):listItem instanceof EventDispatcher_EventDispatcher?_this.processEvents(listItem,entryValue):listItem instanceof Dictionary_DictionaryTemplate?_this.processDictionaryTemplate(listItem,entryValue):item_1.template[entryKey]instanceof BaseObject?item_1.template[entryKey].config=entryValue:Type_isObject(entryValue)&&hasValue(entryValue.type)?(listItem=_this.createClassInstance(entryValue.type))?(listItem instanceof BaseObject&&(listItem.config=entryValue),item_1.template[entryKey]=listItem):item_1.template[entryKey]=entryValue:listItem instanceof List_List?_this.processList(entryValue,listItem):item_1.template[entryKey]=_this.maybeColorOrPercent(entryValue)}),hasValue(configValue.values)&&(item_1 instanceof List_ListTemplate?_this.processListTemplate(configValue.values,item_1):_this.processOrderedTemplate(configValue.values,item_1))}}else item_1 instanceof List_List?\"children\"==configKey?_this.processList(configValue,item_1,_this):_this.processList(configValue,item_1):item_1 instanceof Dictionary_DictionaryTemplate?_this.processDictionaryTemplate(item_1,configValue):item_1 instanceof Dictionary_Dictionary?_this.processDictionary(item_1,configValue):item_1 instanceof Color_Color||item_1 instanceof Percent?target[configKey]=_this.maybeColorOrPercent(configValue):Type_isObject(item_1)&&Type_isObject(configValue)?copyAllProperties(configValue,item_1):(configValue=_this.maybeColorOrPercent(configValue),target[configKey]=configValue);else _this.isReserved(configKey)||(target[configKey]=configValue)},each(function(object,order){return Object_keys(object).sort(order)}(object=config,this.configOrder),function(key){fn(key,object[key])}),this.processingErrors.length){var errors=this.processingErrors.join(\"\\n\");throw this._processingErrors=[],Error(errors)}}},BaseObject.prototype.maybeColorOrPercent=function(value){if(isString(value)){if(value.match(/^[\\-]?[0-9.]+\\%$/))return Percent_percent(toNumber(value));if(value.match(/^\\#[0-9abcdef]{3,}$/i))return Color_color(value)}return value},BaseObject.prototype.processAdapters=function(item,config){var _this=this;Type_isArray(config)?each(config,function(entry,index){item.add(entry.key,entry.callback,entry.priority||0,_this)}):Type_isObject(config)&&Object_each(config,function(key,entry){item.has(key,entry)||item.add(key,entry)})},BaseObject.prototype.processEvents=function(item,config){var _this=this;Type_isObject(config)?Object_each(config,function(key,entry){item.has(key,entry)||item.on(key,entry)}):Type_isArray(config)&&each(config,function(entry,index){item.on(entry.type,entry.callback,_this)})},BaseObject.prototype.processDictionaryTemplate=function(item,config){Type_isObject(config)&&Object_each(config,function(entryKey,entryValue){var listItem;(listItem=\"template\"==entryKey?item.template:item.hasKey(entryKey)?item.getKey(entryKey):item.create(entryKey))instanceof BaseObject?listItem.config=entryValue:Type_isObject(listItem)&&Type_isObject(entryValue)?copyAllProperties(entryValue,listItem):listItem.setKey(entryKey,entryValue)})},BaseObject.prototype.processDictionary=function(item,config){Type_isObject(config)&&Object_each(config,function(entryKey,entryValue){item.setKey(entryKey,entryValue)})},BaseObject.prototype.processListTemplate=function(configValue,item){var _this=this;for(each(configValue,function(entry,index){var listItem,type=_this.getConfigEntryType(entry);if(item.hasIndex(index)&&!entry.forceCreate)listItem=item.getIndex(index);else{if(entry instanceof BaseObject)return void item.push(entry);listItem=type?item.create(type):item.create()}entry===listItem||Type_isObject(entry)&&(listItem instanceof BaseObject?listItem.config=entry:Type_isObject(listItem)&&Type_isObject(entry)?copyAllProperties(entry,listItem):item.setIndex(item.indexOf(listItem),entry))});configValue.length>item.length;)item.pop()},BaseObject.prototype.processOrderedTemplate=function(configValue,item){var _this=this;each(configValue,function(entry,index){var listItem,type=_this.getConfigEntryType(entry);listItem=type?item.create(type):item.create(),Type_isObject(entry)&&(listItem instanceof BaseObject?listItem.config=entry:Type_isObject(listItem)&&Type_isObject(entry)?copyAllProperties(entry,listItem):item.insert(entry))})},BaseObject.prototype.processList=function(configValue,item,parent){var _this=this;Type_isArray(configValue)||(configValue=[configValue]);var itemCount=item.length;for(each(configValue,function(entry,index){if(Type_isObject(entry)){var listItem=void 0;if(index<itemCount&&!entry.forceCreate)listItem=item.getIndex(index);else{if(entry instanceof BaseObject)return void item.push(entry);listItem=_this.createEntryInstance(entry),parent?listItem.parent=parent:item.push(listItem)}listItem instanceof BaseObject?listItem.config=entry:Type_isObject(listItem)&&Type_isObject(entry)&&copyAllProperties(entry,listItem)}else item.hasIndex(index)?item.setIndex(index,entry):item.push(entry)});configValue.length>item.length;)item.pop()},BaseObject.prototype.configOrder=function(a,b){return a==b?0:\"language\"==a?-1:\"language\"==b?1:0},BaseObject.prototype.asIs=function(field){return-1!=Array_indexOf([\"locale\"],field)},BaseObject.prototype.createClassInstance=function(className){if(hasValue(Registry_registry.registeredClasses[className]))return new Registry_registry.registeredClasses[className]},BaseObject.prototype.createEntryInstance=function(config){var res;return hasValue(config.type)&&(res=this.createClassInstance(config.type)),res||config},BaseObject.prototype.getConfigEntryType=function(config){if(hasValue(config.type)){if(hasValue(Registry_registry.registeredClasses[config.type]))return Registry_registry.registeredClasses[config.type];throw Error('Invalid type: \"'+config.type+'\".')}},BaseObject.prototype.hasProperty=function(prop){return prop in this},BaseObject.prototype.isReserved=function(key){return-1!==[\"type\",\"forceCreate\"].indexOf(key)},Object.defineProperty(BaseObject.prototype,\"processingErrors\",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),BaseObject}(),Base_BaseObjectEvents=function(_super){function BaseObjectEvents(){var _this=_super.call(this)||this;return _this.events=new EventDispatcher_EventDispatcher,_this.className=\"BaseObjectEvents\",_this._disposers.push(_this.events),_this}return __extends(BaseObjectEvents,_super),BaseObjectEvents.prototype.dispatch=function(eventType,data){this.events.isEnabled(eventType)&&(data?(data.type=eventType,data.target=data.target||this,this.events.dispatch(eventType,{type:eventType,target:this})):this.events.dispatch(eventType,{type:eventType,target:this}))},BaseObjectEvents.prototype.dispatchImmediately=function(eventType,data){this.events.isEnabled(eventType)&&(data?(data.type=eventType,data.target=data.target||this,this.events.dispatchImmediately(eventType,data)):this.events.dispatchImmediately(eventType,{type:eventType,target:this}))},BaseObjectEvents.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.events.copyFrom(source.events)},BaseObjectEvents}(Base_BaseObject),PLACEHOLDER=\"__§§§__\";function Utils_copyProperties(source,target){return Object_each(source,function(key,value){hasValue(value)&&(target[key]=value)}),target}function stripHash(url){return/^[^#]*/.exec(url)[0]}function getBaseURI(){var url=\"#\";if(/apple/i.test(navigator.vendor)){var baseURI=document.baseURI;if(baseURI){baseURI=stripHash(baseURI);var loc=stripHash(location.href);baseURI!==loc&&(url=loc+url)}}return url}function isNotEmpty(value){return hasValue(value)&&\"\"!==value.toString()}function relativeToValue(percent,full){return isNumber(percent)?percent:null!=percent&&isNumber(percent.value)&&isNumber(full)?full*percent.value:0}function relativeRadiusToValue(percent,full,subtractIfNegative){var value;return isNumber(percent)?(value=percent)<0&&(value=subtractIfNegative?full+value:full-value):null!=percent&&isNumber(percent.value)&&(value=full*percent.value),value}function capitalize(str){var arr=str.split(\"\");return arr[0]=arr[0].toUpperCase(),arr.join(\"\")}function Utils_stringify(value){return JSON.stringify(value)}function escapeForRgex(value){return value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")}function splitTextByCharCount(text,maxChars,fullWords,rtl){if(text.length<=maxChars)return[text];var res=[];if(fullWords)for(var currentIndex=-1,words=text.replace(/([,;:!?\\\\\\/\\.\\s]+)/g,PLACEHOLDER+\"$1\"+PLACEHOLDER).split(PLACEHOLDER),i=0;i<words.length;i++){var word=words[i],wordLength=word.length;if(0!==wordLength){var parts;if(wordLength>maxChars){if(rtl&&(word=reverseString(word)),parts=word.match(new RegExp(\".{1,\"+maxChars+\"}\",\"g\"))){if(rtl)for(var x=0;x<parts.length;x++)parts[x]=reverseString(parts[x]);res=res.concat(parts)}}else-1===currentIndex&&(res.push(\"\"),currentIndex=0),res[currentIndex].length+wordLength+1>maxChars&&\"\"!==res[currentIndex]&&(res.push(\"\"),currentIndex++),res[currentIndex]+=word;currentIndex=res.length-1}}else if(parts=text.match(new RegExp(\".{1,\"+maxChars+\"}\",\"g\"))){if(rtl)for(x=0;x<parts.length;x++)parts[x]=reverseString(parts[x]);res=parts}return 1==res.length&&fullWords&&res[0].length>maxChars&&(res=[]),res}function truncateWithEllipsis(text,maxChars,ellipsis,fullWords,rtl){return text.length<=maxChars?text:((maxChars-=ellipsis.length)<1&&(maxChars=1),(splitTextByCharCount(text,maxChars,fullWords,rtl)[0]||\"\")+ellipsis)}function trim(str){return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")}function rtrim(str){return str.replace(/[\\s\\uFEFF\\xA0]+$/g,\"\")}function reverseString(str){return str.split(\"\").reverse().join(\"\")}function padString(value,len,char){return void 0===len&&(len=0),void 0===char&&(char=\"0\"),\"string\"!=typeof value&&(value=value.toString()),len>value.length?Array(len-value.length+1).join(char)+value:value}function cleanFormat(format){return format.replace(/\\/(date|number|duration)$/i,\"\")}function stripTags(text){return text?text.replace(/<[^>]*>/g,\"\"):text}function plainText(text){return text?stripTags(text.replace(/[\\n\\r]+/g,\". \")):text}function anyToDate(value){if(isDate(value))return new Date(value);if(isNumber(value))return new Date(value);var num=Number(value);return isNumber(num)?new Date(num):new Date(value)}function anyToNumber(value){if(isDate(value))return value.getTime();if(isNumber(value))return value;if(isString(value)){var num=Number(value);return isNumber(num)?num:void 0}}function getYearDay(date,utc){void 0===utc&&(utc=!1);var first=new Date(date.getFullYear(),0,1,0,0,0,0);return Math.floor((date.getTime()-first.getTime())/864e5)+1}function getWeek(date,utc){void 0===utc&&(utc=!1);var day=getYearDay(date,utc)-1,week=Math.floor((day-(date.getDay()||7)+10)/7);return 0===week?week=53:53===week&&(week=1),week}function getMonthWeek(date,utc){void 0===utc&&(utc=!1);var firstWeek=getWeek(new Date(date.getFullYear(),date.getMonth(),1),utc),currentWeek=getWeek(date,utc);return 1==currentWeek&&(currentWeek=53),currentWeek-firstWeek+1}function get12Hours(hours,base){return hours>12?hours-=12:0===hours&&(hours=12),hasValue(base)?hours+(base-1):hours}function getTimeZone(date,long,savings,utc){if(void 0===long&&(long=!1),void 0===savings&&(savings=!1),void 0===utc&&(utc=!1),utc)return long?\"Coordinated Universal Time\":\"UTC\";var wotz=date.toLocaleString(\"UTC\"),wtz=date.toLocaleString(\"UTC\",{timeZoneName:long?\"long\":\"short\"}).substr(wotz.length);return!1===savings&&(wtz=wtz.replace(/ (standard|daylight|summer|winter) /i,\" \")),wtz}function fitNumber(value,min,max){return value>max?max:value<min?min:value}function fitNumberRelative(value,min,max){var gap=max-min;return value>max?value=min+(value-gap*Math.floor(value/gap)):value<min&&(value=min+(value-gap*Math.floor(value/gap))),value}function svgPointToSprite(point,sprite){var x=point.x,y=point.y,sprites=[];if(sprite){for(;hasValue(sprite.parent);)sprites.push(sprite),sprite=sprite.parent;sprites.reverse();for(var i=0;i<sprites.length;i++){var sprite_1=sprites[i],angle=sprite_1.rotation,relativeX=x-sprite_1.pixelX-sprite_1.ex,relativeY=y-sprite_1.pixelY-sprite_1.ey;sprite_1.dx&&(x-=sprite_1.dx),sprite_1.dy&&(y-=sprite_1.dy),x=(Math_cos(-angle)*relativeX-Math_sin(-angle)*relativeY)/sprite_1.scale-sprite_1.pixelPaddingLeft,y=(Math_cos(-angle)*relativeY+Math_sin(-angle)*relativeX)/sprite_1.scale-sprite_1.pixelPaddingTop}}return{x:x,y:y}}function spritePointToSvg(point,sprite){var x=point.x,y=point.y;if(sprite)for(;hasValue(sprite.parent);){var angle=sprite.rotation;x+=sprite.pixelPaddingLeft+sprite.ex,y+=sprite.pixelPaddingTop+sprite.ey,sprite.dx&&(x+=sprite.dx),sprite.dy&&(y+=sprite.dy);var relativeX=sprite.pixelX+(x*Math_cos(angle)-y*Math_sin(angle))*sprite.scale,relativeY=sprite.pixelY+(x*Math_sin(angle)+y*Math_cos(angle))*sprite.scale;x=relativeX,y=relativeY,sprite=sprite.parent}return{x:x,y:y}}function spritePointToSprite(point,sprite,toSprite){return svgPointToSprite(spritePointToSvg(point,sprite),toSprite)}function spriteRectToSvg(rect,sprite){var p1=spritePointToSvg(rect,sprite),p2=spritePointToSvg({x:rect.x+rect.width,y:rect.y+rect.height},sprite);return{x:p1.x,y:p1.y,width:p2.x-p1.x,height:p2.y-p1.y}}function documentPointToSvg(point,svgContainer,cssScale){try{var bbox=svgContainer.getBoundingClientRect();return isNumber(cssScale)||(cssScale=1),{x:(point.x-bbox.left)/cssScale,y:(point.y-bbox.top)/cssScale}}catch(e){return point}}function svgPointToDocument(point,svgContainer){try{var bbox=svgContainer.getBoundingClientRect();return{x:point.x+bbox.left,y:point.y+bbox.top}}catch(e){return point}}function documentPointToSprite(point,sprite){return sprite&&sprite.htmlContainer?svgPointToSprite(documentPointToSvg(point,getValue(sprite.htmlContainer),sprite.svgContainer.cssScale),sprite):point}function spritePointToDocument(point,sprite){return sprite&&sprite.htmlContainer?svgPointToDocument(spritePointToSvg(point,sprite),getValue(sprite.htmlContainer)):point}var urlRegexp=/^([a-zA-Z][a-zA-Z0-9\\+\\.\\-]*:)?(?:(\\/\\/)([^\\@]+\\@)?([^\\/\\?\\#\\:]*)(\\:[0-9]+)?)?([^\\?\\#]*)(\\?[^\\#]*)?(\\#.*)?$/;function parseUrl(url){var match=urlRegexp.exec(url);return{protocol:match&&match[1]||\"\",separator:match&&match[2]||\"\",authority:match&&match[3]||\"\",domain:match&&match[4]||\"\",port:match&&match[5]||\"\",path:match&&match[6]||\"\",query:match&&match[7]||\"\",hash:match&&match[8]||\"\"}}function serializeUrl(url){return url.protocol+url.separator+url.authority+url.domain+url.port+url.path+url.query+url.hash}function isRelativeUrl(url){return\"\"===url.protocol&&\"\"===url.separator&&\"\"===url.authority&&\"\"===url.domain&&\"\"===url.port}function joinUrl(left,right){var parsedLeft=parseUrl(left),parsedRight=parseUrl(right);if(isRelativeUrl(parsedLeft))throw new Error(\"Left URL is not absolute\");if(isRelativeUrl(parsedRight)){if(\"\"!==parsedRight.path)if(\"/\"===parsedRight.path[0])parsedLeft.path=parsedRight.path;else{var leftPath=parsedLeft.path.split(/\\//),rightPath=parsedRight.path.split(/\\//);if(0===leftPath.length?0!==rightPath.length&&leftPath.push(\"\"):leftPath.length>1&&leftPath.pop(),function(array,input){for(var length=input.length,i=0;i<length;++i)array.push(input[i])}(leftPath,rightPath),parsedLeft.path=leftPath.join(\"/\"),\"\"!==parsedLeft.path&&\"/\"!==parsedLeft.path[0])throw new Error(\"URL path must start with /\")}return parsedLeft.query=parsedRight.query,parsedLeft.hash=parsedRight.hash,serializeUrl(parsedLeft)}return serializeUrl(parsedRight)}function isIE(){return!!window.MSInputMethodContext&&!!document.documentMode}function linear(t){return+t}function polyOut3(t){return function(t,e){return 1-Math.pow(1-t,3)}(t)}function sinOut(t){return Math.sin(t*HALFPI)}function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}Math,Math.asin(1);var SpriteState_SpriteState=function(_super){function SpriteState(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this.transitionDuration=0,_this.transitionEasing=cubicOut,_this.properties={},_this.propertyFields={},_this.filters=new List_List,_this.isTemplate=!1,_this.className=\"SpriteState\",_this._disposers.push(new List_ListDisposer(_this.filters)),_this.adapter.events.on(\"inserted\",function(ev){_this[ev.newValue.key]=_this[ev.newValue.key]},void 0,!1),_this.adapter.events.on(\"removed\",function(ev){_this[ev.newValue.key]=_this[ev.newValue.key]},void 0,!1),_this.applyTheme(),_this}return __extends(SpriteState,_super),SpriteState.prototype.getPropertyValue=function(propertyName){var propValue=this.properties[propertyName],sprite=this.sprite;if(sprite){var fieldName=this.propertyFields[propertyName];if(hasValue(fieldName)&&sprite.dataItem&&(propValue=sprite.dataItem.dataContext[fieldName]),hasValue(propValue))propValue=this.adapter.apply(propertyName,propValue);else{var spriteValue=sprite.getPropertyValue(propertyName);(propValue=this.adapter.apply(propertyName,sprite.getPropertyValue(propertyName)))==spriteValue&&(propValue=void 0)}}return propValue},SpriteState.prototype.copyFrom=function(source){source&&source!=this&&(this.transitionDuration=source.transitionDuration,this.transitionEasing=source.transitionEasing,Utils_copyProperties(source.properties,this.properties),Utils_copyProperties(source.propertyFields,this.propertyFields),this.filters.copyFrom(source.filters),this.adapter.copyFrom(source.adapter))},Object.defineProperty(SpriteState.prototype,\"allValues\",{get:function(){var _this=this,res={};return Object_each(this.properties,function(prop,value){res[prop]=_this.getPropertyValue(prop)}),Object_each(this.adapter.keys(),function(_x,prop){var value=_this.getPropertyValue(prop);res[prop]=value}),Object_each(this.propertyFields,function(prop){var value=_this.getPropertyValue(prop);res[prop]=value}),res},enumerable:!0,configurable:!0}),SpriteState.prototype.reset=function(){this.properties={},this.filters.clear()},SpriteState.prototype.processConfig=function(config){hasValue(config)&&hasValue(config.properties)&&Object_each(config.properties,function(key,value){isString(value)&&(value.match(/^[0-9.\\-]+\\%$/)?config.properties[key]=Percent_percent(toNumber(value)):value.match(/^\\#[0-9abcdef]{3,}$/i)&&(config.properties[key]=toColor(value)))}),_super.prototype.processConfig.call(this,config)},SpriteState}(Base_BaseObject);Registry_registry.registeredClasses.SpriteState=SpriteState_SpriteState;var SpriteEvents_SpriteEventDispatcher=function(_super){function SpriteEventDispatcher(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._interactionEvents=new Dictionary_Dictionary,_this}return __extends(SpriteEventDispatcher,_super),SpriteEventDispatcher.prototype._dispatchSpriteEvent=function(ev){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(ev.type)){var imev=Object_merge(ev,{target:this.target});this.target.events.dispatchImmediately(imev.type,imev)}},SpriteEventDispatcher.prototype._dispatchSpritePointEvent=function(ev){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(ev.type)){var imev=Object_merge(ev,{target:this.target,spritePoint:documentPointToSprite(ev.point,this.target),svgPoint:this.target.getSvgPoint(ev.point)});this.target.events.dispatchImmediately(imev.type,imev)}},SpriteEventDispatcher.prototype._addInteractionObjectEvent=function(type,callback,context,shouldClone){var _this=this;return this._interactionEvents.insertKeyIfEmpty(type,function(){var disposer=_this.target.interactions.events.on(type,callback,context,shouldClone);return new Disposer_CounterDisposer(function(){_this._interactionEvents.removeKey(type),disposer.dispose()})}).increment()},SpriteEventDispatcher.prototype._on=function(once,type,callback,context,shouldClone,dispatch){var info=_super.prototype._on.call(this,once,type,callback,context,shouldClone,dispatch),disposers=[info.disposer];switch(type){case\"hit\":case\"track\":case\"doublehit\":case\"wheel\":case\"wheelup\":case\"wheeldown\":case\"wheelleft\":case\"wheelright\":disposers.push(this._addInteractionObjectEvent(type,this._dispatchSpritePointEvent,this,shouldClone));break;case\"rightclick\":case\"down\":case\"up\":case\"drag\":case\"dragged\":case\"dragstart\":case\"dragstop\":case\"over\":case\"out\":case\"swipe\":case\"swipeleft\":case\"swiperight\":case\"resize\":case\"focus\":case\"blur\":case\"toggled\":disposers.push(this._addInteractionObjectEvent(type,this._dispatchSpriteEvent,this,shouldClone))}switch(type){case\"hit\":case\"doublehit\":case\"rightclick\":case\"down\":case\"up\":this.target.clickable=!0;break;case\"toggled\":this.target.togglable=!0;break;case\"drag\":case\"dragstart\":case\"dragstop\":this.target.draggable=!0;break;case\"track\":this.target.trackable=!0;break;case\"resize\":this.target.resizable=!0;break;case\"swipe\":case\"swipeleft\":case\"swiperight\":this.target.swipeable=!0;break;case\"wheel\":case\"wheelup\":case\"wheeldown\":case\"wheelleft\":case\"wheelright\":this.target.wheelable=!0;break;case\"over\":this.target.hoverable=!0;case\"out\":this.target.hoverable=!0;break;case\"focus\":case\"blur\":this.target.focusable=!0}return info.disposer=new Disposer_MultiDisposer(disposers),info},SpriteEventDispatcher}(EventDispatcher_TargetedEventDispatcher),SVGDefaults_SVGDefaults=function(){function SVGDefaults(){}return SVGDefaults.opacity=1,SVGDefaults.strokeOpacity=1,SVGDefaults.strokeWidth=1,SVGDefaults.fillOpacity=1,SVGDefaults.fill=Color_color(\"#000000\"),SVGDefaults.stroke=Color_color(\"#000000\"),SVGDefaults.focusable=void 0,SVGDefaults.tabindex=0,SVGDefaults}();function getProgressNumber(progress,from,to){return from+(to-from)*progress}function getProgressPercent(progress,from,to){return new Percent(getProgressNumber(progress,from.percent,to.percent))}function getProgressColor(progress,from,to){return new Color_Color(Colors_interpolate(from.rgb,to.rgb,progress))}function getHybridProperty(property,type){return type+property.charAt(0).toUpperCase()+property.substr(1)}var rootStylesheet,Animation_AnimationDisposer=function(){function AnimationDisposer(array){this._disposer=new Disposer(function(){for(;0!==array.length;)array[0].dispose()})}return AnimationDisposer.prototype.isDisposed=function(){return this._disposer.isDisposed()},AnimationDisposer.prototype.dispose=function(){this._disposer.dispose()},AnimationDisposer}(),Animation_Animation=function(_super){function Animation(object,animationOptions,duration,easing){var _this=_super.call(this)||this;return _this.duration=0,_this.easing=linear,_this.progress=0,_this._loop=0,_this._pause=!1,_this._delayTimeout=null,_this._time=0,_this._isFinished=!1,_this.className=\"Animation\",_this.object=object,_this.animationOptions=toArray(animationOptions),_this.duration=duration,easing&&(_this.easing=easing),_this.applyTheme(),_this}return __extends(Animation,_super),Animation.prototype.debug=function(){},Animation.prototype.dispose=function(){_super.prototype.dispose.call(this),this.pause()},Animation.prototype.delay=function(delay){var _this=this;if(delay>0){this.pause(),move(this.object.animations,this);var id_1=setTimeout(function(){_this._delayTimeout=null,_this.start()},delay);this._delayTimeout=new Disposer(function(){clearTimeout(id_1)})}return this},Animation.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,move(system.animations,this),move(this.object.animations,this),system.requestFrame()},Animation.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var i=this.animationOptions.length-1;i>=0;i--){var options=this.animationOptions[i];if(hasValue(options.from)||(options.childObject?options.from=options.childObject[options.property]:(options.from=this.object[options.property],hasValue(options.from)||(options.from=SVGDefaults_SVGDefaults[options.property]))),options.from==options.to)Array_remove(this.animationOptions,options);else if(hasValue(options.from))if(isNumber(options.to))if(options.updateMethod=getProgressNumber,options.from instanceof Percent){var convertedFrom=this.object[getHybridProperty(options.property,\"pixel\")];isNaN(convertedFrom)?(this.staticOptions.push(options),Array_remove(this.animationOptions,options)):options.from=convertedFrom}else isNaN(options.from)&&(this.staticOptions.push(options),Array_remove(this.animationOptions,options));else options.to instanceof Color_Color?options.from?options.updateMethod=getProgressColor:(this.staticOptions.push(options),Array_remove(this.animationOptions,options)):options.to instanceof Percent?(options.updateMethod=getProgressPercent,isNaN(options.from)||(convertedFrom=this.object[getHybridProperty(options.property,\"relative\")],isNaN(convertedFrom)||(options.from=Percent_percent(100*convertedFrom)))):(this.staticOptions.push(options),Array_remove(this.animationOptions,options));else this.staticOptions.push(options),Array_remove(this.animationOptions,options)}return this.applyStaticOptions(),this.events.isEnabled(\"animationstarted\")&&this.events.dispatchImmediately(\"animationstarted\",{type:\"animationstarted\",target:this,progress:this.progress}),this.update(),0===this.duration&&this.end(),this},Animation.prototype.loop=function(count){return isNumber(count)||(count=1/0),this._loop=count,this},Animation.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),Array_remove(system.animations,this),Array_remove(this.object.animations,this),this},Animation.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},Animation.prototype.end=function(){return 0==this._loop&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled(\"animationended\")&&this.events.dispatchImmediately(\"animationended\",{type:\"animationended\",target:this,progress:this.progress}),this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},Animation.prototype.kill=function(){this.pause(),this._isFinished=!0},Animation.prototype.isFinished=function(){return this._isFinished},Animation.prototype.applyStaticOptions=function(){var _this=this;each(this.staticOptions,function(options){options.childObject?options.childObject[options.property]=1==_this.progress?options.to:options.from:_this.object[options.property]=1==_this.progress?options.to:options.from})},Animation.prototype.stop=function(skipEvent){return this.pause(),skipEvent||this.events.isEnabled(\"animationstopped\")&&this.events.dispatchImmediately(\"animationstopped\",{type:\"animationstopped\",target:this,progress:this.progress}),this},Animation.prototype.setProgress=function(progress){var _this=this;this._time=this.duration*progress,each(this.animationOptions,function(options){if(options.updateMethod&&hasValue(options.from)){var value=options.updateMethod(progress,options.from,options.to);options.childObject?options.childObject[options.property]=value:_this.object[options.property]=value}}),this.progress=progress,this.events.isEnabled(\"animationprogress\")&&this.events.dispatchImmediately(\"animationprogress\",{type:\"animationprogress\",target:this,progress:this.progress}),system.requestFrame()},Animation.prototype.update=function(){if(!this._pause){var progress=void 0;this._time=fitToRange(Date.now()-this._startTime,0,this.duration);var timeProgress=this._time/this.duration;progress=this.easing(timeProgress),(0==this.duration||!isNumber(progress)||timeProgress>=1)&&(progress=1),this.setProgress(progress),1==Math_round(this._time/this.duration,6)&&this.end()}return this},Object.defineProperty(Animation.prototype,\"delayed\",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),Animation.prototype.stopSameAnimations=function(){var _this=this;each(Array_copy(this.object.animations),function(animation){if(animation!==_this&&!animation.delayed){var killed_1=[];each(_this.animationOptions,function(newOptions){each(animation.animationOptions,function(oldOptions){newOptions.property==oldOptions.property&&newOptions.childObject==oldOptions.childObject&&(killed_1.push(oldOptions),0==animation.animationOptions.length&&animation.kill())})}),each(killed_1,function(oldOptions){Array_remove(animation.animationOptions,oldOptions)})}})},Animation}(Base_BaseObjectEvents),SVGNS=\"http://www.w3.org/2000/svg\",XMLNS=\"http://www.w3.org/2000/xmlns/\",XLINK=\"http://www.w3.org/1999/xlink\";function addEventListener(dom,type,listener,options){return dom.addEventListener(type,listener,options||!1),new Disposer(function(){dom.removeEventListener(type,listener,options||!1)})}function addClass(element,className){if(element)if(element.classList)element.classList.add(className);else{var currentClassName=element.getAttribute(\"class\");element.setAttribute(\"class\",currentClassName?currentClassName.split(\" \").filter(function(item){return item!==className}).join(\" \")+\" \"+className:className)}}function removeClass(element,className){if(element)if(element.classList)element.classList.remove(className);else{var currentClassName=element.getAttribute(\"class\");currentClassName&&element.setAttribute(\"class\",currentClassName.split(\" \").filter(function(item){return item!==className}).join(\" \"))}}function DOM_setStyle(element,property,value){element.style[property]=value}function DOM_getComputedStyle(element,property){return element.currentStyle?element.currentStyle[property]:document.defaultView.getComputedStyle(element,null).getPropertyValue(property)}function DOM_blur(){var input=document.createElement(\"input\");input.style.position=\"fixed\",input.style.top=\"0px\",input.style.left=\"-10000px\",document.body.appendChild(input),input.focus(),input.blur(),document.body.removeChild(input)}function DOM_contains(a,b){for(var cursor=b;;){if(a===cursor)return!0;if(null==cursor.parentNode){if(null==cursor.host)return!1;cursor=cursor.host}else cursor=cursor.parentNode}}function getRoot(a){for(var owner=a.ownerDocument,cursor=a;;){if(null==cursor.parentNode)return cursor===owner||null!=cursor.host?cursor:null;cursor=cursor.parentNode}}function getStylesheet(){if(!hasValue(rootStylesheet)){var e=document.createElement(\"style\");e.type=\"text/css\",document.head.appendChild(e),rootStylesheet=e.sheet}return rootStylesheet}var DOM_StyleRule=function(_super){function StyleRule(selector,styles){var _this=_super.call(this,function(){var root=getStylesheet(),index=Array_indexOf(root.cssRules,_this._rule);if(-1===index)throw new Error(\"Could not dispose StyleRule\");root.deleteRule(index)})||this;return _this._rule=function(selector){var root=getStylesheet(),index=root.cssRules.length;return root.insertRule(selector+\"{}\",index),root.cssRules[index]}(selector),Object_each(styles,function(key,value){_this.setStyle(key,value)}),_this}return __extends(StyleRule,_super),Object.defineProperty(StyleRule.prototype,\"selector\",{get:function(){return this._rule.selectorText},set:function(selector){this._rule.selectorText=selector},enumerable:!0,configurable:!0}),StyleRule.prototype._setVendorPrefixName=function(name,value){var style=this._rule.style;style.setProperty(\"-webkit-\"+name,value,\"\"),style.setProperty(\"-moz-\"+name,value,\"\"),style.setProperty(\"-ms-\"+name,value,\"\"),style.setProperty(\"-o-\"+name,value,\"\"),style.setProperty(name,value,\"\")},StyleRule.prototype.setStyle=function(name,value){\"transition\"===name?this._setVendorPrefixName(name,value):this._rule.style.setProperty(name,value,\"\")},StyleRule}(Disposer),styleId=0;function findFont(element){var font=DOM_getComputedStyle(element,\"font-family\");if(font)return font;var parent_1=element.parentElement||element.parentNode;return parent_1?findFont(parent_1):void 0}function findFontSize(element){var font=DOM_getComputedStyle(element,\"font-size\");if(font)return font;var parent_2=element.parentElement||element.parentNode;return parent_2?findFontSize(parent_2):void 0}function isElementInViewport(el){var rect=el.getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.top<=(window.innerHeight||document.documentElement.clientHeight)&&rect.left<=(window.innerWidth||document.documentElement.clientWidth)}!function(_super){function StyleClass(styles,name){var _this=this,className=hasValue(name)?name:\"__style_\"+ ++styleId+\"__\";return(_this=_super.call(this,\".\"+className,styles)||this)._className=className,_this}__extends(StyleClass,_super),Object.defineProperty(StyleClass.prototype,\"className\",{get:function(){return this._className},set:function(name){this._className=name,this.selector=\".\"+name},enumerable:!0,configurable:!0}),StyleClass.prototype.toString=function(){return this._className}}(DOM_StyleRule);var AMElement_AMElement=function(){function AMElement(element){this._isDisposed=!1,this._x=0,this._y=0,this._rotation=0,this._scale=1,this.node=\"string\"==typeof element?document.createElementNS(SVGNS,element):element}return AMElement.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(AMElement.prototype,\"transformString\",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),AMElement.prototype.transform=function(){var transfromString=\"translate(\"+this._x+\",\"+this._y+\")\";1!=this._scale&&(transfromString+=(transfromString?\" \":\"\")+\"scale(\"+this._scale+\")\"),0!=this._rotation&&(transfromString+=(transfromString?\" \":\"\")+\"rotate(\"+this._rotation+\")\"),this._transformString=transfromString,this.node.setAttribute(\"transform\",transfromString)},AMElement.prototype.getBBox=function(){var bbox={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var svgbbox=this.node.getBBox();bbox.x=svgbbox.x,bbox.y=svgbbox.y,bbox.width=svgbbox.width,bbox.height=svgbbox.height}catch(err){}return bbox},AMElement.prototype.moveTo=function(point){if(point){var x=point.x,y=point.y;this._x==x&&this._y==y||(this._x=x,this._y=y,this.transform())}},Object.defineProperty(AMElement.prototype,\"content\",{get:function(){return this.node.innerHTML||\"\"},set:function(value){this.node.innerHTML=value},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,\"textContent\",{get:function(){return this.node.textContent||\"\"},set:function(value){this.node.textContent=value},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,\"x\",{get:function(){return this._x},set:function(value){this._x!=value&&(this._x=value,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,\"y\",{get:function(){return this._y},set:function(value){this._y!=value&&(this._y=value,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,\"rotation\",{get:function(){return this._rotation},set:function(angle){this._rotation!=angle&&(this._rotation=angle,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,\"scale\",{get:function(){return this._scale},set:function(value){this._scale!=value&&(this._scale=value,this.transform())},enumerable:!0,configurable:!0}),AMElement.prototype.removeAttr=function(attribute){this.node.removeAttribute(attribute)},AMElement.prototype.attr=function(attributes){var _this=this;return Object_each(attributes,function(attributeName,attributeValue){hasValue(attributeValue)?_this.node.setAttribute(attributeName,attributeValue):_this.node.removeAttribute(attributeName)}),this},AMElement.prototype.getAttr=function(attribute){return this.node.getAttribute(attribute)},AMElement.prototype.attrNS=function(ns,attribute,value){return this.node.setAttributeNS(ns,attribute,value),this},AMElement.prototype.getAttrNS=function(ns,attribute){return this.node.getAttributeNS(ns,attribute)},AMElement.prototype.removeStyle=function(attribute){delete this.node.style[attribute]},AMElement.prototype.getStyle=function(attribute){return this.node.style[attribute]},AMElement.prototype.addStyle=function(attributes){var _this=this;return Object_each(attributes,function(attributeName,attributeValue){hasValue(attributeValue)?_this.node.style[attributeName]=attributeValue:_this.removeStyle(attributeName)}),this},AMElement.prototype.addClass=function(name){addClass(this.node,name)},AMElement.prototype.removeClass=function(name){removeClass(this.node,name)},AMElement.prototype.setClass=function(name){this.node.setAttribute(\"class\",name)},AMElement.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},AMElement.prototype.isDisposed=function(){return this._isDisposed},AMElement.prototype.dispose=function(){this.removeNode()},AMElement}(),Group_Group=function(_super){function Group(elementName){return _super.call(this,elementName)||this}return __extends(Group,_super),Group.prototype.add=function(element){element&&this.node.appendChild(element.node)},Group.prototype.addToBack=function(element){if(element){var first=this.node.childNodes[0];first?first!=element.node&&this.node.insertBefore(element.node,first):this.node.appendChild(element.node)}},Group.prototype.removeElement=function(element){if(element)try{element.node&&element.node.parentNode==this.node&&this.node.removeChild(element.node)}catch(err){}},Group.prototype.hasChild=function(element){for(var i=0;i<this.node.childNodes.length;i++)if(this.node.childNodes[i]==element.node)return!0;return!1},Object.defineProperty(Group.prototype,\"content\",{get:function(){return this.node.innerHTML},set:function(value){this.node.innerHTML=value},enumerable:!0,configurable:!0}),Group.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var childNode=this.node.firstChild;childNode&&childNode.parentNode&&childNode.parentNode.removeChild(childNode)}},Group}(AMElement_AMElement),PopupCSS_rules=new Dictionary_Dictionary,InteractionObjectEvents_InteractionObjectEventDispatcher=function(_super){function InteractionObjectEventDispatcher(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._domEvents={},_this}return __extends(InteractionObjectEventDispatcher,_super),InteractionObjectEventDispatcher.prototype._addDOMEvent=function(type,key,listener,context){var _this=this;if(!this._domEvents[type]){var callback_1=function(e){listener.call(context,key,e)};this.target.element.addEventListener(type,callback_1,!1),this._domEvents[type]=new Disposer_CounterDisposer(function(){delete _this._domEvents[type],_this.target.element.removeEventListener(type,callback_1,!1)})}return this._domEvents[type].increment()},InteractionObjectEventDispatcher.prototype._dispatchKeyboardEvent=function(key,ev){this.target.events.isEnabled(key)&&this.target.events.dispatchImmediately(key,{type:key,target:this.target,event:ev})},InteractionObjectEventDispatcher.prototype._on=function(once,type,callback,context,shouldClone,dispatch){var info=_super.prototype._on.call(this,once,type,callback,context,shouldClone,dispatch),disposers=[info.disposer];switch(type){case\"hit\":case\"doublehit\":case\"rightclick\":case\"down\":case\"up\":this.target.clickable=!0;break;case\"drag\":case\"dragstart\":case\"dragstop\":this.target.draggable=!0;break;case\"track\":this.target.trackable=!0;break;case\"resize\":this.target.resizable=!0;break;case\"swipe\":case\"swipeleft\":case\"swiperight\":this.target.swipeable=!0;break;case\"wheel\":case\"wheelup\":case\"wheeldown\":case\"wheelleft\":case\"wheelright\":this.target.wheelable=!0;break;case\"over\":case\"out\":this.target.hoverable=!0;break;case\"focus\":case\"blur\":case\"focusin\":case\"focusout\":this.target.focusable=!0;break;case\"keydown\":case\"keyup\":case\"keypress\":case\"input\":disposers.push(this._addDOMEvent(type,type,this._dispatchKeyboardEvent,this))}return info.disposer=new Disposer_MultiDisposer(disposers),info},InteractionObjectEventDispatcher}(EventDispatcher_TargetedEventDispatcher),InteractionObject_InteractionObject=function(_super){function InteractionObject(element){var _this=_super.call(this)||this;return _this.events=new InteractionObjectEvents_InteractionObjectEventDispatcher(_this),_this.eventDisposers=new Dictionary_Dictionary,_this.replacedStyles=new Dictionary_Dictionary,_this._clickable=!1,_this._contextMenuDisabled=!1,_this._hoverable=!1,_this._trackable=!1,_this._draggable=!1,_this._swipeable=!1,_this._resizable=!1,_this._wheelable=!1,_this._inert=!1,_this._isHover=!1,_this._isHoverByTouch=!1,_this._isDown=!1,_this._isFocused=!1,_this._isTouchProtected=!1,_this._inertiaOptions=new Dictionary_Dictionary,_this.inertias=new Dictionary_Dictionary,_this._hitOptions={},_this._hoverOptions={},_this._swipeOptions={},_this._keyboardOptions={},_this._mouseOptions={},_this._cursorOptions={defaultStyle:[{property:\"cursor\",value:\"default\"}]},_this._element=element,_this.className=\"InteractionObject\",_this._disposers.push(new Dictionary_DictionaryDisposer(_this.inertias)),_this._disposers.push(new Dictionary_DictionaryDisposer(_this.eventDisposers)),_this.applyTheme(),_this}return __extends(InteractionObject,_super),Object.defineProperty(InteractionObject.prototype,\"isHover\",{get:function(){return this._isHover},set:function(value){this.isHover!=value&&(this._isHover=value,value?getInteraction().overObjects.moveValue(this):getInteraction().overObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"isHoverByTouch\",{get:function(){return this._isHoverByTouch},set:function(value){this.isHoverByTouch!=value&&(this._isHoverByTouch=value)},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"overPointers\",{get:function(){return this._overPointers||(this._overPointers=new List_List),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"isDown\",{get:function(){return this._isDown},set:function(value){this.isDown!=value&&(this._isDown=value,value?getInteraction().downObjects.moveValue(this):getInteraction().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"downPointers\",{get:function(){return this._downPointers||(this._downPointers=new List_List),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"isFocused\",{get:function(){return this._isFocused},set:function(value){this.isFocused!=value&&(this._isFocused=value,getInteraction().focusedObject=value?this:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"isTouchProtected\",{get:function(){return this._isTouchProtected},set:function(value){this._isTouchProtected!=value&&(this._isTouchProtected=value,value?getInteraction().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&getInteraction().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"clickable\",{get:function(){return this._clickable},set:function(value){this._clickable!==value&&(this._clickable=value,getInteraction().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"contextMenuDisabled\",{get:function(){return this._contextMenuDisabled},set:function(value){this._contextMenuDisabled!==value&&(this._contextMenuDisabled=value,getInteraction().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"hoverable\",{get:function(){return this._hoverable},set:function(value){this._hoverable!==value&&(this._hoverable=value,getInteraction().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"trackable\",{get:function(){return this._trackable},set:function(value){this._trackable!==value&&(this._trackable=value,getInteraction().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"draggable\",{get:function(){return this._draggable},set:function(value){this._draggable!==value&&(this._draggable=value,getInteraction().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"swipeable\",{get:function(){return this._swipeable},set:function(value){this._swipeable!==value&&(this._swipeable=value,getInteraction().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"resizable\",{get:function(){return this._resizable},set:function(value){this._resizable!==value&&(this._resizable=value,getInteraction().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"wheelable\",{get:function(){return this._wheelable},set:function(value){this._wheelable!==value&&(this._wheelable=value,getInteraction().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"inert\",{get:function(){return this._inert},set:function(value){this._inert!==value&&(this._inert=value)},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"focusable\",{get:function(){return this._focusable},set:function(value){this._focusable!==value&&(this._focusable=value,this._focusable&&-1==this.tabindex&&(this._tabindex=1),getInteraction().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"tabindex\",{get:function(){return getValueDefault(this._tabindex,-1)},set:function(value){this._tabindex!==value&&(this._tabindex=value,value>-1&&(this.focusable=!0),getInteraction().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"element\",{get:function(){return this._element},set:function(element){this._element=element},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"originalPosition\",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(value){this._originalPosition=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"originalScale\",{get:function(){return getValueDefault(this._originalScale,1)},set:function(value){this._originalScale!==value&&(this._originalScale=value)},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"originalAngle\",{get:function(){return getValueDefault(this._originalAngle,0)},set:function(value){this._originalAngle!==value&&(this._originalAngle=value)},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"inertiaOptions\",{get:function(){return this.sprite?this.sprite.adapter.apply(\"inertiaOptions\",this._inertiaOptions):this._inertiaOptions},set:function(value){this._inertiaOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"hitOptions\",{get:function(){return this.sprite?this.sprite.adapter.apply(\"hitOptions\",this._hitOptions):this._hitOptions},set:function(value){this._hitOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"hoverOptions\",{get:function(){return this.sprite?this.sprite.adapter.apply(\"hoverOptions\",this._hoverOptions):this._hoverOptions},set:function(value){this._hoverOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"swipeOptions\",{get:function(){return this.sprite?this.sprite.adapter.apply(\"swipeOptions\",this._swipeOptions):this._swipeOptions},set:function(value){this._swipeOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"keyboardOptions\",{get:function(){return this.sprite?this.sprite.adapter.apply(\"keyboardOptions\",this._keyboardOptions):this._keyboardOptions},set:function(value){this._keyboardOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"mouseOptions\",{get:function(){return this.sprite?this.sprite.adapter.apply(\"mouseOptions\",this._mouseOptions):this._mouseOptions},set:function(value){this._mouseOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,\"cursorOptions\",{get:function(){return this.sprite?this.sprite.adapter.apply(\"cursorOptions\",this._cursorOptions):this._cursorOptions},set:function(value){this._cursorOptions=value},enumerable:!0,configurable:!0}),InteractionObject.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.inertiaOptions=source.inertiaOptions,this.hitOptions=source.hitOptions,this.hoverOptions=source.hoverOptions,this.swipeOptions=source.swipeOptions,this.keyboardOptions=source.keyboardOptions,this.cursorOptions=source.cursorOptions,this.contextMenuDisabled=source.contextMenuDisabled,getInteraction().applyCursorOverStyle(this)},InteractionObject.prototype.setEventDisposer=function(key,value,f){var disposer=this.eventDisposers.getKey(key);value?null==disposer&&this.eventDisposers.setKey(key,f()):null!=disposer&&(disposer.dispose(),this.eventDisposers.removeKey(key))},InteractionObject.prototype.dispose=function(){_super.prototype.dispose.call(this);var interaction=getInteraction();interaction.overObjects.removeValue(this),interaction.downObjects.removeValue(this),interaction.trackedObjects.removeValue(this),interaction.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&interaction.unlockWheel(),interaction.focusedObject===this&&(interaction.focusedObject=void 0)},InteractionObject}(Base_BaseObjectEvents),InteractionKeyboardObject_InteractionKeyboardObject=function(){function InteractionKeyboardObject(io,ev){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=io,this.keyboardEvent=ev,this._startedOn=(new Date).getTime(),getInteraction().processDragStart(io),system.animations.push(this),this.update()}return InteractionKeyboardObject.prototype.update=function(){var io=this.interaction,speed=getInteraction().getKeyboardOption(io,\"speed\"),accelleration=getInteraction().getKeyboardOption(io,\"accelleration\"),accellerationDelay=getInteraction().getKeyboardOption(io,\"accellerationDelay\"),shift={x:0,y:0};this.keyboardEvent.shiftKey?(speed*=.5,accelleration=1):this.keyboardEvent.ctrlKey&&(speed*=2);var ms=(new Date).getTime()-this._startedOn,accelleratedMs=ms-accellerationDelay;if(accelleration>0&&accelleratedMs>0){var accellerationFactor=ms/accellerationDelay;ms=accellerationDelay,shift.x+=this.directionX*(speed*accelleration*accellerationFactor*accelleratedMs),shift.y+=this.directionY*(speed*accelleration*accellerationFactor*accelleratedMs)}shift.x+=this.directionX*(speed*ms),shift.y+=this.directionY*(speed*ms),getInteraction().handleTransformMove(io,shift,{x:0,y:0},this.keyboardEvent,!0,!1)},InteractionKeyboardObject.prototype.isDisposed=function(){return this._disposed},InteractionKeyboardObject.prototype.dispose=function(){this._disposed||(getInteraction().processDragStop(this.interaction),Array_remove(system.animations,this))},InteractionKeyboardObject}(),Inertia_Inertia=function(_super){function Inertia(interaction,type,point,startPoint){var _this=_super.call(this)||this;return _this.animations=[],_this.className=\"Inertia\",_this.interaction=interaction,_this.type=type,_this.point=point,_this.startPoint=startPoint,_this._disposers.push(new Animation_AnimationDisposer(_this.animations)),_this}return __extends(Inertia,_super),Object.defineProperty(Inertia.prototype,\"x\",{get:function(){return this.point.x},set:function(value){isNumber(value)&&(this.point.x=value,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(Inertia.prototype,\"y\",{get:function(){return this.point.y},set:function(value){isNumber(value)&&(this.point.y=value,this.handleMove())},enumerable:!0,configurable:!0}),Inertia.prototype.handleMove=function(){this.interaction.events.isEnabled(\"drag\")&&this.interaction.events.dispatchImmediately(\"drag\",{type:\"drag\",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1})},Inertia.prototype.done=function(){this.interaction.inertias.removeKey(this.type),\"move\"===this.type&&getInteraction().processDragStop(this.interaction),this.dispose()},Inertia}(Base_BaseObject),keyboard=new(function(){function Keyboard(){}return Keyboard.prototype.getEventKey=function(ev){var key;switch(ev.keyCode||ev.which){case 38:key=\"up\";break;case 40:key=\"down\";break;case 37:key=\"left\";break;case 39:key=\"right\";break;case 13:key=\"enter\";break;case 27:key=\"esc\";break;case 36:key=\"home\";break;case 35:key=\"end\";break;case 9:key=\"tab\";break;case 17:key=\"ctrl\";break;case 18:key=\"alt\";break;case 16:key=\"shift\";break;case 32:key=\"space\";break;case 36:key=\"home\";break;case 35:key=\"end\";break;case 33:key=\"pgup\";break;case 34:key=\"pgdn\";break;case 45:key=\"ins\";break;case 46:key=\"del\";break;case 107:key=\"plus\";break;case 109:key=\"minus\";break;default:key=\"other\"}return key},Keyboard.prototype.isKey=function(ev,key){var eventKey=this.getEventKey(ev);return isString(key)&&(key=[key]),-1!==key.indexOf(eventKey)},Keyboard.prototype.shiftKey=function(ev){return ev.shiftKey},Keyboard.prototype.ctrlKey=function(ev){return ev.ctrlKey},Keyboard.prototype.altKey=function(ev){return ev.altKey},Keyboard.prototype.metaKey=function(ev){return ev.metaKey},Keyboard}()),timeUnitDurations={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function getNextUnit(unit){switch(unit){case\"year\":return;case\"month\":return\"year\";case\"week\":case\"day\":return\"month\";case\"hour\":return\"day\";case\"minute\":return\"hour\";case\"second\":return\"minute\";case\"millisecond\":return\"second\"}}function getDuration(unit,count){return hasValue(count)||(count=1),timeUnitDurations[unit]*count}function getTime(){return(new Date).getTime()}function Time_copy(date){return new Date(date.getTime())}function checkChange(dateOne,dateTwo,unit,utc){dateOne=new Date(dateOne.getTime()),dateTwo=new Date(dateTwo.getTime());var timeZoneOffset1=0,timeZoneOffset2=0;utc||\"millisecond\"==unit||(timeZoneOffset1=dateOne.getTimezoneOffset(),dateOne.setUTCMinutes(dateOne.getUTCMinutes()-timeZoneOffset1),timeZoneOffset2=dateTwo.getTimezoneOffset(),dateTwo.setUTCMinutes(dateTwo.getUTCMinutes()-timeZoneOffset2));var changed=!1;switch(unit){case\"year\":dateOne.getUTCFullYear()!=dateTwo.getUTCFullYear()&&(changed=!0);break;case\"month\":dateOne.getUTCFullYear()!=dateTwo.getUTCFullYear()?changed=!0:dateOne.getUTCMonth()!=dateTwo.getUTCMonth()&&(changed=!0);break;case\"day\":dateOne.getUTCMonth()!=dateTwo.getUTCMonth()?changed=!0:dateOne.getUTCDate()!=dateTwo.getUTCDate()&&(changed=!0);break;case\"hour\":dateOne.getUTCHours()!=dateTwo.getUTCHours()&&(changed=!0);break;case\"minute\":dateOne.getUTCMinutes()!=dateTwo.getUTCMinutes()&&(changed=!0);break;case\"second\":dateOne.getUTCSeconds()!=dateTwo.getUTCSeconds()&&(changed=!0);break;case\"millisecond\":dateOne.getTime()!=dateTwo.getTime()&&(changed=!0)}if(changed)return!0;var nextUnit=getNextUnit(unit);return!!nextUnit&&(dateOne.setUTCMinutes(dateOne.getUTCMinutes()+timeZoneOffset1),dateTwo.setUTCMinutes(dateTwo.getUTCMinutes()+timeZoneOffset2),checkChange(dateOne,dateTwo,nextUnit,utc))}function Time_add(date,unit,count,utc){var timeZoneOffset=0;switch(utc||\"millisecond\"==unit||(timeZoneOffset=date.getTimezoneOffset(),date.setUTCMinutes(date.getUTCMinutes()-timeZoneOffset)),unit){case\"day\":var day=date.getUTCDate();date.setUTCDate(day+count);break;case\"second\":var seconds=date.getUTCSeconds();date.setUTCSeconds(seconds+count);break;case\"millisecond\":var milliseconds=date.getUTCMilliseconds();date.setUTCMilliseconds(milliseconds+count);break;case\"hour\":var hours=date.getUTCHours();date.setUTCHours(hours+count);break;case\"minute\":var minutes=date.getUTCMinutes();date.setUTCMinutes(minutes+count);break;case\"year\":var year=date.getUTCFullYear();date.setUTCFullYear(year+count);break;case\"month\":var month=date.getUTCMonth();date.setUTCMonth(month+count);break;case\"week\":var wday=date.getUTCDate();date.setUTCDate(wday+7*count)}if(!utc&&\"millisecond\"!=unit&&(date.setUTCMinutes(date.getUTCMinutes()+timeZoneOffset),\"day\"==unit||\"week\"==unit||\"month\"==unit||\"year\"==unit)){var newTimeZoneOffset=date.getTimezoneOffset();if(newTimeZoneOffset!=timeZoneOffset){var diff=newTimeZoneOffset-timeZoneOffset;date.setUTCMinutes(date.getUTCMinutes()+diff),date.getTimezoneOffset()!=newTimeZoneOffset&&date.setUTCMinutes(date.getUTCMinutes()-diff)}}return date}function Time_round(date,unit,count,firstDateOfWeek,utc,firstDate){isNumber(count)||(count=1);var timeZoneOffset=0;switch(utc||\"millisecond\"==unit||(timeZoneOffset=date.getTimezoneOffset(),date.setUTCMinutes(date.getUTCMinutes()-timeZoneOffset)),unit){case\"day\":var day=date.getUTCDate();if(count>1){if(firstDate){firstDate=Time_round(firstDate,\"day\",1);var difference=date.getTime()-firstDate.getTime(),unitCount=Math.floor(difference/getDuration(\"day\")/count),duration=getDuration(\"day\",unitCount*count);date.setTime(firstDate.getTime()+duration-timeZoneOffset*getDuration(\"minute\"))}}else date.setUTCDate(day);date.setUTCHours(0,0,0,0);break;case\"second\":var seconds=date.getUTCSeconds();count>1&&(seconds=Math.floor(seconds/count)*count),date.setUTCSeconds(seconds,0);break;case\"millisecond\":if(1==count)return date;var milliseconds=date.getUTCMilliseconds();milliseconds=Math.floor(milliseconds/count)*count,date.setUTCMilliseconds(milliseconds);break;case\"hour\":var hours=date.getUTCHours();count>1&&(hours=Math.floor(hours/count)*count),date.setUTCHours(hours,0,0,0);break;case\"minute\":var minutes=date.getUTCMinutes();milliseconds=date.getUTCMilliseconds(),count>1&&(minutes=Math.floor(minutes/count)*count),date.setUTCMinutes(minutes,0,0);break;case\"month\":var month=date.getUTCMonth();count>1&&(month=Math.floor(month/count)*count),date.setUTCMonth(month,1),date.setUTCHours(0,0,0,0);break;case\"year\":var year=date.getUTCFullYear();count>1&&(year=Math.floor(year/count)*count),date.setUTCFullYear(year,0,1),date.setUTCHours(0,0,0,0);break;case\"week\":var wday=date.getUTCDate(),weekDay=date.getUTCDay();isNumber(firstDateOfWeek)||(firstDateOfWeek=1),date.setUTCDate(wday=weekDay>=firstDateOfWeek?wday-weekDay+firstDateOfWeek:wday-(7+weekDay)+firstDateOfWeek),date.setUTCHours(0,0,0,0)}if(!utc&&\"millisecond\"!=unit&&(date.setUTCMinutes(date.getUTCMinutes()+timeZoneOffset),\"day\"==unit||\"week\"==unit||\"month\"==unit||\"year\"==unit)){var newTimeZoneOffset=date.getTimezoneOffset();if(newTimeZoneOffset!=timeZoneOffset){var diff=newTimeZoneOffset-timeZoneOffset;date.setUTCMinutes(date.getUTCMinutes()+diff)}}return date}var Interaction_Interaction=function(_super){function Interaction(){var _this=_super.call(this)||this;return _this._globalEventsAdded=!1,_this._pointerEvents={pointerdown:\"mousedown\",pointerup:\"mouseup\",pointermove:\"mousemove\",pointercancel:\"mouseup\",pointerover:\"mouseover\",pointerout:\"mouseout\",wheel:\"wheel\"},_this._usePointerEventsOnly=!1,_this._useTouchEventsOnly=!1,_this._addHoverEvents=!0,_this._passiveSupported=!1,_this._delayedEvents={out:[]},_this.overObjects=new List_List,_this.downObjects=new List_List,_this.trackedObjects=new List_List,_this.transformedObjects=new List_List,_this.pointers=new Dictionary_Dictionary,_this.inertiaOptions=new Dictionary_Dictionary,_this.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},_this.hoverOptions={touchOutBehavior:\"leave\",touchOutDelay:1e3},_this.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},_this.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},_this.mouseOptions={sensitivity:1},_this.className=\"Interaction\",_this.body=_this.getInteraction(document.body),_this._disposers.push(_this.body),window.hasOwnProperty(\"PointerEvent\")?(_this._pointerEvents.pointerdown=\"pointerdown\",_this._pointerEvents.pointerup=\"pointerup\",_this._pointerEvents.pointermove=\"pointermove\",_this._pointerEvents.pointercancel=\"pointercancel\",_this._pointerEvents.pointerover=\"pointerover\",_this._pointerEvents.pointerout=\"pointerout\"):window.hasOwnProperty(\"MSPointerEvent\")?(_this._pointerEvents.pointerdown=\"MSPointerDown\",_this._pointerEvents.pointerup=\"MSPointerUp\",_this._pointerEvents.pointermove=\"MSPointerMove\",_this._pointerEvents.pointercancel=\"MSPointerUp\",_this._pointerEvents.pointerover=\"MSPointerOver\",_this._pointerEvents.pointerout=\"MSPointerOut\"):\"undefined\"!=typeof matchMedia&&matchMedia(\"(pointer:fine)\").matches?\"ontouchstart\"in window&&(_this._addHoverEvents=!1,_this._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)?_this._usePointerEventsOnly=!0:_this._useTouchEventsOnly=!0,\"onwheel\"in document.createElement(\"div\")?_this._pointerEvents.wheel=\"wheel\":hasValue(document.onmousewheel)&&(_this._pointerEvents.wheel=\"mousewheel\"),_this.inertiaOptions.setKey(\"move\",{time:100,duration:500,factor:1,easing:polyOut3}),_this.inertiaOptions.setKey(\"resize\",{time:100,duration:500,factor:1,easing:polyOut3}),_this._passiveSupported=Interaction.passiveSupported,_this.applyTheme(),_this}return __extends(Interaction,_super),Interaction.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},Interaction.prototype.debug=function(){},Interaction.prototype.addGlobalEvents=function(){var _this=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(addEventListener(document,this._pointerEvents.pointerdown,function(ev){_this.handleGlobalPointerDown(ev)})),this._disposers.push(addEventListener(document,this._pointerEvents.pointermove,function(ev){_this.handleGlobalPointerMove(ev)})),this._disposers.push(addEventListener(document,this._pointerEvents.pointerup,function(ev){_this.handleGlobalPointerUp(ev)})),this._disposers.push(addEventListener(document,this._pointerEvents.pointercancel,function(ev){_this.handleGlobalPointerUp(ev,!0)}))),this._usePointerEventsOnly||(this._disposers.push(addEventListener(document,\"touchstart\",function(ev){_this.handleGlobalTouchStart(ev)})),this._disposers.push(addEventListener(document,\"touchmove\",function(ev){_this.handleGlobalTouchMove(ev)})),this._disposers.push(addEventListener(document,\"touchend\",function(ev){_this.handleGlobalTouchEnd(ev)}))),this._disposers.push(addEventListener(document,\"keydown\",function(ev){_this.handleGlobalKeyDown(ev)})),this._disposers.push(addEventListener(document,\"keyup\",function(ev){_this.handleGlobalKeyUp(ev)})),this._globalEventsAdded=!0)},Interaction.prototype.processClickable=function(io){this.processTouchable(io)},Interaction.prototype.processContextMenu=function(io){io.contextMenuDisabled?io.eventDisposers.hasKey(\"contextMenuDisabled\")||io.eventDisposers.setKey(\"contextMenuDisabled\",addEventListener(io.element,\"contextmenu\",function(e){e.preventDefault()})):io.eventDisposers.hasKey(\"contextMenuDisabled\")&&io.eventDisposers.getKey(\"contextMenuDisabled\").dispose()},Interaction.prototype.processHoverable=function(io){var _this=this;if(io.hoverable||io.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(io),!io.eventDisposers.hasKey(\"hoverable\")&&this._addHoverEvents&&io.eventDisposers.setKey(\"hoverable\",new Disposer_MultiDisposer([addEventListener(io.element,this._pointerEvents.pointerout,function(e){return _this.handlePointerOut(io,e)}),addEventListener(io.element,this._pointerEvents.pointerover,function(e){return _this.handlePointerOver(io,e)})]));else{var disposer=io.eventDisposers.getKey(\"hoverable\");null!=disposer&&(disposer.dispose(),io.eventDisposers.removeKey(\"hoverable\"))}this.processTouchable(io)},Interaction.prototype.processMovable=function(io){(io.draggable||io.swipeable||io.trackable||io.resizable)&&(this.isGlobalElement(io)||io.isTouchProtected||this.prepElement(io),this.applyCursorOverStyle(io)),this.processTouchable(io)},Interaction.prototype.processTrackable=function(io){this.processHoverable(io),this.processMovable(io),io.trackable?this.trackedObjects.moveValue(io):this.trackedObjects.removeValue(io)},Interaction.prototype.processDraggable=function(io){this.processMovable(io)},Interaction.prototype.processSwipeable=function(io){this.processMovable(io)},Interaction.prototype.processResizable=function(io){this.processMovable(io)},Interaction.prototype.processWheelable=function(io){var _this=this;if(io.wheelable)io.eventDisposers.hasKey(\"wheelable\")||io.eventDisposers.setKey(\"wheelable\",new Disposer_MultiDisposer([addEventListener(io.element,this._pointerEvents.wheel,function(e){return _this.handleMouseWheel(io,e)},!!this._passiveSupported&&{passive:!1}),io.events.on(\"out\",function(e){io.wheelable&&_this.unlockWheel()}),io.events.on(\"over\",function(e){io.wheelable&&_this.lockWheel()})]));else{var disposer=io.eventDisposers.getKey(\"wheelable\");null!=disposer&&(disposer.dispose(),io.eventDisposers.removeKey(\"wheelable\"))}},Interaction.prototype.processFocusable=function(io){var _this=this;if(!0===io.focusable&&io.tabindex>-1&&!this._useTouchEventsOnly)io.eventDisposers.hasKey(\"focusable\")||io.eventDisposers.setKey(\"focusable\",new Disposer_MultiDisposer([addEventListener(io.element,\"focus\",function(e){return _this.handleFocus(io,e)}),addEventListener(io.element,\"blur\",function(e){return _this.handleBlur(io,e)}),addEventListener(io.element,this._pointerEvents.pointerdown,function(e){return _this.handleFocusBlur(io,e)}),addEventListener(io.element,\"touchstart\",function(e){return _this.handleFocusBlur(io,e)},!!this._passiveSupported&&{passive:!1})]));else{var disposer=io.eventDisposers.getKey(\"focusable\");null!=disposer&&(disposer.dispose(),io.eventDisposers.removeKey(\"focusable\"))}},Interaction.prototype.processTouchable=function(io){var _this=this;if(io.clickable||io.hoverable||io.trackable||io.draggable||io.swipeable||io.resizable)this.addGlobalEvents(),io.eventDisposers.hasKey(\"touchable\")||(this._useTouchEventsOnly||this._usePointerEventsOnly?this._useTouchEventsOnly?this._usePointerEventsOnly||io.eventDisposers.setKey(\"touchable\",addEventListener(io.element,\"touchstart\",function(e){return _this.handleTouchDown(io,e)},!!this._passiveSupported&&{passive:!1})):io.eventDisposers.setKey(\"touchable\",addEventListener(io.element,this._pointerEvents.pointerdown,function(e){return _this.handlePointerDown(io,e)})):io.eventDisposers.setKey(\"touchable\",new Disposer_MultiDisposer([addEventListener(io.element,this._pointerEvents.pointerdown,function(e){return _this.handlePointerDown(io,e)}),addEventListener(io.element,\"touchstart\",function(e){return _this.handleTouchDown(io,e)},!!this._passiveSupported&&{passive:!1})])));else{var disposer=io.eventDisposers.getKey(\"touchable\");null!=disposer&&(disposer.dispose(),io.eventDisposers.removeKey(\"touchable\"))}},Interaction.prototype.handleFocus=function(io,ev){io.focusable?(io.isFocused=!0,io.events.isEnabled(\"focus\")&&!system.isPaused&&io.events.dispatchImmediately(\"focus\",{type:\"focus\",target:io,event:ev})):ev.preventDefault()},Interaction.prototype.handleFocusBlur=function(io,ev){!1!==io.focusable&&this.getHitOption(io,\"noFocus\")&&io.events.once(\"focus\",function(){io.events.disableType(\"blur\"),DOM_blur(),io.sprite&&io.sprite.handleBlur(),io.events.enableType(\"blur\")})},Interaction.prototype.handleBlur=function(io,ev){io.focusable?(io.isFocused=!1,io.events.isEnabled(\"blur\")&&!system.isPaused&&io.events.dispatchImmediately(\"blur\",{type:\"blur\",target:io,event:ev})):ev.preventDefault()},Interaction.prototype.handleGlobalKeyDown=function(ev){if(this.focusedObject)if(keyboard.isKey(ev,\"esc\"))DOM_blur();else if(this.focusedObject.draggable&&keyboard.isKey(ev,[\"up\",\"down\",\"left\",\"right\"])){ev.preventDefault();var io=this.focusedObject;if(io.eventDisposers.hasKey(\"interactionKeyboardObject\"))return;var ko=new InteractionKeyboardObject_InteractionKeyboardObject(io,ev);switch(io.eventDisposers.setKey(\"interactionKeyboardObject\",ko),keyboard.getEventKey(ev)){case\"up\":ko.directionY=-1;break;case\"down\":ko.directionY=1;break;case\"left\":ko.directionX=-1;break;case\"right\":ko.directionX=1}}},Interaction.prototype.handleGlobalKeyUp=function(ev){if(this.focusedObject){var disposer=this.focusedObject.eventDisposers.getKey(\"interactionKeyboardObject\");null!=disposer&&(ev.preventDefault(),disposer.dispose(),this.focusedObject.eventDisposers.removeKey(\"interactionKeyboardObject\"))}},Interaction.prototype.handleGlobalPointerMove=function(ev){var pointer=this.getPointer(ev);pointer.point=this.getPointerPoint(ev),this.events.isEnabled(\"track\")&&!system.isPaused&&this.events.dispatchImmediately(\"track\",{type:\"track\",target:this,event:ev,pointer:pointer,touch:pointer.touch}),this.addBreadCrumb(pointer,pointer.point),this.handleGlobalMove(pointer,ev)},Interaction.prototype.handleGlobalPointerDown=function(ev){this.processDelayed();var pointer=this.getPointer(ev);this.events.isEnabled(\"down\")&&!system.isPaused&&this.events.dispatchImmediately(\"down\",{type:\"down\",target:this,event:ev,pointer:pointer,touch:pointer.touch})},Interaction.prototype.preventTouchAction=function(ev){ev.defaultPrevented||ev.preventDefault()},Interaction.prototype.handleGlobalPointerUp=function(ev,cancelled){void 0===cancelled&&(cancelled=!1);var pointer=this.getPointer(ev);this.events.isEnabled(\"up\")&&!system.isPaused&&this.events.dispatchImmediately(\"up\",{type:\"up\",target:this,event:ev,pointer:pointer,touch:pointer.touch}),this.handleGlobalUp(pointer,ev,cancelled)},Interaction.prototype.handleGlobalTouchMove=function(ev){for(var i=0;i<ev.changedTouches.length;i++){var pointer=this.getPointer(ev.changedTouches[i]);pointer.point=this.getPointerPoint(ev.changedTouches[i]),this.events.isEnabled(\"track\")&&!system.isPaused&&this.events.dispatchImmediately(\"track\",{type:\"track\",target:this,event:ev,pointer:pointer,touch:pointer.touch}),this.addBreadCrumb(pointer,pointer.point),this.handleGlobalMove(pointer,ev)}},Interaction.prototype.handleGlobalTouchStart=function(ev){this.processDelayed();for(var i=0;i<ev.changedTouches.length;i++){var pointer=this.getPointer(ev.changedTouches[i]);this._usePointerEventsOnly||!this.events.isEnabled(\"down\")||system.isPaused||this.events.dispatchImmediately(\"down\",{type:\"down\",target:this,event:ev,pointer:pointer,touch:pointer.touch})}},Interaction.prototype.handleGlobalTouchEnd=function(ev){for(var i=0;i<ev.changedTouches.length;i++){var pointer=this.getPointer(ev.changedTouches[i]);this.events.isEnabled(\"up\")&&!system.isPaused&&this.events.dispatchImmediately(\"up\",{type:\"up\",target:this,event:ev,pointer:pointer,touch:pointer.touch}),this.handleGlobalUp(pointer,ev)}},Interaction.prototype.handlePointerDown=function(io,ev){var pointer=this.getPointer(ev);(pointer.touch||1==ev.which||3==ev.which)&&(pointer.button=ev.which,this.resetPointer(pointer,ev),this.handleDown(io,pointer,ev))},Interaction.prototype.handlePointerOver=function(io,ev){var pointer=this.getPointer(ev);this.handleOver(io,pointer,ev)},Interaction.prototype.handlePointerOut=function(io,ev){var pointer=this.getPointer(ev);this.handleOut(io,pointer,ev)},Interaction.prototype.handleMouseWheel=function(io,ev){var pointer=this.getPointer(ev);pointer.point=this.getPointerPoint(ev);var deltaX,deltaY,mod=1;if(1==ev.deltaMode&&(mod=50),mod*=this.getMouseOption(io,\"sensitivity\"),!(ev instanceof WheelEvent))throw new Error(\"Invalid event type\");deltaX=Math.round(-1*ev.wheelDeltaX||ev.deltaX)*mod,deltaY=Math.round(-1*ev.wheelDeltaY||ev.deltaY)*mod,this.handleWheel(io,pointer,deltaX,deltaY,ev)},Interaction.prototype.handleTouchDown=function(io,ev){for(var i=0;i<ev.changedTouches.length;i++){var pointer=this.getPointer(ev.changedTouches[i]);this.maybePreventDefault(io,ev,pointer),this.resetPointer(pointer,ev.changedTouches[i]),this.handleDown(io,pointer,ev)}},Interaction.prototype.handleHit=function(io,pointer,ev){var now=getTime();if(io.lastHit&&io.lastHit>=now-this.getHitOption(io,\"doubleHitTime\")){if(now-io.lastHit<100)return;io.lastHit=void 0,io.lastHitPointer=void 0,io.events.isEnabled(\"doublehit\")&&!system.isPaused&&io.events.dispatchImmediately(\"doublehit\",{type:\"doublehit\",target:io,point:pointer.point,event:ev,touch:pointer.touch})}else io.lastHit=now,io.lastHitPointer=pointer,3===pointer.button?io.events.isEnabled(\"rightclick\")&&!system.isPaused&&io.events.dispatchImmediately(\"rightclick\",{type:\"rightclick\",target:io,event:ev}):io.events.isEnabled(\"hit\")&&!system.isPaused&&io.events.dispatchImmediately(\"hit\",{type:\"hit\",target:io,event:ev,point:pointer.point,touch:pointer.touch})},Interaction.prototype.handleOver=function(io,pointer,ev,soft){void 0===soft&&(soft=!1),io.hoverable&&(this.processDelayed(),io.overPointers.moveValue(pointer),io.isHover||(io.isHover=!0,this.overObjects.moveValue(io),this.handleTrack(this.body,pointer,ev,!0),io.events.isEnabled(\"over\")&&!system.isPaused&&io.events.dispatchImmediately(\"over\",{type:\"over\",target:io,event:ev,pointer:pointer,touch:pointer.touch})))},Interaction.prototype.handleOut=function(io,pointer,ev,soft,force){var _this=this;if(void 0===soft&&(soft=!1),void 0===force&&(force=!1),io.hoverable&&(io.overPointers.removeValue(pointer),io.isHover&&(!io.hasDelayedOut||force))){if(soft&&io.overPointers.length)return;if(pointer.touch&&!force&&!this.old(pointer)){var behavior=this.getHoverOption(io,\"touchOutBehavior\");if(\"leave\"==behavior)return this._delayedEvents.out.push({type:\"out\",io:io,pointer:pointer,event:ev,keepUntil:getTime()+500}),void(io.hasDelayedOut=!0);if(\"delay\"==behavior&&this.getHoverOption(io,\"touchOutDelay\"))return void this._delayedEvents.out.push({type:\"out\",io:io,pointer:pointer,event:ev,keepUntil:getTime()+500,timeout:this.setTimeout(function(){_this.handleOut(io,pointer,ev,!0)},this.getHoverOption(io,\"touchOutDelay\"))})}io.isHover=!1,this.overObjects.removeValue(io),io.events.isEnabled(\"out\")&&!system.isPaused&&io.events.dispatchImmediately(\"out\",{type:\"out\",target:io,event:ev,pointer:pointer,touch:pointer.touch}),io.overPointers.clear(),io.hasDelayedOut=!1}},Interaction.prototype.processDelayed=function(){for(var delayedEvent;delayedEvent=this._delayedEvents.out.pop();)delayedEvent.timeout&&delayedEvent.timeout.dispose(),this.handleOut(delayedEvent.io,delayedEvent.pointer,delayedEvent.event,!1,!0)},Interaction.prototype.handleDown=function(io,pointer,ev){this.maybePreventDefault(io,ev,pointer),io.inert&&this.stopInertia(io),this.handleOver(io,pointer,ev,!0),io.downPointers.moveValue(pointer),this.applyCursorDownStyle(io,pointer),io.isDown||(!1!==io.focusable&&this.getHitOption(io,\"noFocus\")&&this.focusedObject&&DOM_blur(),io.isDown=!0,this.downObjects.moveValue(io),io.draggable&&this.processDragStart(io,pointer,ev),io.resizable&&this.processResizeStart(io,pointer,ev)),io.events.isEnabled(\"down\")&&!system.isPaused&&io.events.dispatchImmediately(\"down\",{type:\"down\",target:io,event:ev,pointer:pointer,touch:pointer.touch})},Interaction.prototype.handleGlobalUp=function(pointer,ev,cancelled){var _this=this;void 0===cancelled&&(cancelled=!1),Iterator_each(this.downObjects.backwards().iterator(),function(io){io&&io.downPointers.contains(pointer)&&_this.handleUp(io,pointer,ev,cancelled)})},Interaction.prototype.handleUp=function(io,pointer,ev,cancelled){void 0===cancelled&&(cancelled=!1),this.restoreCursorDownStyle(io,pointer),io.downPointers.removeValue(pointer),(pointer.touch||this._useTouchEventsOnly)&&this.handleOut(io,pointer,ev,!0),io.isDown&&(0==io.downPointers.length&&(io.isDown=!1,this.downObjects.removeValue(io)),io.events.isEnabled(\"up\")&&!system.isPaused&&io.events.dispatchImmediately(\"up\",{type:\"up\",target:io,event:ev,pointer:pointer,touch:pointer.touch}),cancelled||(io.swipeable&&this.swiped(io,pointer)?this.handleSwipe(io,pointer,ev):(io.clickable&&!this.moved(pointer,this.getHitOption(io,\"hitTolerance\"))&&this.handleHit(io,pointer,ev),io.inert&&this.moved(pointer,this.getHitOption(io,\"hitTolerance\"))?this.handleInertia(io,pointer):io.draggable&&this.processDragStop(io,pointer,ev),io.resizable&&this.processResizeStop(io,pointer,ev))))},Interaction.prototype.maybePreventDefault=function(io,ev,pointer){!hasValue(ev)||!(io.draggable||io.swipeable||io.trackable||io.resizable)||this.isGlobalElement(io)||!1===ev.cancelable||io.isTouchProtected&&pointer&&pointer.touch||ev.preventDefault()},Interaction.prototype.handleGlobalMove=function(pointer,ev){var event,_this=this;if(!pointer.touch){var target_1=\"function\"==typeof(event=pointer.lastEvent).composedPath?event.composedPath()[0]:event.target;Iterator_each(this.overObjects.backwards().iterator(),function(io){if(io&&io.overPointers.contains(pointer)&&io.hoverable){var reset=!1;io.element&&pointer.lastEvent&&DOM_contains(io.element,target_1)||(reset=!0),reset&&_this.handleOut(io,pointer,ev,!0)}})}Iterator_each(this.transformedObjects.backwards().iterator(),function(io){!io.downPointers.contains(pointer)||io.swipeable&&_this.swiping(io,pointer)||!io.draggable&&!io.resizable||_this.handleTransform(io,ev)}),Iterator_each(this.trackedObjects.backwards().iterator(),function(io){io.overPointers.contains(pointer)||_this.handleTrack(io,pointer,ev)})},Interaction.prototype.handleTrack=function(io,pointer,ev,skipCheck){void 0===skipCheck&&(skipCheck=!1),(skipCheck||this.moved(pointer,0))&&io.events.isEnabled(\"track\")&&!system.isPaused&&io.events.dispatchImmediately(\"track\",{type:\"track\",target:io,event:ev,point:pointer.point,pointer:pointer,touch:pointer.touch})},Interaction.prototype.handleSwipe=function(io,pointer,ev){io.events.isEnabled(\"swipe\")&&!system.isPaused&&io.events.dispatchImmediately(\"swipe\",{type:\"swipe\",target:io,event:ev,touch:pointer.touch}),pointer.startPoint.x<pointer.point.x?io.events.isEnabled(\"swiperight\")&&!system.isPaused&&io.events.dispatchImmediately(\"swiperight\",{type:\"swiperight\",target:io,event:ev,touch:pointer.touch}):io.events.isEnabled(\"swipeleft\")&&!system.isPaused&&io.events.dispatchImmediately(\"swipeleft\",{type:\"swipeleft\",target:io,event:ev,touch:pointer.touch})},Interaction.prototype.handleWheel=function(io,pointer,deltaX,deltaY,ev){var shift={x:deltaX,y:deltaY};io.events.isEnabled(\"wheel\")&&!system.isPaused&&io.events.dispatchImmediately(\"wheel\",{type:\"wheel\",target:io,event:ev,point:pointer.point,shift:shift}),deltaX<0?io.events.isEnabled(\"wheelleft\")&&!system.isPaused&&io.events.dispatchImmediately(\"wheelleft\",{type:\"wheelleft\",target:io,event:ev,point:pointer.point,shift:shift}):deltaX>0?io.events.isEnabled(\"swiperight\")&&!system.isPaused&&io.events.dispatchImmediately(\"wheelright\",{type:\"wheelright\",target:io,event:ev,point:pointer.point,shift:shift}):deltaY<0?io.events.isEnabled(\"wheelup\")&&!system.isPaused&&io.events.dispatchImmediately(\"wheelup\",{type:\"wheelup\",target:io,event:ev,point:pointer.point,shift:shift}):deltaY>0&&io.events.isEnabled(\"wheeldown\")&&!system.isPaused&&io.events.dispatchImmediately(\"wheeldown\",{type:\"wheeldown\",target:io,event:ev,point:pointer.point,shift:shift})},Interaction.prototype.handleInertia=function(io,pointer){io.draggable&&0===io.downPointers.length&&this.handleMoveInertia(io,pointer),io.resizable&&io.downPointers.length>1&&this.handleResizeInertia(io,pointer)},Interaction.prototype.handleMoveInertia=function(io,pointer){var inertia=new Inertia_Inertia(io,\"move\",{x:pointer.point.x,y:pointer.point.y},{x:pointer.startPoint.x,y:pointer.startPoint.y}),ref=this.getTrailPoint(pointer,getTime()-this.getInertiaOption(io,\"move\",\"time\"));if(void 0!==ref){var factor=this.getInertiaOption(io,\"move\",\"factor\"),animation=new Animation_Animation(inertia,[{to:pointer.point.x+(pointer.point.x-ref.point.x)*factor,property:\"x\"},{to:pointer.point.y+(pointer.point.y-ref.point.y)*factor,property:\"y\"}],this.getInertiaOption(io,\"move\",\"duration\"),this.getInertiaOption(io,\"move\",\"easing\")).start();this._disposers.push(animation.events.on(\"animationended\",function(ev){inertia.done()})),io.inertias.setKey(\"move\",inertia)}else this.processDragStop(io,pointer,pointer.lastUpEvent)},Interaction.prototype.handleResizeInertia=function(io,pointer){},Interaction.prototype.handleTransform=function(io,ev){var pointer2,point2,startPoint2,pointer1=io.downPointers.getIndex(0),point1=null,startPoint1=null;pointer1&&(point1=pointer1.point,startPoint1=pointer1.startPoint),startPoint2=point2={x:io.originalPosition.x,y:io.originalPosition.y};for(var singlePoint=!0,i=1;i<io.downPointers.length;i++){var nextPointer=io.downPointers.getIndex(i);if(startPoint1.x!=nextPointer.startPoint.x&&startPoint1.y!=nextPointer.startPoint.y){singlePoint=!1,point2=(pointer2=nextPointer).point,startPoint2=pointer2.startPoint;break}}var pointer1Moved=pointer1&&this.moved(pointer1,0);if(io.draggable&&pointer1&&pointer1.dragStartEvents&&pointer1.dragStartEvents.length&&pointer1Moved&&io.events.isEnabled(\"dragstart\")&&!system.isPaused&&io.events.dispatchImmediately(\"dragstart\",pointer1.dragStartEvents.shift()),singlePoint&&io.draggable)this.handleTransformMove(io,point1,startPoint1,ev,pointer1Moved,pointer1.touch);else{var pointer2Moved=pointer2&&this.moved(pointer2,0);io.draggable&&io.resizable?(this.handleTransformMove(io,point1,startPoint1,ev,pointer1Moved&&pointer2Moved,pointer1.touch),this.handleTransformResize(io,point1,startPoint1,point2,startPoint2,ev,pointer1Moved&&pointer2Moved,pointer1.touch)):(io.draggable&&this.handleTransformMove(io,point1,startPoint1,ev,pointer1Moved,pointer1.touch),!io.resizable||singlePoint&&!ev.ctrlKey||this.handleTransformResize(io,point1,startPoint1,point2,startPoint2,ev,pointer1Moved&&pointer2Moved,pointer1.touch))}},Interaction.prototype.handleTransformMove=function(io,point,startPoint,ev,pointerMoved,touch){pointerMoved&&(!io.events.isEnabled(\"drag\")||system.isPaused||io.isTouchProtected&&touch||io.events.dispatchImmediately(\"drag\",{type:\"drag\",target:io,event:ev,shift:{x:point.x-startPoint.x,y:point.y-startPoint.y},startPoint:startPoint,point:point,touch:touch}))},Interaction.prototype.handleTransformResize=function(io,point1,startPoint1,point2,startPoint2,ev,pointerMoved,touch){if(io.events.isEnabled(\"resize\")&&!system.isPaused&&(!io.isTouchProtected||!touch)){var imev={type:\"resize\",target:io,event:ev,scale:getScale(point1,startPoint1,point2,startPoint2),startPoint1:startPoint1,point1:point1,startPoint2:startPoint2,point2:point2,touch:touch};io.events.dispatchImmediately(\"resize\",imev)}},Interaction.prototype.processDragStart=function(io,pointer,ev){this.transformedObjects.moveValue(io);var imev={type:\"dragstart\",target:io,event:ev,touch:!!pointer&&pointer.touch};pointer&&(pointer.dragTarget=io),pointer&&pointer.dragStartEvents?pointer.dragStartEvents.push(imev):system.isPaused||io.dispatchImmediately(\"dragstart\",imev)},Interaction.prototype.processDragStop=function(io,pointer,ev){pointer||(pointer=this.getDragPointer(io)),pointer&&(pointer.dragTarget=void 0),this.transformedObjects.removeValue(io),(!pointer||this.moved(pointer,0))&&io.events.isEnabled(\"dragstop\")&&!system.isPaused&&io.events.dispatchImmediately(\"dragstop\",{type:\"dragstop\",target:io,touch:!!pointer&&pointer.touch})},Interaction.prototype.processResizeStart=function(io,pointer,ev){this.transformedObjects.moveValue(io)},Interaction.prototype.processResizeStop=function(io,pointer,ev){this.transformedObjects.removeValue(io)},Interaction.prototype.dragStart=function(io,pointer){pointer||(pointer=this.getDragPointer(io)),pointer&&this.handleDown(io,pointer,pointer.lastDownEvent)},Interaction.prototype.dragStop=function(io,pointer){pointer||(pointer=this.getDragPointer(io)),pointer&&this.handleGlobalUp(pointer,pointer.lastUpEvent)},Interaction.prototype.getDragPointer=function(io){return io?io.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},Interaction.prototype.getPointerId=function(ev){return(hasValue(ev.identifier)?\"\"+ev.identifier:hasValue(ev.pointerId)?\"\"+ev.pointerId:\"m\").replace(\"-\",\"\")},Interaction.prototype.getPointerPoint=function(ev){return{x:ev.clientX,y:ev.clientY}},Interaction.prototype.getPointer=function(ev){var pointer,id=this.getPointerId(ev),point=this.getPointerPoint(ev);return this.pointers.hasKey(id)?(pointer=this.pointers.getKey(id)).touch=this.isPointerTouch(ev):(pointer={id:id,touch:this.isPointerTouch(ev),startPoint:point,startTime:getTime(),point:point,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(pointer,point),this.pointers.setKey(id,pointer)),pointer.lastEvent=ev,pointer},Interaction.prototype.isPointerTouch=function(ev){if(\"undefined\"!=typeof Touch&&ev instanceof Touch)return!0;if(\"undefined\"!=typeof PointerEvent&&ev instanceof PointerEvent&&hasValue(ev.pointerType))switch(ev.pointerType){case\"touch\":case\"pen\":case 2:return!0;case\"mouse\":case 4:return!1;default:return!(ev instanceof MouseEvent)}else if(hasValue(ev.type)&&ev.type.match(/^mouse/))return!1;return!0},Interaction.prototype.resetPointer=function(pointer,ev){var point=this.getPointerPoint(ev);pointer.startTime=getTime(),pointer.startPoint={x:point.x,y:point.y},pointer.point={x:point.x,y:point.y},pointer.track=[],pointer.swipeCanceled=!1},Interaction.prototype.addBreadCrumb=function(pointer,point){pointer.track.push({timestamp:getTime(),point:point})},Interaction.prototype.lockDocument=function(){this.prepElement(this.body)},Interaction.prototype.unlockDocument=function(){0==this.transformedObjects.length&&this.restoreAllStyles(this.body)},Interaction.prototype.lockElement=function(io){this.prepElement(io)},Interaction.prototype.unlockElement=function(io){this.restoreAllStyles(io)},Interaction.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,!!this._passiveSupported&&{passive:!1})},Interaction.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},Interaction.prototype.isLocalElement=function(pointer,svg,id){var cached=this.getCache(\"local_pointer_\"+pointer.id);if(hasValue(cached))return cached;var target=(getRoot(svg)||document).elementFromPoint(pointer.point.x,pointer.point.y),local=target&&DOM_contains(svg,target);return this.setCache(\"local_pointer_\"+pointer.id+\"_\"+id,local,100),local},Interaction.prototype.wheelLockEvent=function(ev){return ev.preventDefault(),!1},Interaction.prototype.prepElement=function(io){var el=io.element;if(el){for(var props=[\"touchAction\",\"webkitTouchAction\",\"MozTouchAction\",\"MSTouchAction\",\"msTouchAction\",\"oTouchAction\",\"userSelect\",\"webkitUserSelect\",\"MozUserSelect\",\"MSUserSelect\",\"msUserSelect\",\"oUserSelect\",\"touchSelect\",\"webkitTouchSelect\",\"MozTouchSelect\",\"MSTouchSelect\",\"msTouchSelect\",\"oTouchSelect\",\"touchCallout\",\"webkitTouchCallout\",\"MozTouchCallout\",\"MSTouchCallout\",\"msTouchCallout\",\"oTouchCallout\",\"contentZooming\",\"webkitContentZooming\",\"MozContentZooming\",\"MSContentZooming\",\"msContentZooming\",\"oContentZooming\",\"userDrag\",\"webkitUserDrag\",\"MozUserDrag\",\"MSUserDrag\",\"msUserDrag\",\"oUserDrag\"],i=0;i<props.length;i++)props[i]in el.style&&this.setTemporaryStyle(io,props[i],\"none\");this.setTemporaryStyle(io,\"tapHighlightColor\",\"rgba(0, 0, 0, 0)\")}},Interaction.prototype.unprepElement=function(io){var el=io.element;if(el){for(var props=[\"touchAction\",\"webkitTouchAction\",\"MozTouchAction\",\"MSTouchAction\",\"msTouchAction\",\"oTouchAction\",\"userSelect\",\"webkitUserSelect\",\"MozUserSelect\",\"MSUserSelect\",\"msUserSelect\",\"oUserSelect\",\"touchSelect\",\"webkitTouchSelect\",\"MozTouchSelect\",\"MSTouchSelect\",\"msTouchSelect\",\"oTouchSelect\",\"touchCallout\",\"webkitTouchCallout\",\"MozTouchCallout\",\"MSTouchCallout\",\"msTouchCallout\",\"oTouchCallout\",\"contentZooming\",\"webkitContentZooming\",\"MozContentZooming\",\"MSContentZooming\",\"msContentZooming\",\"oContentZooming\",\"userDrag\",\"webkitUserDrag\",\"MozUserDrag\",\"MSUserDrag\",\"msUserDrag\",\"oUserDrag\"],i=0;i<props.length;i++)props[i]in el.style&&this.restoreStyle(io,props[i]);this.restoreStyle(io,\"tapHighlightColor\")}},Interaction.prototype.getHitOption=function(io,option){var res=io.hitOptions[option];return void 0===res&&(res=this.hitOptions[option]),res},Interaction.prototype.getHoverOption=function(io,option){var res=io.hoverOptions[option];return void 0===res&&(res=this.hoverOptions[option]),res},Interaction.prototype.getSwipeOption=function(io,option){var res=io.swipeOptions[option];return void 0===res&&(res=this.swipeOptions[option]),res},Interaction.prototype.getKeyboardOption=function(io,option){var res=io.keyboardOptions[option];return void 0===res&&(res=this.keyboardOptions[option]),res},Interaction.prototype.getMouseOption=function(io,option){var res=io.mouseOptions[option];return void 0===res&&(res=this.mouseOptions[option]),res},Interaction.prototype.getInertiaOption=function(io,type,option){var options=io.inertiaOptions.getKey(type);return options&&hasValue(options[option])?options[option]:this.inertiaOptions.getKey(type)[option]},Interaction.prototype.stopInertia=function(io){for(var x,inertias=[\"move\",\"resize\"],i=0;i<inertias.length;i++)if(io.inertias.hasKey(x=inertias[i])){var inertia=io.inertias.getKey(x);if(inertia){inertia.dispose();continue}}},Interaction.prototype.swiping=function(io,pointer){var now=getTime();return!(pointer.swipeCanceled||!io.swipeable)&&Math.abs(pointer.startPoint.y-pointer.point.y)<this.getSwipeOption(io,\"verticalThreshold\")&&pointer.startTime>now-this.getSwipeOption(io,\"time\")},Interaction.prototype.swiped=function(io,pointer){var now=getTime();return!pointer.swipeCanceled&&Math.abs(pointer.startPoint.x-pointer.point.x)>this.getSwipeOption(io,\"horizontalThreshold\")&&Math.abs(pointer.startPoint.y-pointer.point.y)<this.getSwipeOption(io,\"verticalThreshold\")&&pointer.startTime>now-this.getSwipeOption(io,\"time\")},Interaction.prototype.applyCursorOverStyle=function(io){var options=io.cursorOptions;if(hasValue(options.overStyle))for(var i=0;i<options.overStyle.length;i++)DOM_setStyle(io.element,options.overStyle[i].property,options.overStyle[i].value)},Interaction.prototype.applyCursorDownStyle=function(io,pointer){if(!pointer.touch){var downStyle=io.cursorOptions.downStyle;if(io.downPointers.contains(pointer)&&hasValue(downStyle))for(var i=0;i<downStyle.length;i++)this.setTemporaryStyle(this.body,downStyle[i].property,downStyle[i].value),this.setTemporaryStyle(io,downStyle[i].property,downStyle[i].value)}},Interaction.prototype.restoreCursorDownStyle=function(io,pointer){if(!pointer.touch){var downStyle=io.cursorOptions.downStyle;if(io.downPointers.contains(pointer)&&hasValue(downStyle))for(var i=0;i<downStyle.length;i++)this.restoreStyle(this.body,downStyle[i].property),this.restoreStyle(io,downStyle[i].property)}},Interaction.prototype.setGlobalStyle=function(style){for(var body=getInteraction().body,styles=Type_isArray(style)?style:[style],i=0;i<styles.length;i++)this.setTemporaryStyle(body,styles[i].property,styles[i].value)},Interaction.prototype.restoreGlobalStyle=function(style){for(var body=getInteraction().body,styles=Type_isArray(style)?style:[style],i=0;i<styles.length;i++)this.restoreStyle(body,styles[i].property)},Interaction.prototype.isGlobalElement=function(io){return document.body===io.element},Interaction.prototype.moved=function(pointer,tolerance,minTime){void 0===minTime&&(minTime=300);var shift=this.getShift(pointer);return Math.abs(shift.x)>tolerance||Math.abs(shift.y)>tolerance},Interaction.prototype.old=function(pointer,minTime){return void 0===minTime&&(minTime=300),getTime()-pointer.startTime>minTime},Interaction.prototype.getShift=function(pointer){return{x:pointer.startPoint.x-pointer.point.x,y:pointer.startPoint.y-pointer.point.y}},Interaction.prototype.getTrailPoint=function(pointer,timestamp){for(var res,i=0;i<pointer.track.length;i++)if(pointer.track[i].timestamp>=timestamp){res=pointer.track[i];break}return res},Interaction.prototype.pointerExists=function(list,pointer){var exists=!1;return list.each(function(item){item!=pointer&&(exists=item.point.x==pointer.point.x&&item.point.y==pointer.point.y)}),exists},Interaction.prototype.getInteraction=function(element){return new InteractionObject_InteractionObject(element)},Interaction.prototype.setTemporaryStyle=function(io,property,value){var el=io.element;hasValue(el.style[property])&&!io.replacedStyles.hasKey(property)&&io.replacedStyles.setKey(property,el.style[property]),DOM_setStyle(el,property,value)},Interaction.prototype.restoreStyle=function(io,property){io.replacedStyles.hasKey(property)?(io.element.style[property]=io.replacedStyles.getKey(property),io.replacedStyles.removeKey(property)):delete io.element.style[property]},Interaction.prototype.restoreAllStyles=function(io){Iterator_each(io.replacedStyles.iterator(),function(a){var key=a[0];io.element.style[key]=a[1],io.replacedStyles.removeKey(key)})},Interaction.prototype.dispose=function(){this.isDisposed()||(_super.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},Interaction.prototype.log=function(text,ev,io){if(ev.changedTouches)for(var i=0;i<ev.changedTouches.length;i++)this.logTouch(text,ev.type,ev.changedTouches[i]);else{var id,type=\"\";if(ev.pointerType)switch(ev.pointerType){case 2:type=\"touch\";break;case 4:type=\"mouse\";break;default:type=ev.pointerType}else type=\"undefined\"!=typeof TouchEvent&&ev instanceof TouchEvent?\"touch\":ev.type.match(/^mouse/)?\"mouse\":\"???\";id=hasValue(ev.identifier)?ev.identifier:hasValue(ev.pointerId)?ev.pointerId:\"???\",io?console.log(text+\" (\"+io.uid+\")  \"+ev.type+\"  \"+type+\"  \"+id):console.log(text+\"  \"+ev.type+\"  \"+type+\"  \"+id)}},Interaction.prototype.logTouch=function(text,type,ev){console.log(text+\"  \"+type+\"  touch  \"+ev.identifier)},Object.defineProperty(Interaction,\"passiveSupported\",{get:function(){var _this=this;if(null==this._passiveSupported)try{var options=Object.defineProperty({},\"passive\",{get:function(){_this._passiveSupported=!0}});window.addEventListener(\"test\",options,options),window.removeEventListener(\"test\",options,options)}catch(err){this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),Interaction}(Base_BaseObjectEvents),Interaction_interaction=null;function getInteraction(){return null==Interaction_interaction&&(Interaction_interaction=new Interaction_Interaction),Interaction_interaction}var Popup_Popup=function(_super){function Popup(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this._elements={},_this._IOs={},_this._content=\"\",_this._title=\"\",_this._classPrefix=\"ampopup\",_this._defaultStyles=!0,_this._showCurtain=!1,_this._draggable=!0,_this._align=\"center\",_this._verticalAlign=\"middle\",_this._shift={x:0,y:0},_this._tempShift={x:0,y:0},_this._readerTitle=\"\",_this._closable=!0,_this._cssLoaded=!1,_this._fitTo=\"window\",_this.isTemplate=!1,_this._sized=!1,_this.className=\"Popup\",_this}return __extends(Popup,_super),Popup.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately(\"opened\"))},Popup.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately(\"closed\"),this.releasePointers()},Popup.prototype.dispose=function(){this.close(),_super.prototype.dispose.call(this)},Popup.prototype.positionElement=function(forceResize){var _this=this;void 0===forceResize&&(forceResize=!0),this._elements.wrapper&&setTimeout(function(){if(_this._elements.wrapper){if(forceResize||!_this._sized){if(_this._elements.wrapper.style.opacity=\"0.01\",_this._elements.wrapper.style.left=\"0\",_this._elements.wrapper.style.top=\"0\",_this._elements.wrapper.style.margin=\"0 0 0 0\",!_this._elements.wrapper.style.width){var bbox=_this._elements.wrapper.getBoundingClientRect();_this._elements.wrapper.style.width=bbox.width+\"px\",_this._elements.wrapper.style.height=bbox.height+\"px\"}_this._sized=!0}setTimeout(function(){if(_this._elements.wrapper){var bbox;switch(!forceResize&&_this._sized||!_this._bbox?(bbox=_this._elements.wrapper.getBoundingClientRect(),_this._elements.wrapper.style.opacity=\"\"):bbox=_this._bbox,_this.align){case\"left\":_this._elements.wrapper.style.left=\"0\",_this._elements.wrapper.style.right=\"auto\",_this._elements.wrapper.style.marginLeft=_this.toStyle(_this._shift.x+_this._tempShift.x);break;case\"center\":_this._elements.wrapper.style.left=\"50%\",_this._elements.wrapper.style.right=\"auto\",_this._elements.wrapper.style.marginLeft=_this.toStyle(Math.round(-bbox.width/2)+(_this._shift.x+_this._tempShift.x));break;case\"right\":_this._elements.wrapper.style.left=\"auto\",_this._elements.wrapper.style.right=\"0\",_this._elements.wrapper.style.marginLeft=_this.toStyle(_this._shift.x+_this._tempShift.x);break;default:_this._elements.wrapper.style.left=_this.toStyle(_this.left)||\"auto\",_this._elements.wrapper.style.right=_this.toStyle(_this.right)||\"auto\",_this._elements.wrapper.style.marginLeft=_this.toStyle(_this._shift.x+_this._tempShift.x)}switch(_this.verticalAlign){case\"top\":_this._elements.wrapper.style.top=\"0\",_this._elements.wrapper.style.bottom=\"auto\",_this._elements.wrapper.style.marginTop=_this.toStyle(_this._shift.y+_this._tempShift.y);break;case\"middle\":_this._elements.wrapper.style.top=\"50%\",_this._elements.wrapper.style.bottom=\"auto\",_this._elements.wrapper.style.marginTop=_this.toStyle(Math.round(-bbox.height/2)+(_this._shift.y+_this._tempShift.y));break;case\"bottom\":_this._elements.wrapper.style.top=\"auto\",_this._elements.wrapper.style.bottom=\"0\",_this._elements.wrapper.style.marginTop=_this.toStyle(_this._shift.y+_this._tempShift.y);break;default:_this._elements.wrapper.style.top=_this.toStyle(_this.top)||\"auto\",_this._elements.wrapper.style.bottom=_this.toStyle(_this.bottom)||\"auto\",_this._elements.wrapper.style.marginTop=_this.toStyle(_this._shift.y+_this._tempShift.y)}}},1)}},1)},Popup.prototype.setupDragging=function(){var _this=this;this.draggable?(this._IOs.wrapper.events.has(\"drag\")||this._IOs.wrapper.events.on(\"drag\",function(ev){_this._tempShift.x=ev.shift.x,_this._tempShift.y=ev.shift.y,_this.positionElement(!1)}),this._IOs.wrapper.events.has(\"dragstop\")||this._IOs.wrapper.events.on(\"dragstop\",function(ev){_this._shift.x+=_this._tempShift.x,_this._shift.y+=_this._tempShift.y,_this._tempShift.x=0,_this._tempShift.y=0,_this.positionElement(!1)})):this._IOs.wrapper&&(this._IOs.wrapper.events.has(\"drag\")&&this._IOs.wrapper.events.off(\"drag\"),this._IOs.wrapper.events.has(\"dragstop\")&&this._IOs.wrapper.events.off(\"dragstop\"))},Popup.prototype.toStyle=function(value){return hasValue(value)?isNumber(value)?value+\"px\":value.toString():null},Object.defineProperty(Popup.prototype,\"classPrefix\",{get:function(){return this.adapter.apply(\"classPrefix\",this._classPrefix)},set:function(value){this._classPrefix=value},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"classPrefixRaw\",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"content\",{get:function(){return this.adapter.apply(\"content\",this._content)},set:function(value){this._content!=value&&(this._content=value,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=value,this.positionElement())},enumerable:!0,configurable:!0}),Popup.prototype.getClassNames=function(){return this.adapter.apply(\"classNames\",{wrapperClass:this.classPrefix+\"\",titleClass:this.classPrefix+\"-title\",contentClass:this.classPrefix+\"-content\",curtainClass:this.classPrefix+\"-curtain\",closeClass:this.classPrefix+\"-close\"})},Popup.prototype.createContentElement=function(){if(!this._elements.wrapper){var classNames=this.getClassNames(),wrapper=document.createElement(\"div\");wrapper.className=classNames.contentClass,wrapper.style.opacity=\"0.01\";var close=document.createElement(\"a\");close.className=classNames.closeClass;var title=document.createElement(\"div\");title.innerHTML=this.title,title.className=classNames.titleClass,this.title||(title.style.display=\"none\");var content=document.createElement(\"div\");content.innerHTML=this.content,this._IOs.wrapper=getInteraction().getInteraction(wrapper),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on(\"over\",this.disablePointers,this),this._IOs.wrapper.events.on(\"out\",this.releasePointers,this),this._IOs.close=getInteraction().getInteraction(close),this._disposers.push(this._IOs.close),close.style.visibility=\"hidden\",wrapper.setAttribute(\"role\",\"dialog\"),wrapper.appendChild(close),wrapper.appendChild(title),wrapper.appendChild(content),this.container.appendChild(wrapper),this._elements.wrapper=wrapper,this._elements.content=content,this._elements.title=title,this._elements.close=close,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(Popup.prototype,\"title\",{get:function(){return this.adapter.apply(\"title\",this._title)},set:function(value){this._title!=value&&(this._title=value,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=value,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"readerTitle\",{get:function(){return this.adapter.apply(\"readerTitle\",\"\"!=this._readerTitle?this._readerTitle:this.title)},set:function(value){this._readerTitle!=value&&(this._readerTitle=value,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"closable\",{get:function(){return this.adapter.apply(\"closable\",this._closable)},set:function(value){value!==this._closable&&(this._closable=value,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"fitTo\",{get:function(){return this.adapter.apply(\"fitTo\",this._fitTo)},set:function(value){value!=this._fitTo&&(this._fitTo=value,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"defaultStyles\",{get:function(){return this.adapter.apply(\"defaultStyles\",this._defaultStyles)},set:function(value){this._defaultStyles!=value&&(this._defaultStyles=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"showCurtain\",{get:function(){return this.adapter.apply(\"showCurtain\",this._showCurtain)},set:function(value){this._showCurtain!=value&&(this._showCurtain=value,this._elements.curtain&&(this._elements.curtain.style.display=value?\"block\":\"none\"))},enumerable:!0,configurable:!0}),Popup.prototype.createCurtainElement=function(){var classNames=this.getClassNames(),curtain=document.createElement(\"div\");curtain.className=classNames.curtainClass,this.container.appendChild(curtain),this._IOs.curtain=getInteraction().getInteraction(curtain),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on(\"over\",this.disablePointers,this),this._IOs.curtain.events.on(\"out\",this.releasePointers,this),curtain.style.display=this.showCurtain?\"block\":\"none\",this._elements.curtain=curtain},Object.defineProperty(Popup.prototype,\"draggable\",{get:function(){return this.adapter.apply(\"draggable\",this._draggable)},set:function(value){this._draggable!=value&&(this._draggable=value,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"align\",{get:function(){return this.adapter.apply(\"align\",this._align)},set:function(value){this._align!=value&&(this._align=value,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"verticalAlign\",{get:function(){return this.adapter.apply(\"verticalAlign\",this._verticalAlign)},set:function(value){this._verticalAlign!=value&&(this._verticalAlign=value,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"left\",{get:function(){return this.adapter.apply(\"left\",this._left)},set:function(value){this.left!=value&&(this._left=value,this._align=\"none\",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"right\",{get:function(){return this.adapter.apply(\"right\",this._right)},set:function(value){this.right!=value&&(this._right=value,this._align=\"none\",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"top\",{get:function(){return this.adapter.apply(\"top\",this._top)},set:function(value){this.top!=value&&(this._top=value,this._verticalAlign=\"none\",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"bottom\",{get:function(){return this.adapter.apply(\"bottom\",this._bottom)},set:function(value){this.bottom!=value&&(this._bottom=value,this._verticalAlign=\"none\",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,\"elements\",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Popup.prototype.loadDefaultCSS=function(){var prefix;this._cssLoaded||(this._disposers.push(((prefix=this.classPrefix)||(prefix=\"ampopup\"),PopupCSS_rules.insertKeyIfEmpty(prefix,function(){var disposer=new Disposer_MultiDisposer([new DOM_StyleRule(\".\"+prefix,{overflow:\"visible\",position:\"absolute\",top:\"0\",left:\"0\",\"z-index\":\"2000\"}),new DOM_StyleRule(\".\"+prefix+\"-curtain\",{width:\"100%\",height:\"100%\",position:\"absolute\",top:\"0\",left:\"0\",\"z-index\":\"2001\",background:\"#fff\",opacity:\"0.5\"}),new DOM_StyleRule(\".\"+prefix+\"-title\",{\"font-weight\":\"bold\",\"font-size\":\"120%\"}),new DOM_StyleRule(\".\"+prefix+\"-content\",{padding:\"1em 2em\",background:\"rgb(255, 255, 255);\",\"background-color\":\"rgba(255, 255, 255, 0.8)\",color:\"#000\",display:\"inline-block\",position:\"absolute\",top:\"0\",left:\"0\",\"max-width\":\"90%\",\"max-height\":\"90%\",overflow:\"auto\",\"z-index\":\"2002\"}),new DOM_StyleRule(\".\"+prefix+\"-close\",{display:\"block\",position:\"absolute\",top:\"0.3em\",right:\"0.3em\",\"background-color\":\"rgb(100, 100, 100)\",background:\"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center\",\"background-size\":\"80%\",width:\"1.2em\",height:\"1.2em\",cursor:\"pointer\"})]);return new Disposer_CounterDisposer(function(){PopupCSS_rules.removeKey(prefix),disposer.dispose()})}).increment())),Object_each(this._elements,function(key,el){el.style.display=\"\"}),this._cssLoaded=!0)},Popup.prototype.applyEvents=function(){var _this=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility=\"visible\";var disposers=[getInteraction().body.events.on(\"keyup\",function(ev){keyboard.isKey(ev.event,\"esc\")&&_this.closable&&_this.close()}),this._IOs.close.events.on(\"hit\",function(ev){_this.close()})];disposers.push(this._IOs.curtain.events.on(\"hit\",function(ev){_this.showCurtain&&_this.close()})),this._disposers.push(new Disposer_MultiDisposer(disposers))}else this._IOs.close.element.style.visibility=\"hidden\"},Popup.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},Popup.prototype.releasePointers=function(){hasValue(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},Popup.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute(\"aria-label\",this.readerTitle)},Popup.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.container=source.container,this.sprite=source.sprite,this.classPrefix=source.classPrefixRaw,this.content=source.content,this.title=source.title,this.readerTitle=source.readerTitle,this.defaultStyles=source.defaultStyles,this.showCurtain=source.showCurtain,this.align=source.align,this.verticalAlign=source.verticalAlign,this.left=source.left,this.right=source.right,this.top=source.top,this.bottom=source.bottom,this.adapter.copyFrom(source.adapter)},Popup}(Base_BaseObjectEvents),Modal_Modal=function(_super){function Modal(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this.className=\"Modal\",_this.showCurtain=!0,_this.draggable=!1,_this}return __extends(Modal,_super),Modal}(Popup_Popup),ResizeSensor=__webpack_require__(\"KtZj\"),ResizeSensor_default=__webpack_require__.n(ResizeSensor),svgContainers=[],SVGContainer_SVGContainer=function(){function SVGContainer(htmlElement,ghost){var _this=this;if(this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this.htmlElement=htmlElement,!ghost){var callback_1=function(){_this.measure()};this.resizeSensor=new ResizeSensor_default.a(htmlElement,callback_1),this._disposers.push(new Disposer(function(){_this.resizeSensor.detach(callback_1)}))}svgContainers.push(this);var svgContainer=document.createElement(\"div\"),style=svgContainer.style;style.width=\"100%\",style.height=\"100%\",style.position=\"relative\",htmlElement.appendChild(svgContainer),this.SVGContainer=svgContainer}return SVGContainer.prototype.measure=function(){var element,cs,paddingX,borderX,el,width=(element=this.htmlElement,cs=getComputedStyle(element),paddingX=parseFloat(cs.paddingLeft)+parseFloat(cs.paddingRight),borderX=parseFloat(cs.borderLeftWidth)+parseFloat(cs.borderRightWidth),element.clientWidth-paddingX-borderX),height=function(element){var cs=getComputedStyle(element),paddingY=parseFloat(cs.paddingTop)+parseFloat(cs.paddingBottom),borderY=parseFloat(cs.borderTopWidth)+parseFloat(cs.borderBottomWidth);return element.clientHeight-paddingY-borderY}(this.htmlElement),container=this.container;container&&(this.width==width&&this.height==height||(this.width=width,this.height=height,width>0&&(container.maxWidth=width),height>0&&(container.maxHeight=height),el=this.SVGContainer,readQueue.push(function(){try{var rect=el.getBoundingClientRect(),left_1=rect.left-Math.round(rect.left),top_1=rect.top-Math.round(rect.top);0!==left_1&&writeFrame(function(){el.style.left=left_1+\"px\"}),0!==top_1&&writeFrame(function(){el.style.top=top_1+\"px\"})}catch(e){}}),pendFrame()),container.maxWidth||(container.maxWidth=0),container.maxHeight||(container.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(SVGContainer.prototype,\"container\",{get:function(){return this._container},set:function(container){this._container=container,this.measure()},enumerable:!0,configurable:!0}),SVGContainer.prototype.isDisposed=function(){return this._disposed},SVGContainer.prototype.dispose=function(){this._disposed||Array_remove(svgContainers,this),each(this._disposers,function(item){item.dispose()})},Object.defineProperty(SVGContainer.prototype,\"hideOverflow\",{set:function(value){this.SVGContainer.style.overflow=value?\"hidden\":\"\"},enumerable:!0,configurable:!0}),Object.defineProperty(SVGContainer.prototype,\"modal\",{get:function(){return hasValue(this._modal)||(this._modal=new Modal_Modal,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),SVGContainer.prototype.openModal=function(text,title){this.closeModal();var modal=this.modal;return modal.content=text,modal.readerTitle=title,modal.open(),modal},SVGContainer.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(SVGContainer.prototype,\"popups\",{get:function(){if(!hasValue(this._popups)){var popupTemplate=new Popup_Popup;popupTemplate.container=this.SVGContainer,this._popups=new List_ListTemplate(popupTemplate),this._disposers.push(new List_ListDisposer(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),SVGContainer.prototype.openPopup=function(text,title){var popup=this.popups.create();return popup.content=text,hasValue(title)&&(popup.title=title),popup.open(),popup},SVGContainer.prototype.closeAllPopups=function(){this.popups.each(function(popup){popup.close()})},SVGContainer.prototype.checkTransform=function(div){if(window.getComputedStyle){if(div&&div.style){var style=window.getComputedStyle(div,null);if(style){var matrix=style.getPropertyValue(\"-webkit-transform\")||style.getPropertyValue(\"-moz-transform\")||style.getPropertyValue(\"-ms-transform\")||style.getPropertyValue(\"-o-transform\")||style.getPropertyValue(\"transform\");if(matrix&&\"none\"!==matrix){var values=matrix.split(\"(\")[1].split(\")\")[0].split(\",\"),a=Number(values[0]),b=Number(values[1]),scale=Math.sqrt(a*a+b*b);isNaN(scale)||(this.cssScale*=scale)}}}div.parentNode&&div.parentNode instanceof HTMLElement&&this.checkTransform(div.parentNode)}},SVGContainer}(),Paper_Paper=function(){function Paper(container,id){this.container=container,this.id=id;var svg=document.createElementNS(SVGNS,\"svg\");svg.setAttribute(\"version\",\"1.1\"),svg.setAttributeNS(XMLNS,\"xmlns\",SVGNS),svg.setAttributeNS(XMLNS,\"xmlns:xlink\",XLINK),svg.setAttribute(\"role\",\"group\"),this.container.appendChild(svg);var desc=document.createElementNS(SVGNS,\"desc\");desc.appendChild(document.createTextNode(\"JavaScript chart by amCharts\")),svg.appendChild(desc),this.defs=document.createElementNS(SVGNS,\"defs\"),svg.appendChild(this.defs),svg.style.width=\"100%\",svg.style.height=\"100%\",svg.style.overflow=\"visible\",this.svg=svg}return Paper.prototype.add=function(elementName){return new AMElement_AMElement(elementName)},Paper.prototype.addGroup=function(groupName){return new Group_Group(groupName)},Paper.prototype.append=function(element){element&&this.svg.appendChild(element.node)},Paper.prototype.appendDef=function(element){element&&this.defs.appendChild(element.node)},Paper.prototype.foreignObject=function(){return new AMElement_AMElement(\"foreignObject\")},Paper.prototype.supportsForeignObject=function(){return document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#Extensibility\",\"1.1\")},Paper}(),ghostPaper=null;function getGhostPaper(){if(null===ghostPaper){var ghostDiv=document.createElement(\"div\");ghostDiv.hidden=!0,document.body.appendChild(ghostDiv);var ghostSvgContainer=new SVGContainer_SVGContainer(ghostDiv,!0);ghostPaper=new Paper_Paper(ghostSvgContainer.SVGContainer,\"ghost\")}return ghostPaper}var InterfaceColorSet_InterfaceColorSet=function(_super){function InterfaceColorSet(){var _this=_super.call(this)||this;return _this._purposes={stroke:Color_color(\"#e5e5e5\"),fill:Color_color(\"#f3f3f3\"),primaryButton:Color_color(\"#6794dc\"),primaryButtonHover:Color_color(\"#6771dc\"),primaryButtonDown:Color_color(\"#68dc75\"),primaryButtonActive:Color_color(\"#68dc75\"),primaryButtonText:Color_color(\"#FFFFFF\"),primaryButtonStroke:Color_color(\"#FFFFFF\"),secondaryButton:Color_color(\"#d9d9d9\"),secondaryButtonHover:Color_color(\"#d9d9d9\").brighten(-.25),secondaryButtonDown:Color_color(\"#d9d9d9\").brighten(-.35),secondaryButtonActive:Color_color(\"#d9d9d9\").brighten(.35),secondaryButtonText:Color_color(\"#000000\"),secondaryButtonStroke:Color_color(\"#FFFFFF\"),grid:Color_color(\"#000000\"),background:Color_color(\"#ffffff\"),alternativeBackground:Color_color(\"#000000\"),text:Color_color(\"#000000\"),alternativeText:Color_color(\"#FFFFFF\"),disabledBackground:Color_color(\"#999999\"),positive:Color_color(\"#67dc75\"),negative:Color_color(\"#dc6788\")},_this.className=\"InterfaceColorSet\",_this.applyTheme(),_this}return __extends(InterfaceColorSet,_super),InterfaceColorSet.prototype.debug=function(){},InterfaceColorSet.prototype.getFor=function(purpose){return this._purposes[purpose]},InterfaceColorSet.prototype.setFor=function(purpose,color){this._purposes[purpose]=color},InterfaceColorSet}(Base_BaseObject);Registry_registry.registeredClasses.InterfaceColorSet=InterfaceColorSet_InterfaceColorSet;var Pattern_Pattern=function(_super){function Pattern(){var _this=_super.call(this)||this;_this._elements=new List_List,_this.properties={},_this.className=\"Pattern\",_this.width=10,_this.height=10,_this.x=0,_this.y=0,_this.patternUnits=\"userSpaceOnUse\";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.backgroundFill=interfaceColors.getFor(\"background\"),_this.backgroundOpacity=0,_this.fillOpacity=1,_this.fill=interfaceColors.getFor(\"alternativeBackground\"),_this.stroke=interfaceColors.getFor(\"alternativeBackground\"),_this.strokeOpacity=1,_this.strokeWidth=1,_this.shapeRendering=\"crispEdges\",_this.rotation=0,_this.element=_this.paper.addGroup(\"pattern\"),_this.id=\"pattern-\"+Registry_registry.getUniqueId(),_this.element.attr({id:_this.id}),_this._disposers.push(_this.element),_this._disposers.push(new List_ListDisposer(_this._elements)),_this.patternUnits=_this.patternUnits,_this.width=_this.width,_this.height=_this.height,_this.applyTheme(),_this}return __extends(Pattern,_super),Pattern.prototype.draw=function(){var _this=this,patternElement=this.element;if(patternElement){patternElement.removeChildNodes();var background=this.paper.add(\"rect\");background.attr({width:this.width,height:this.height,\"shape-rendering\":\"crispEdges\",fill:this.backgroundFill.hex,\"fill-opacity\":this.backgroundOpacity,stroke:this.backgroundFill.hex,\"stroke-opacity\":this.backgroundOpacity}),patternElement.add(background),patternElement.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,\"fill-opacity\":this.fillOpacity,\"stroke-opacity\":this.strokeOpacity,\"stroke-width\":this.strokeWidth,\"shape-rendering\":this.shapeRendering,patternUnits:this.patternUnits}),Iterator_each(this._elements.iterator(),function(element){element.rotation=_this.rotation,_this.element.add(element)})}},Pattern.prototype.animate=function(animationOptions,duration,easing){return new Animation_Animation(this,animationOptions,duration,easing).start()},Pattern.prototype.addElement=function(element){this._elements.push(element),this._disposers.push(element)},Pattern.prototype.removeElement=function(element){this._elements.removeValue(element),this.removeDispose(element)},Object.defineProperty(Pattern.prototype,\"elements\",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"fillOpacity\",{get:function(){return this.properties.fillOpacity},set:function(value){this.properties.fillOpacity=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"fill\",{get:function(){return this.properties.fill},set:function(value){this.properties.fill=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"backgroundFill\",{get:function(){return this.properties.backgroundFill},set:function(value){this.properties.backgroundFill=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"backgroundOpacity\",{get:function(){return this.properties.backgroundOpacity},set:function(value){this.properties.backgroundOpacity=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"stroke\",{get:function(){return this.properties.stroke},set:function(value){this.properties.stroke=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"strokeOpacity\",{get:function(){return this.properties.strokeOpacity},set:function(value){this.properties.strokeOpacity=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"strokeWidth\",{get:function(){return this.properties.strokeWidth},set:function(value){this.properties.strokeWidth=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"shapeRendering\",{get:function(){return this.properties.shapeRendering},set:function(value){this.properties.shapeRendering=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"rotation\",{get:function(){return this.properties.rotation},set:function(value){this.properties.rotation=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"patternUnits\",{get:function(){return this.properties.patternUnits},set:function(value){this.properties.patternUnits=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"width\",{get:function(){return this.properties.width},set:function(value){this.properties.width=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"height\",{get:function(){return this.properties.height},set:function(value){this.properties.height=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"x\",{get:function(){return this.properties.x},set:function(value){this.properties.x=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"y\",{get:function(){return this.properties.y},set:function(value){this.properties.y=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,\"paper\",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(paper){this._paper!=paper&&(this._paper=paper,this.draw(),paper.appendDef(this.element))},enumerable:!0,configurable:!0}),Pattern.prototype.copyFrom=function(source){var _this=this;_super.prototype.copyFrom.call(this,source),Object_each(source.properties,function(key,value){_this[key]=value})},Object.defineProperty(Pattern.prototype,\"animations\",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Animation_AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Pattern.prototype.processConfig=function(config){if(config&&hasValue(config.elements)&&Type_isArray(config.elements))for(var i=0,len=config.elements.length;i<len;i++){var element=config.elements[i];if(hasValue(element.type)){var sprite=this.createEntryInstance(element);sprite instanceof Base_BaseObject&&(sprite.config=element),this.addElement(hasValue(element.typeProperty)?sprite[element.typeProperty]:sprite.element)}}_super.prototype.processConfig.call(this,config)},Pattern}(Base_BaseObject);Registry_registry.registeredClasses.Pattern=Pattern_Pattern;var LinearGradient_LinearGradient=function(_super){function LinearGradient(){var _this=_super.call(this)||this;return _this._stops=new List_List,_this._rotation=0,_this.className=\"LinearGradient\",_this._stops.events.on(\"setIndex\",_this.validate,_this),_this._stops.events.on(\"inserted\",_this.validate,_this),_this.element=_this.paper.addGroup(\"linearGradient\"),_this.id=\"gradient-\"+Registry_registry.getUniqueId(),_this.element.attr({id:_this.id}),_this._disposers.push(_this.element),_this.applyTheme(),_this}return __extends(LinearGradient,_super),LinearGradient.prototype.validate=function(){var _this=this,rotation=(this._rotation+90)*RADIANS,x1=Math.round(50+50*Math.sin(rotation+Math.PI))+\"%\",y1=Math.round(50+50*Math.cos(rotation))+\"%\",x2=Math.round(50+50*Math.sin(rotation))+\"%\",y2=Math.round(50+50*Math.cos(rotation+Math.PI))+\"%\",gradientElement=this.element;gradientElement.removeChildNodes(),gradientElement.attr({x1:x1,x2:x2,y1:y1,y2:y2}),Iterator_each(indexed(this._stops.iterator()),function(a){var i=a[0],stop=a[1],offset=stop.offset;isNumber(offset)||(offset=i/(_this._stops.length-1));var gradientStop=_this.paper.add(\"stop\");hasValue(stop.color)&&gradientStop.attr({\"stop-color\":stop.color.toString()}),isNumber(stop.opacity)&&gradientStop.attr({\"stop-opacity\":stop.opacity}),isNumber(offset)&&gradientStop.attr({offset:offset}),gradientElement.add(gradientStop)})},LinearGradient.prototype.clear=function(){this._stops.clear()},LinearGradient.prototype.addColor=function(color,opacity,offset){this._stops.push({color:color,opacity:opacity,offset:offset})},Object.defineProperty(LinearGradient.prototype,\"stops\",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(LinearGradient.prototype,\"paper\",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(paper){this._paper!=paper&&(this._paper=paper,this.validate(),paper.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(LinearGradient.prototype,\"rotation\",{get:function(){return this._rotation},set:function(value){this._rotation=value,this.validate()},enumerable:!0,configurable:!0}),LinearGradient.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.stops.copyFrom(source.stops),this._rotation=source.rotation},LinearGradient}(Base_BaseObject);Registry_registry.registeredClasses.LinearGradient=LinearGradient_LinearGradient;var RadialGradient_RadialGradient=function(_super){function RadialGradient(){var _this=_super.call(this)||this;return _this._stops=new List_List,_this.element=_this.paper.addGroup(\"radialGradient\"),_this.id=\"gradient-\"+Registry_registry.getUniqueId(),_this.element.attr({id:_this.id}),_this._disposers.push(_this.element),_this.applyTheme(),_this}return __extends(RadialGradient,_super),RadialGradient.prototype.draw=function(){var value,_this=this,gradientElement=this.element;isNumber(this.cx)&&((value=this.cx)instanceof Percent&&(value=value.percent+\"%\"),gradientElement.attr({cx:value})),isNumber(this.cy)&&((value=this.cy)instanceof Percent&&(value=value.percent+\"%\"),gradientElement.attr({cy:value})),this.fx&&((value=this.fx)instanceof Percent&&(value=value.percent+\"%\"),gradientElement.attr({fx:value})),this.fy&&((value=this.fy)instanceof Percent&&(value=value.percent+\"%\"),gradientElement.attr({fy:value})),gradientElement.removeChildNodes(),Iterator_each(indexed(this._stops.iterator()),function(a){var i=a[0],stop=a[1],offset=stop.offset;isNumber(offset)||(offset=i/(_this._stops.length-1));var gradientStop=_this.paper.add(\"stop\");hasValue(stop.color)&&gradientStop.attr({\"stop-color\":stop.color.toString()}),isNumber(stop.opacity)&&gradientStop.attr({\"stop-opacity\":stop.opacity}),isNumber(offset)&&gradientStop.attr({offset:offset}),gradientElement.add(gradientStop)})},RadialGradient.prototype.addColor=function(color,opacity,offset){this._stops.push({color:color,opacity:opacity,offset:offset}),this.draw()},Object.defineProperty(RadialGradient.prototype,\"paper\",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(paper){this._paper!=paper&&(this._paper=paper,this.draw(),paper.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(RadialGradient.prototype,\"cx\",{get:function(){return this._cx},set:function(value){this._cx=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(RadialGradient.prototype,\"cy\",{get:function(){return this._cy},set:function(value){this._cy=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(RadialGradient.prototype,\"fx\",{get:function(){return this._fx},set:function(value){this._fx=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(RadialGradient.prototype,\"fy\",{get:function(){return this._fy},set:function(value){this._fy=value,this.draw()},enumerable:!0,configurable:!0}),RadialGradient.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.stops.copyFrom(source.stops),this.cx=source.cx,this.cy=source.cy,this.fx=source.fx,this.fy=source.fy},Object.defineProperty(RadialGradient.prototype,\"stops\",{get:function(){return this._stops},enumerable:!0,configurable:!0}),RadialGradient.prototype.clear=function(){this._stops.clear()},RadialGradient}(Base_BaseObject);Registry_registry.registeredClasses.RadialGradient=RadialGradient_RadialGradient;var formatter,MouseCursorStyle=function(){function MouseCursorStyle(){}return MouseCursorStyle.grab=[{property:\"cursor\",value:\"move\"},{property:\"cursor\",value:\"grab\"},{property:\"cursor\",value:\"-webkit-grab\"}],MouseCursorStyle.grabbing=[{property:\"cursor\",value:\"move\"},{property:\"cursor\",value:\"grabbing\"},{property:\"cursor\",value:\"-webkit-grabbing\"}],MouseCursorStyle.pointer=[{property:\"cursor\",value:\"pointer\"}],MouseCursorStyle.default=[{property:\"cursor\",value:\"default\"}],MouseCursorStyle.horizontalResize=[{property:\"cursor\",value:\"ew-resize\"}],MouseCursorStyle.verticalResize=[{property:\"cursor\",value:\"ns-resize\"}],MouseCursorStyle}(),en={_decimalSeparator:\".\",_thousandSeparator:\",\",_big_number_suffix_3:\"k\",_big_number_suffix_6:\"M\",_big_number_suffix_9:\"G\",_big_number_suffix_12:\"T\",_big_number_suffix_15:\"P\",_big_number_suffix_18:\"E\",_big_number_suffix_21:\"Z\",_big_number_suffix_24:\"Y\",_small_number_suffix_3:\"m\",_small_number_suffix_6:\"μ\",_small_number_suffix_9:\"n\",_small_number_suffix_12:\"p\",_small_number_suffix_15:\"f\",_small_number_suffix_18:\"a\",_small_number_suffix_21:\"z\",_small_number_suffix_24:\"y\",_byte_suffix_B:\"B\",_byte_suffix_KB:\"KB\",_byte_suffix_MB:\"MB\",_byte_suffix_GB:\"GB\",_byte_suffix_TB:\"TB\",_byte_suffix_PB:\"PB\",_date:\"yyyy-MM-dd\",_date_millisecond:\"mm:ss SSS\",_date_second:\"HH:mm:ss\",_date_minute:\"HH:mm\",_date_hour:\"HH:mm\",_date_day:\"MMM dd\",_date_week:\"ww\",_date_month:\"MMM\",_date_year:\"yyyy\",_duration_millisecond:\"SSS\",_duration_millisecond_second:\"ss.SSS\",_duration_millisecond_minute:\"mm:ss SSS\",_duration_millisecond_hour:\"hh:mm:ss SSS\",_duration_millisecond_day:\"d'd' mm:ss SSS\",_duration_millisecond_week:\"d'd' mm:ss SSS\",_duration_millisecond_month:\"M'm' dd'd' mm:ss SSS\",_duration_millisecond_year:\"y'y' MM'm' dd'd' mm:ss SSS\",_duration_second:\"ss\",_duration_second_minute:\"mm:ss\",_duration_second_hour:\"hh:mm:ss\",_duration_second_day:\"d'd' hh:mm:ss\",_duration_second_week:\"d'd' hh:mm:ss\",_duration_second_month:\"M'm' dd'd' hh:mm:ss\",_duration_second_year:\"y'y' MM'm' dd'd' hh:mm:ss\",_duration_minute:\"mm\",_duration_minute_hour:\"hh:mm\",_duration_minute_day:\"d'd' hh:mm\",_duration_minute_week:\"d'd' hh:mm\",_duration_minute_month:\"M'm' dd'd' hh:mm\",_duration_minute_year:\"y'y' MM'm' dd'd' hh:mm\",_duration_hour:\"hh'h'\",_duration_hour_day:\"d'd' hh'h'\",_duration_hour_week:\"d'd' hh'h'\",_duration_hour_month:\"M'm' dd'd' hh'h'\",_duration_hour_year:\"y'y' MM'm' dd'd' hh'h'\",_duration_day:\"d'd'\",_duration_day_week:\"d'd'\",_duration_day_month:\"M'm' dd'd'\",_duration_day_year:\"y'y' MM'm' dd'd'\",_duration_week:\"w'w'\",_duration_week_month:\"w'w'\",_duration_week_year:\"w'w'\",_duration_month:\"M'm'\",_duration_month_year:\"y'y' MM'm'\",_duration_year:\"y'y'\",_era_ad:\"AD\",_era_bc:\"BC\",A:\"\",P:\"\",AM:\"\",PM:\"\",\"A.M.\":\"\",\"P.M.\":\"\",January:\"\",February:\"\",March:\"\",April:\"\",May:\"\",June:\"\",July:\"\",August:\"\",September:\"\",October:\"\",November:\"\",December:\"\",Jan:\"\",Feb:\"\",Mar:\"\",Apr:\"\",\"May(short)\":\"May\",Jun:\"\",Jul:\"\",Aug:\"\",Sep:\"\",Oct:\"\",Nov:\"\",Dec:\"\",Sunday:\"\",Monday:\"\",Tuesday:\"\",Wednesday:\"\",Thursday:\"\",Friday:\"\",Saturday:\"\",Sun:\"\",Mon:\"\",Tue:\"\",Wed:\"\",Thu:\"\",Fri:\"\",Sat:\"\",_dateOrd:function(day){var res=\"th\";if(day<11||day>13)switch(day%10){case 1:res=\"st\";break;case 2:res=\"nd\";break;case 3:res=\"rd\"}return res},\"Zoom Out\":\"\",Play:\"\",Stop:\"\",Legend:\"\",\"Click, tap or press ENTER to toggle\":\"\",Loading:\"\",Home:\"\",Chart:\"\",\"Serial chart\":\"\",\"X/Y chart\":\"\",\"Pie chart\":\"\",\"Gauge chart\":\"\",\"Radar chart\":\"\",\"Sankey diagram\":\"\",\"Flow diagram\":\"\",\"Chord diagram\":\"\",\"TreeMap chart\":\"\",\"Force directed tree\":\"\",\"Sliced chart\":\"\",Series:\"\",\"Candlestick Series\":\"\",\"OHLC Series\":\"\",\"Column Series\":\"\",\"Line Series\":\"\",\"Pie Slice Series\":\"\",\"Funnel Series\":\"\",\"Pyramid Series\":\"\",\"X/Y Series\":\"\",Map:\"\",\"Press ENTER to zoom in\":\"\",\"Press ENTER to zoom out\":\"\",\"Use arrow keys to zoom in and out\":\"\",\"Use plus and minus keys on your keyboard to zoom in and out\":\"\",Export:\"\",Image:\"\",Data:\"\",Print:\"\",\"Click, tap or press ENTER to open\":\"\",\"Click, tap or press ENTER to print.\":\"\",\"Click, tap or press ENTER to export as %1.\":\"\",'To save the image, right-click this link and choose \"Save picture as...\"':\"\",'To save the image, right-click thumbnail on the left and choose \"Save picture as...\"':\"\",\"(Press ESC to close this message)\":\"\",\"Image Export Complete\":\"\",\"Export operation took longer than expected. Something might have gone wrong.\":\"\",\"Saved from\":\"\",PNG:\"\",JPG:\"\",GIF:\"\",SVG:\"\",PDF:\"\",JSON:\"\",CSV:\"\",XLSX:\"\",\"Use TAB to select grip buttons or left and right arrows to change selection\":\"\",\"Use left and right arrows to move selection\":\"\",\"Use left and right arrows to move left selection\":\"\",\"Use left and right arrows to move right selection\":\"\",\"Use TAB select grip buttons or up and down arrows to change selection\":\"\",\"Use up and down arrows to move selection\":\"\",\"Use up and down arrows to move lower selection\":\"\",\"Use up and down arrows to move upper selection\":\"\",\"From %1 to %2\":\"\",\"From %1\":\"\",\"To %1\":\"\",\"No parser available for file: %1\":\"\",\"Error parsing file: %1\":\"\",\"Unable to load file: %1\":\"\",\"Invalid date\":\"\"},Language_Language=function(_super){function Language(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this._locale=en,_this._defaultLocale=en,_this.className=\"Language\",hasValue(Options_options.defaultLocale)&&(_this.locale=Options_options.defaultLocale),_this.applyTheme(),_this}return __extends(Language,_super),Language.prototype.getLocale=function(locale){return null==locale&&(locale=this._locale),this.adapter.apply(\"locale\",{locale:locale}).locale},Language.prototype.translate=function(prompt,locale){for(var rest=[],_i=2;_i<arguments.length;_i++)rest[_i-2]=arguments[_i];locale=this.getLocale(locale);var translation=prompt,translations=this.getTranslations(locale),value=translations[prompt];if(null===value)value=\"\";else if(hasValue(value))value&&(translation=value);else if(locale!==this._defaultLocale)return this.translate.apply(this,__spread([prompt,this._defaultLocale],rest));if(rest.length)for(var len=rest.length,i=0;i<len;++i)translation=translation.split(\"%\"+(i+1)).join(rest[i]);return this.adapter.apply(\"translate\",{translation:translation,locale:locale}).translation},Language.prototype.translateAny=function(prompt,locale){for(var rest=[],_i=2;_i<arguments.length;_i++)rest[_i-2]=arguments[_i];return this.translate(prompt,locale)},Language.prototype.translateEmpty=function(prompt,locale){for(var rest=[],_i=2;_i<arguments.length;_i++)rest[_i-2]=arguments[_i];var translation=this.translate.apply(this,__spread([prompt,locale],rest));return translation==prompt?\"\":translation},Language.prototype.translateFunc=function(prompt,locale){locale=this.getLocale(locale);var value=this.getTranslations(locale)[prompt];return null!=value?value:locale!==this._defaultLocale?this.translateFunc(prompt,this._defaultLocale):function(){return\"\"}},Language.prototype.translateAll=function(list,locale){var _this=this;return this.isDefault()?list:Array_map(list,function(x){return _this.translate(x,locale)})},Language.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(Language.prototype,\"locale\",{get:function(){return this._locale},set:function(value){this._locale!=value&&(this._locale=value,this.events.isEnabled(\"localechanged\")&&this.events.dispatchImmediately(\"localechanged\",{type:\"localechanged\",locale:value,target:this}))},enumerable:!0,configurable:!0}),Language.prototype.getTranslations=function(locale){return this.adapter.apply(\"translations\",{translations:locale,locale:locale}).translations},Language}(Base_BaseObjectEvents),TextFormatter_TextFormatter=function(_super){function TextFormatter(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this.className=\"TextFormatter\",_this.applyTheme(),_this}return __extends(TextFormatter,_super),TextFormatter.prototype.debug=function(){},TextFormatter.prototype.format=function(text,output){hasValue(output)||(output=\"svg\");var formatted=\"\",styles=(text=this.escape(text)).match(/\\[([^\\]]*?)\\]/gm);if(!styles)return this.wrap(text,\"\",output);for(var texts=text.split(/\\[[^\\[\\]]*\\]/),i=0,len=texts.length;i<len;i++){var t=texts[i];if(\"\"!==t){t=this.adapter.apply(\"chunk\",t);var s=\"\";i>0&&(s=styles[i-1].replace(\"[\",\"\").replace(\"]\",\"\")),formatted+=this.wrap(t,s,output)}}return formatted=this.unescape(formatted),this.cleanUp(formatted)},TextFormatter.prototype.escape=function(text){return text.replace(/\\[\\[/g,Registry_registry.getPlaceholder(\"1\")).replace(/([^\\/]{1})\\]\\]/g,\"$1\"+Registry_registry.getPlaceholder(\"2\")).replace(/\\{\\{/g,Registry_registry.getPlaceholder(\"3\")).replace(/\\}\\}/g,Registry_registry.getPlaceholder(\"4\")).replace(/\\'\\'/g,Registry_registry.getPlaceholder(\"5\"))},TextFormatter.prototype.unescape=function(text){return text.replace(new RegExp(Registry_registry.getPlaceholder(\"1\"),\"g\"),\"[[\").replace(new RegExp(Registry_registry.getPlaceholder(\"2\"),\"g\"),\"]]\").replace(new RegExp(Registry_registry.getPlaceholder(\"3\"),\"g\"),\"{{\").replace(new RegExp(Registry_registry.getPlaceholder(\"4\"),\"g\"),\"}}\").replace(new RegExp(Registry_registry.getPlaceholder(\"5\"),\"g\"),\"'\")},TextFormatter.prototype.cleanUp=function(text){return text.replace(/\\[\\[/g,\"[\").replace(/\\]\\]/g,\"]\").replace(/\\{\\{/g,\"{\").replace(/\\}\\}/g,\"}\").replace(/\\'\\'/g,\"'\")},TextFormatter.prototype.wrap=function(text,style,output){switch(\"\"!==style&&\"/\"!==style||(style=\"\"),output){case\"html\":return this.wrapHtml(text,this.translateStyleShortcuts(style));default:return this.wrapSvg(text,this.translateStyleShortcuts(style))}},TextFormatter.prototype.wrapSvg=function(text,style){return\"\"===style?\"<tspan>\"+text+\"</tspan>\":\"<tspan style='\"+style+\"'>\"+text+\"</tspan>\"},TextFormatter.prototype.getSvgElement=function(text,style){var element=new AMElement_AMElement(\"tspan\");return element.textContent=text,style&&element.node.setAttribute(\"style\",style),element},TextFormatter.prototype.wrapHtml=function(text,style){return\"\"===style?\"<span>\"+text+\"</span>\":\"<span style='\"+this.styleSvgToHtml(style)+\"'>\"+text+\"</span>\"},TextFormatter.prototype.getHtmlElement=function(text,style){var element=document.createElement(\"span\");return element.innerHTML=text,style&&element.setAttribute(\"style\",style),element},TextFormatter.prototype.styleSvgToHtml=function(style){return style.replace(/fill:/,\"color:\")},TextFormatter.prototype.translateStyleShortcuts=function(style){if(\"\"==style||\"[ ]\"==style)return\"\";var cached=Registry_registry.getCache(\"translateStyleShortcuts_\"+style);if(cached)return cached;var b=style.match(/([\\w\\-]*:[\\s]?[^;\\s\\]]*)|(\\#[\\w]{1,6})|([\\w]+)|(\\/)/gi);if(!b)return style;for(var i=0;i<b.length;i++)b[i].match(/^bold$/i)?b[i]=\"font-weight:\"+b[i]:\"/\"==b[i]?b[i]=\"\":b[i].match(/:/)||(b[i]=\"fill:\"+b[i]);var res=b.join(\";\");return Registry_registry.setCache(\"translateStyleShortcuts_\"+style,res),res},TextFormatter.prototype.chunk=function(text,quotedBlocks,noFormatting){void 0===quotedBlocks&&(quotedBlocks=!1),void 0===noFormatting&&(noFormatting=!1);var res=[];text=this.escape(text);for(var chunks=quotedBlocks?text.split(\"'\"):[text],i=0;i<chunks.length;i++){var chunk=chunks[i];if(\"\"!==chunk)if(i%2==0)for(var chunks2=(chunk=(chunk=chunk.replace(/\\]\\[/g,\"]\"+PLACEHOLDER+\"[\")).replace(/\\[\\]/g,\"[ ]\")).split(/[\\[\\]]+/),i2=0;i2<chunks2.length;i2++)(chunk2=this.cleanUp(this.unescape(chunks2[i2])))!==PLACEHOLDER&&\"\"!==chunk2&&res.push(i2%2==0?{type:\"value\",text:this.adapter.apply(\"chunk\",chunk2)}:{type:noFormatting?\"value\":\"format\",text:\"[\"+chunk2+\"]\"});else for(chunks2=chunk.split(/[\\[\\]]+/),i2=0;i2<chunks2.length;i2++){var chunk2;\"\"!==(chunk2=this.cleanUp(this.unescape(chunks2[i2])))&&(i2%2==0?res.push({type:\"text\",text:chunk2}):this.isImage(chunk2)?res.push({type:\"image\",text:\"[\"+chunk2+\"]\"}):res.push({type:\"format\",text:\"[\"+chunk2+\"]\"}))}}return res},TextFormatter.prototype.isImage=function(text){return!!text.match(/img[ ]?:/)},TextFormatter}(Base_BaseObject);function getTextFormatter(){return null==formatter&&(formatter=new TextFormatter_TextFormatter),formatter}Registry_registry.registeredClasses.TextFormatter=TextFormatter_TextFormatter;var NumberFormatter_NumberFormatter=function(_super){function NumberFormatter(){var _this=_super.call(this)||this;return _this._negativeBase=0,_this._numberFormat=\"#,###.#####\",_this._outputFormat=\"svg\",_this.className=\"NumberFormatter\",_this.applyTheme(),_this}return __extends(NumberFormatter,_super),NumberFormatter.prototype.dispose=function(){_super.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(NumberFormatter.prototype,\"language\",{get:function(){return this._language||(this._language=this.sprite?this.sprite.language:new Language_Language),this._language},set:function(value){this._language=value},enumerable:!0,configurable:!0}),NumberFormatter.prototype.format=function(value,format){void 0!==format&&\"number\"!==format.toLowerCase()||(format=this._numberFormat),format=cleanFormat(format);var details,info=this.parseFormat(format,this.language),source=Number(value);return(details=source>this._negativeBase?info.positive:source<this._negativeBase?info.negative:info.zero).template.split(PLACEHOLDER).join(this.applyFormat(source,details))},NumberFormatter.prototype.parseFormat=function(format,language){var _this=this,cached=this.getCache(format);if(hasValue(cached))return cached;var info={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:language.translateEmpty(\"_thousandSeparator\")},decimals:{active:-1,passive:-1,separator:language.translateEmpty(\"_decimalSeparator\")},template:\"\",source:\"\",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:language.translateEmpty(\"_thousandSeparator\")},decimals:{active:-1,passive:-1,separator:language.translateEmpty(\"_decimalSeparator\")},template:\"\",source:\"\",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:language.translateEmpty(\"_thousandSeparator\")},decimals:{active:-1,passive:-1,separator:language.translateEmpty(\"_decimalSeparator\")},template:\"\",source:\"\",parsed:!1}},parts=(format=format.replace(\"||\",\"__§§§§__\")).split(\"|\");return info.positive.source=parts[0],void 0===parts[2]?info.zero=info.positive:info.zero.source=parts[2],void 0===parts[1]?info.negative=info.positive:info.negative.source=parts[1],Object_each(info,function(part,item){if(!item.parsed)if(void 0===_this.getCache(item.source)){var partFormat=item.source;\"number\"===partFormat.toLowerCase()&&(partFormat=_this._numberFormat);for(var chunks=getTextFormatter().chunk(partFormat,!0),i=0;i<chunks.length;i++){var chunk=chunks[i];if(chunk.text=chunk.text.replace(\"__§§§§__\",\"|\"),\"value\"===chunk.type){var matches=chunk.text.match(/[#0.,]+[ ]?[abesABES%!]?[abesABES‰!]?/);if(matches)if(null===matches||\"\"===matches[0])item.template+=chunk.text;else{var mods=matches[0].match(/[abesABES%‰!]{2}|[abesABES%‰]{1}$/);mods&&(item.mod=mods[0].toLowerCase(),item.modSpacing=!!matches[0].match(/[ ]{1}[abesABES%‰!]{1}$/));var a=matches[0].split(\".\");if(\"\"===a[0]);else{item.thousands.active=(a[0].match(/0/g)||[]).length,item.thousands.passive=(a[0].match(/\\#/g)||[]).length+item.thousands.active;var b=a[0].split(\",\");1===b.length||(item.thousands.interval=getValue(b.pop()).length,0===item.thousands.interval&&(item.thousands.interval=-1))}void 0===a[1]||(item.decimals.active=(a[1].match(/0/g)||[]).length,item.decimals.passive=(a[1].match(/\\#/g)||[]).length+item.decimals.active),item.template+=chunk.text.split(matches[0]).join(PLACEHOLDER)}}else item.template+=chunk.text}_this.setCache(item.source,item),item.parsed=!0}else info[part]=_this.getCache(item.source)}),this.setCache(format,info),info},NumberFormatter.prototype.applyFormat=function(value,details){var negative=value<0;value=Math.abs(value);var exp,prefix=\"\",suffix=\"\",mods=details.mod?details.mod.split(\"\"):[];if(-1!==mods.indexOf(\"b\")){var a_1=this.applyPrefix(value,this.bytePrefixes,-1!==mods.indexOf(\"!\"));value=a_1[0],prefix=a_1[1],suffix=a_1[2],details.modSpacing&&(suffix=\" \"+suffix)}else if(-1!==mods.indexOf(\"a\")){var a_2=this.applyPrefix(value,value<1?this.smallNumberPrefixes:this.bigNumberPrefixes,-1!==mods.indexOf(\"!\"));value=a_2[0],prefix=a_2[1],suffix=a_2[2],details.modSpacing&&(suffix=\" \"+suffix)}else if(-1!==mods.indexOf(\"%\")){var ol=value.toString().length;value*=100,value=parseFloat(value.toPrecision(ol+2)),suffix=\"%\"}else-1!==mods.indexOf(\"‰\")&&(ol=value.toString().length,value*=1e3,value=parseFloat(value.toPrecision(ol+3)),suffix=\"‰\");if(-1!==mods.indexOf(\"e\"))exp=details.decimals.passive>=0?value.toExponential(details.decimals.passive).split(\"e\"):value.toExponential().split(\"e\"),value=Number(exp[0]),suffix=\"e\"+exp[1],details.modSpacing&&(suffix=\" \"+suffix);else if(0===details.decimals.passive)value=Math.round(value);else if(details.decimals.passive>0){var d=Math.pow(10,details.decimals.passive);value=Math.round(value*d)/d}var res=\"\",a=function(value){if(Type_isNaN(value))return\"NaN\";if(value===1/0)return\"Infinity\";if(value===-1/0)return\"-Infinity\";if(0===value&&1/value==-1/0)return\"-0\";var negative=value<0;value=Math.abs(value);var res,parsed=getValue(/^([0-9]+)(?:\\.([0-9]+))?(?:e[\\+\\-]([0-9]+))?$/.exec(\"\"+value)),digits=parsed[1],decimals=parsed[2]||\"\";if(null==parsed[3])res=\"\"===decimals?digits:digits+\".\"+decimals;else{var zeros,exponent=+parsed[3];res=value<1?\"0.\"+repeat(\"0\",zeros=exponent-1)+digits+decimals:0==(zeros=exponent-decimals.length)?digits+decimals:zeros<0?digits+decimals.slice(0,zeros)+\".\"+decimals.slice(zeros):digits+decimals+repeat(\"0\",zeros)}return negative?\"-\"+res:res}(value).split(\".\"),ints=a[0];if(ints.length<details.thousands.active&&(ints=Array(details.thousands.active-ints.length+1).join(\"0\")+ints),details.thousands.interval>0){for(var ip=[],intsr=ints.split(\"\").reverse().join(\"\"),i=0,len=ints.length;i<=len;i+=details.thousands.interval){var c=intsr.substr(i,details.thousands.interval).split(\"\").reverse().join(\"\");\"\"!==c&&ip.unshift(c)}ints=ip.join(details.thousands.separator)}res+=ints,1===a.length&&a.push(\"\");var decs=a[1];return decs.length<details.decimals.active&&(decs+=Array(details.decimals.active-decs.length+1).join(\"0\")),\"\"!==decs&&(res+=details.decimals.separator+decs),\"\"===res&&(res=\"0\"),0!==value&&negative&&-1===mods.indexOf(\"s\")&&(res=\"-\"+res),prefix&&(res=prefix+res),suffix&&(res+=suffix),res},NumberFormatter.prototype.applyPrefix=function(value,prefixes,force){void 0===force&&(force=!1);for(var newvalue=value,prefix=\"\",suffix=\"\",applied=!1,k=1,i=0,len=prefixes.length;i<len;i++)prefixes[i].number<=value&&(0===prefixes[i].number?newvalue=0:(newvalue=value/prefixes[i].number,k=prefixes[i].number),prefix=prefixes[i].prefix,suffix=prefixes[i].suffix,applied=!0);return!applied&&force&&prefixes.length&&0!=value&&(newvalue=value/prefixes[0].number,prefix=prefixes[0].prefix,suffix=prefixes[0].suffix,applied=!0),applied&&(newvalue=parseFloat(newvalue.toPrecision(k.toString().length+Math.floor(newvalue).toString().replace(/[^0-9]*/g,\"\").length))),[newvalue,prefix,suffix]},NumberFormatter.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(NumberFormatter.prototype,\"numberFormat\",{get:function(){return this._numberFormat},set:function(format){this._numberFormat=format},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,\"negativeBase\",{get:function(){return this._negativeBase},set:function(value){this._negativeBase=value},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,\"bigNumberPrefixes\",{get:function(){return hasValue(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate(\"_big_number_suffix_3\")},{number:1e6,suffix:this.language.translate(\"_big_number_suffix_6\")},{number:1e9,suffix:this.language.translate(\"_big_number_suffix_9\")},{number:1e12,suffix:this.language.translate(\"_big_number_suffix_12\")},{number:1e15,suffix:this.language.translate(\"_big_number_suffix_15\")},{number:1e18,suffix:this.language.translate(\"_big_number_suffix_18\")},{number:1e21,suffix:this.language.translate(\"_big_number_suffix_21\")},{number:1e24,suffix:this.language.translate(\"_big_number_suffix_24\")}]),this._bigNumberPrefixes},set:function(prefixes){this._bigNumberPrefixes=prefixes},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,\"smallNumberPrefixes\",{get:function(){return hasValue(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate(\"_small_number_suffix_24\")},{number:1e-21,suffix:this.language.translate(\"_small_number_suffix_21\")},{number:1e-18,suffix:this.language.translate(\"_small_number_suffix_18\")},{number:1e-15,suffix:this.language.translate(\"_small_number_suffix_15\")},{number:1e-12,suffix:this.language.translate(\"_small_number_suffix_12\")},{number:1e-9,suffix:this.language.translate(\"_small_number_suffix_9\")},{number:1e-6,suffix:this.language.translate(\"_small_number_suffix_6\")},{number:.001,suffix:this.language.translate(\"_small_number_suffix_3\")}]),this._smallNumberPrefixes},set:function(prefixes){this._smallNumberPrefixes=prefixes},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,\"bytePrefixes\",{get:function(){return hasValue(this._bytePrefixes)||(this._bytePrefixes=[{number:0,suffix:this.language.translate(\"_byte_suffix_B\")},{number:1024,suffix:this.language.translate(\"_byte_suffix_KB\")},{number:1048576,suffix:this.language.translate(\"_byte_suffix_MB\")},{number:1073741824,suffix:this.language.translate(\"_byte_suffix_GB\")},{number:1099511627776,suffix:this.language.translate(\"_byte_suffix_TB\")},{number:0x4000000000000,suffix:this.language.translate(\"_byte_suffix_PB\")}]),this._bytePrefixes},set:function(prefixes){this._bytePrefixes=prefixes},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,\"outputFormat\",{get:function(){return this._outputFormat},set:function(outputFormat){this._outputFormat=outputFormat.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),NumberFormatter.prototype.escape=function(text){return text.replace(\"||\",\"__§§§§__\")},NumberFormatter.prototype.unescape=function(text){return text.replace(\"__§§§§__\",\"|\")},NumberFormatter}(Base_BaseObject);Registry_registry.registeredClasses.NumberFormatter=NumberFormatter_NumberFormatter;var DateFormatter_DateFormatter=function(_super){function DateFormatter(){var _this=_super.call(this)||this;return _this._dateFormat=\"yyyy-MM-dd\",_this._inputDateFormat=\"yyyy-MM-dd\",_this._utc=!1,_this._firstDayOfWeek=1,_this._months=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],_this._monthsShort=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May(short)\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],_this._weekdays=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],_this._weekdaysShort=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],_this._outputFormat=\"svg\",_this.capitalize=!0,_this.className=\"DateFormatter\",_this.applyTheme(),_this}return __extends(DateFormatter,_super),Object.defineProperty(DateFormatter.prototype,\"language\",{get:function(){return this._language},set:function(value){this._language=value,this.dateFormat=this._language.translate(\"_date\")},enumerable:!0,configurable:!0}),DateFormatter.prototype.format=function(source,format){this.language||(this.language=this.sprite?this.sprite.language:new Language_Language),void 0!==format&&\"\"!==format||(format=this._dateFormat),format=cleanFormat(format);var date,info=this.parseFormat(format);if(date=isString(source)?this.parse(source):anyToDate(source),hasValue(this.timezoneOffset)&&date.setMinutes(date.getMinutes()+date.getTimezoneOffset()-this.timezoneOffset),!isNumber(date.getTime()))return this.language.translate(\"Invalid date\");var formatted=this.applyFormat(date,info,this.language);return this.capitalize&&(formatted=formatted.replace(/^.{1}/,formatted.substr(0,1).toUpperCase())),formatted},DateFormatter.prototype.parseFormat=function(format){var cached=this.getCache(format);if(hasValue(cached))return cached;for(var info={template:\"\",parts:[]},chunks=getTextFormatter().chunk(format,!0),i=0;i<chunks.length;i++){var chunk=chunks[i];if(\"value\"===chunk.type){chunk.text.match(/^date$/i)&&(chunk.text=this._dateFormat);var matches=chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(matches)for(var x=0;x<matches.length;x++)info.parts.push(matches[x]),chunk.text=chunk.text.replace(matches[x],PLACEHOLDER)}info.template+=chunk.text}return this.setCache(format,info),info},DateFormatter.prototype.applyFormat=function(date,info,language){var fullYear,month,weekday,day,hours,minutes,seconds,milliseconds,res=info.template,offset=date.getTimezoneOffset(),timestamp=date.getTime();this.utc?(fullYear=date.getUTCFullYear(),month=date.getUTCMonth(),weekday=date.getUTCDay(),day=date.getUTCDate(),hours=date.getUTCHours(),minutes=date.getUTCMinutes(),seconds=date.getUTCSeconds(),milliseconds=date.getUTCMilliseconds()):(fullYear=date.getFullYear(),month=date.getMonth(),weekday=date.getDay(),day=date.getDate(),hours=date.getHours(),minutes=date.getMinutes(),seconds=date.getSeconds(),milliseconds=date.getMilliseconds());for(var i=0,len=info.parts.length;i<len;i++){var value=\"\";switch(info.parts[i]){case\"G\":value=language.translate(fullYear<0?\"_era_bc\":\"_era_ad\");break;case\"yyyy\":value=Math.abs(fullYear).toString(),fullYear<0&&(value+=language.translate(\"_era_bc\"));break;case\"yyy\":case\"yy\":case\"y\":value=Math.abs(fullYear).toString().substr(-info.parts[i].length),fullYear<0&&(value+=language.translate(\"_era_bc\"));break;case\"YYYY\":case\"YYY\":case\"YY\":case\"Y\":var year=fullYear;1==getWeek(date)&&weekday>1&&year--,value=\"YYYY\"==info.parts[i]?Math.abs(year).toString():Math.abs(year).toString().substr(-info.parts[i].length),year<0&&(value+=language.translate(\"_era_bc\"));break;case\"u\":break;case\"MMMMM\":value=language.translate(this._months[month]).substr(0,1);break;case\"MMMM\":value=language.translate(this._months[month]);break;case\"MMM\":value=language.translate(this._monthsShort[month]);break;case\"MM\":value=padString(month+1,2,\"0\");break;case\"M\":value=(month+1).toString();break;case\"ww\":value=padString(getWeek(date,this.utc),2,\"0\");break;case\"w\":value=getWeek(date,this.utc).toString();break;case\"W\":value=getMonthWeek(date,this.utc).toString();break;case\"dd\":value=padString(day,2,\"0\");break;case\"d\":value=day.toString();break;case\"DD\":case\"DDD\":value=padString(getYearDay(date,this.utc).toString(),info.parts[i].length,\"0\");break;case\"D\":value=getYearDay(date,this.utc).toString();break;case\"F\":case\"g\":break;case\"t\":value=language.translateFunc(\"_dateOrd\").call(this,day);break;case\"E\":value=(weekday||7).toString();break;case\"EE\":value=padString((weekday||7).toString(),2,\"0\");break;case\"EEE\":case\"eee\":value=language.translate(this._weekdaysShort[weekday]);break;case\"EEEE\":case\"eeee\":value=language.translate(this._weekdays[weekday]);break;case\"EEEEE\":case\"eeeee\":value=language.translate(this._weekdays[weekday]).substr(0,1);break;case\"e\":case\"ee\":value=(weekday-this.firstDayOfWeek+1).toString(),\"ee\"==info.parts[i]&&(value=padString(value,2,\"0\"));break;case\"a\":value=language.translate(hours>=12?\"PM\":\"AM\");break;case\"aa\":value=language.translate(hours>=12?\"P.M.\":\"A.M.\");break;case\"aaa\":value=language.translate(hours>=12?\"P\":\"A\");break;case\"h\":value=get12Hours(hours).toString();break;case\"hh\":value=padString(get12Hours(hours),2,\"0\");break;case\"H\":value=hours.toString();break;case\"HH\":value=padString(hours,2,\"0\");break;case\"K\":value=get12Hours(hours,0).toString();break;case\"KK\":value=padString(get12Hours(hours,0),2,\"0\");break;case\"k\":value=(hours+1).toString();break;case\"kk\":value=padString(hours+1,2,\"0\");break;case\"m\":value=minutes.toString();break;case\"mm\":value=padString(minutes,2,\"0\");break;case\"s\":value=seconds.toString();break;case\"ss\":value=padString(seconds,2,\"0\");break;case\"S\":case\"SS\":case\"SSS\":value=Math.round(milliseconds/1e3*Math.pow(10,info.parts[i].length)).toString();break;case\"x\":value=timestamp.toString();break;case\"n\":case\"nn\":case\"nnn\":value=padString(milliseconds,info.parts[i].length,\"0\");break;case\"z\":value=getTimeZone(date,!1,!1,this.utc);break;case\"zz\":value=getTimeZone(date,!0,!1,this.utc);break;case\"zzz\":value=getTimeZone(date,!1,!0,this.utc);break;case\"zzzz\":value=getTimeZone(date,!0,!0,this.utc);break;case\"Z\":case\"ZZ\":var tz=Math.abs(offset)/60,tzh=Math.floor(tz),tzm=60*tz-60*tzh;this.utc&&(tzh=0,tzm=0),\"Z\"==info.parts[i]?(value=\"GMT\",value+=offset>0?\"-\":\"+\",value+=padString(tzh,2)+\":\"+padString(tzm,2)):(value=offset>0?\"-\":\"+\",value+=padString(tzh,2)+padString(tzm,2));break;case\"i\":value=date.toISOString();break;case\"I\":value=date.toUTCString()}res=res.replace(PLACEHOLDER,value)}return res},DateFormatter.prototype.parse=function(source,format){if(hasValue(format)||(format=this.inputDateFormat),source instanceof Date)return source;if(\"number\"==typeof source)return new Date(source);var res;\"string\"!=typeof source&&(source=source.toString()),this.language||(this.language=this.sprite?this.sprite.language:new Language_Language);var reg=\"\";format=(format=cleanFormat(format)).substr(0,source.length);for(var info=this.parseFormat(format),parsedIndexes={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},resValues={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},indexAdjust=0,index=0,i=0;i<info.parts.length;i++){switch(index=i+indexAdjust+1,info.parts[i]){case\"yyyy\":case\"YYYY\":reg+=\"([0-9]{4})\",parsedIndexes.year=index;break;case\"yyy\":case\"YYY\":reg+=\"([0-9]{3})\",parsedIndexes.year3=index;break;case\"yy\":case\"YY\":reg+=\"([0-9]{2})\",parsedIndexes.year2=index;break;case\"y\":case\"Y\":reg+=\"([0-9]{1})\",parsedIndexes.year1=index;break;case\"MMMM\":reg+=\"(\"+this.getStringList(this._months).join(\"|\")+\")\",parsedIndexes.monthLong=index;break;case\"MMM\":reg+=\"(\"+this.getStringList(this._monthsShort).join(\"|\")+\")\",parsedIndexes.monthShort=index;break;case\"MM\":case\"M\":reg+=\"([0-9]{2}|[0-9]{1})\",parsedIndexes.month=index;break;case\"ww\":case\"w\":reg+=\"([0-9]{2}|[0-9]{1})\",parsedIndexes.week=index;break;case\"dd\":case\"d\":reg+=\"([0-9]{2}|[0-9]{1})\",parsedIndexes.day=index;break;case\"DDD\":case\"DD\":case\"D\":reg+=\"([0-9]{3}|[0-9]{2}|[0-9]{1})\",parsedIndexes.yearDay=index;break;case\"dddd\":reg+=\"(\"+this.getStringList(this._weekdays).join(\"|\")+\")\",parsedIndexes.weekdayLong=index;break;case\"ddd\":reg+=\"(\"+this.getStringList(this._weekdaysShort).join(\"|\")+\")\",parsedIndexes.weekdayShort=index;break;case\"aaa\":case\"aa\":case\"a\":reg+=\"(\"+this.getStringList([\"AM\",\"PM\",\"A.M.\",\"P.M.\",\"A\",\"P\"]).join(\"|\")+\")\",parsedIndexes.am=index;break;case\"hh\":case\"h\":reg+=\"([0-9]{2}|[0-9]{1})\",parsedIndexes.hour12Base1=index;break;case\"HH\":case\"H\":reg+=\"([0-9]{2}|[0-9]{1})\",parsedIndexes.hourBase0=index;break;case\"KK\":case\"K\":reg+=\"([0-9]{2}|[0-9]{1})\",parsedIndexes.hour12Base0=index;break;case\"kk\":case\"k\":reg+=\"([0-9]{2}|[0-9]{1})\",parsedIndexes.hourBase1=index;break;case\"mm\":case\"m\":reg+=\"([0-9]{2}|[0-9]{1})\",parsedIndexes.minute=index;break;case\"ss\":case\"s\":reg+=\"([0-9]{2}|[0-9]{1})\",parsedIndexes.second=index;break;case\"SSS\":case\"SS\":case\"S\":reg+=\"([0-9]{3}|[0-9]{2}|[0-9]{1})\",parsedIndexes.millisecond=index,parsedIndexes.millisecondDigits=info.parts[i].length;break;case\"nnn\":case\"nn\":case\"n\":reg+=\"([0-9]{3}|[0-9]{2}|[0-9]{1})\",parsedIndexes.millisecond=index;break;case\"x\":reg+=\"([0-9]{1,})\",parsedIndexes.timestamp=index;break;case\"Z\":reg+=\"GMT([-+]+[0-9]{2}:[0-9]{2})\",parsedIndexes.zone=index;break;case\"ZZ\":reg+=\"([\\\\-+]+[0-9]{2}[0-9]{2})\",parsedIndexes.zone=index;break;case\"i\":reg+=\"([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{3})([Zz]?)\",parsedIndexes.iso=index,indexAdjust+=7;break;case\"G\":case\"YYYY\":case\"YYY\":case\"YY\":case\"Y\":case\"MMMMM\":case\"W\":case\"EEEEE\":case\"EEEE\":case\"EEE\":case\"EE\":case\"E\":case\"eeeee\":case\"eeee\":case\"eee\":case\"ee\":case\"e\":case\"zzzz\":case\"zzz\":case\"zz\":case\"z\":case\"t\":indexAdjust--}reg+=\"[^0-9]*\"}var regex=new RegExp(reg),matches=source.match(regex);if(matches){if(parsedIndexes.year>-1&&(resValues.year=parseInt(matches[parsedIndexes.year])),parsedIndexes.year3>-1){var val=parseInt(matches[parsedIndexes.year3]);resValues.year=val+=1e3}if(parsedIndexes.year2>-1&&(val=parseInt(matches[parsedIndexes.year2]),resValues.year=val+=val>50?1e3:2e3),parsedIndexes.year1>-1&&(val=parseInt(matches[parsedIndexes.year1]),val=10*Math.floor((new Date).getFullYear()/10)+val,resValues.year=val),parsedIndexes.monthLong>-1&&(resValues.month=this.resolveMonth(matches[parsedIndexes.monthLong])),parsedIndexes.monthShort>-1&&(resValues.month=this.resolveShortMonth(matches[parsedIndexes.monthShort])),parsedIndexes.month>-1&&(resValues.month=parseInt(matches[parsedIndexes.month])-1),parsedIndexes.week>-1&&-1===parsedIndexes.day&&(resValues.month=0,resValues.day=function(week,year,weekday,utc){void 0===weekday&&(weekday=1),void 0===utc&&(utc=!1);var date=new Date(year,0,4,0,0,0,0);return utc&&date.setUTCFullYear(year),7*week+weekday-((date.getDay()||7)+3)}(parseInt(matches[parsedIndexes.week]),resValues.year,1,this.utc)),parsedIndexes.day>-1&&(resValues.day=parseInt(matches[parsedIndexes.day])),parsedIndexes.yearDay>-1&&(resValues.month=0,resValues.day=parseInt(matches[parsedIndexes.yearDay])),parsedIndexes.hourBase0>-1&&(resValues.hour=parseInt(matches[parsedIndexes.hourBase0])),parsedIndexes.hourBase1>-1&&(resValues.hour=parseInt(matches[parsedIndexes.hourBase1])-1),parsedIndexes.hour12Base0>-1&&(11==(val=parseInt(matches[parsedIndexes.hour12Base0]))&&(val=0),parsedIndexes.am>-1&&!this.isAm(matches[parsedIndexes.am])&&(val+=12),resValues.hour=val),parsedIndexes.hour12Base1>-1&&(12==(val=parseInt(matches[parsedIndexes.hour12Base1]))&&(val=0),parsedIndexes.am>-1&&!this.isAm(matches[parsedIndexes.am])&&(val+=12),resValues.hour=val),parsedIndexes.minute>-1&&(resValues.minute=parseInt(matches[parsedIndexes.minute])),parsedIndexes.second>-1&&(resValues.second=parseInt(matches[parsedIndexes.second])),parsedIndexes.millisecond>-1&&(val=parseInt(matches[parsedIndexes.millisecond]),2==parsedIndexes.millisecondDigits?val*=10:1==parsedIndexes.millisecondDigits&&(val*=100),resValues.millisecond=val),parsedIndexes.timestamp>-1&&(resValues.timestamp=parseInt(matches[parsedIndexes.timestamp])),parsedIndexes.zone>-1){var match=getValue(matches[parsedIndexes.zone].replace(/:/,\"\").match(/([+\\-]?)([0-9]{2})([0-9]{2})/)),dir=match[1],minute=match[3],offset=60*parseInt(match[2])+parseInt(minute);\"+\"==dir&&(offset*=-1);var originalOffset=(new Date).getTimezoneOffset();resValues.offset=offset-originalOffset}parsedIndexes.iso>-1&&(\"Z\"!=matches[parsedIndexes.iso+7]&&\"z\"!=matches[parsedIndexes.iso+7]||(resValues.utc=!0),resValues.year=toNumber(matches[parsedIndexes.iso+0]),resValues.month=toNumber(matches[parsedIndexes.iso+1])-1,resValues.day=toNumber(matches[parsedIndexes.iso+2]),resValues.hour=toNumber(matches[parsedIndexes.iso+3]),resValues.minute=toNumber(matches[parsedIndexes.iso+4]),resValues.second=toNumber(matches[parsedIndexes.iso+5]),resValues.millisecond=toNumber(matches[parsedIndexes.iso+6])),res=resValues.utc?new Date(Date.UTC(resValues.year,resValues.month,resValues.day,resValues.hour,resValues.minute,resValues.second,resValues.millisecond)):new Date(resValues.year,resValues.month,resValues.day,resValues.hour,resValues.minute,resValues.second,resValues.millisecond)}else res=new Date(source);return res},DateFormatter.prototype.resolveMonth=function(value){var month=this._months.indexOf(value);return month>-1?month:this.language&&!this.language.isDefault()&&(month=this.language.translateAll(this._months).indexOf(value))>-1?month:0},DateFormatter.prototype.resolveShortMonth=function(value){var month=this._monthsShort.indexOf(value);return month>-1?month:this.language&&!this.language.isDefault()&&(month=this.language.translateAll(this._monthsShort).indexOf(value))>-1?month:0},DateFormatter.prototype.isAm=function(value){return this.getStringList([\"AM\",\"A.M.\",\"A\"]).indexOf(value.toUpperCase())>-1},DateFormatter.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},DateFormatter.prototype.getStringList=function(list){for(var res=[],i=0;i<list.length;i++)res.push(escapeForRgex(list[i])),this.language&&!this.language.isDefault()&&res.push(escapeForRgex(this.language.translate(list[i])));return res},Object.defineProperty(DateFormatter.prototype,\"dateFormat\",{get:function(){return this._dateFormat},set:function(value){this._dateFormat=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,\"inputDateFormat\",{get:function(){return this._inputDateFormat},set:function(value){this._inputDateFormat=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,\"utc\",{get:function(){return this._utc},set:function(value){this._utc=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,\"timezoneOffset\",{get:function(){return this._timezoneOffset},set:function(value){this._timezoneOffset!=value&&(this._timezoneOffset=value,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,\"firstDayOfWeek\",{get:function(){return this._firstDayOfWeek},set:function(value){this._firstDayOfWeek=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,\"outputFormat\",{get:function(){return this._outputFormat},set:function(value){this._outputFormat=value.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),DateFormatter}(Base_BaseObject);Registry_registry.registeredClasses.DateFormatter=DateFormatter_DateFormatter;var DurationFormatter_DurationFormatter=function(_super){function DurationFormatter(){var _this=_super.call(this)||this;return _this._negativeBase=0,_this._baseUnit=\"second\",_this._outputFormat=\"svg\",_this._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},_this._unitAliases={Y:\"y\",D:\"d\",H:\"h\",K:\"h\",k:\"h\",n:\"S\"},_this.className=\"DurationFormatter\",_this.applyTheme(),_this}return __extends(DurationFormatter,_super),DurationFormatter.prototype.format=function(value,format,base){this.language||(this.language=this.sprite?this.sprite.language:new Language_Language);var baseUnit=base||this._baseUnit;void 0!==format&&\"\"!==format||(format=hasValue(this.durationFormat)?this.durationFormat:this.getFormat(toNumber(value),null,baseUnit)),format=cleanFormat(format);var details,info=this.parseFormat(format,baseUnit),source=Number(value),formatted=this.applyFormat(source,details=source>this._negativeBase?info.positive:source<this._negativeBase?info.negative:info.zero);return\"\"!==details.color&&(\"svg\"===this._outputFormat?formatted=\"<tspan fill='\"+details.color+\"'>\"+formatted+\"</tspan>\":\"html\"===this._outputFormat&&(formatted=\"<span style='color: \"+details.color+\";'>\"+formatted+\"</span>\")),formatted},DurationFormatter.prototype.parseFormat=function(format,base){var _this=this,cached=this.getCache(format);if(hasValue(cached))return cached;var baseUnit=base||this._baseUnit,info={positive:{color:\"\",template:\"\",parts:[],source:\"\",baseUnit:baseUnit,parsed:!1,absolute:!1},negative:{color:\"\",template:\"\",parts:[],source:\"\",baseUnit:baseUnit,parsed:!1,absolute:!1},zero:{color:\"\",template:\"\",parts:[],source:\"\",baseUnit:baseUnit,parsed:!1,absolute:!1}},parts=(format=format.replace(\"||\",\"__§§§§__\")).split(\"|\");return info.positive.source=parts[0],void 0===parts[2]?info.zero=info.positive:info.zero.source=parts[2],void 0===parts[1]?info.negative=info.positive:info.negative.source=parts[1],Object_each(info,function(part,item){if(!item.parsed)if(void 0===_this.getCache(item.source)){var dirs,partFormat=item.source;(dirs=item.source.match(/^\\[([^\\]]*)\\]/))&&dirs.length&&\"\"!==dirs[0]&&(partFormat=item.source.substr(dirs[0].length),item.color=dirs[1]);for(var chunks=getTextFormatter().chunk(partFormat,!0),i=0;i<chunks.length;i++){var chunk=chunks[i];if(chunk.text=chunk.text.replace(\"__§§§§__\",\"|\"),\"value\"===chunk.type){chunk.text.match(/[yYMdDwhHKkmsSn]+a/)&&(item.absolute=!0,chunk.text=chunk.text.replace(/([yYMdDwhHKkmsSn]+)a/,\"$1\"));var matches=chunk.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(matches)for(var x=0;x<matches.length;x++)hasValue(matches[x])||(matches[x]=_this._unitAliases[matches[x]]),item.parts.push(matches[x]),chunk.text=chunk.text.replace(matches[x],PLACEHOLDER)}item.template+=chunk.text}_this.setCache(item.source,item),item.parsed=!0}else info[part]=_this.getCache(item.source)}),this.setCache(format,info),info},DurationFormatter.prototype.applyFormat=function(value,details){var negative=!details.absolute&&value<this._negativeBase;value=Math.abs(value);for(var tstamp=this.toTimeStamp(value,details.baseUnit),res=details.template,i=0,len=details.parts.length;i<len;i++){var part=details.parts[i],unit=this.toTimeUnit(part.substr(0,1)),digits=part.length,ints=Math.floor(tstamp/this._unitValues[unit]);res=res.replace(PLACEHOLDER,padString(ints,digits,\"0\")),tstamp-=ints*this._unitValues[unit]}return negative&&(res=\"-\"+res),res},DurationFormatter.prototype.toTimeStamp=function(value,baseUnit){return value*this._unitValues[baseUnit]},DurationFormatter.prototype.toTimeUnit=function(code){switch(code){case\"S\":return\"millisecond\";case\"s\":return\"second\";case\"m\":return\"minute\";case\"h\":return\"hour\";case\"d\":return\"day\";case\"w\":return\"week\";case\"M\":return\"month\";case\"y\":return\"year\"}},DurationFormatter.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(DurationFormatter.prototype,\"baseUnit\",{get:function(){return this._baseUnit},set:function(baseUnit){this._baseUnit=baseUnit,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DurationFormatter.prototype,\"outputFormat\",{get:function(){return this._outputFormat},set:function(outputFormat){this._outputFormat=outputFormat.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),DurationFormatter.prototype.getFormat=function(value,maxValue,baseUnit){if(hasValue(this.durationFormat))return this.durationFormat;if(baseUnit||(baseUnit=this.baseUnit),hasValue(maxValue)&&value!=maxValue){value=Math.abs(value),maxValue=Math.abs(maxValue);var maxUnit=this.getValueUnit(Math_max(value,maxValue),baseUnit);return this.durationFormats[baseUnit][maxUnit]}var unit=this.getValueUnit(value,baseUnit);return this.durationFormats[baseUnit][unit]},DurationFormatter.prototype.getValueUnit=function(value,baseUnit){var currentUnit;baseUnit||(baseUnit=this.baseUnit);var ms=this.getMilliseconds(value,baseUnit);return Object_eachContinue(this._unitValues,function(key,val){if(key==baseUnit||currentUnit){if(ms/val<=1)return currentUnit||(currentUnit=key),!1;currentUnit=key}return!0}),currentUnit},DurationFormatter.prototype.getMilliseconds=function(value,baseUnit){return baseUnit||(baseUnit=this.baseUnit),value*this._unitValues[baseUnit]},Object.defineProperty(DurationFormatter.prototype,\"durationFormat\",{get:function(){return this._durationFormat},set:function(value){this._durationFormat!=value&&(this._durationFormat=value,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(DurationFormatter.prototype,\"durationFormats\",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate(\"_duration_millisecond\"),second:this.language.translate(\"_duration_millisecond_second\"),minute:this.language.translate(\"_duration_millisecond_minute\"),hour:this.language.translate(\"_duration_millisecond_hour\"),day:this.language.translate(\"_duration_millisecond_day\"),week:this.language.translate(\"_duration_millisecond_week\"),month:this.language.translate(\"_duration_millisecond_month\"),year:this.language.translate(\"_duration_millisecond_year\")},second:{second:this.language.translate(\"_duration_second\"),minute:this.language.translate(\"_duration_second_minute\"),hour:this.language.translate(\"_duration_second_hour\"),day:this.language.translate(\"_duration_second_day\"),week:this.language.translate(\"_duration_second_week\"),month:this.language.translate(\"_duration_second_month\"),year:this.language.translate(\"_duration_second_year\")},minute:{minute:this.language.translate(\"_duration_minute\"),hour:this.language.translate(\"_duration_minute_hour\"),day:this.language.translate(\"_duration_minute_day\"),week:this.language.translate(\"_duration_minute_week\"),month:this.language.translate(\"_duration_minute_month\"),year:this.language.translate(\"_duration_minute_year\")},hour:{hour:this.language.translate(\"_duration_hour\"),day:this.language.translate(\"_duration_hour_day\"),week:this.language.translate(\"_duration_hour_week\"),month:this.language.translate(\"_duration_hour_month\"),year:this.language.translate(\"_duration_hour_year\")},day:{day:this.language.translate(\"_duration_day\"),week:this.language.translate(\"_duration_day_week\"),month:this.language.translate(\"_duration_day_month\"),year:this.language.translate(\"_duration_day_year\")},week:{week:this.language.translate(\"_duration_week\"),month:this.language.translate(\"_duration_week_month\"),year:this.language.translate(\"_duration_week_year\")},month:{month:this.language.translate(\"_duration_month\"),year:this.language.translate(\"_duration_month_year\")},year:{year:this.language.translate(\"_duration_year\")}}),this._durationFormats},set:function(value){this._durationFormats=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),DurationFormatter}(Base_BaseObject);Registry_registry.registeredClasses.DurationFormatter=DurationFormatter_DurationFormatter;var pdfmakePromise,ExportCSS_rules=new Dictionary_Dictionary,Validatable_Validatable=function(_super){function Validatable(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._invalid=!1,_this}return __extends(Validatable,_super),Validatable.prototype.invalidate=function(){!1===this._invalid&&(this._invalid=!0,Registry_registry.events.on(\"exitframe\",this.validate,this))},Validatable.prototype.validate=function(){!0===this._invalid&&(this._invalid=!1,Registry_registry.events.off(\"exitframe\",this.validate,this))},Validatable}(Base_BaseObjectEvents),ExportMenu_ExportMenu=function(_super){function ExportMenu(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this.closeDelay=1e3,_this.closeOnClick=!0,_this._language=new Disposer_MutableValueDisposer,_this._menuTag=\"ul\",_this._itemTag=\"li\",_this._labelTag=\"a\",_this._iconTag=\"img\",_this._classPrefix=\"amexport\",_this._defaultStyles=!0,_this._align=\"right\",_this._verticalAlign=\"top\",_this._tabindex=0,_this._ignoreNextClose=!1,_this._items=[{label:\"...\",menu:[{label:\"Image\",menu:[{type:\"png\",label:\"PNG\"},{type:\"jpg\",label:\"JPG\"},{type:\"gif\",label:\"GIF\"},{type:\"svg\",label:\"SVG\"},{type:\"pdf\",label:\"PDF\"}]},{label:\"Data\",menu:[{type:\"json\",label:\"JSON\"},{type:\"csv\",label:\"CSV\"},{type:\"xlsx\",label:\"XLSX\"}]},{label:\"Print\",type:\"print\"}]}],_this.className=\"ExportMenu\",_this._disposers.push(_this._language),_this.invalidate(),_this.applyTheme(),_this}return __extends(ExportMenu,_super),ExportMenu.prototype.validate=function(){this.draw(),_super.prototype.validate.call(this)},ExportMenu.prototype.draw=function(){var _this=this;this._element?(this._element.innerHTML=\"\",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display=\"none\"),getValue(this._container).appendChild(this._element);for(var items=this.adapter.apply(\"items\",{items:this._items}).items,len=items.length,i=0;i<len;i++)this.drawBranch(this._element,items[i],0);this._element=this.adapter.apply(\"menuElement\",{menuElement:this._element}).menuElement,this._disposers.push(getInteraction().body.events.on(\"down\",function(ev){ev.pointer.touch||(_this._ignoreNextClose=!1),_this.close()})),this._disposers.push(getInteraction().body.events.on(\"keyup\",function(ev){var key=keyboard.getEventKey(ev.event);switch(key){case\"esc\":_this.close();break;case\"up\":case\"down\":case\"left\":case\"right\":_this.moveSelection(key)}})),this.defaultStyles&&this.loadDefaultCSS()},ExportMenu.prototype.drawBranch=function(container,branch,level){var _this=this;if(!0!==(branch=this.adapter.apply(\"branch\",{branch:branch,level:level}).branch).unsupported){branch.ascendants||(branch.ascendants=new List_List);var label,type=branch.type,element=this.createItemElement(level,type);branch.icon?((label=this.createIconElement(level,type)).src=branch.icon,branch.label&&(label.title=branch.label)):branch.svg?(label=this.createSvgElement(level,type,branch.svg),branch.label&&(label.title=branch.label)):(label=this.createLabelElement(level,type)).innerHTML=branch.label?this.language.translate(branch.label):\"\";var readerLabel=this.getReaderLabel(branch,label.innerHTML);label.setAttribute(\"aria-label\",readerLabel),element.appendChild(label),branch.interactions=getInteraction().getInteraction(label),branch.element=element,this.typeClickable(type)&&(branch.interactions.events.on(\"hit\",function(ev){_this.events.isEnabled(\"hit\")&&_this.events.dispatchImmediately(\"hit\",{type:\"hit\",event:ev.event,target:_this,branch:branch})}),branch.interactions.events.on(\"keyup\",function(ev){keyboard.isKey(ev.event,\"enter\")&&_this.events.isEnabled(\"enter\")&&_this.events.dispatchImmediately(\"enter\",{type:\"enter\",event:ev.event,target:_this,branch:branch})}));var submenu_1=this.getSubMenu(branch);null!=submenu_1&&(branch.interactions.events.on(\"keyup\",function(ev){keyboard.isKey(ev.event,\"enter\")&&(_this.selectBranch(submenu_1[0]),_this.setFocus(submenu_1[0]))}),branch.interactions.events.on(\"hit\",function(ev){_this.selectBranch(branch)})),branch.interactions.events.on(\"over\",function(ev){ev.pointer.touch&&(_this._ignoreNextClose=!0),_this.selectBranch(branch),_this.events.isEnabled(\"over\")&&_this.events.dispatchImmediately(\"over\",{type:\"over\",event:ev.event,target:_this,branch:branch})}),branch.interactions.events.on(\"out\",function(ev){ev.pointer.touch||_this.delayUnselectBranch(branch),_this.events.isEnabled(\"out\")&&_this.events.dispatchImmediately(\"out\",{type:\"out\",event:ev.event,target:_this,branch:branch})}),branch.interactions.events.on(\"focus\",function(ev){_this.selectBranch(branch)}),branch.interactions.events.on(\"blur\",function(ev){_this.delayUnselectBranch(branch)});var local_level=level+1;if(branch.menu){for(var submenu=this.createMenuElement(local_level),len=branch.menu.length,i=0;i<len;i++){var ascendants=new List_List;branch.menu[i].ascendants=ascendants,branch.ascendants.length&&ascendants.copyFrom(branch.ascendants),ascendants.push(branch),this.drawBranch(submenu,branch.menu[i],local_level)}if(\"\"==submenu.innerHTML)return;element.appendChild(submenu)}branch.hidden&&this.hideBranch(branch),branch.id&&element.setAttribute(\"id\",branch.id),branch.color&&(element.style.backgroundColor=branch.color.hex),container.appendChild(element)}},ExportMenu.prototype.createMenuElement=function(level){var element=document.createElement(this.menuTag);return element.className=this.getMenuItemClass(level),0===level&&element.setAttribute(\"role\",\"menu\"),element},ExportMenu.prototype.getMenuItemClass=function(level){var className=this.classPrefix+\"-menu \"+this.classPrefix+\"-menu-level-\"+level;return 0===level&&(className+=\" \"+this.classPrefix+\"-menu-root \"+this.classPrefix+\"-\"+this.align+\" \"+this.classPrefix+\"-\"+this.verticalAlign),this.adapter.apply(\"menuClass\",{className:className,level:level}).className},ExportMenu.prototype.createItemElement=function(level,type){var element=document.createElement(this.itemTag);return element.className=this.adapter.apply(\"itemClass\",{className:this.classPrefix+\"-item \"+this.classPrefix+\"-item-level-\"+level+\" \"+this.classPrefix+\"-item-\"+(type||\"blank\"),level:level,type:type}).className,element},ExportMenu.prototype.createLabelElement=function(level,type){var element=document.createElement(this.labelTag),className=this.classPrefix+\"-label \"+this.classPrefix+\"-label-level-\"+level+\" \"+this.classPrefix+\"-item-\"+(type||\"blank\");return this.typeClickable(type)&&(className+=\" \"+this.classPrefix+\"-clickable\"),element.className=this.adapter.apply(\"labelClass\",{className:className,level:level,type:type}).className,element.setAttribute(\"tabindex\",this.tabindex.toString()),element.setAttribute(\"role\",\"menuitem\"),element},ExportMenu.prototype.createIconElement=function(level,type){var element=document.createElement(this.iconTag),className=this.classPrefix+\"-icon \"+this.classPrefix+\"-icon-level-\"+level+\" \"+this.classPrefix+\"-item-\"+(type||\"blank\");return this.typeClickable(type)&&(className+=\" \"+this.classPrefix+\"-clickable\"),element.className=this.adapter.apply(\"labelClass\",{className:className,level:level,type:type}).className,element.setAttribute(\"tabindex\",this.tabindex.toString()),element.setAttribute(\"role\",\"menuitem\"),element},ExportMenu.prototype.createSvgElement=function(level,type,svg){var element=(new DOMParser).parseFromString(svg,\"image/svg+xml\").documentElement,className=this.classPrefix+\"-icon \"+this.classPrefix+\"-icon-level-\"+level+\" \"+this.classPrefix+\"-item-\"+(type||\"blank\");return this.typeClickable(type)&&(className+=\" \"+this.classPrefix+\"-clickable\"),element.setAttribute(\"class\",this.adapter.apply(\"labelClass\",{className:className,level:level,type:type}).className),element.setAttribute(\"tabindex\",this.tabindex.toString()),element.setAttribute(\"role\",\"menuitem\"),element},ExportMenu.prototype.dispose=function(){this._disposed||(_super.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},ExportMenu.prototype.typeClickable=function(type){return hasValue(type)},ExportMenu.prototype.hasSubMenu=function(branch){return!(!branch.menu||!branch.menu.length)},ExportMenu.prototype.getSubMenu=function(branch){if(branch.menu&&branch.menu.length)return branch.menu},ExportMenu.prototype.getReaderLabel=function(branch,label){return label=stripTags(label),this.hasSubMenu(branch)?label+=\" [\"+this.language.translate(\"Click, tap or press ENTER to open\")+\"]\":\"print\"==branch.type?label=this.language.translate(\"Click, tap or press ENTER to print.\"):this.typeClickable(branch.type)&&(label=this.language.translate(\"Click, tap or press ENTER to export as %1.\",void 0,label)),this.adapter.apply(\"rederLabel\",{label:label,branch:branch}).label},Object.defineProperty(ExportMenu.prototype,\"container\",{get:function(){return this._container},set:function(container){this._container=container,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"items\",{get:function(){return this._items},set:function(items){this._items=items,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"tag\",{set:function(tag){this._menuTag=tag,this._itemTag=\"ul\"==tag?\"li\":\"div\",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"menuTag\",{get:function(){return this.adapter.apply(\"menuTag\",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"itemTag\",{get:function(){return this.adapter.apply(\"itemTag\",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"labelTag\",{get:function(){return this.adapter.apply(\"labelTag\",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"iconTag\",{get:function(){return this.adapter.apply(\"iconTag\",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"align\",{get:function(){return this.adapter.apply(\"align\",{align:this._align}).align},set:function(value){this._align=value,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"verticalAlign\",{get:function(){return this.adapter.apply(\"verticalAlign\",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(value){this._verticalAlign=value,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"classPrefix\",{get:function(){return this.adapter.apply(\"classPrefix\",{classPrefix:this._classPrefix}).classPrefix},set:function(value){this._classPrefix=value,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"defaultStyles\",{get:function(){return this.adapter.apply(\"defaultStyles\",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(value){this._defaultStyles!=value&&(this._defaultStyles=value,value&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),ExportMenu.prototype.loadDefaultCSS=function(){var newPrefix,colorSet;this._disposers.push((newPrefix=this.classPrefix||\"amexport\",colorSet=new InterfaceColorSet_InterfaceColorSet,ExportCSS_rules.insertKeyIfEmpty(newPrefix,function(){var disposer=new Disposer_MultiDisposer([new DOM_StyleRule(\".\"+newPrefix+\"-menu-level-0\",{position:\"absolute\",top:\"5px\",right:\"5px\"}),new DOM_StyleRule(\".\"+newPrefix+\"-menu-level-0.\"+newPrefix+\"-left\",{right:\"auto\",left:\"5px\"}),new DOM_StyleRule(\".\"+newPrefix+\"-menu-level-0.\"+newPrefix+\"-right\",{right:\"5px\",left:\"auto\"}),new DOM_StyleRule(\".\"+newPrefix+\"-menu-level-0.\"+newPrefix+\"-top\",{top:\"5px\",bottom:\"auto\"}),new DOM_StyleRule(\".\"+newPrefix+\"-menu-level-0.\"+newPrefix+\"-bottom\",{top:\"auto\",bottom:\"5px\"}),new DOM_StyleRule(\".\"+newPrefix+\"-item.\"+newPrefix+\"-item-level-0\",{opacity:\"0.3\",width:\"30px\",\"min-height\":\"30px\",transition:\"all 100ms ease-in-out\"}),new DOM_StyleRule(\"div:hover .\"+newPrefix+\"-item.\"+newPrefix+\"-item-level-0, .\"+newPrefix+\"-item.\"+newPrefix+\"-item-level-0.active\",{opacity:\"0.9\"}),new DOM_StyleRule(\".\"+newPrefix+\"-item.\"+newPrefix+\"-item-level-0 > a\",{padding:\"0\",\"text-align\":\"center\",overflow:\"hidden\"}),new DOM_StyleRule(\".\"+newPrefix+\"-item.\"+newPrefix+\"-item-level-0:before\",{display:\"block\"}),new DOM_StyleRule(\".\"+newPrefix+\"-item\",{position:\"relative\",display:\"block\",opacity:\"0\",\"z-index\":\"1\",\"border-radius\":\"3px\",\"background-color\":colorSet.getFor(\"secondaryButton\").hex,padding:\"0\",margin:\"1px 1px 0 0\",color:colorSet.getFor(\"secondaryButton\").alternative.hex,transition:\"all 100ms ease-in-out, opacity 0.5s ease 0.5s\"}),new DOM_StyleRule(\".\"+newPrefix+\"-left .\"+newPrefix+\"-item\",{margin:\"1px 0 0 1px\"}),new DOM_StyleRule(\".\"+newPrefix+\"-item:hover, .\"+newPrefix+\"-item.active\",{background:colorSet.getFor(\"secondaryButtonHover\").hex,color:colorSet.getFor(\"secondaryButtonText\").hex}),new DOM_StyleRule(\".\"+newPrefix+\"-item > .\"+newPrefix+\"-menu\",{position:\"absolute\",top:\"-1px\",right:\"0\",\"margin-right\":\"100%\"}),new DOM_StyleRule(\".\"+newPrefix+\"-left .\"+newPrefix+\"-item > .\"+newPrefix+\"-menu\",{left:\"0\",right:\"auto\",\"margin-left\":\"100%\",\"margin-right\":\"auto\"}),new DOM_StyleRule(\".\"+newPrefix+\"-right .\"+newPrefix+\"-item > .\"+newPrefix+\"-menu\",{left:\"auto\",right:\"0\",\"margin-left\":\"auto\",\"margin-right\":\"100%\"}),new DOM_StyleRule(\".\"+newPrefix+\"-top .\"+newPrefix+\"-item > .\"+newPrefix+\"-menu\",{top:\"-1px\",bottom:\"auto\"}),new DOM_StyleRule(\".\"+newPrefix+\"-bottom .\"+newPrefix+\"-item > .\"+newPrefix+\"-menu\",{top:\"auto\",bottom:\"0\"}),new DOM_StyleRule(\".\"+newPrefix+\"-item > .\"+newPrefix+\"-menu\",{display:\"none\"}),new DOM_StyleRule(\".\"+newPrefix+\"-item:hover > .\"+newPrefix+\"-menu, .\"+newPrefix+\"-item.active > .\"+newPrefix+\"-menu\",{display:\"block\"}),new DOM_StyleRule(\".\"+newPrefix+\"-item:hover > .\"+newPrefix+\"-menu > .\"+newPrefix+\"-item, .\"+newPrefix+\"-item.active > .\"+newPrefix+\"-menu > .\"+newPrefix+\"-item\",{opacity:\"1\"}),new DOM_StyleRule(\".\"+newPrefix+\"-menu\",{display:\"block\",\"list-style\":\"none\",margin:\"0\",padding:\"0\"}),new DOM_StyleRule(\".\"+newPrefix+\"-label\",{display:\"block\",cursor:\"default\",padding:\"0.5em 1em\"}),new DOM_StyleRule(\".\"+newPrefix+\"-icon\",{display:\"block\",cursor:\"default\",padding:\"0.2em 0.4em\",width:\"1.2em\",height:\"1.2em\",\"min-width\":\"20px\",\"min-height\":\"20px\",margin:\"auto auto\",\"border-radius\":\"3px\"}),new DOM_StyleRule(\".\"+newPrefix+\"-item-level-0 > .\"+newPrefix+\"-icon\",{padding:\"0.1em 0.2em\"}),new DOM_StyleRule(\".\"+newPrefix+\"-clickable\",{cursor:\"pointer\"})]);return new Disposer_CounterDisposer(function(){ExportCSS_rules.removeKey(newPrefix),disposer.dispose()})}).increment())),this._element&&(this._element.style.display=\"\")},Object.defineProperty(ExportMenu.prototype,\"tabindex\",{get:function(){return this.adapter.apply(\"tabindex\",{tabindex:this._tabindex}).tabindex},set:function(value){this._tabindex=value,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,\"language\",{get:function(){var _this=this,language=this._language.get();return null==language&&(language=new Language_Language,this._language.set(language,language.events.on(\"localechanged\",function(ev){_this.invalidate()}))),language},set:function(value){var _this=this;this._language.set(value,value.events.on(\"localechanged\",function(ev){_this.invalidate()})),this.invalidate()},enumerable:!0,configurable:!0}),ExportMenu.prototype.close=function(){var _this=this;if(this._ignoreNextClose)this._ignoreNextClose=!1;else{if(this.closeOnClick&&(this._element.style.pointerEvents=\"none\",setTimeout(function(){_this._element.style.pointerEvents=\"auto\"},100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var items=this._element.getElementsByClassName(\"active\"),i=items.length-1;i>=0;i--)items[i]&&removeClass(items[i],\"active\");this.events.dispatchImmediately(\"closed\",{type:\"closed\",target:this})}},ExportMenu.prototype.selectBranch=function(branch){var _this=this;branch.closeTimeout&&(this.removeDispose(branch.closeTimeout),branch.closeTimeout=void 0),addClass(branch.interactions.element.parentElement,\"active\"),this._currentSelection&&this._currentSelection!==branch&&this._currentSelection.ascendants&&Iterator_each(function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return function(push){for(var go=!0,push2=function(value){return go=push(value)},length=args.length,i=0;i<length&&(args[i](push2),go);++i);}}(Iterator_fromArray([this._currentSelection]),this._currentSelection.ascendants.iterator()),function(ascendant){branch.ascendants.contains(ascendant)||branch===ascendant||_this.unselectBranch(ascendant,!0)}),Iterator_each(branch.ascendants.iterator(),function(ascendant){ascendant.closeTimeout&&(_this.removeDispose(ascendant.closeTimeout),ascendant.closeTimeout=void 0),addClass(ascendant.interactions.element.parentElement,\"active\")}),this._currentSelection=branch,this.events.isEnabled(\"branchselected\")&&this.events.dispatchImmediately(\"branchselected\",{type:\"branchselected\",target:this,branch:branch})},ExportMenu.prototype.unselectBranch=function(branch,simple){removeClass(branch.interactions.element.parentElement,\"active\"),this._currentSelection==branch&&(this._currentSelection=void 0),this.events.isEnabled(\"branchunselected\")&&this.events.dispatchImmediately(\"branchunselected\",{type:\"branchunselected\",target:this,branch:branch})},ExportMenu.prototype.delayUnselectBranch=function(branch,simple){var _this=this;branch.closeTimeout&&(this.removeDispose(branch.closeTimeout),branch.closeTimeout=void 0),branch.closeTimeout=this.setTimeout(function(){_this.unselectBranch(branch,simple)},this.closeDelay),!0!==simple&&branch.ascendants&&Iterator_each(branch.ascendants.iterator(),function(ascendant){_this.delayUnselectBranch(ascendant,!0)})},ExportMenu.prototype.moveSelection=function(key){if(this._currentSelection){var newSelection;if(\"up\"==key)newSelection=this.getPrevSibling(this._currentSelection);else if(\"down\"==key)newSelection=this.getNextSibling(this._currentSelection);else if(\"left\"==key&&\"right\"==this.align||\"right\"==key&&\"left\"==this.align){var menu=this.getSubMenu(this._currentSelection);null!=menu&&(newSelection=menu[0])}else(\"right\"==key&&\"right\"==this.align||\"left\"==key&&\"left\"==this.align)&&(newSelection=this.getParentItem(this._currentSelection));newSelection&&newSelection!==this._currentSelection&&(this.selectBranch(newSelection),this.setFocus(newSelection),this._currentSelection=newSelection)}},ExportMenu.prototype.getSiblings=function(branch){var parent=this.getParentItem(branch);return parent&&parent.menu?parent.menu:[]},ExportMenu.prototype.getParentItem=function(branch){return branch.ascendants&&branch.ascendants.length?branch.ascendants.getIndex(branch.ascendants.length-1):void 0},ExportMenu.prototype.getNextSibling=function(branch){var siblings=this.getSiblings(branch);if(siblings.length>1){var next=siblings.indexOf(branch)+1;return siblings[next=siblings.length==next?0:next].unsupported?this.getNextSibling(siblings[next]):siblings[next]}return branch},ExportMenu.prototype.getPrevSibling=function(branch){var siblings=this.getSiblings(branch);if(siblings.length>1){var prev=siblings.indexOf(branch)-1;return siblings[prev=-1==prev?siblings.length-1:prev].unsupported?this.getPrevSibling(siblings[prev]):siblings[prev]}return branch},ExportMenu.prototype.setFocus=function(branch){if(branch.interactions)try{branch.interactions.element.focus()}catch(e){}},ExportMenu.prototype.setBlur=function(branch){if(branch.interactions)try{branch.interactions.element.blur()}catch(e){}},ExportMenu.prototype.hideBranch=function(branch){branch.element.style.display=\"none\"},ExportMenu.prototype.showBranch=function(branch){branch.element.style.display=\"\"},ExportMenu}(Validatable_Validatable);function load(url,target,options){return new Promise(function(success,error){var isBlob=hasValue(options)&&\"blob\"==options.responseType,xhr=new XMLHttpRequest;if(xhr.onload=function(){if(200===xhr.status){var response=void 0,blob=void 0;isBlob?blob=xhr.response:response=xhr.responseText||xhr.response;var output={xhr:xhr,error:!1,response:response,blob:blob,type:xhr.getResponseHeader(\"Content-Type\"),target:target};success(output)}else error({xhr:xhr,error:!0,type:xhr.getResponseHeader(\"Content-Type\"),target:target})},xhr.onerror=function(){error({xhr:xhr,error:!0,type:xhr.getResponseHeader(\"Content-Type\"),target:target})},xhr.open(\"GET\",url,!0),options&&options.withCredentials&&(xhr.withCredentials=!0),hasValue(options)){if(hasValue(options.requestHeaders))for(var i=0;i<options.requestHeaders.length;i++){var header=options.requestHeaders[i];xhr.setRequestHeader(header.key,header.value)}hasValue(options.responseType)&&(xhr.responseType=options.responseType)}xhr.send()})}var fontFamilySrcRegexp=/src: ([^;]+);/;function loadStylesheet(url,f){return __awaiter(this,void 0,void 0,function(){var response,s;return __generator(this,function(_a){switch(_a.label){case 0:return[4,load(url)];case 1:response=_a.sent(),(s=document.createElement(\"style\")).textContent=response.response,document.head.appendChild(s),_a.label=2;case 2:return _a.trys.push([2,,4,5]),[4,f(s.sheet)];case 3:return[2,_a.sent()];case 4:return document.head.removeChild(s),[7];case 5:return[2]}})})}function eachStylesheet(topUrl,sheet,f){return __awaiter(this,void 0,void 0,function(){var promises,_loop_1,i;return __generator(this,function(_a){switch(_a.label){case 0:for(promises=[],_loop_1=function(i){var rule=sheet.cssRules[i];if(rule.type===CSSRule.IMPORT_RULE){var url_1=rule.href;url_1&&(url_1=joinUrl(topUrl,url_1),promises.push(loadStylesheet(url_1,function(sheet){return eachStylesheet(url_1,sheet,f)})))}else f(topUrl,rule)},i=0;i<sheet.cssRules.length;i++)_loop_1(i);return promises.length?[4,Promise.all(promises)]:[3,2];case 1:_a.sent(),_a.label=2;case 2:return[2]}})})}function eachStylesheets(f){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,Promise.all(Array_map(document.styleSheets,function(sheet){var url=sheet.href;return null==url?eachStylesheet(location.href,sheet,f):loadStylesheet(url=joinUrl(location.href,url),function(sheet){return eachStylesheet(url,sheet,f)})}))];case 1:return _a.sent(),[2]}})})}var Export_Export=function(_super){function Export(container){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this._formatOptions=new Dictionary_Dictionary,_this._extraSprites=[],_this._dynamicDataFields=!0,_this._removedObjects=new List_List,_this._hiddenObjects=[],_this._objectsAlreadyHidden=!1,_this._filePrefix=\"amCharts\",_this.useWebFonts=!0,_this.useRetina=!0,_this.useSimplifiedExport=!0,_this.timeoutDelay=2e3,_this._container=container,_this.className=\"Export\",_this._formatOptions.setKey(\"png\",{}),_this._formatOptions.setKey(\"jpg\",{quality:.8}),_this._formatOptions.setKey(\"gif\",{}),_this._formatOptions.setKey(\"svg\",{}),_this._formatOptions.setKey(\"pdf\",{fontSize:14,imageFormat:\"png\",addURL:!0}),_this._formatOptions.setKey(\"json\",{indent:2,useLocale:!0}),_this._formatOptions.setKey(\"csv\",{addColumnNames:!0,emptyAs:\"\"}),_this._formatOptions.setKey(\"xlsx\",{addColumnNames:!0,useLocale:!0,emptyAs:\"\"}),_this._formatOptions.setKey(\"print\",{delay:500,printMethod:\"iframe\"}),_this.adapter.add(\"options\",function(arg){var formatOptions=_this._formatOptions.getKey(arg.type);return arg.options=arg.options?Object_merge(formatOptions,arg.options):formatOptions,arg}),_this.applyTheme(),_this.dispatchImmediately(\"inited\"),_this}return __extends(Export,_super),Object.defineProperty(Export.prototype,\"menu\",{get:function(){return this._menu},set:function(menu){var _this=this;this._menu&&this.removeDispose(this._menu),this._menu=menu,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add(\"branch\",function(arg){return arg.branch.unsupported=!_this.typeSupported(arg.branch.type),arg}),this._menu.events.on(\"hit\",function(ev){_this.export(ev.branch.type,ev.branch.options),_this.menu.close()}),this._menu.events.on(\"enter\",function(ev){_this.export(ev.branch.type,ev.branch.options),_this.menu.close()}),this._menu.events.on(\"over\",function(ev){_this._disablePointers()}),this._menu.events.on(\"out\",function(ev){_this._releasePointers()}),this.dispatchImmediately(\"menucreated\"),this._menu.adapter.add(\"classPrefix\",function(obj){return obj.classPrefix=Options_options.classNamePrefix+obj.classPrefix,obj}),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),Export.prototype.typeSupported=function(type){var supported=!0;return\"pdf\"===type||(\"xlsx\"===type?supported=!!this._hasData():(\"print\"!=type||window.print)&&(-1===[\"json\",\"csv\"].indexOf(type)||this._hasData())||(supported=!1)),this.adapter.apply(\"supported\",{supported:supported,type:type}).supported},Export.prototype._hasData=function(){return this.data&&this.data.length},Export.prototype._getFunction=function(type){switch(type){case\"png\":case\"gif\":case\"jpg\":return this.getImage;case\"svg\":return this.getSVG;case\"pdf\":return this.getPDF;case\"xlsx\":return this.getExcel;case\"csv\":return this.getCSV;case\"json\":return this.getJSON;case\"print\":return this.getPrint;default:return this.unsupported}},Export.prototype.export=function(type,options){return __awaiter(this,void 0,void 0,function(){var func,data,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return\"custom\"==type?(this.handleCustom(options),[2,!0]):(this.events.isEnabled(\"exportstarted\")&&this.events.dispatchImmediately(\"exportstarted\",{type:\"exportstarted\",target:this,format:type,options:options}),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout(function(){_this.events.isEnabled(\"exporttimedout\")&&_this.events.dispatchImmediately(\"exporttimedout\",{type:\"exporttimedout\",target:_this,format:type,options:options}),_this.showTimeout()},this.timeoutDelay)),this.hideNonExportableSprites(),func=this._getFunction(type),options=this.adapter.apply(\"options\",{options:options,type:type}).options,[4,(func=this.adapter.apply(\"exportFunction\",{func:func,type:type,options:options}).func).call(this,type,options)]);case 1:return data=_a.sent(),this.restoreNonExportableSprites(),data?(this.events.isEnabled(\"exportfinished\")&&this.events.dispatchImmediately(\"exportfinished\",{type:\"exportfinished\",target:this,format:type,options:options}),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),\"print\"===type?[2,this.print(data,options,this.adapter.apply(\"title\",{title:this.title,options:options}).title)]:[2,this.download(data,this.filePrefix+\".\"+type)]):(this.events.isEnabled(\"error\")&&this.events.dispatchImmediately(\"error\",{type:\"error\",target:this,format:type,options:options}),[2,!1])}})})},Export.prototype.unsupported=function(type,options){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,\"\"]})})},Export.prototype.handleCustom=function(options){hasValue(options)&&hasValue(options.callback)&&options.callback.call(options.callbackTarget||this,options)},Export.prototype.getPrint=function(type,options){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.getImage(\"png\",options)]})})},Export.prototype.getFontFamilies=function(){return __awaiter(this,void 0,void 0,function(){var DOMURL,blobs,promises,a,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return DOMURL=this.getDOMURL(),blobs=[],promises=[],[4,eachStylesheets(function(topUrl,rule){if(rule.type===CSSRule.FONT_FACE_RULE){var cssText_1=rule.cssText,src=fontFamilySrcRegexp.exec(cssText_1);if(null!==src){var urls=src[1].split(/ *, */).map(function(url){return __awaiter(_this,void 0,void 0,function(){var a,after,fullUrl,response,url_2,e_1;return __generator(this,function(_a){switch(_a.label){case 0:return null!==(a=/^url\\([\"']?([^\"'\\)]+)[\"']?\\)([^,]*)$/.exec(url))?[3,1]:[2,url];case 1:after=a[2],fullUrl=joinUrl(topUrl,a[1]),_a.label=2;case 2:return _a.trys.push([2,7,,8]),[4,load(fullUrl,void 0,{responseType:\"blob\"})];case 3:return response=_a.sent(),null==window.navigator.msSaveOrOpenBlob?[3,4]:(url_2=DOMURL.createObjectURL(response.blob),blobs.push(url_2),[3,6]);case 4:return[4,(blob=response.blob,new Promise(function(resolve,reject){var f=new FileReader;f.onload=function(e){resolve(f.result)},f.onerror=function(e){reject(e)},f.readAsDataURL(blob)}))];case 5:url_2=_a.sent(),_a.label=6;case 6:return[2,'url(\"'+url_2+'\")'+after];case 7:return e_1=_a.sent(),console.error(\"Failed to load font\",fullUrl,e_1),[2,null];case 8:return[2]}var blob})})});promises.push(Promise.all(urls).then(function(a){return 0===(a=a.filter(function(x){return null!=x})).length?\"\":cssText_1.replace(fontFamilySrcRegexp,\"src: \"+a.join(\", \")+\";\")}))}}})];case 1:return _a.sent(),[4,Promise.all(promises)];case 2:return a=_a.sent(),[2,{blobs:blobs,cssText:a.filter(function(x){return!!x}).join(\"\\n\")}]}})})},Export.prototype.getImage=function(type,options,includeExtras){return __awaiter(this,void 0,void 0,function(){var prehidden,canvas,uri,data;return __generator(this,function(_a){switch(_a.label){case 0:return(prehidden=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),hasValue(options)||(options=this.getFormatOptions(type)),[4,this.simplifiedImageExport()];case 1:if(!_a.sent())return[3,9];_a.label=2;case 2:return _a.trys.push([2,6,,8]),[4,this.getCanvas(options)];case 3:return canvas=_a.sent(),!1===includeExtras?[3,5]:[4,this.addExtras(canvas,options)];case 4:canvas=_a.sent(),_a.label=5;case 5:return uri=canvas.toDataURL(this.getContentType(type),options.quality),this.disposeCanvas(canvas),prehidden||this.restoreNonExportableSprites(),[2,uri];case 6:return _a.sent(),[4,this.getImageAdvanced(type,options,includeExtras)];case 7:return data=_a.sent(),prehidden||this.restoreNonExportableSprites(),[2,data];case 8:return[3,11];case 9:return[4,this.getImageAdvanced(type,options,includeExtras)];case 10:return data=_a.sent(),prehidden||this.restoreNonExportableSprites(),[2,data];case 11:return[2]}})})},Export.prototype.addExtras=function(canvas,options,advanced){return __awaiter(this,void 0,void 0,function(){var middleLeft_1,middleTop_1,middleWidth_1,middleHeight_1,extraRight_1,extraBottom_1,extras,newCanvas,ctx_1,background,left_1,top_1,right_1,bottom_1,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return this.extraSprites.length?(middleLeft_1=0,middleTop_1=0,middleWidth_1=canvas.width,middleHeight_1=canvas.height,extraRight_1=0,extraBottom_1=0,[4,Promise.all(Array_map(this.extraSprites,function(extraSprite){return __awaiter(_this,void 0,void 0,function(){var extra,extraCanvas,extraWidth,extraHeight;return __generator(this,function(_a){switch(_a.label){case 0:return(extra=extraSprite instanceof Sprite_Sprite?{sprite:extraSprite,position:\"bottom\"}:extraSprite).position=extra.position||\"bottom\",extra.marginTop=extra.marginTop||0,extra.marginRight=extra.marginRight||0,extra.marginBottom=extra.marginBottom||0,extra.marginLeft=extra.marginLeft||0,advanced?[4,extra.sprite.exporting.getCanvasAdvanced(options)]:[3,2];case 1:return extraCanvas=_a.sent(),[3,4];case 2:return[4,extra.sprite.exporting.getCanvas(options)];case 3:extraCanvas=_a.sent(),_a.label=4;case 4:return extraWidth=extraCanvas.width+extra.marginLeft+extra.marginRight,extraHeight=extraCanvas.height+extra.marginTop+extra.marginBottom,\"top\"==extra.position?(middleWidth_1=Math_max(middleWidth_1,extraWidth),middleTop_1+=extraHeight):\"right\"==extra.position?(middleHeight_1=Math_max(middleHeight_1,extraHeight),extraRight_1+=extraWidth):\"left\"==extra.position?(middleHeight_1=Math_max(middleHeight_1,extraHeight),middleLeft_1+=extraWidth):\"bottom\"===extra.position&&(middleWidth_1=Math_max(middleWidth_1,extraWidth),extraBottom_1+=extraHeight),[2,{canvas:extraCanvas,position:extra.position,left:extra.marginLeft,top:extra.marginTop,width:extraWidth,height:extraHeight}]}})})}))]):[3,2];case 1:return extras=_a.sent(),(newCanvas=this.getDisposableCanvas()).width=middleLeft_1+middleWidth_1+extraRight_1,newCanvas.height=middleTop_1+middleHeight_1+extraBottom_1,ctx_1=newCanvas.getContext(\"2d\"),(background=this.backgroundColor||this.findBackgroundColor(this.sprite.dom))&&(ctx_1.fillStyle=background.toString(),ctx_1.fillRect(0,0,newCanvas.width,newCanvas.height)),right_1=(left_1=middleLeft_1)+middleWidth_1,bottom_1=(top_1=middleTop_1)+middleHeight_1,each(extras,function(extra){\"top\"==extra.position?ctx_1.drawImage(extra.canvas,middleLeft_1+extra.left,(top_1-=extra.height)+extra.top):\"right\"==extra.position?(ctx_1.drawImage(extra.canvas,right_1+extra.left,middleTop_1+extra.top),right_1+=extra.width):\"left\"==extra.position?ctx_1.drawImage(extra.canvas,(left_1-=extra.width)+extra.left,middleTop_1+extra.top):\"bottom\"===extra.position&&(ctx_1.drawImage(extra.canvas,middleLeft_1+extra.left,bottom_1+extra.top),bottom_1+=extra.height),_this.disposeCanvas(extra.canvas)}),ctx_1.drawImage(canvas,middleLeft_1,middleTop_1),[2,newCanvas];case 2:return[2,canvas]}})})},Export.prototype.getCanvas=function(options){return __awaiter(this,void 0,void 0,function(){var background,DOMURL,url,blobs,canvas,width,height,font,fontSize,pixelRatio,ctx,promises,a,data,svg,img;return __generator(this,function(_a){switch(_a.label){case 0:hasValue(options)||(options={}),background=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),DOMURL=this.getDOMURL(),url=null,blobs=null,_a.label=1;case 1:return _a.trys.push([1,,4,5]),width=this.sprite.pixelWidth,height=this.sprite.pixelHeight,font=findFont(this.sprite.dom),fontSize=findFontSize(this.sprite.dom),canvas=this.getDisposableCanvas(),pixelRatio=this.getPixelRatio(options),canvas.style.width=width+\"px\",canvas.style.height=height+\"px\",canvas.width=width*pixelRatio,canvas.height=height*pixelRatio,ctx=canvas.getContext(\"2d\"),1!=pixelRatio&&ctx.setTransform(pixelRatio,0,0,pixelRatio,0,0),background&&(ctx.fillStyle=background.toString(),ctx.fillRect(0,0,width,height)),promises=[],this.useWebFonts&&promises.push(this.getFontFamilies().then(function(fonts){return blobs=fonts.blobs,fonts.cssText})),promises.push(this.imagesToDataURI(this.sprite.dom,options)),promises.push(this.prepForeignObjects(this.sprite.dom,options)),[4,Promise.all(promises)];case 2:return a=_a.sent(),data=this.normalizeSVG(\"<style>\"+a[0]+\"</style>\"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),options,width,height,font,fontSize),svg=new Blob([data],{type:\"image/svg+xml\"}),url=DOMURL.createObjectURL(svg),[4,this.loadNewImage(url,width,height,\"anonymous\")];case 3:return img=_a.sent(),ctx.drawImage(img,0,0),[3,5];case 4:return null!==url&&DOMURL.revokeObjectURL(url),null!==blobs&&each(blobs,function(url){DOMURL.revokeObjectURL(url)}),this.restoreRemovedObjects(),[7];case 5:return[2,canvas]}})})},Export.prototype.getCanvasAdvanced=function(options){return __awaiter(this,void 0,void 0,function(){var background,canvg,width,height,font,fontSize,data,canvas,pixelRatio,config;return __generator(this,function(_a){switch(_a.label){case 0:return hasValue(options)||(options={}),[4,this.imagesToDataURI(this.sprite.dom,options)];case 1:return _a.sent(),background=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return canvg=_a.sent(),width=this.sprite.pixelWidth,height=this.sprite.pixelHeight,font=findFont(this.sprite.dom),fontSize=findFontSize(this.sprite.dom),data=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),options,width,height,font,fontSize,background),canvas=this.getDisposableCanvas(),pixelRatio=this.getPixelRatio(options),canvas.style.width=width*pixelRatio+\"px\",canvas.style.height=height*pixelRatio+\"px\",canvas.width=width*pixelRatio,canvas.height=height*pixelRatio,config={useCORS:!0},1!=pixelRatio&&(config.ignoreDimensions=!0,config.scaleWidth=width*pixelRatio,config.scaleHeight=height*pixelRatio),canvg(canvas,data,config),[2,canvas]}})})},Export.prototype.getImageAdvanced=function(type,options,includeExtras){return __awaiter(this,void 0,void 0,function(){var prehidden,canvas,uri;return __generator(this,function(_a){switch(_a.label){case 0:return(prehidden=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),hasValue(options)||(options=this.getFormatOptions(type)),[4,this.getCanvasAdvanced(options)];case 1:return canvas=_a.sent(),!1===includeExtras?[3,3]:[4,this.addExtras(canvas,options,!0)];case 2:canvas=_a.sent(),_a.label=3;case 3:return uri=canvas.toDataURL(this.getContentType(type),options.quality),this.disposeCanvas(canvas),prehidden||this.restoreNonExportableSprites(),[2,uri]}})})},Export.prototype.getDisposableCanvas=function(){var canvas=document.createElement(\"canvas\");return canvas.style.position=\"fixed\",canvas.style.top=\"-10000px\",document.body.appendChild(canvas),canvas},Export.prototype.disposeCanvas=function(canvas){document.body.removeChild(canvas)},Export.prototype.getPixelRatio=function(options){return(this.useRetina&&window.devicePixelRatio||1)*(options&&options.scale?options.scale:1)},Export.prototype.imagesToDataURI=function(el,options){return __awaiter(this,void 0,void 0,function(){var images,promises,count,i,image,href;return __generator(this,function(_a){switch(_a.label){case 0:if(!(images=el.querySelectorAll(\"image\")).length)return[3,2];for(promises=[],count=images.length,i=0;i<count;i++)(href=(image=images[i]).getAttributeNS(Export.XLINK,\"href\"))&&(-1!==href.indexOf(\"data:image\")||(-1!==href.indexOf(\".svg\")?promises.push(this.svgToDataURI(image,options)):promises.push(this.imageToDataURI(image,options))));return[4,Promise.all(promises)];case 1:return _a.sent(),[2];case 2:return[2]}})})},Export.prototype.prepForeignObjects=function(el,options){return __awaiter(this,void 0,void 0,function(){var objects,count,i;return __generator(this,function(_a){if((objects=el.querySelectorAll(\"foreignObject\")).length)for(count=objects.length,i=0;i<count;i++)this.temporarilyRemoveObject(objects[i]);return[2]})})},Export.prototype.imageToDataURI=function(el,options){return __awaiter(this,void 0,void 0,function(){var img,canvas,uri;return __generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.loadNewImage(el.getAttributeNS(Export.XLINK,\"href\"),null,null,\"anonymous\")];case 1:img=_a.sent(),(canvas=document.createElement(\"canvas\")).width=img.width,canvas.height=img.height,canvas.getContext(\"2d\").drawImage(img,0,0);try{return uri=canvas.toDataURL(),el.setAttribute(\"href\",uri),[2,uri]}catch(e){return!1!==options.keepTainted&&this.temporarilyRemoveObject(el),[2,void 0]}return[3,3];case 2:return _a.sent(),options&&!1===options.keepTainted||this.temporarilyRemoveObject(el),[2,void 0];case 3:return[2]}})})},Export.prototype.svgToDataURI=function(el,options){return __awaiter(this,void 0,void 0,function(){var href,data,charset,uri;return __generator(this,function(_a){switch(_a.label){case 0:href=el.getAttributeNS(Export.XLINK,\"href\"),_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,load(href)];case 2:return data=_a.sent(),charset=this.adapter.apply(\"charset\",{charset:\"base64\",type:\"svg\",options:options}).charset,uri=this.adapter.apply(\"svgToDataURI\",{data:\"data:\"+this.getContentType(\"svg\")+\";\"+charset+\",\"+btoa(data.response),options:options}).data,el.setAttributeNS(Export.XLINK,\"href\",uri),[2,uri];case 3:return _a.sent(),options&&!1===options.keepTainted||this.temporarilyRemoveObject(el),[2,void 0];case 4:return[2]}})})},Export.prototype.temporarilyRemoveObject=function(el,placeholder){var parent=el.parentElement||el.parentNode;placeholder||(placeholder=this.sprite.paper.add(\"g\").node),parent.insertBefore(placeholder,el),parent.removeChild(el),this._removedObjects.push({element:el,placeholder:placeholder})},Export.prototype.restoreRemovedObjects=function(){for(var obj;obj=this._removedObjects.pop();)(obj.placeholder.parentElement||obj.placeholder.parentNode).insertBefore(obj.element,obj.placeholder)},Export.prototype.simplifiedImageExport=function(){return __awaiter(this,void 0,void 0,function(){var cache,canvas,ctx,DOMURL,svg,url,img;return __generator(this,function(_a){switch(_a.label){case 0:if(!1===this.useSimplifiedExport)return[2,!1];if(!1===(cache=Registry_registry.getCache(\"simplifiedImageExport\"))||!0===cache)return[2,cache];_a.label=1;case 1:_a.trys.push([1,6,,7]),(canvas=document.createElement(\"canvas\")).width=1,canvas.height=1,ctx=canvas.getContext(\"2d\"),DOMURL=this.getDOMURL(),svg=new Blob([this.normalizeSVG(\"<g></g>\",{},1,1)],{type:\"image/svg+xml\"}),url=DOMURL.createObjectURL(svg),img=void 0,_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,this.loadNewImage(url,1,1)];case 3:return img=_a.sent(),[3,5];case 4:return _a.sent(),[2,!1];case 5:ctx.drawImage(img,0,0),DOMURL.revokeObjectURL(url);try{return Registry_registry.setCache(\"simplifiedImageExport\",!0),[2,!0]}catch(e){return Registry_registry.setCache(\"simplifiedImageExport\",!1),[2,!1]}return[3,7];case 6:return _a.sent(),Registry_registry.setCache(\"simplifiedImageExport\",!1),[2,!1];case 7:return[2]}})})},Export.prototype.loadNewImage=function(url,width,height,crossOrigin){return new Promise(function(success,error){var image;function onerror(){if(crossOrigin){var currentHref=image.src;image.onerror=function(){error(new Error('Loading image \"'+url+'\" failed'))},image.removeAttribute(\"crossorigin\"),image.src=\"\",image.src=currentHref}else error(new Error('Loading image \"'+url+'\" failed'))}image=width&&height?new Image(width,height):new Image,crossOrigin&&image.setAttribute(\"crossOrigin\",crossOrigin),image.onload=function(){success(image)},image.onabort=onerror,image.onerror=onerror,image.src=url})},Export.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},Export.prototype.getSVG=function(type,options){return __awaiter(this,void 0,void 0,function(){var prehidden,width,height,font,fontSize,svg,charset,uri;return __generator(this,function(_a){return(prehidden=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),width=this.sprite.pixelWidth,height=this.sprite.pixelHeight,font=findFont(this.sprite.dom),fontSize=findFontSize(this.sprite.dom),svg=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),options,width,height,font,fontSize),charset=this.adapter.apply(\"charset\",{charset:\"charset=utf-8\",type:\"svg\",options:options}).charset,uri=this.adapter.apply(\"getSVG\",{data:\"data:\"+this.getContentType(type)+\";\"+charset+\",\"+encodeURIComponent(svg),options:options}).data,prehidden||this.restoreNonExportableSprites(),[2,uri]})})},Export.prototype.normalizeSVG=function(svg,options,width,height,font,fontSize,background){var dimParams=\"\";width&&(dimParams+='width=\"'+width+'px\" '),height&&(dimParams+='height=\"'+height+'px\" ');var styleParams=\"\";font&&(styleParams+=\"font-family: \"+font.replace(/\"/g,\"\")+\";\"),fontSize&&(styleParams+=\"font-size: \"+fontSize+\";\"),svg.match(/<svg/)?\"\"!==dimParams&&(svg=(svg=(svg=svg.replace(/(<svg[^>]*)width=\"[^\"]*\"/,\"$1\")).replace(/(<svg[^>]*)height=\"[^\"]*\"/,\"$1\")).replace(/(<svg)/,\"$1\"+dimParams)):svg='<?xml version=\"1.0\" encoding=\"utf-8\"?><svg '+dimParams+' style=\"'+styleParams+'\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">'+svg+\"</svg>\",background&&(svg=svg.replace(/(<svg[^>]*>)/,'$1<rect width=\"100%\" height=\"100%\" fill=\"'+background.rgba+'\"/>')),/MSIE |Trident\\//.test(navigator.userAgent)&&(svg=svg.replace(/<feColorMatrix [^\\/>]*\\/>/gi,\"\"));var reg=new RegExp(\"url\\\\(\"+escapeForRgex(getBaseURI()),\"g\");return svg=svg.replace(reg,\"url(#\"),this.adapter.apply(\"normalizeSVG\",{data:svg,options:options}).data},Export.prototype.serializeElement=function(element){return(new XMLSerializer).serializeToString(element)},Export.prototype.getPDF=function(type,options){return __awaiter(this,void 0,void 0,function(){var image,pdfmake,defaultMargins,doc,title;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getImage(options.imageFormat||\"png\",options)];case 1:return image=_a.sent(),[4,this.pdfmake];case 2:return pdfmake=_a.sent(),defaultMargins=[30,30,30,30],doc={pageSize:options.pageSize||\"A4\",pageOrientation:options.pageOrientation||\"portrait\",pageMargins:options.pageMargins||defaultMargins,content:[]},(title=this.adapter.apply(\"title\",{title:this.title,options:options}).title)&&doc.content.push({text:title,fontSize:options.fontSize,bold:!0,margin:[0,0,0,15]}),options.addURL&&doc.content.push({text:this.language.translate(\"Saved from\")+\": \"+document.location.href,fontSize:options.fontSize,margin:[0,0,0,15]}),doc.content.push({image:image,fit:this.getPageSizeFit(doc.pageSize,doc.pageMargins)}),doc=this.adapter.apply(\"pdfmakeDocument\",{doc:doc,options:options}).doc,[4,new Promise(function(success,error){pdfmake.createPdf(doc).getDataUrl(function(uri){success(uri)})})];case 3:return[2,_a.sent()]}})})},Export.prototype.getPageSizeFit=function(pageSize,margins){var newMargins=[0,0,0,0];\"number\"==typeof margins?newMargins=[margins,margins,margins,margins]:2==margins.length?newMargins=[margins[0],margins[1],margins[0],margins[1]]:4==margins.length&&(newMargins=margins);var fitSize={\"4A0\":[4767.87,6740.79],\"2A0\":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[pageSize];return fitSize[0]-=newMargins[0]+newMargins[2],fitSize[1]-=newMargins[1]+newMargins[3],fitSize},Export.prototype.getExcel=function(type,options){return __awaiter(this,void 0,void 0,function(){var XLSX,wbOptions,sheetName,wb,data,dataFields,len,i;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.xlsx];case 1:for(XLSX=_a.sent(),wbOptions=this.adapter.apply(\"xlsxWorkbookOptions\",{options:{bookType:\"xlsx\",bookSST:!1,type:\"base64\"}}).options,sheetName=this.normalizeExcelSheetName(this.adapter.apply(\"xlsxSheetName\",{name:this.title||this.language.translate(\"Data\")}).name),wb={SheetNames:[sheetName],Sheets:{}},data=[],dataFields=this.adapter.apply(\"formatDataFields\",{dataFields:this.dataFields,format:\"xslx\"}).dataFields,options.addColumnNames&&data.push(this.getExcelRow(dataFields,options)),len=this.data.length,i=0;i<len;i++)data.push(this.getExcelRow(this.data[i],options,dataFields));return wb.Sheets[sheetName]=XLSX.utils.aoa_to_sheet(data),[2,this.adapter.apply(\"getExcel\",{data:\"data:\"+this.getContentType(type)+\";base64,\"+XLSX.write(wb,wbOptions),options:options}).data]}})})},Export.prototype.normalizeExcelSheetName=function(name){return truncateWithEllipsis(name=name.replace(/([:\\\\\\/?*\\[\\]]+)/g,\" \"),31,\"...\",!0)},Export.prototype.getExcelRow=function(row,options,dataFields){var _this=this,items=[];return dataFields||(dataFields=row),Object_each(dataFields,function(key,name){var value=_this.convertEmptyValue(key,row[key],options);items.push(_this.convertToSpecialFormat(key,value,options,!0))}),items},Export.prototype.getCSV=function(type,options){return __awaiter(this,void 0,void 0,function(){var csv,dataFields,br,data,len,i,row,charset;return __generator(this,function(_a){for(csv=\"\",dataFields=this.adapter.apply(\"formatDataFields\",{dataFields:this.dataFields,format:\"csv\"}).dataFields,br=\"\",len=(data=this.data).length,i=0;i<len;i++)row=this.getCSVRow(data[i],options,dataFields),options.reverse?csv=row+br+csv:csv+=br+row,br=\"\\n\";return options.addColumnNames&&(csv=this.getCSVRow(dataFields,options,void 0,!0)+br+csv),charset=this.adapter.apply(\"charset\",{charset:\"charset=utf-8\",type:type,options:options}).charset,[2,this.adapter.apply(\"getCSV\",{data:\"data:\"+this.getContentType(type)+\";\"+charset+\",\"+encodeURIComponent(csv),options:options}).data]})})},Export.prototype.getCSVRow=function(row,options,dataFields,asIs){var _this=this;void 0===asIs&&(asIs=!1);var separator=options.separator||\",\",items=[];return dataFields||(dataFields=row),Object_each(dataFields,function(key,name){var value=_this.convertEmptyValue(key,row[key],options),item=asIs?value:_this.convertToSpecialFormat(key,value,options);item=(item=\"\"+item).replace(/\"/g,'\"\"'),(options.forceQuotes||item.search(new RegExp('\"|\\n|'+separator,\"g\"))>=0)&&(item='\"'+item+'\"'),items.push(item)}),items.join(separator)},Export.prototype.getJSON=function(type,options){return __awaiter(this,void 0,void 0,function(){var data,dataFields,sourceData,_loop_2,len,i,json,charset,_this=this;return __generator(this,function(_a){if(dataFields=this.adapter.apply(\"formatDataFields\",{dataFields:this.dataFields,format:\"csv\"}).dataFields,this._dynamicDataFields)data=this.data;else for(data=[],_loop_2=function(len,i){var value=sourceData[i];if(\"object\"==typeof value){var newValue_1={};Object_each(value,function(field,item){hasValue(dataFields[field])&&(newValue_1[dataFields[field]]=_this.convertToSpecialFormat(field,item,options))}),data.push(newValue_1)}},len=(sourceData=this.data).length,i=0;i<len;i++)_loop_2(0,i);return json=JSON.stringify(data,function(key,value){return\"object\"==typeof value&&Object_each(value,function(field,item){value[field]=_this.convertToSpecialFormat(field,item,options)}),value},options.indent),charset=this.adapter.apply(\"charset\",{charset:\"charset=utf-8\",type:type,options:options}).charset,[2,this.adapter.apply(\"getJSON\",{data:\"data:\"+this.getContentType(type)+\";\"+charset+\",\"+encodeURIComponent(json),options:options}).data]})})},Export.prototype.convertToSpecialFormat=function(field,value,options,keepOriginal){if(\"number\"==typeof value)if(this.isDateField(field))value=new Date(value);else{if(this.isDurationField(field))return this.durationFormatter.format(value,this.durationFormat);if(this.isNumberField(field)&&this.numberFormat)return this.numberFormatter.format(value,this.numberFormat)}return value instanceof Date?options.useTimestamps?value=value.getTime():options.useLocale?keepOriginal||(value=value.toLocaleString()):value=this.dateFormatter.format(value,this.dateFormat):isString(value)&&this.isDateField(field)&&this.dateFormat&&(value=this.dateFormatter.format(this.dateFormatter.parse(value),this.dateFormat)),value},Export.prototype.convertEmptyValue=function(field,value,options){return hasValue(value)?value:options.emptyAs},Export.prototype.download=function(uri,fileName){return __awaiter(this,void 0,void 0,function(){var blob_1,link_1,decoded,blob_2,url_3,chars,i,charCode,blob,url_4,link,parts,contentType,iframe,idoc;return __generator(this,function(_a){if(this.msBlobDownloadSupport()){if(parts=uri.split(\";\"),contentType=parts.shift().replace(/data:/,\"\"),uri=decodeURIComponent(parts.join(\";\").replace(/^[^,]*,/,\"\")),-1!=[\"image/svg+xml\",\"application/json\",\"text/csv\"].indexOf(contentType))return blob_1=new Blob([uri],{type:contentType}),window.navigator.msSaveBlob(blob_1,fileName),[2,!0];try{decoded=atob(uri),uri=decoded}catch(e){return[2,!1]}for(chars=new Array(uri.length),i=0;i<uri.length;++i)charCode=uri.charCodeAt(i),chars[i]=charCode;blob=new Blob([new Uint8Array(chars)],{type:contentType}),window.navigator.msSaveBlob(blob,fileName)}else if(this.blobDownloadSupport()){if((link_1=document.createElement(\"a\")).download=fileName,document.body.appendChild(link_1),parts=uri.split(\";\"),contentType=parts.shift().replace(/data:/,\"\"),uri=decodeURIComponent(parts.join(\";\").replace(/^[^,]*,/,\"\")),-1!=[\"image/svg+xml\",\"application/json\",\"text/csv\"].indexOf(contentType))return blob_2=new Blob([uri],{type:contentType}),url_3=window.URL.createObjectURL(blob_2),link_1.href=url_3,link_1.download=fileName,link_1.click(),setTimeout(function(){document.body.removeChild(link_1),window.URL.revokeObjectURL(url_3)},100),[2,!0];try{decoded=atob(uri),uri=decoded}catch(e){return[2,!1]}for(chars=new Array(uri.length),i=0;i<uri.length;++i)charCode=uri.charCodeAt(i),chars[i]=charCode;blob=new Blob([new Uint8Array(chars)],{type:contentType}),url_4=window.URL.createObjectURL(blob),link_1.href=url_4,link_1.download=fileName,document.body.appendChild(link_1),link_1.click(),document.body.removeChild(link_1),setTimeout(function(){window.URL.revokeObjectURL(url_4)},100)}else this.linkDownloadSupport()?((link=document.createElement(\"a\")).download=fileName,link.href=uri,document.body.appendChild(link),link.click(),document.body.removeChild(link)):this.legacyIE()?4===(parts=uri.match(/^data:(.*);[ ]*([^,]*),(.*)$/)).length&&(\"base64\"==parts[2]?parts[1].match(/^image\\//)&&this.showModal('<img src=\"'+uri+'\" style=\"float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;\" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose \"Save picture as...\"')+'</p><p style=\"text-align: center;\"><small>'+this.language.translate(\"(Press ESC to close this message)\")+\"</small></p>\",this.language.translate(\"Image Export Complete\")):(contentType=void 0,fileName.match(/\\.svg$/)?contentType=\"image/svg+xml\":(contentType=\"text/plain\",fileName+=\".txt\"),(iframe=document.createElement(\"iframe\")).width=\"1px\",iframe.height=\"1px\",iframe.style.display=\"none\",document.body.appendChild(iframe),(idoc=iframe.contentDocument).open(contentType,\"replace\"),idoc.write(decodeURIComponent(parts[3])),idoc.close(),idoc.execCommand(\"SaveAs\",!0,fileName),document.body.removeChild(iframe))):window.location.href=uri;return[2,!0]})})},Export.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},Export.prototype.linkDownloadSupport=function(){var cache=Registry_registry.getCache(\"linkDownloadSupport\");if(!1===cache||!0===cache)return cache;var res=void 0!==document.createElement(\"a\").download;return Registry_registry.setCache(\"linkDownloadSupport\",res),res},Export.prototype.blobDownloadSupport=function(){return hasValue(window.Blob)},Export.prototype.msBlobDownloadSupport=function(){return hasValue(window.navigator.msSaveOrOpenBlob)},Export.prototype.legacyIE=function(){var div=document.createElement(\"div\");return div.innerHTML=\"\\x3c!--[if lt IE 10]><i></i><![endif]--\\x3e\",1==div.getElementsByTagName(\"i\").length},Export.prototype.print=function(data,options,title){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return\"css\"==options.printMethod?[2,this.printViaCSS(data,options,title)]:[2,this.printViaIframe(data,options,title)]})})},Export.prototype.printViaCSS=function(data,options,title){return __awaiter(this,void 0,void 0,function(){var scroll,rule,originalTitle,img;return __generator(this,function(_a){return scroll=document.documentElement.scrollTop||document.body.scrollTop,rule=new DOM_StyleRule(\"body > *\",{display:\"none\",position:\"fixed\",visibility:\"hidden\",opacity:\"0\",clipPath:\"polygon(0px 0px,0px 0px,0px 0px,0px 0px);\"}),title&&document&&document.title&&(originalTitle=document.title,document.title=title),(img=new Image).src=data,img.style.maxWidth=\"100%\",img.style.display=\"block\",img.style.position=\"relative\",img.style.visibility=\"visible\",img.style.opacity=\"1\",img.style.clipPath=\"none\",document.body.appendChild(img),this.setTimeout(function(){window.print()},50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&options.delay<1e3?options.delay=1e3:options.delay<100&&(options.delay=100),this.setTimeout(function(){document.body.removeChild(img),rule.dispose(),originalTitle&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=scroll},options.delay||500),[2,!0]})})},Export.prototype.printViaIframe=function(data,options,title){return __awaiter(this,void 0,void 0,function(){var iframe,img;return __generator(this,function(_a){return(iframe=document.createElement(\"iframe\")).style.visibility=\"hidden\",document.body.appendChild(iframe),iframe.contentWindow.document.open(),iframe.contentWindow.document.close(),(img=new Image).src=data,img.style.maxWidth=\"100%\",title&&(iframe.contentWindow.document.title=title),iframe.contentWindow.document.body.appendChild(img),iframe.load=function(){iframe.contentWindow.document.body.appendChild(img)},this.setTimeout(function(){try{iframe.contentWindow.document.execCommand(\"print\",!1,null)||iframe.contentWindow.print()}catch(e){iframe.contentWindow.print()}},options.delay||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&options.delay<1e3?options.delay=1e3:options.delay<100&&(options.delay=100),this.setTimeout(function(){document.body.removeChild(iframe)},options.delay+50||100),[2,!0]})})},Export.prototype.findBackgroundColor=function(element){var opacity=1,currentColor=DOM_getComputedStyle(element,\"background-color\");if((currentColor.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||\"transparent\"==currentColor)&&(opacity=0),0==opacity){var parent_2=element.parentElement;return parent_2?this.findBackgroundColor(parent_2):Color_color(\"#fff\")}return Color_color(currentColor,opacity)},Object.defineProperty(Export.prototype,\"container\",{get:function(){return this.adapter.apply(\"container\",{container:this._container}).container},set:function(value){this._container=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"sprite\",{get:function(){return this.adapter.apply(\"sprite\",{sprite:this._sprite}).sprite},set:function(value){this._sprite=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"extraSprites\",{get:function(){return this.adapter.apply(\"extraSprites\",{extraSprites:this._extraSprites}).extraSprites},set:function(value){this._extraSprites=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"data\",{get:function(){return this.adapter.apply(\"data\",{data:this._data}).data},set:function(value){this._data=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"dataFields\",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply(\"dataFields\",{dataFields:this._dataFields}).dataFields},set:function(value){this._dataFields=value,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),Export.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0)},Object.defineProperty(Export.prototype,\"dateFormatter\",{get:function(){return this._dateFormatter||(this._dateFormatter=new DateFormatter_DateFormatter),this.adapter.apply(\"dateFormatter\",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(value){this._dateFormatter=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"dateFormat\",{get:function(){return this.adapter.apply(\"dateFormat\",{dateFormat:this._dateFormat}).dateFormat},set:function(value){this._dateFormat=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"dateFields\",{get:function(){return this._dateFields||(this._dateFields=new List_List),this.adapter.apply(\"dateFields\",{dateFields:this._dateFields}).dateFields},set:function(value){this._dateFields=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"numberFormatter\",{get:function(){return this._numberFormatter||(this._numberFormatter=new NumberFormatter_NumberFormatter),this.adapter.apply(\"numberFormatter\",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(value){this._dateFormatter=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"numberFormat\",{get:function(){return this.adapter.apply(\"numberFormat\",{numberFormat:this._numberFormat}).numberFormat},set:function(value){this._numberFormat=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"numberFields\",{get:function(){return this._numberFields||(this._numberFields=new List_List),this.adapter.apply(\"numberFields\",{numberFields:this._numberFields}).numberFields},set:function(value){this._numberFields=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"durationFormatter\",{get:function(){return this._durationFormatter||(this._durationFormatter=new DurationFormatter_DurationFormatter),this.adapter.apply(\"durationFormatter\",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(value){this._durationFormatter=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"durationFormat\",{get:function(){return this.adapter.apply(\"durationFormat\",{durationFormat:this._durationFormat}).durationFormat},set:function(value){this._durationFormat=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"durationFields\",{get:function(){return this._durationFields||(this._durationFields=new List_List),this.adapter.apply(\"durationFields\",{durationFields:this._durationFields}).durationFields},set:function(value){this._durationFields=value},enumerable:!0,configurable:!0}),Export.prototype.generateDataFields=function(){var _this=this;this._dataFields={},this.data.length&&each(this.data,function(row){Object_each(row,function(key,value){hasValue(_this._dataFields[key])||(_this._dataFields[key]=_this.adapter.apply(\"dataFieldName\",{name:key,field:key}).name)})})},Export.prototype.isDateField=function(field){return this.adapter.apply(\"isDateField\",{isDateField:this.dateFields.contains(field),field:field}).isDateField},Export.prototype.isNumberField=function(field){return this.adapter.apply(\"isNumberField\",{isNumberField:this.numberFields.contains(field),field:field}).isNumberField},Export.prototype.isDurationField=function(field){return this.adapter.apply(\"isDurationField\",{isDurationField:this.durationFields.contains(field),field:field}).isDurationField},Export.prototype.getContentType=function(type){var contentType=\"\";switch(type){case\"png\":case\"gif\":contentType=\"image/\"+type;break;case\"jpg\":contentType=\"image/jpeg\";break;case\"svg\":contentType=\"image/svg+xml\";break;case\"csv\":contentType=\"text/csv\";break;case\"json\":contentType=\"application/json\";break;case\"pdf\":contentType=\"application/pdf\";break;case\"xlsx\":contentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"}return this.adapter.apply(\"contentType\",{contentType:contentType,type:type}).contentType},Object.defineProperty(Export.prototype,\"filePrefix\",{get:function(){return this.adapter.apply(\"filePrefix\",{filePrefix:this._filePrefix}).filePrefix},set:function(value){this._filePrefix=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"backgroundColor\",{get:function(){return this.adapter.apply(\"backgroundColor\",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(value){this._backgroundColor=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"title\",{get:function(){return this.adapter.apply(\"title\",{title:this._title}).title},set:function(value){this._title=value},enumerable:!0,configurable:!0}),Export.prototype.showPreloader=function(){var preloader=this.preloader;preloader&&(preloader.progress=.5,preloader.label.text=\"...\")},Export.prototype.hidePreloader=function(){var preloader=this.preloader;preloader&&(preloader.progress=1)},Object.defineProperty(Export.prototype,\"preloader\",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),Export.prototype.showTimeout=function(){this.showModal(this.adapter.apply(\"timeoutMessage\",{message:this.language.translate(\"Export operation took longer than expected. Something might have gone wrong.\")}).message)},Export.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(Export.prototype,\"language\",{get:function(){return this._language||(this._language=new Language_Language),this._language},set:function(value){this._language=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"modal\",{get:function(){return this._modal||(this._modal=new Modal_Modal,this._modal.adapter.add(\"classPrefix\",function(value){return Options_options.classNamePrefix+value})),this._modal},enumerable:!0,configurable:!0}),Export.prototype.showModal=function(text,title){this.hideModal(),this.hidePreloader();var modal=this.modal;modal.container=this.sprite.svgContainer.SVGContainer,modal.content=text,modal.readerTitle=title,modal.open()},Export.prototype.hideModal=function(){this._modal&&this.modal.close()},Export.prototype._canvg=function(){return __awaiter(this,void 0,void 0,function(){var canvg;return __generator(this,function(_a){switch(_a.label){case 0:return[4,__webpack_require__.e(1).then(__webpack_require__.t.bind(null,\"ATId\",7))];case 1:return null!=(canvg=_a.sent()).default?[2,canvg.default]:[2,canvg]}})})},Object.defineProperty(Export.prototype,\"canvg\",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,\"pdfmake\",{get:function(){return null==pdfmakePromise&&(pdfmakePromise=function(){return __awaiter(this,void 0,void 0,function(){var a,pdfmake,vfs_fonts,global;return __generator(this,function(_a){switch(_a.label){case 0:return[4,Promise.all([__webpack_require__.e(3).then(__webpack_require__.t.bind(null,\"5JmO\",7)),__webpack_require__.e(3).then(__webpack_require__.bind(null,\"b0eU\"))])];case 1:return a=_a.sent(),pdfmake=a[0],vfs_fonts=a[1],(global=window).pdfMake=global.pdfMake||{},global.pdfMake.vfs=vfs_fonts.default,pdfmake.vfs=vfs_fonts.default,[2,pdfmake]}})})}()),pdfmakePromise},enumerable:!0,configurable:!0}),Export.prototype._xlsx=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,__webpack_require__.e(7).then(__webpack_require__.t.bind(null,\"EUZL\",7))];case 1:return[2,_a.sent()]}})})},Object.defineProperty(Export.prototype,\"xlsx\",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),Export.prototype.setFormatOptions=function(type,options){this._formatOptions.setKey(type,options)},Export.prototype.getFormatOptions=function(type){return this._formatOptions.getKey(type)},Export.prototype._disablePointers=function(){hasValue(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},Export.prototype._releasePointers=function(){hasValue(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},Export.prototype.hideNonExportableSprites=function(){var _this=this;if(!this._objectsAlreadyHidden){var svgContainer=this.sprite.svgContainer;svgContainer&&each(svgContainer.nonExportableSprites,function(item){item.isHidden||item.isHiding||_this._hiddenObjects.push(item),item.hide(0)}),this._objectsAlreadyHidden=!0}},Export.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(each(this._hiddenObjects,function(item){item.show(0)}),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},Export.prototype.processConfig=function(config){Registry_registry.registeredClasses.ExportMenu=ExportMenu_ExportMenu,config&&hasValue(config.menu)&&!hasValue(config.menu.type)&&(config.menu.type=\"ExportMenu\"),_super.prototype.processConfig.call(this,config)},Export.XLINK=\"http://www.w3.org/1999/xlink\",Export}(Validatable_Validatable),visualProperties=[\"fill\",\"fillOpacity\",\"stroke\",\"strokeOpacity\",\"strokeWidth\",\"strokeDasharray\",\"strokeDashoffset\"],Sprite_Sprite=function(_super){function Sprite(){var _this=_super.call(this)||this;return _this.properties={},_this.events=new SpriteEvents_SpriteEventDispatcher(_this),_this.adapter=new Adapter_Adapter(_this),_this._bindings={},_this._isTemplate=!1,_this._inited=!1,_this._ready=!1,_this.isHiding=!1,_this._isHidden=!1,_this.isShowing=!1,_this.isStandaloneInstance=!1,_this._isActive=!1,_this._mask=new Disposer_MutableValueDisposer,_this._positionPrecision=3,_this._language=new Disposer_MutableValueDisposer,_this._exporting=new Disposer_MutableValueDisposer,_this._exportable=!0,_this._bbox={x:0,y:0,width:0,height:0},_this.invalid=!1,_this.positionInvalid=!1,_this.propertyFields={},_this.applyOnClones=!1,_this.maxLeft=0,_this.maxRight=0,_this.maxTop=0,_this.maxBottom=0,_this._isDragged=!1,_this._isResized=!1,_this._disabled=!1,_this._internalDisabled=!1,_this._updateDisabled=!1,_this._internalDefaultsApplied=!1,_this.rollOutDelay=0,_this.isBaseSprite=!1,_this.shouldClone=!0,_this.appeared=!1,_this.ex=0,_this.ey=0,_this.dragWhileResize=!1,_this.className=\"Sprite\",_this.group=_this.paper.addGroup(\"g\"),_this.setPropertyValue(\"scale\",1),_this.setPropertyValue(\"rotation\",0),_this.setPropertyValue(\"align\",\"none\"),_this.setPropertyValue(\"valign\",\"none\"),_this.setPropertyValue(\"pixelPerfect\",!1),_this.setPropertyValue(\"visible\",!0),_this.setPropertyValue(\"tooltipPosition\",\"fixed\"),_this.setPropertyValue(\"verticalCenter\",\"none\"),_this.setPropertyValue(\"horizontalCenter\",\"none\"),_this.setPropertyValue(\"marginTop\",0),_this.setPropertyValue(\"marginBottom\",0),_this.setPropertyValue(\"marginLeft\",0),_this.setPropertyValue(\"marginRight\",0),_this.setPropertyValue(\"dx\",0),_this.setPropertyValue(\"dy\",0),_this.setPropertyValue(\"paddingTop\",0),_this.setPropertyValue(\"paddingBottom\",0),_this.setPropertyValue(\"paddingRight\",0),_this.setPropertyValue(\"paddingLeft\",0),_this.setPropertyValue(\"togglable\",!1),_this.setPropertyValue(\"hidden\",!1),_this.setPropertyValue(\"urlTarget\",\"_self\"),_this.setPropertyValue(\"alwaysShowTooltip\",!1),_this._prevMeasuredWidth=0,_this._prevMeasuredHeight=0,_this._measuredWidth=0,_this._measuredHeight=0,_this._isMeasured=!0,_this.invalidate(),_this.applyTheme(),_this._disposers.push(_this.events),_this._disposers.push(_this.group),_this._disposers.push(_this._mask),_this._disposers.push(_this._language),_this._disposers.push(_this._exporting),_this._disposers.push(new Disposer(function(){Object_each(_this._bindings,function(key,value){value.dispose()})})),_this.setPropertyValue(\"interactionsEnabled\",!0),_this}return __extends(Sprite,_super),Sprite.prototype.applyTheme=function(){_super.prototype.applyTheme.call(this),Options_options.autoSetClassName&&this.setClassName()},Sprite.prototype.getCurrentThemes=function(){var themes=this._themes;if(themes)return themes;var parent_1=this.parent;return parent_1?parent_1.getCurrentThemes():Registry_registry.themes},Sprite.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},Sprite.prototype.invalidate=function(){this.disabled||this._isTemplate||this.invalid||(this.invalid=!0,Registry_registry.addToInvalidSprites(this),system.requestFrame())},Sprite.prototype.validate=function(){this.dispatchImmediately(\"beforevalidated\"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,Registry_registry.removeFromInvalidSprites(this),this.afterDraw()},Sprite.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,Registry_registry.addToInvalidPositions(this),system.requestFrame())},Sprite.prototype.validatePosition=function(){var pixelX=this.pixelX,pixelY=this.pixelY,dx=this.dx,dy=this.dy,x=pixelX+dx,y=pixelY+dy;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:\"none\"}):this.disabled||this.removeSVGAttribute(\"display\"),this._updateDisabled=!1);var sizeChanged=this.measure(),prevGroupTransform=this.group.transformString;this.group.moveTo({x:x,y:y}),this.group.rotation=this.rotation,this.group.scale=this.nonScaling?this.scale/this.globalScale:this.scale,(prevGroupTransform!=this.group.transformString||sizeChanged)&&(null==prevGroupTransform?this.dispatch(\"transformed\"):this.dispatchImmediately(\"transformed\"),this.dispatch(\"positionchanged\"),this.alwaysShowTooltip&&this.updateTooltipPosition()),pixelX+dx==x&&pixelY+dy==y&&(Registry_registry.removeFromInvalidPositions(this),this.positionInvalid=!1);var maskRectangle=this._maskRectangle;maskRectangle&&this._clipElement.moveTo({x:maskRectangle.x-pixelX,y:maskRectangle.y-pixelY})},Sprite.prototype.beforeDraw=function(){},Sprite.prototype.draw=function(){},Sprite.prototype.afterDraw=function(){if((this.isMeasured||\"none\"!==this.horizontalCenter||\"none\"!==this.verticalCenter)&&this.measureElement(),this._inited)this.dispatch(\"validated\");else{try{for(var _a=__values(this.adapter.keys()),_b=_a.next();!_b.done;_b=_a.next()){var key=_b.value;switch(key){case\"mask\":case\"fill\":case\"opacity\":case\"fillOpacity\":case\"stroke\":case\"strokeOpacity\":case\"strokeWidth\":case\"shapeRendering\":case\"strokeDasharray\":case\"strokeDashoffset\":case\"strokeLinecap\":case\"strokeLinejoin\":case\"textDecoration\":case\"fontSize\":case\"fontFamily\":case\"fontWeight\":this[key]=this[key]}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_b&&!_b.done&&(_c=_a.return)&&_c.call(_a)}finally{if(e_1)throw e_1.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue(\"interactionsEnabled\"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch(\"validated\"),this.dispatch(\"inited\"),this.dispatchReady()}var e_1,_c;this.alwaysShowTooltip&&(!this.visible||this.disabled||this.__disabled?this.hideTooltip(0):this.showTooltip())},Sprite.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch(\"ready\"))},Sprite.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},Sprite.prototype.handleGlobalScale=function(){this.dispatch(\"globalscalechanged\"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},Sprite.prototype.updateFilterScale=function(){var _this=this;Iterator_each(this.filters.iterator(),function(filter){filter.scale=_this.globalScale})},Sprite.prototype.removeFromInvalids=function(){Registry_registry.removeFromInvalidSprites(this),Registry_registry.removeFromInvalidPositions(this)},Sprite.prototype.copyFrom=function(source){var _this=this;_super.prototype.copyFrom.call(this,source),this.events.copyFrom(source.events),this.isMeasured=source.isMeasured,this.states.copyFrom(source.states),source.filters.length>0&&source.filters.each(function(filter){_this.filters.push(filter.clone())}),this.adapter.copyFrom(source.adapter),source._interaction&&this.interactions.copyFrom(source.interactions),source._plugins&&this.plugins.copyFrom(source.plugins),this.configField=source.configField,this.applyOnClones=source.applyOnClones,this.disabled=source.disabled,this.virtualParent=source.virtualParent,this.exportable=source.exportable,source._tooltip&&(this._tooltip?this._tooltip.copyFrom(source.tooltip):this.tooltip=source.tooltip.clone()),this._showSystemTooltip=source.showSystemTooltip,Utils_copyProperties(source.propertyFields,this.propertyFields),Utils_copyProperties(source.properties,this),source.fillModifier&&(this.fillModifier=source.fillModifier.clone()),source.strokeModifier&&(this.strokeModifier=source.strokeModifier.clone())},Sprite.prototype.dispose=function(){if(!this.isDisposed()){if(this.dispatchImmediately(\"beforedisposed\"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(_super.prototype.dispose.call(this),this.adapter.clear(),this.applyOnClones&&this._clones)for(var i=this._clones.length-1;i>=0;i--)this._clones.getIndex(i).dispose();this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var stroke=this.stroke;!stroke||stroke instanceof Color_Color||!stroke.dispose||this.clonedFrom&&this.clonedFrom.stroke==stroke||stroke.dispose();var fill=this.fill;if(!fill||fill instanceof Color_Color||!fill.dispose||this.clonedFrom&&this.clonedFrom.fill==fill||fill.dispose(),hasValue(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var filter=this._filters.getIndex(0);filter.dispose(),this._filters.removeValue(filter)}this._alwaysShowDisposers=void 0}},Object.defineProperty(Sprite.prototype,\"isTemplate\",{get:function(){return this._isTemplate},set:function(value){value=toBoolean(value),this._isTemplate!=value&&(this._isTemplate=value,this instanceof Container_Container&&Iterator_each(this.children.iterator(),function(child){child.isTemplate=value}),value?(this.parent=this.parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"showSystemTooltip\",{get:function(){return hasValue(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:!!this.parent&&this.parent.showSystemTooltip},set:function(value){value=toBoolean(value),this._showSystemTooltip!=value&&(this._showSystemTooltip=value,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"topParent\",{get:function(){return this._topParent?this._topParent:this.parent?this.parent.topParent:void 0},set:function(value){this._topParent=value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"parent\",{get:function(){return this._parent},set:function(parent){if(!this._isTemplate){var oldParent=this._parent;oldParent!=parent&&(oldParent&&oldParent.children.removeValue(this),this._parent=parent,parent?(this.topParent=parent.topParent,parent.isTemplate&&(this.isTemplate=!0),this.baseId=parent.baseId,parent.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=parent.tooltipContainer),this._dataItem||(this.dataItem=parent.dataItem),this.handleAlwaysShowTooltip()):this.topParent=void 0)}},enumerable:!0,configurable:!0}),Sprite.prototype.handleAlwaysShow=function(){this.showTooltip()},Sprite.prototype.handleAlwaysShowTooltip=function(){var sprite=this,oldDisposers=this._alwaysShowDisposers;if(oldDisposers&&each(oldDisposers,function(oldDisposer){oldDisposer.dispose()}),this._alwaysShowDisposers=[],this.alwaysShowTooltip)for(;null!=sprite;){var disposer=sprite.events.on(\"visibilitychanged\",this.handleAlwaysShow,this,!1);this.addDisposer(disposer),this._alwaysShowDisposers.push(disposer),sprite=sprite.parent}},Object.defineProperty(Sprite.prototype,\"virtualParent\",{get:function(){return this._virtualParent},set:function(value){this._virtualParent=value},enumerable:!0,configurable:!0}),Sprite.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var fill=this.fill;fill&&fill.element&&this.paper.appendDef(fill.element);var stroke=this.stroke;if(stroke&&stroke.element&&this.paper.appendDef(stroke.element),this.fillModifier&&this.fill instanceof Color_Color){var fill_1=this.fillModifier.modify(this.fill);fill_1&&fill_1.element&&this.paper.appendDef(fill_1.element)}if(this.strokeModifier&&this.stroke instanceof Color_Color){var stroke_1=this.strokeModifier.modify(this.stroke);stroke_1&&stroke_1.element&&this.paper.appendDef(stroke_1.element)}this._clipPath&&this.paper.appendDef(this._clipPath),!1===this._exportable&&(this.exportable=!1)},Object.defineProperty(Sprite.prototype,\"map\",{get:function(){var top=this.topParent;return top?top.map:(this._map||(this._map=new Dictionary_Dictionary),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"id\",{get:function(){return this._id},set:function(value){if(this._id!=value){if(this._id=value,this.map.hasKey(value))throw Error(\"Duplicate id (\"+value+\") used on multiple objects.\");this.map.setKey(value,this),Options_options.autoSetClassName&&this.setClassName()}},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"dom\",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"paper\",{get:function(){return this._paper?this._paper:this.parent?this.parent.paper:getGhostPaper()},set:function(paper){this.setPaper(paper)},enumerable:!0,configurable:!0}),Sprite.prototype.setPaper=function(paper){return this._paper!=paper&&(this._paper=paper,this.appendDefs(),!0)},Object.defineProperty(Sprite.prototype,\"htmlContainer\",{get:function(){return this._htmlContainer?this._htmlContainer:this.parent?this.parent.htmlContainer:void 0},set:function(htmlContainer){this._htmlContainer=htmlContainer},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"titleElement\",{get:function(){return this._titleElement||(this._titleElement=this.paper.add(\"title\"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"descriptionElement\",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add(\"desc\"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"filters\",{get:function(){return this._filters||(this._filters=new List_List,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new List_ListDisposer(this._filters))),this._filters},enumerable:!0,configurable:!0}),Sprite.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},Sprite.prototype.setSVGAttribute=function(attribute){this.group.attr(attribute)},Sprite.prototype.removeSVGAttribute=function(attribute){this.group.removeAttr(attribute)},Sprite.prototype.setClassName=function(){var className=this.className,classNamePrefix=Options_options.classNamePrefix;this.element&&this.element.addClass(classNamePrefix+className),this.group.addClass(classNamePrefix+className+\"-group\"),hasValue(this.id)&&this.group.addClass(classNamePrefix+this.id)},Sprite.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},Sprite.prototype.updateClipPath=function(){var element=this._clipElement;element&&element.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},Sprite.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup(\"clipPath\"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var id=Registry_registry.getUniqueId();this._clipPath.attr({id:id}),this.group.attr({\"clip-path\":'url(\"'+getBaseURI()+id+'\")'})}},Sprite.prototype.applyMask=function(){var mask=this.mask;if(this._clipPath&&mask)if(mask instanceof Container_Container){this._clipElement.attr({width:Math_max(0,mask.pixelWidth),height:Math_max(0,mask.pixelHeight)});var point=spritePointToSprite({x:mask.pixelX,y:mask.pixelY},mask.parent,this);this._clipPath.x=point.x,this._clipPath.y=point.y}else mask.element&&mask.element!=this._clipElement&&(this._clipElement=mask.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=mask.scale,this._clipPath.x=mask.pixelX,this._clipPath.y=mask.pixelY,this._clipPath.rotation=mask.rotation},Sprite.prototype.applyFilters=function(){var _this=this;if(this._filters&&this._filters.length>0){var width_1=100,height_1=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup(\"filter\"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var id=\"filter-\"+this.uid;this.filterElement.attr({id:id}),Iterator_each(this.filters.iterator(),function(filter){filter.sprite=_this,filter.paper=_this.paper,filter.appendPrimitives(_this.filterElement),filter.width>width_1&&(width_1=filter.width),filter.height>height_1&&(height_1=filter.height),filter.scale=_this.globalScale}),this.filterElement.attr({width:width_1+\"%\",height:height_1+\"%\",x:-(width_1-100)/2+\"%\",y:-(height_1-100)/2+\"%\"}),this.group.attr({filter:'url(\"'+getBaseURI()+id+'\")'})}else this.filterElement&&(this.group.removeAttr(\"filter\"),this.filterElement.removeChildNodes())},Sprite.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},Sprite.prototype.setElement=function(element){this.element=element,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(Sprite.prototype,\"element\",{get:function(){return this._element},set:function(element){this.removeElement(),this._element=element,this.group.add(element),this.invalid||this.validate(),Options_options.autoSetClassName&&this.setClassName()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"svgContainer\",{get:function(){return this._svgContainer?this._svgContainer:this.parent?this.parent.svgContainer:void 0},set:function(svgContainer){this._svgContainer=svgContainer},enumerable:!0,configurable:!0}),Sprite.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var svgBBox=this.element.getBBox();this._bbox={x:svgBBox.x,y:svgBBox.y,width:svgBBox.width,height:svgBBox.height}}},Sprite.prototype.updateCenter=function(){if(this.element){var prevElementTransform=this.element.transformString,bbox=this.bbox,ex=0,ey=0,elementX=bbox.x,elementY=bbox.y,elementWidth=bbox.width,elementHeigth=bbox.height,pixelPaddingLeft=this.pixelPaddingLeft,pixelPaddingRight=this.pixelPaddingRight,pixelPaddingTop=this.pixelPaddingTop,pixelPaddingBottom=this.pixelPaddingBottom,measuredWidth=Math_max(elementWidth+pixelPaddingLeft+pixelPaddingRight,this.pixelWidth),measuredHeight=Math_max(elementHeigth+pixelPaddingTop+pixelPaddingBottom,this.pixelHeight),left=bbox.x,right=bbox.x+measuredWidth,top_1=bbox.y,bottom=bbox.y+measuredHeight,verticalCenter=this.verticalCenter;switch(this.horizontalCenter){case\"none\":ex=elementX+pixelPaddingLeft;break;case\"left\":ex=pixelPaddingLeft;break;case\"middle\":ex=pixelPaddingLeft-(elementWidth+pixelPaddingRight+pixelPaddingLeft)/2;break;case\"right\":ex=-pixelPaddingRight-elementWidth}switch(verticalCenter){case\"none\":ey=elementY+pixelPaddingTop;break;case\"top\":ey=pixelPaddingTop;break;case\"middle\":ey=pixelPaddingTop-(elementHeigth+pixelPaddingBottom+pixelPaddingTop)/2;break;case\"bottom\":ey=-pixelPaddingBottom-elementHeigth}this._measuredHeight=measuredHeight,this._measuredWidth=measuredWidth;var x=Math_round(ex-elementX,this._positionPrecision,!0),y=Math_round(ey-elementY,this._positionPrecision,!0);this.ex=x-pixelPaddingLeft,this.ey=y-pixelPaddingTop,this.maxLeft=left+x-pixelPaddingLeft,this.maxRight=right+x-pixelPaddingLeft,this.maxTop=top_1+y-pixelPaddingTop,this.maxBottom=bottom+y-pixelPaddingTop,this.pixelPerfect&&(x-=.5,y-=.5),this.element.moveTo({x:x,y:y}),prevElementTransform!=this.element.transformString&&this.dispatchImmediately(\"transformed\")}},Sprite.prototype.measure=function(){this.updateCenter();var measuredWidth=this._measuredWidth,measuredHeight=this._measuredHeight,left=this.maxLeft,right=this.maxRight,top=this.maxTop,bottom=this.maxBottom;this._measuredWidthSelf=measuredWidth,this._measuredHeightSelf=measuredHeight;var positionPrecision=this._positionPrecision;if(0!==this.rotation||1!==this.scale){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var svg=this.paper.svg,matrix=svg.createSVGMatrix(),rotation=this.rotation;matrix.a=Math_cos(rotation)*this.scale,matrix.c=-Math_sin(rotation)*this.scale,matrix.e=0,matrix.b=Math_sin(rotation)*this.scale,matrix.d=Math_cos(rotation)*this.scale,matrix.f=0;var p1=svg.createSVGPoint();p1.x=left,p1.y=top;var p2=svg.createSVGPoint();p2.x=right,p2.y=top;var p3=svg.createSVGPoint();p3.x=right,p3.y=bottom;var p4=svg.createSVGPoint();p4.x=left,p4.y=bottom;var pt1=p1.matrixTransform(matrix),pt2=p2.matrixTransform(matrix),pt3=p3.matrixTransform(matrix),pt4=p4.matrixTransform(matrix);left=Math.min(pt1.x,pt2.x,pt3.x,pt4.x),right=Math.max(pt1.x,pt2.x,pt3.x,pt4.x),top=Math.min(pt1.y,pt2.y,pt3.y,pt4.y),measuredWidth=right-left,measuredHeight=(bottom=Math.max(pt1.y,pt2.y,pt3.y,pt4.y))-top,this.maxLeft=Math_round(left,positionPrecision,!0),this.maxRight=Math_round(right,positionPrecision,!0),this.maxTop=Math_round(top,positionPrecision,!0),this.maxBottom=Math_round(bottom,positionPrecision,!0)}return this._measuredWidth=Math_round(measuredWidth,positionPrecision,!0),this._measuredHeight=Math_round(measuredHeight,positionPrecision,!0),(this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight)&&(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch(\"sizechanged\"),(this.isHover||this.alwaysShowTooltip)&&this.tooltip&&this.tooltip.visible&&(hasValue(this.tooltipText)||hasValue(this.tooltipHTML))&&this.updateTooltipPosition(),!0)},Sprite.prototype.insertBefore=function(sprite){var parent=this.parent;if(parent){var index=parent.children.indexOf(sprite);-1!==index&&(parent.children.moveValue(this,index),parent.sortChildren())}return this},Sprite.prototype.insertAfter=function(sprite){var parent=this.parent;if(parent){var index=parent.children.indexOf(sprite);-1!==index&&(parent.children.moveValue(this,index+1),parent.sortChildren())}return this},Sprite.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},Sprite.prototype.getRelativeX=function(value){return value instanceof Percent?value.value:this.parent?value/this.parent.innerWidth:0},Sprite.prototype.getRelativeY=function(value){return value instanceof Percent?value.value:this.parent?value/this.parent.innerHeight:0},Sprite.prototype.getPixelX=function(value){var pixel=0;return isNumber(value)?pixel=value:value instanceof Percent&&this.parent&&(pixel=Math_round(this.parent.innerWidth*value.value,this._positionPrecision,!0)),pixel},Sprite.prototype.getPixelY=function(value){var pixel=0;return isNumber(value)?pixel=value:value instanceof Percent&&this.parent&&(pixel=Math_round(this.parent.innerHeight*value.value,this._positionPrecision,!0)),pixel},Sprite.prototype.moveTo=function(point,rotation,scale,isDragged){this.isDragged&&!isDragged||(point&&(isNumber(point.x)&&this.setPropertyValue(\"x\",point.x),isNumber(point.y)&&this.setPropertyValue(\"y\",point.y)),isNumber(rotation)&&(this.rotation=rotation),isNumber(scale)&&(this.scale=scale),this.invalidatePosition())},Object.defineProperty(Sprite.prototype,\"mask\",{get:function(){return this.adapter.apply(\"mask\",this._mask.get())},set:function(mask){var _this=this;this._mask.get()!==mask&&(mask?(this.createClipPath(),mask instanceof Container_Container?this._clipElement=this.paper.add(\"rect\"):(mask.isMeasured=!1,mask.element&&(this._clipElement=mask.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(mask,new Disposer_MultiDisposer([mask.events.on(\"maxsizechanged\",function(){_this.inited&&_this.applyMask()},void 0,!1),mask.events.on(\"validated\",this.applyMask,this,!1),mask.events.on(\"positionchanged\",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr(\"clip-path\"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"maskRectangle\",{get:function(){return this._maskRectangle},set:function(rect){rect?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add(\"rect\"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:rect.width,height:rect.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=rect},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"isMeasured\",{get:function(){return this._isMeasured},set:function(value){(value=toBoolean(value))||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=value&&(this._isMeasured=value,this.invalidatePosition())},enumerable:!0,configurable:!0}),Sprite.prototype.hitTest=function(sprite){this.invalid&&this.validate(),sprite.invalid&&sprite.validate();var ax1=this.pixelX,ay1=this.pixelY,bx1=sprite.pixelX,by1=sprite.pixelY;return!(bx1>ax1+this.measuredWidth||bx1+sprite.measuredWidth<ax1||by1>ay1+this.measuredHeight||by1+sprite.measuredHeight<ay1)},Object.defineProperty(Sprite.prototype,\"inited\",{get:function(){return this._inited},enumerable:!0,configurable:!0}),Sprite.prototype.isReady=function(){return this._ready},Object.defineProperty(Sprite.prototype,\"states\",{get:function(){if(!this._states){var state=new SpriteState_SpriteState;this._states=new Dictionary_DictionaryTemplate(state),this._disposers.push(this._states.events.on(\"insertKey\",this.processState,this,!1)),this._disposers.push(this._states.events.on(\"setKey\",this.processState,this,!1)),this._disposers.push(new Dictionary_DictionaryDisposer(this._states)),this._disposers.push(state)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"hiddenState\",{get:function(){if(!this.states.getKey(\"hidden\")){var hiddenState=this.states.create(\"hidden\");hiddenState.properties.opacity=0,hiddenState.properties.visible=!1}return this.states.getKey(\"hidden\")},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"defaultState\",{get:function(){return this.states.getKey(\"default\")||(this.states.create(\"default\").properties.opacity=1),this.states.getKey(\"default\")},enumerable:!0,configurable:!0}),Sprite.prototype.processState=function(event){var state=event.newValue;if(state.sprite=this,state.name=event.key,(this.states.hasKey(\"hover\")||hasValue(this.tooltipHTML)||hasValue(this.tooltipText))&&(this.hoverable=!0),this.states.hasKey(\"down\")&&(this.clickable=!0),this.states.hasKey(\"focus\")&&(this.focusable=!0),this.applyOnClones)for(var clones=this.clones.values,length_1=clones.length,i=0;i<length_1;++i){var clone=clones[i];clone.isDisposed()||clone.states.setKey(state.name,state)}},Object.defineProperty(Sprite.prototype,\"animations\",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Animation_AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Sprite.prototype.getSvgPoint=function(point){try{var bbox=this.htmlContainer.getBoundingClientRect();return{x:point.x-bbox.left,y:point.y-bbox.top}}catch(e){return point}},Sprite.prototype.animate=function(animationOptions,duration,easing){return new Animation_Animation(this,animationOptions,duration,easing).start()},Sprite.prototype.setState=function(value,transitionDuration,easing){var state;if(value instanceof SpriteState_SpriteState)this.states.setKey(value.name,value),state=value;else if(!(state=this.states.getKey(value)))return;if(\"hover\"==state.name){if(this.isHidden)return;this.isHover=!0}return\"hidden\"==state.name?this.isHiding=!0:this.visible||this.setVisibility(state.properties.visible||this.defaultState.properties.visible),\"active\"==state.name&&(this.isActive=!0),isNumber(transitionDuration)||(transitionDuration=state.transitionDuration),hasValue(easing)||(easing=state.transitionEasing),this.transitTo(state,transitionDuration,easing)},Sprite.prototype.applyCurrentState=function(duration){var animation=this.setState(this.defaultState,duration);return this.isHover&&(animation=this.setState(\"hover\",duration)),this.isDown&&this.interactions.downPointers.length&&(animation=this.setState(\"down\",duration)),this.isFocused=this.isFocused,this.isActive&&(animation=this.setState(\"active\",duration),this.isHover&&this.states.hasKey(\"hoverActive\")&&(animation=this.setState(\"hoverActive\",duration))),animation},Sprite.prototype.transitTo=function(state,duration,easing){var transition,_this=this,options=[];if(Object_each(state.allValues,function(propertyName,finalValue){var currentValue=_this[propertyName];finalValue!=currentValue&&null==_this.defaultState.properties[propertyName]&&(_this.defaultState.properties[propertyName]=currentValue),hasValue(finalValue)&&options.push({from:currentValue,to:finalValue,property:propertyName})}),options.length>0&&((transition=this.animate(options,duration,easing))&&!transition.isFinished()?this._disposers.push(transition.events.on(\"animationended\",function(){_this.dispatchImmediately(\"transitionended\")})):this.dispatchImmediately(\"transitionended\")),state.filters.length>0){var newFilters_1=[];Iterator_each(state.filters.iterator(),function(stateFilter){var newFilter=stateFilter.clone();newFilters_1.push(newFilter);var animationOptions=[];Iterator_each(_this.filters.iterator(),function(currentFilter){currentFilter.className==newFilter.className&&(contains(_this.defaultState.filters.iterator(),function(x){return x.className===newFilter.className})||_this.defaultState.filters.push(currentFilter),Object_each(newFilter.properties,function(propertyName,newValue){var currentValue=currentFilter.properties[propertyName];currentValue!=newValue&&animationOptions.push({property:propertyName,from:currentValue,to:newValue})}))}),newFilter.animate(animationOptions,duration,easing)}),this.filters.clear(),this.filters.pushAll(newFilters_1)}return transition},Sprite.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(Sprite.prototype,\"isHover\",{get:function(){return!!this.isInteractive()&&this.interactions.isHover},set:function(value){(value=toBoolean(value))!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=value,value?this.handleOver():this.handleOut())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"isDragged\",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"isResized\",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"isDown\",{get:function(){return!!this.isInteractive()&&this.interactions.isDown},set:function(value){value=toBoolean(value),this.isInteractive()&&this.isDown!=value&&(this.interactions.isDown=value,value?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"isFocused\",{get:function(){return!!this.isInteractive()&&this.interactions.isFocused},set:function(value){value=toBoolean(value),this.focusable&&this.isFocused!=value&&this.isInteractive()&&(this.interactions.isFocused=value,!0===value?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"isActive\",{get:function(){return this._isActive},set:function(value){this.setActive(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setActive=function(value){value=toBoolean(value),this._isActive!==value&&(this._isActive=value,value&&this.states.hasKey(\"active\")?(this.setState(\"active\"),this.isHover&&this.states.hasKey(\"hoverActive\")&&this.setState(\"hoverActive\")):this.applyCurrentState(),this.dispatchImmediately(\"toggled\"))},Object.defineProperty(Sprite.prototype,\"disabled\",{get:function(){var current=this.getPropertyValue(\"disabled\");return hasValue(current)?current:this.virtualParent?this.virtualParent.disabled:!!this.parent&&this.parent.disabled},set:function(value){this.setDisabled(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setDisabled=function(value){if(value=toBoolean(value),this.getPropertyValue(\"disabled\")!=value){if(this.setPropertyValue(\"disabled\",value,!0),value)this.parent=this.parent,this.removeFromInvalids(),this.group.attr({display:\"none\"}),this.dispatch(\"disabled\");else{if(this.parent){var group=this.parent.element;group.hasChild(this.group)||group.add(this.group)}this instanceof Container_Container?this.deepInvalidate():this.invalidate(),this.__disabled||this.removeSVGAttribute(\"display\"),this.dispatch(\"enabled\")}return this.dispatch(\"transformed\"),system.requestFrame(),!0}return!1},Object.defineProperty(Sprite.prototype,\"__disabled\",{get:function(){return this._internalDisabled},set:function(value){this._internalDisabled!=value&&(this._internalDisabled=value,this._updateDisabled=!0,this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"numberFormatter\",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this.parent?this.parent.numberFormatter:(this._numberFormatter=new NumberFormatter_NumberFormatter,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(value){this._numberFormatter=value,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"dateFormatter\",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this.parent?this.parent.dateFormatter:(this._dateFormatter=new DateFormatter_DateFormatter,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(value){this._dateFormatter=value,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"durationFormatter\",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this.parent?this.parent.durationFormatter:(this._durationFormatter=new DurationFormatter_DurationFormatter,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(value){this._durationFormatter=value,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"language\",{get:function(){var language=this._language.get();return language||(this.virtualParent?this.virtualParent.language:this.parent?this.parent.language:(language=new Language_Language,this.language=language,language))},set:function(value){var _this=this;this._language.get()!==value&&this._language.set(value,value.events.on(\"localechanged\",function(ev){_this.numberFormatter&&(_this.numberFormatter.language=_this.language),_this.dateFormatter&&(_this.dateFormatter.language=_this.language),_this.durationFormatter&&(_this.durationFormatter.language=_this.language),_this instanceof Container_Container&&_this.deepInvalidate()}))},enumerable:!0,configurable:!0}),Sprite.prototype.populateString=function(string,dataItem){if(hasValue(string)){string=castString(string);var tags=(string=getTextFormatter().escape(string)).match(/\\{([^}]+)\\}/g),i=void 0;if(tags)for(i=0;i<tags.length;i++){var tag=tags[i].replace(/\\{([^}]+)\\}/,\"$1\"),value=this.getTagValue(tag,\"\",dataItem);hasValue(value)||(value=\"\"),string=string.split(tags[i]).join(value)}string=getTextFormatter().unescape(string)}else string=\"\";return this.adapter.apply(\"populateString\",string)},Sprite.prototype.getTagValue=function(tagName,format,dataItem){var value;hasValue(dataItem)||(dataItem=this.dataItem);for(var matches,parts=[],reg=/([^.]+)\\(([^)]*)\\)|([^.]+)/g;null!==(matches=reg.exec(tagName));)if(matches[3])parts.push({prop:matches[3]});else{var params=[];if(\"\"!=trim(matches[2]))for(var reg2=/'([^']*)'|\"([^\"]*)\"|([0-9\\-]+)/g,matches2=void 0;null!==(matches2=reg2.exec(matches[2]));)params.push(matches2[1]||matches2[2]||matches2[3]);parts.push({method:matches[1],params:params})}if(dataItem){hasValue(value=this.getTagValueFromObject(parts,dataItem.values))&&!Type_isObject(value)||(value=this.getTagValueFromObject(parts,dataItem));var dataContext=dataItem.dataContext;!hasValue(value)&&dataContext&&!hasValue(value=this.getTagValueFromObject(parts,dataItem.dataContext))&&dataContext.dataContext&&(value=this.getTagValueFromObject(parts,dataContext.dataContext)),!hasValue(value)&&dataItem.component&&dataItem.component.dataItem!==dataItem&&(value=dataItem.component.getTagValue(tagName,format))}return hasValue(value)||(value=this.getTagValueFromObject(parts,this.populateStringFrom||this)),!hasValue(value)&&this.parent&&(value=this.parent.getTagValue(tagName,format)),value},Sprite.prototype.getTagValueFromObject=function(parts,object,format){for(var current=object,formatApplied=!1,i=0,len=parts.length;i<len;i++){var part=parts[i];if(part.prop){if(!hasValue(current=current[part.prop]))return}else switch(part.method){case\"formatNumber\":var numberValue=anyToNumber(current);hasValue(numberValue)&&(current=this.numberFormatter.format(numberValue,format||part.params[0]||void 0),formatApplied=!0);break;case\"formatDate\":var dateValue=void 0;if(!isDate(dateValue=isString(current)?this.dateFormatter.parse(current):anyToDate(current))||Type_isNaN(dateValue.getTime()))return;hasValue(dateValue)&&(current=this.dateFormatter.format(dateValue,format||part.params[0]||void 0),formatApplied=!0);break;case\"formatDuration\":var durationValue=anyToNumber(current);hasValue(durationValue)&&(current=this.durationFormatter.format(durationValue,format||part.params[0]||void 0,part.params[1]||void 0),formatApplied=!0);break;case\"urlEncode\":case\"encodeURIComponent\":current=encodeURIComponent(current);break;default:current[part.method]&&current[part.method].apply(this,part.params)}}if(!formatApplied){var formatParts=[{method:\"\",params:format}];if(hasValue(format)){var formatterType=function(format){if(void 0===format)return\"string\";var hints=(format=(format=(format=format.toLowerCase().replace(/^\\[[^\\]]*\\]/,\"\")).replace(/\\[[^\\]]+\\]/,\"\")).trim()).match(/\\/(date|number|duration)$/);return hints?hints[1]:\"number\"===format?\"number\":\"date\"===format?\"date\":\"duration\"===format?\"duration\":format.match(/[#0]/)?\"number\":format.match(/[ymwdhnsqaxkzgtei]/)?\"date\":\"string\"}(format);\"number\"===formatterType?formatParts[0].method=\"formatNumber\":\"date\"===formatterType?formatParts[0].method=\"formatDate\":\"duration\"===formatterType&&(formatParts[0].method=\"formatDuration\")}else isNumber(current)?(formatParts[0].method=\"formatNumber\",formatParts[0].params=\"\"):isDate(current)&&(formatParts[0].method=\"formatDate\",formatParts[0].params=\"\");formatParts[0].method&&(current=this.getTagValueFromObject(formatParts,current))}return current},Object.defineProperty(Sprite.prototype,\"dataItem\",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this.parent)return this.parent.dataItem}return this._dataItem},set:function(dataItem){this.setDataItem(dataItem)},enumerable:!0,configurable:!0}),Sprite.prototype.setDataItem=function(dataItem){var _this=this;if(this._dataItem!=dataItem){if(this._dataItem=dataItem,dataItem){if(this.configField){var dataContext_1=dataItem.dataContext;dataContext_1&&(this.config=dataContext_1[this.configField],!this.config&&dataContext_1.dataContext&&(this.config=dataContext_1.dataContext[this.configField]))}var dataContext_2=dataItem.dataContext;if(dataContext_2){var dataContext2_1=dataContext_2.dataContext;Object_each(this.propertyFields,function(propertyName,fieldValue){if(hasValue(dataContext_2[fieldValue]))_this[propertyName]=dataContext_2[fieldValue];else if(dataContext2_1){var value=dataContext2_1[fieldValue];hasValue(value)&&(_this[propertyName]=value)}})}}this.invalidate()}},Sprite.prototype.getPropertyValue=function(propertyName){var propValue=this.properties[propertyName];return this._isTemplate||(propValue=this.adapter.apply(propertyName,propValue)),propValue},Sprite.prototype.setColorProperty=function(property,value,invalidate){var currentValue=this.properties[property];return!(value instanceof Color_Color&&currentValue instanceof Color_Color&&value.toString()==currentValue.toString())&&this.setPropertyValue(property,value,invalidate)},Sprite.prototype.setPercentProperty=function(property,value,invalidate,transform,precision,floor){if(isNumber(value=function(value){return!hasValue(value)||isNumber(value)||function(value){return value instanceof Percent}(value)?value:isString(value)&&-1!=value.indexOf(\"%\")?Percent_percent(toNumber(value)):toNumber(value)}(value)))return value=Math_round(value,precision,floor),this.setPropertyValue(property,value,invalidate,transform);var currentValue=this.properties[property];return!(value instanceof Percent&&currentValue instanceof Percent&&value.value==currentValue.value)&&this.setPropertyValue(property,value,invalidate,transform)},Sprite.prototype.setPropertyValue=function(property,value,invalidate,transform){if(this.properties[property]!==value&&!this.isDisposed()){if(this.properties[property]=value,this.events.isEnabled(\"propertychanged\")&&this.events.dispatchImmediately(\"propertychanged\",{type:\"propertychanged\",target:this,property:property}),invalidate&&this.invalidate(),transform&&this.invalidatePosition(),this.applyOnClones)for(var clones=this.clones.values,length_2=clones.length,i=0;i<length_2;++i){var clone=clones[i];clone.isDisposed()||(clone[property]=value)}return!0}return!1},Sprite.prototype.bind=function(property,source,bindToProperty,modifier){var _this=this;void 0===bindToProperty&&(bindToProperty=property),hasValue(this._bindings[property])&&this._bindings[property].dispose(),this[property]=source[bindToProperty],this._bindings[property]=source.events.on(\"propertychanged\",function(event){if(event.property===bindToProperty){var value=source[bindToProperty];modifier&&(value=modifier(value)),_this[property]=value}})},Sprite.prototype.observe=function(property,listener,context,shouldClone){var _this=this;return new Disposer_MultiDisposer(Array_map(toArray(property),function(prop){return _this.events.on(\"propertychanged\",function(e){e.property===prop&&listener.call(context,e)},context,shouldClone)}))},Sprite.prototype.applyAccessibility=function(){var title=this.readerTitle,description=this.readerDescription,role=this.role,hidden=this.readerHidden,checked=this.readerChecked,controls=this.readerControls,live=this.readerLive,labelledByIds=[],describedByIds=[],labelledBy=this.readerLabelledBy;labelledBy&&labelledByIds.push(labelledBy);var describedBy=this.readerDescribedBy;if(describedBy&&describedByIds.push(describedBy),!this.showSystemTooltip&&title&&(description=description?title+\" -- \"+description:title,title=void 0),!title||description||this.showSystemTooltip){if(title){var titleElement=this.titleElement,titleId=this.uid+\"-title\";titleElement.node.textContent!=title&&(titleElement.node.textContent=title,titleElement.attr({id:titleId})),labelledByIds.push(titleId)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);var descriptionId=this.uid+\"-description\";if(description){var descriptionElement=this.descriptionElement;descriptionElement.node.textContent!=description&&(descriptionElement.node.textContent=description,descriptionElement.attr({id:descriptionId})),describedByIds.push(descriptionId)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0,Array_remove(describedByIds,descriptionId))}else this.setSVGAttribute({\"aria-label\":title}),this.removeSVGAttribute(\"aria-description\"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);labelledByIds.length?this.setSVGAttribute({\"aria-labelledby\":labelledByIds.join(\" \")}):this.removeSVGAttribute(\"aria-labelledby\"),describedByIds.length?this.setSVGAttribute({\"aria-describedby\":describedByIds.join(\" \")}):this.removeSVGAttribute(\"aria-describedby\"),role?this.setSVGAttribute({role:role}):this.removeSVGAttribute(\"role\"),hidden?this.setSVGAttribute({\"aria-hidden\":\"true\"}):this.removeSVGAttribute(\"aria-hidden\"),checked?this.setSVGAttribute({\"aria-checked\":\"true\"}):!1===checked?this.setSVGAttribute({\"aria-checked\":\"false\"}):this.removeSVGAttribute(\"aria-checked\"),controls?this.setSVGAttribute({\"aria-controls\":controls}):this.removeSVGAttribute(\"aria-controls\"),live?this.setSVGAttribute({\"aria-live\":live}):this.removeSVGAttribute(\"aria-live\")},Object.defineProperty(Sprite.prototype,\"readerTitle\",{get:function(){return this.getPropertyValue(\"readerTitle\")},set:function(value){value=toText(value),this.setPropertyValue(\"readerTitle\",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"readerDescription\",{get:function(){return this.getPropertyValue(\"readerDescription\")},set:function(value){value=toText(value),this.setPropertyValue(\"readerDescription\",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"role\",{get:function(){return this.getPropertyValue(\"role\")},set:function(value){value=toText(value),this.setPropertyValue(\"role\",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"readerHidden\",{get:function(){return this.getPropertyValue(\"readerHidden\")},set:function(value){value=toBoolean(value),this.setPropertyValue(\"readerHidden\",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"readerChecked\",{get:function(){return this.getPropertyValue(\"readerChecked\")},set:function(value){value=toBoolean(value),this.setPropertyValue(\"readerChecked\",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"readerControls\",{get:function(){return this.getPropertyValue(\"readerControls\")},set:function(value){value=toText(value),this.setPropertyValue(\"readerControls\",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"readerLive\",{get:function(){return this.getPropertyValue(\"readerLive\")},set:function(value){value=toText(value),this.setPropertyValue(\"readerLive\",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"readerLabelledBy\",{get:function(){return this.getPropertyValue(\"readerLabelledBy\")},set:function(value){value=toText(value),this.setPropertyValue(\"readerLabelledBy\",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"readerDescribedBy\",{get:function(){return this.getPropertyValue(\"readerDescribedBy\")},set:function(value){value=toText(value),this.setPropertyValue(\"readerDescribedBy\",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"keyboardOptions\",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this.parent)return this.parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"mouseOptions\",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this.parent)return this.parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"interactions\",{get:function(){if(!this._interaction){var interaction=getInteraction().getInteraction(this.dom);this._interaction=interaction,this._interaction.clickable=this.clickable,this._interaction.hoverable=this.hoverable,this._interaction.trackable=this.trackable,this._interaction.draggable=this.draggable,this._interaction.swipeable=this.swipeable,this._interaction.resizable=this.resizable,this._interaction.wheelable=this.wheelable,this._interaction.contextMenuDisabled=this.contextMenuDisabled,this._interaction.inert=this.inert,this._interaction.sprite=this,this._disposers.push(this._interaction)}return this._interaction},enumerable:!0,configurable:!0}),Sprite.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(Sprite.prototype,\"focusable\",{get:function(){return this.getPropertyValue(\"focusable\")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue(\"focusable\",value)&&(value||this.isInteractive())&&(this.interactions.focusable=value,value?this.setSVGAttribute({focusable:value}):this.removeSVGAttribute(\"focusable\"),this.interactions.setEventDisposer(\"sprite-focusable\",value,function(){return new Disposer_MultiDisposer([_this.events.on(\"blur\",_this.handleBlur,_this,!1),_this.events.on(\"focus\",_this.handleFocus,_this,!1)])}))},enumerable:!0,configurable:!0}),Sprite.prototype.handleFocus=function(ev){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},Sprite.prototype.handleBlur=function(ev){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(Sprite.prototype,\"focusFilter\",{get:function(){return this._focusFilter||(this.virtualParent?this.virtualParent.focusFilter:this.parent?this.parent.focusFilter:void 0)},set:function(value){this._focusFilter=value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"hoverOnFocus\",{get:function(){return this.getPropertyValue(\"hoverOnFocus\")},set:function(value){value!==this.hoverOnFocus&&this.setPropertyValue(\"hoverOnFocus\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"tabindex\",{get:function(){var index=this._tabindex;return null!=index?index:this.virtualParent?this.virtualParent.tabindex:this.parent?this.parent.tabindex:void 0},set:function(value){value=toNumber(value),this.setPropertyValue(\"tabindex\",value)&&isNumber(value)&&(this.interactions.tabindex=value,this.setSVGAttribute({tabindex:value}),this.focusable=value>-1||void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"inertiaOptions\",{get:function(){return!this.interactions.inertiaOptions&&this.parent?this.parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"draggable\",{get:function(){return this.getPropertyValue(\"draggable\")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue(\"draggable\",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.draggable=value,this.interactions.setEventDisposer(\"sprite-draggable\",value,function(){return new Disposer_MultiDisposer([_this.events.on(\"down\",_this.handleDown,_this,!1),_this.events.on(\"dragstart\",_this.handleDragStart,_this,!1),_this.events.on(\"drag\",_this.handleDragMove,_this,!1),_this.events.on(\"dragstop\",_this.handleDragStop,_this,!1)])}))},enumerable:!0,configurable:!0}),Sprite.prototype.handleDragStart=function(ev){this.interactions.isTouchProtected&&ev.touch||(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},Sprite.prototype.dragStart=function(pointer){this._isDragged=!0,getInteraction().dragStart(this.interactions,pointer)},Sprite.prototype.handleDragStop=function(ev){this.interactions.isTouchProtected&&ev.touch||(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},Sprite.prototype.dragStop=function(pointer){this._isDragged=!1,getInteraction().dragStop(this.interactions,pointer)},Sprite.prototype.handleDragMove=function(ev){if(!this.interactions.isTouchProtected||!ev.touch){var point=this.interactions.originalPosition;if(point&&this._isDragged){var globalScale=this.parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:point.x+ev.shift.x/globalScale,y:point.y+ev.shift.y/globalScale},void 0,void 0,!0)}this.dispatchImmediately(\"dragged\",ev)}},Object.defineProperty(Sprite.prototype,\"inert\",{get:function(){return this.getPropertyValue(\"inert\")},set:function(value){value=toBoolean(value),this.setPropertyValue(\"inert\",value)&&(value||this.isInteractive())&&(this.interactions.inert=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"hoverOptions\",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this.parent)return this.parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"hoverable\",{get:function(){return this.getPropertyValue(\"hoverable\")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue(\"hoverable\",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.hoverable=value,this.interactions.setEventDisposer(\"sprite-hoverable\",value,function(){return new Disposer_MultiDisposer([_this.events.on(\"over\",_this.handleOver,_this,!1),_this.events.on(\"out\",_this.handleOut,_this,!1)])}))},enumerable:!0,configurable:!0}),Sprite.prototype.handleOver=function(ev){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey(\"hover\")&&(this.isHidden||this.applyCurrentState());var point=void 0;ev&&ev.pointer&&(point=documentPointToSvg(ev.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),this.showTooltip(point)}else this.hideTooltip(),!this.isHidden&&this.states.hasKey(\"hover\")&&this.applyCurrentState()},Sprite.prototype.handleOut=function(ev){var _this=this;this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover?this._outTimeout=this.setTimeout(function(){_this.tooltip.isHover||(_this.tooltip.targetSprite==_this&&_this.hideTooltip(),_this._outTimeout=_this.setTimeout(_this.handleOutReal.bind(_this),_this.rollOutDelay))},10):(this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay))},Sprite.prototype.handleOutReal=function(){this.isHidden||this.isHiding||!this.states.hasKey(\"hover\")||this.applyCurrentState()},Object.defineProperty(Sprite.prototype,\"hitOptions\",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this.parent)return this.parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),Sprite.prototype.handleDown=function(ev){1===this.interactions.downPointers.length&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey(\"down\")&&this.setState(\"down\"))},Sprite.prototype.handleUp=function(ev){this._isResized=!1,this.states.hasKey(\"down\")&&this.applyCurrentState()},Object.defineProperty(Sprite.prototype,\"clickable\",{get:function(){return this.getPropertyValue(\"clickable\")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue(\"clickable\",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.clickable=value,this.interactions.setEventDisposer(\"sprite-clickable\",value,function(){return new Disposer_MultiDisposer([_this.events.on(\"down\",_this.handleDown,_this,!1),_this.events.on(\"up\",_this.handleUp,_this,!1)])}))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"togglable\",{get:function(){return this.getPropertyValue(\"togglable\")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue(\"togglable\",value)&&(value||this.isInteractive())&&this.interactions.setEventDisposer(\"sprite-togglable\",value,function(){return _this.events.on(\"hit\",_this.handleToggle,_this,!1)})},enumerable:!0,configurable:!0}),Sprite.prototype.handleToggle=function(ev){this.isActive=!this.isActive},Object.defineProperty(Sprite.prototype,\"contextMenuDisabled\",{get:function(){return this.getPropertyValue(\"contextMenuDisabled\")},set:function(value){value=toBoolean(value),this.setPropertyValue(\"contextMenuDisabled\",value)&&(this.interactions.contextMenuDisabled=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"url\",{get:function(){return this.getPropertyValue(\"url\")},set:function(value){this.setPropertyValue(\"url\",value)&&(this._urlDisposer&&this._urlDisposer.dispose(),isNotEmpty(value)&&(this._urlDisposer=this.events.on(\"hit\",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=MouseCursorStyle.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"baseId\",{get:function(){return!this._baseId&&this.parent&&(this.baseId=this.parent.baseId),this._baseId},set:function(value){this.setBaseId(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setBaseId=function(value){value!=this._baseId&&(this.invalid&&(this.invalid=!1,Registry_registry.removeFromInvalidSprites(this),this.invalidate()),this._baseId=value)},Object.defineProperty(Sprite.prototype,\"baseSprite\",{get:function(){return this.isBaseSprite?this:this.parent?this.parent.baseSprite:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"urlTarget\",{get:function(){return this.getPropertyValue(\"urlTarget\")},set:function(value){this.setPropertyValue(\"urlTarget\",value)},enumerable:!0,configurable:!0}),Sprite.prototype.urlHandler=function(ev){if(isNotEmpty(this.url)){var url=this.populateString(this.url);\"_self\"===this.urlTarget?window.location.href=url:window.open(url,this.urlTarget)}},Object.defineProperty(Sprite.prototype,\"swipeOptions\",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this.parent)return this.parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"swipeable\",{get:function(){return this.getPropertyValue(\"swipeable\")},set:function(value){value=toBoolean(value),this.setPropertyValue(\"swipeable\",value)&&(this.applyCursorStyle(),(value||this.isInteractive())&&(this.interactions.swipeable=value))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"trackable\",{get:function(){return this.getPropertyValue(\"trackable\")},set:function(value){value=toBoolean(value),this.setPropertyValue(\"trackable\",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.trackable=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"wheelable\",{get:function(){return this.getPropertyValue(\"wheelable\")},set:function(value){this.setPropertyValue(\"wheelable\",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.wheelable=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"resizable\",{get:function(){return this.getPropertyValue(\"resizable\")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue(\"resizable\",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.resizable=value,this.interactions.setEventDisposer(\"sprite-resizable\",value,function(){return new Disposer_MultiDisposer([_this.events.on(\"down\",_this.handleDown,_this,!1),_this.events.on(\"resize\",_this.handleResize,_this,!1)])}))},enumerable:!0,configurable:!0}),Sprite.prototype.handleResize=function(ev){if((!this.interactions.isTouchProtected||!ev.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*ev.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var svgMidPoint=getMidPoint(documentPointToSvg(ev.point1,this.htmlContainer,this.svgContainer.cssScale),documentPointToSvg(ev.point2,this.htmlContainer,this.svgContainer.cssScale)),parentPoint1=documentPointToSprite(ev.startPoint1,this.parent),parentPoint2=documentPointToSprite(ev.startPoint2,this.parent),originalPosition=this.interactions.originalPosition,originalScale=this.interactions.originalScale;if(originalPosition){var spriteMidPoint=getMidPoint({x:(parentPoint1.x-originalPosition.x)/originalScale,y:(parentPoint1.y-originalPosition.y)/originalScale},{x:(parentPoint2.x-originalPosition.x)/originalScale,y:(parentPoint2.y-originalPosition.y)/originalScale}),parentPoint=svgPointToSprite(svgMidPoint,this.parent);this.moveTo({x:parentPoint.x-spriteMidPoint.x*this.scale,y:parentPoint.y-spriteMidPoint.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(Sprite.prototype,\"cursorOptions\",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this.parent)return this.parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"cursorOverStyle\",{set:function(style){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=style,getInteraction().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"cursorDownStyle\",{set:function(style){this.cursorOptions.downStyle=style},enumerable:!0,configurable:!0}),Sprite.prototype.applyCursorStyle=function(){},Object.defineProperty(Sprite.prototype,\"interactionsEnabled\",{get:function(){return!1!==this.getPropertyValue(\"interactionsEnabled\")&&(this.virtualParent?this.virtualParent.interactionsEnabled:!this.parent||this.parent.interactionsEnabled)},set:function(value){if(value=toBoolean(value),this.setPropertyValue(\"interactionsEnabled\",value)){var pointerEvents=null;value?this.group.node.style.pointerEvents=\"\":pointerEvents=\"none\",this.group.node.style.pointerEvents=pointerEvents}},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"exporting\",{get:function(){return this.getExporting()},set:function(exp){this._exporting.set(exp,exp)},enumerable:!0,configurable:!0}),Sprite.prototype.getExporting=function(){var _export=this._exporting.get();return _export||(!this.isStandaloneInstance&&this.parent?this.parent.exporting:((_export=new Export_Export(this.svgContainer.SVGContainer)).sprite=this,_export.language=this.language,_export.dateFormatter=this.dateFormatter,_export.durationFormatter=this.durationFormatter,this._exporting.set(_export,_export),_export))},Object.defineProperty(Sprite.prototype,\"exportable\",{get:function(){return this._exportable},set:function(value){var svgContainer=this.svgContainer;this._exportable=value,svgContainer&&(value?Array_remove(svgContainer.nonExportableSprites,this):-1==Array_indexOf(svgContainer.nonExportableSprites,this)&&svgContainer.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),Sprite.prototype.modalPrefix=function(value){return Options_options.classNamePrefix+value},Object.defineProperty(Sprite.prototype,\"modal\",{get:function(){var svgContainer=this.svgContainer;if(svgContainer){var modal=svgContainer.modal;return modal.adapter.has(\"classPrefix\",this.modalPrefix)||modal.adapter.add(\"classPrefix\",this.modalPrefix),modal}},enumerable:!0,configurable:!0}),Sprite.prototype.openModal=function(text,title){var svgContainer=this.svgContainer;if(svgContainer)return svgContainer.openModal(text,title)},Sprite.prototype.closeModal=function(){var svgContainer=this.svgContainer;svgContainer&&svgContainer.closeModal()},Object.defineProperty(Sprite.prototype,\"popups\",{get:function(){var svgContainer=this.svgContainer;if(svgContainer){var popups=svgContainer.popups;return popups.template.sprite=this,popups.template.adapter.has(\"classPrefix\",this.modalPrefix)||popups.template.adapter.add(\"classPrefix\",this.modalPrefix),popups}},enumerable:!0,configurable:!0}),Sprite.prototype.openPopup=function(text,title){var svgContainer=this.svgContainer;if(svgContainer)return svgContainer.openPopup(text,title)},Sprite.prototype.closeAllPopups=function(){var svgContainer=this.svgContainer;svgContainer&&svgContainer.closeAllPopups()},Object.defineProperty(Sprite.prototype,\"x\",{get:function(){return this.getPropertyValue(\"x\")},set:function(value){this.isDragged||this.setPercentProperty(\"x\",value,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelX\",{get:function(){return this.adapter.apply(\"pixelX\",fitToRange(this.getPixelX(this.x),this.minX,this.maxX))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativeX\",{get:function(){return this.adapter.apply(\"relativeX\",this.getRelativeX(this.x))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"minX\",{get:function(){return this.getPropertyValue(\"minX\")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue(\"minX\",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"maxX\",{get:function(){return this.getPropertyValue(\"maxX\")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue(\"maxX\",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"y\",{get:function(){return this.getPropertyValue(\"y\")},set:function(value){this.isDragged||this.setPercentProperty(\"y\",value,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelY\",{get:function(){return this.adapter.apply(\"pixelY\",fitToRange(this.getPixelY(this.y),this.minY,this.maxY))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativeY\",{get:function(){return this.adapter.apply(\"relativeY\",this.getRelativeX(this.y))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"minY\",{get:function(){return this.getPropertyValue(\"minY\")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue(\"minY\",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"maxY\",{get:function(){return this.getPropertyValue(\"maxY\")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue(\"maxY\",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"dx\",{get:function(){return this.getPropertyValue(\"dx\")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue(\"dx\",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"dy\",{get:function(){return this.getPropertyValue(\"dy\")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue(\"dy\",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"rotation\",{get:function(){return this.getPropertyValue(\"rotation\")},set:function(value){isNumber(value=toNumber(value))||(value=0),this.setPropertyValue(\"rotation\",value,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"align\",{get:function(){return this.getPropertyValue(\"align\")},set:function(value){value=toText(value),this.setPropertyValue(\"align\",value)&&this.parent&&this.parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"valign\",{get:function(){return this.getPropertyValue(\"valign\")},set:function(value){value=toText(value),this.setPropertyValue(\"valign\",value)&&this.parent&&this.parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"horizontalCenter\",{get:function(){return this.getPropertyValue(\"horizontalCenter\")},set:function(value){value=toText(value),this.setPropertyValue(\"horizontalCenter\",value)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"verticalCenter\",{get:function(){return this.getPropertyValue(\"verticalCenter\")},set:function(value){value=toText(value),this.setPropertyValue(\"verticalCenter\",value)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"maxWidth\",{get:function(){var maxWidth=this.getPropertyValue(\"maxWidth\");return!isNumber(maxWidth)&&this.parent?this.parent.maxWidth:maxWidth},set:function(value){this.setMaxWidth(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setMaxWidth=function(value){var prevWidth=this.maxWidth,prevHeight=this.maxHeight;this.setPropertyValue(\"maxWidth\",value)&&(isNumber(this.relativeWidth)&&this.invalidate(),this.dispatchImmediately(\"maxsizechanged\",{type:\"maxsizechanged\",target:this,previousWidth:prevWidth,previousHeight:prevHeight}))},Object.defineProperty(Sprite.prototype,\"maxHeight\",{get:function(){var maxHeight=this.getPropertyValue(\"maxHeight\");return!isNumber(maxHeight)&&this.parent?this.parent.maxHeight:maxHeight},set:function(value){this.setMaxHeight(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setMaxHeight=function(value){var prevWidth=this.maxWidth,prevHeight=this.maxHeight;this.setPropertyValue(\"maxHeight\",value)&&(isNumber(this.relativeHeight)&&this.invalidate(),this.dispatchImmediately(\"maxsizechanged\",{type:\"maxsizechanged\",target:this,previousWidth:prevWidth,previousHeight:prevHeight}))},Object.defineProperty(Sprite.prototype,\"minWidth\",{get:function(){return this.getPropertyValue(\"minWidth\")},set:function(value){this.setPropertyValue(\"minWidth\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"minHeight\",{get:function(){return this.getPropertyValue(\"minHeight\")},set:function(value){this.setPropertyValue(\"minHeight\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"width\",{get:function(){return this.getPropertyValue(\"width\")},set:function(value){this.setPercentProperty(\"width\",value,!0,!1,this._positionPrecision,!0)&&(this.percentWidth=void 0,this.relativeWidth=void 0,value instanceof Percent?(this.percentWidth=value.percent,isNumber(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(value),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"height\",{get:function(){return this.getPropertyValue(\"height\")},set:function(value){this.setPercentProperty(\"height\",value,!0,!1,this._positionPrecision,!0)&&(this.percentHeight=void 0,this._relativeHeight=void 0,value instanceof Percent?(this.percentHeight=value.percent,isNumber(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(value),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelWidth\",{get:function(){var width;width=isNumber(this.percentWidth)?this.maxWidth:isNumber(this._pixelWidth)?this._pixelWidth:0;var minWidth=this.minWidth;return null!=minWidth&&width<minWidth&&(width=minWidth),this.adapter.apply(\"pixelWidth\",Math_round(width,this._positionPrecision,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelHeight\",{get:function(){var height;height=isNumber(this.percentHeight)?this.maxHeight:isNumber(this._pixelHeight)?this._pixelHeight:0;var minHeight=this.minHeight;return null!=minHeight&&height<minHeight&&(height=minHeight),this.adapter.apply(\"pixelHeight\",Math_round(height,this._positionPrecision,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativeWidth\",{get:function(){var relativeWidth=this._relativeWidth;if(isNumber(relativeWidth))return this.adapter.apply(\"relativeWidth\",relativeWidth)},set:function(value){this._relativeWidth!=value&&(this._relativeWidth=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativeHeight\",{get:function(){var relativeHeight=this._relativeHeight;if(isNumber(relativeHeight))return this.adapter.apply(\"relativeHeight\",relativeHeight)},set:function(value){this._relativeHeight!=value&&(this._relativeHeight=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"measuredWidth\",{get:function(){return this.disabled||this.__disabled?0:this.adapter.apply(\"measuredWidth\",this._measuredWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"measuredHeight\",{get:function(){return this.disabled||this.__disabled?0:this.adapter.apply(\"measuredHeight\",this._measuredHeight)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"outerWidth\",{get:function(){return this.adapter.apply(\"outerWidth\",this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"outerHeight\",{get:function(){return this.adapter.apply(\"outerHeight\",this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"innerWidth\",{get:function(){return this.adapter.apply(\"innerWidth\",Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"innerHeight\",{get:function(){return this.adapter.apply(\"innerHeight\",Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"globalScale\",{get:function(){var scale=this.scale;return this.parent&&(scale*=this.parent.globalScale),this.adapter.apply(\"globalScale\",scale)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"scale\",{get:function(){return this.getPropertyValue(\"scale\")},set:function(value){(value=toNumber(value))<0&&(value=0),value!=this.getPropertyValue(\"scale\")&&(this.setPropertyValue(\"scale\",value,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),Sprite.prototype.margin=function(top,right,bottom,left){return this.marginTop=top,this.marginRight=right,this.marginBottom=bottom,this.marginLeft=left,this},Object.defineProperty(Sprite.prototype,\"marginLeft\",{get:function(){return this.getPropertyValue(\"marginLeft\")},set:function(value){this.setPercentProperty(\"marginLeft\",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"marginRight\",{get:function(){return this.getPropertyValue(\"marginRight\")},set:function(value){this.setPercentProperty(\"marginRight\",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"marginTop\",{get:function(){return this.getPropertyValue(\"marginTop\")},set:function(value){this.setPercentProperty(\"marginTop\",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"marginBottom\",{get:function(){return this.getPropertyValue(\"marginBottom\")},set:function(value){this.setPercentProperty(\"marginBottom\",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelMarginRight\",{get:function(){return this.adapter.apply(\"pixelMarginRight\",this.getPixelX(this.marginRight))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativeMarginRight\",{get:function(){return this.adapter.apply(\"relativeMarginRight\",this.getRelativeX(this.marginRight))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelMarginLeft\",{get:function(){return this.adapter.apply(\"pixelMarginLeft\",this.getPixelX(this.marginLeft))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativeMarginLeft\",{get:function(){return this.adapter.apply(\"relativeMarginLeft\",this.getRelativeX(this.marginLeft))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelMarginTop\",{get:function(){return this.adapter.apply(\"pixelMarginTop\",this.getPixelY(this.marginTop))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativeMarginTop\",{get:function(){return this.adapter.apply(\"relativeMarginTop\",this.getRelativeY(this.marginTop))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelMarginBottom\",{get:function(){return this.adapter.apply(\"pixelMarginBottom\",this.getPixelY(this.marginBottom))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativeMarginBottom\",{get:function(){return this.adapter.apply(\"relativeMarginBottom\",this.getRelativeY(this.marginBottom))},enumerable:!0,configurable:!0}),Sprite.prototype.padding=function(top,right,bottom,left){return this.paddingTop=top,this.paddingRight=right,this.paddingBottom=bottom,this.paddingLeft=left,this},Object.defineProperty(Sprite.prototype,\"paddingLeft\",{get:function(){return this.getPropertyValue(\"paddingLeft\")},set:function(value){this.setPercentProperty(\"paddingLeft\",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"paddingRight\",{get:function(){return this.getPropertyValue(\"paddingRight\")},set:function(value){this.setPercentProperty(\"paddingRight\",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"paddingTop\",{get:function(){return this.getPropertyValue(\"paddingTop\")},set:function(value){this.setPercentProperty(\"paddingTop\",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"paddingBottom\",{get:function(){return this.getPropertyValue(\"paddingBottom\")},set:function(value){this.setPercentProperty(\"paddingBottom\",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelPaddingRight\",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativePaddingRight\",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelPaddingLeft\",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativePaddingLeft\",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelPaddingTop\",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativePaddingTop\",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelPaddingBottom\",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"relativePaddingBottom\",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"path\",{get:function(){return this.getPropertyValue(\"path\")},set:function(value){this.setPath(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setPath=function(value){return!!this.setPropertyValue(\"path\",value)&&(this.element&&this.element instanceof SVGPathElement||(this.element=this.paper.add(\"path\")),this.element.attr({d:value}),this.invalidatePosition(),this.inited||this.events.once(\"inited\",this.validatePosition,this,!1),!0)},Object.defineProperty(Sprite.prototype,\"fillModifier\",{get:function(){return this.getPropertyValue(\"fillModifier\")},set:function(value){this.setPropertyValue(\"fillModifier\",value)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"strokeModifier\",{get:function(){return this.getPropertyValue(\"strokeModifier\")},set:function(value){this.setPropertyValue(\"strokeModifier\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"fillOpacity\",{get:function(){return this.getPropertyValue(\"fillOpacity\")},set:function(value){value=toNumberRange(value,0,1),this.setPropertyValue(\"fillOpacity\",value)&&this.setSVGAttribute({\"fill-opacity\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"fill\",{get:function(){return this.getPropertyValue(\"fill\")},set:function(value){this.setFill(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setFill=function(value){if(Type_isObject(value)||(value=toColor(value)),this.setColorProperty(\"fill\",value)||this.fillModifier)if(value instanceof Color_Color&&this.fillModifier&&(value=this.fillModifier.modify(value)),this.realFill=value,value instanceof Color_Color)this.setSVGAttribute({fill:value.toString()});else if(hasValue(value)){if(value instanceof Pattern_Pattern||value instanceof LinearGradient_LinearGradient||value instanceof RadialGradient_RadialGradient){var fill=value;fill.paper=this.paper,this.setSVGAttribute({fill:'url(\"'+getBaseURI()+fill.id+'\")'})}}else this.removeSVGAttribute(\"fill\")},Object.defineProperty(Sprite.prototype,\"opacity\",{get:function(){return this.getPropertyValue(\"opacity\")},set:function(value){value=toNumberRange(value,0,1),this.setPropertyValue(\"opacity\",value)&&this.setSVGAttribute({opacity:value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"stroke\",{get:function(){return this.getPropertyValue(\"stroke\")},set:function(value){this.setStroke(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setStroke=function(value){if(Type_isObject(value)||(value=toColor(value)),this.setColorProperty(\"stroke\",value)||this.strokeModifier)if(value instanceof Color_Color&&this.strokeModifier&&(value=this.strokeModifier.modify(value)),this.realStroke=value,value instanceof Color_Color)\"none\"==value.hex?this.removeSVGAttribute(\"stroke\"):this.setSVGAttribute({stroke:value.toString()});else if(hasValue(value)){if(value instanceof Pattern_Pattern||value instanceof LinearGradient_LinearGradient||value instanceof RadialGradient_RadialGradient){var stroke=value;stroke.paper=this.paper,this.setSVGAttribute({stroke:'url(\"'+getBaseURI()+stroke.id+'\")'})}}else this.removeSVGAttribute(\"stroke\")},Object.defineProperty(Sprite.prototype,\"strokeOpacity\",{get:function(){return this.getPropertyValue(\"strokeOpacity\")},set:function(value){value=toNumberRange(value,0,1),this.setPropertyValue(\"strokeOpacity\",value)&&this.setSVGAttribute({\"stroke-opacity\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"nonScalingStroke\",{get:function(){return this.getPropertyValue(\"nonScalingStroke\")},set:function(value){value=toBoolean(value),this.setPropertyValue(\"nonScalingStroke\",value)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"nonScaling\",{get:function(){return this.getPropertyValue(\"nonScaling\")},set:function(value){value=toBoolean(value),this.setPropertyValue(\"nonScaling\",value,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"strokeWidth\",{get:function(){return this.getPropertyValue(\"strokeWidth\")},set:function(value){value=toNumber(value),this.setPropertyValue(\"strokeWidth\",value,!0),this.nonScalingStroke&&(isNumber(value)||(value=1),value/=this.globalScale),this.setSVGAttribute({\"stroke-width\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"strokeDasharray\",{get:function(){return this.getPropertyValue(\"strokeDasharray\")},set:function(value){value=toText(value),this.setPropertyValue(\"strokeDasharray\",value)&&this.setSVGAttribute({\"stroke-dasharray\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"strokeDashoffset\",{get:function(){return this.getPropertyValue(\"strokeDashoffset\")},set:function(value){value=toNumber(value),this.setPropertyValue(\"strokeDashoffset\",value)&&this.setSVGAttribute({\"stroke-dashoffset\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"strokeLinecap\",{get:function(){return this.getPropertyValue(\"strokeLinecap\")},set:function(value){this.setPropertyValue(\"strokeLinecap\",value)&&this.setSVGAttribute({\"stroke-linecap\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"strokeLinejoin\",{get:function(){return this.getPropertyValue(\"strokeLinejoin\")},set:function(value){this.setPropertyValue(\"strokeLinejoin\",value)&&this.setSVGAttribute({\"stroke-linejoin\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"shapeRendering\",{get:function(){return this.getPropertyValue(\"shapeRendering\")},set:function(value){value=toText(value),this.setPropertyValue(\"shapeRendering\",value)&&this.setSVGAttribute({\"shape-rendering\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"pixelPerfect\",{get:function(){return this.getPropertyValue(\"pixelPerfect\")},set:function(value){value=toBoolean(value),this._positionPrecision=value?0:3,this.setPropertyValue(\"pixelPerfect\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"rtl\",{get:function(){return hasValue(this._rtl)?this._rtl:this.virtualParent?this.virtualParent.rtl:!!this.parent&&this.parent.rtl},set:function(value){value=toBoolean(value),this._rtl=value},enumerable:!0,configurable:!0}),Sprite.prototype.show=function(duration){return this.showReal(duration)},Sprite.prototype.showReal=function(duration){var transition,_this=this,properties=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||null!=properties.opacity&&this.opacity<properties.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),isNumber(duration)||(duration=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,(transition=this.applyCurrentState(duration))&&!transition.isFinished()?(this._showHideDisposer=transition.events.on(\"animationended\",function(){_this.isShowing=!1}),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var visible=this.defaultState.properties.visible;hasValue(visible)||(visible=!0),this.visible=visible,this.readerHidden=!1,this.dispatchImmediately(\"shown\")}return transition},Sprite.prototype.hide=function(duration){return this.hideReal(duration)},Sprite.prototype.hideReal=function(duration){var transition,_this=this;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var hiddenState=this.hiddenState;hiddenState?(transition=this.setState(hiddenState,duration,void 0))&&!transition.isFinished()?(this._hideAnimation=transition,this._showHideDisposer=transition.events.on(\"animationended\",function(){_this.isHiding=!1,_this._isHidden=!0},this),this._disposers.push(this._showHideDisposer),this._disposers.push(transition)):(this.isHiding=!1,this._isHidden=!0):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately(\"hidden\"),this.invalidate()}return isNumber(duration)||(duration=this.hiddenState.transitionDuration),transition},Object.defineProperty(Sprite.prototype,\"visible\",{get:function(){return this.getVisibility()},set:function(value){value=toBoolean(value),this.setVisibility(value)},enumerable:!0,configurable:!0}),Sprite.prototype.getVisibility=function(){var value=this.getPropertyValue(\"visible\");return hasValue(value)||(value=!0),value},Sprite.prototype.setVisibility=function(value){this.setPropertyValue(\"visible\",value)&&(value?this.group.removeAttr(\"visibility\"):this.group.attr({visibility:\"hidden\"}),this.events.isEnabled(\"visibilitychanged\")&&this.events.dispatchImmediately(\"visibilitychanged\",{type:\"visibilitychanged\",target:this,visible:value}))},Object.defineProperty(Sprite.prototype,\"zIndex\",{get:function(){return this.getPropertyValue(\"zIndex\")},set:function(value){value=toNumber(value),this.setPropertyValue(\"zIndex\",value)&&this.dispatch(\"zIndexChanged\")},enumerable:!0,configurable:!0}),Sprite.prototype.toFront=function(){var parent=this.parent;parent&&parent.children.indexOf(this)!=parent.children.length-1&&(parent.children.moveValue(this,parent.children.length-1),this.dispatch(\"zIndexChanged\"))},Sprite.prototype.toBack=function(){var parent=this.parent;parent&&0!=parent.children.indexOf(this)&&(parent.children.moveValue(this,0),this.dispatch(\"zIndexChanged\"))},Object.defineProperty(Sprite.prototype,\"tooltip\",{get:function(){return this._tooltip?this._tooltip:this.virtualParent?this.virtualParent.tooltip:this.parent?this.parent.tooltip:void 0},set:function(tooltip){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=tooltip,tooltip&&(tooltip.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"tooltipDataItem\",{get:function(){return this._tooltipDataItem||this.dataItem},set:function(value){this._tooltipDataItem=value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"tooltipColorSource\",{get:function(){return this._tooltipColorSource},set:function(sprite){this._tooltipColorSource=sprite},enumerable:!0,configurable:!0}),Sprite.prototype.showTooltip=function(point){this.alwaysShowTooltip&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone());for(var sprite=this;null!=sprite;){if(!sprite.visible||sprite.disabled||sprite.__disabled)return void(this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0));sprite=sprite.parent}if(hasValue(this.tooltipText)||hasValue(this.tooltipHTML)){var tooltip=this.tooltip,tooltipDataItem=this.tooltipDataItem;if(tooltip){tooltip.targetSprite=this;var colorSource_1=this,tooltipColorSource_1=this.tooltipColorSource;if((tooltip.getStrokeFromObject||tooltip.getFillFromObject)&&tooltipColorSource_1&&(tooltipColorSource_1.isTemplate?tooltipDataItem&&function(array,fn){for(var length=array.length,i=0;i<length&&fn(array[i]);++i);}(tooltipDataItem.sprites,function(sprite){return sprite.clonedFrom!=tooltipColorSource_1||(colorSource_1=sprite,!1)}):colorSource_1=tooltipColorSource_1),tooltip.getStrokeFromObject){for(var stroke=this.stroke,source=colorSource_1;null!=source.parent&&(null==(stroke=source.stroke)&&(source=source.parent),null==stroke););stroke instanceof Color_Color?tooltip.background.animate({property:\"stroke\",to:stroke},tooltip.animationDuration):tooltip.background.stroke=stroke}if(tooltip.dataItem=tooltipDataItem,tooltip.label.populateStringFrom=this,tooltip.getFillFromObject){var fill=this.fill;for(source=colorSource_1;null!=source.parent;)if(null==(fill=source.fill)||fill instanceof Color_Color&&null==fill.rgb)source=source.parent;else if(null!=fill)break;null==fill&&(fill=Color_color(\"#000000\")),fill instanceof Color_Color&&tooltip.visible?tooltip.background.animate({property:\"fill\",to:fill},tooltip.animationDuration):tooltip.background.fill=fill,tooltip.autoTextColor&&fill instanceof Color_Color&&(tooltip.label.fill=fill.alternative)}var text=\"\";if(this.tooltipHTML&&(tooltip.html=this.tooltipHTML,text=this.tooltipHTML),this.tooltipText&&(tooltip.text=this.tooltipText,text=this.tooltipText),this.updateTooltipPosition(point)){if(tooltip.readerDescribedBy=this.uidAttr(),tooltip.label.invalid&&tooltip.label.validate(),null!=text&&\"\"!=text&&\"\"!=tooltip.label.currentText){tooltip&&!tooltip.parent&&(tooltip.parent=this.tooltipContainer);var duration=tooltip.defaultState.transitionDuration;return duration<=0&&(duration=1),tooltip.show(duration),!0}this.hideTooltip(0)}else this.hideTooltip(0)}}return!1},Sprite.prototype.updateTooltipPosition=function(point){var _this=this;if(\"pointer\"!=this.tooltipPosition){var globalPoint=spritePointToSvg({x:this.tooltipX,y:this.tooltipY},this);return this.pointTooltipTo(globalPoint)}if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=getInteraction().body.events.on(\"track\",function(ev){return _this.pointTooltipTo(documentPointToSvg(ev.point,_this.svgContainer.SVGContainer,_this.svgContainer.cssScale),!0)}),point)return this.pointTooltipTo(point,!0)},Sprite.prototype.pointTooltipTo=function(point,instantly){var tooltip=this.tooltip;if(tooltip&&this.topParent){if(tooltip.showInViewport)return tooltip.pointTo(point,instantly),!0;if(isInRectangle(point,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))return tooltip.pointTo(point,instantly),!0}return!1},Sprite.prototype.hideTooltip=function(duration){if(!this.alwaysShowTooltip){var tooltip=this.tooltip;tooltip&&(tooltip.targetSprite==this&&(tooltip.targetSprite=void 0),tooltip.hide(duration),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(Sprite.prototype,\"tooltipHTML\",{get:function(){return this.getPropertyValue(\"tooltipHTML\")},set:function(value){value=toText(value),this.hoverable=!0,this.setPropertyValue(\"tooltipHTML\",value)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"tooltipText\",{get:function(){return this.getPropertyValue(\"tooltipText\")},set:function(value){(value=toText(value))&&(this.hoverable=!0),this.setPropertyValue(\"tooltipText\",value)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"tooltipContainer\",{get:function(){return this._tooltipContainer?this._tooltipContainer:this.parent?this.parent.tooltipContainer:void 0},set:function(value){this._tooltipContainer=value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"tooltipX\",{get:function(){return this.getTooltipX()},set:function(value){value=toNumber(value),this.setPropertyValue(\"tooltipX\",value)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"alwaysShowTooltip\",{get:function(){return this.getPropertyValue(\"alwaysShowTooltip\")},set:function(value){value=toBoolean(value),this.setPropertyValue(\"alwaysShowTooltip\",value)&&this.tooltip&&(value&&this.showTooltip(),this.handleAlwaysShowTooltip())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"tooltipPosition\",{get:function(){return this.getPropertyValue(\"tooltipPosition\")},set:function(value){this.setPropertyValue(\"tooltipPosition\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"tooltipY\",{get:function(){return this.getTooltipY()},set:function(value){value=toNumber(value),this.setPropertyValue(\"tooltipY\",value)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Sprite.prototype.getTooltipX=function(){var x=this.getPropertyValue(\"tooltipX\");return isNumber(x)||(x=this.maxLeft+this.measuredWidth/2-this.pixelPaddingLeft-this.ex),x},Sprite.prototype.getTooltipY=function(){var y=this.getPropertyValue(\"tooltipY\");return isNumber(y)||(y=this.maxTop+this.measuredHeight/2-this.pixelPaddingTop-this.ey),y},Sprite.prototype.raiseCriticalError=function(e){this.svgContainer&&(this.modal.content=this.adapter.apply(\"criticalError\",e).message,this.modal.closable=!1,this.modal.open(),this.disabled=!0),Options_options.verbose&&console.log(e)},Sprite.prototype.processConfig=function(config){config&&(hasValue(config.tooltipColorSource)&&isString(config.tooltipColorSource)&&this.map.hasKey(config.tooltipColorSource)&&(config.tooltipColorSource=this.map.getKey(config.tooltipColorSource)),hasValue(config.cursorOverStyle)&&isString(config.cursorOverStyle)&&(config.cursorOverStyle=this.getCursorStyle(config.cursorOverStyle)),hasValue(config.cursorDowntyle)&&isString(config.cursorDowntyle)&&(config.cursorDowntyle=this.getCursorStyle(config.cursorDowntyle)),hasValue(config.cursorOptions)&&(hasValue(config.cursorOptions.overStyle)&&isString(config.cursorOptions.overStyle)&&(config.cursorOptions.overStyle=this.getCursorStyle(config.cursorOptions.overStyle)),hasValue(config.cursorOptions.downStyle)&&isString(config.cursorOptions.downStyle)&&(config.cursorOptions.downStyle=this.getCursorStyle(config.cursorOptions.downStyle)))),_super.prototype.processConfig.call(this,config)},Sprite.prototype.getCursorStyle=function(style){switch(style){case\"grab\":return MouseCursorStyle.grab;case\"grabbing\":return MouseCursorStyle.grabbing;case\"pointer\":return MouseCursorStyle.pointer;case\"horizontalResize\":return MouseCursorStyle.horizontalResize;case\"verticalResize\":return MouseCursorStyle.verticalResize;default:return MouseCursorStyle.default}},Sprite.prototype.configOrder=function(a,b){return a==b?0:\"tooltipColorSource\"==a?1:\"tooltipColorSource\"==b?-1:_super.prototype.configOrder.call(this,a,b)},Object.defineProperty(Sprite.prototype,\"isHidden\",{get:function(){return this._isHidden?this._isHidden:!!this._parent&&this._parent.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"showOnInit\",{get:function(){return this.getPropertyValue(\"showOnInit\")},set:function(value){value=toBoolean(value),this.setShowOnInit(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setShowOnInit=function(value){this.setPropertyValue(\"showOnInit\",value)&&(this.isTemplate||(!value||this.inited||this.hidden?this._showOnInitDisposer&&this._showOnInitDisposer.dispose():(this._showOnInitDisposer=new Disposer_MultiDisposer([Registry_registry.events.once(\"enterframe\",this.hideInitially,this),this.events.once(\"beforevalidated\",this.hideInitially,this,!1),this.events.on(\"inited\",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer))))},Sprite.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},Sprite.prototype.appear=function(){var _this=this;if(this.appeared=!1,this.hidden||this.isHidden||this.hide(0),this.hidden)this.appeared=!0,this.dispatch(\"appeared\");else{var animation=this.show();animation&&!animation.isFinished()?animation.events.on(\"animationended\",function(){_this.appeared=!0,_this.dispatch(\"appeared\")}):(this.appeared=!0,this.dispatch(\"appeared\"))}},Object.defineProperty(Sprite.prototype,\"hidden\",{get:function(){return this.getPropertyValue(\"hidden\")},set:function(value){value=toBoolean(value),this.setPropertyValue(\"hidden\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"bbox\",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,\"plugins\",{get:function(){var _this=this;return this._plugins||(this._plugins=new List_List,this._disposers.push(this._plugins.events.on(\"inserted\",function(ev){ev.newValue.target=_this,ev.newValue.init()})),this._disposers.push(new List_ListDisposer(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),Sprite.prototype._systemUpdate=function(skippedSprites){this.validate()},Sprite.prototype._systemCheckIfValidate=function(){return!0},Sprite.prototype._systemValidatePositions=function(){this.validatePosition()},Sprite.prototype._systemValidateLayouts=function(){},Sprite}(Base_BaseObjectEvents);Registry_registry.registeredClasses.Sprite=Sprite_Sprite;var Rectangle_Rectangle=function(_super){function Rectangle(){var _this=_super.call(this)||this;return _this.className=\"Rectangle\",_this.element=_this.paper.add(\"rect\"),_this.applyTheme(),_this}return __extends(Rectangle,_super),Rectangle.prototype.draw=function(){_super.prototype.draw.call(this);var precision=this._positionPrecision;this.pixelPerfect&&(precision=0);var w=Math_round(this.innerWidth,precision),h=Math_round(this.innerHeight,precision);this.element.attr({width:w,height:h})},Rectangle.prototype.measureElement=function(){},Object.defineProperty(Rectangle.prototype,\"bbox\",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Rectangle}(Sprite_Sprite);Registry_registry.registeredClasses.Rectangle=Rectangle_Rectangle;var Container_Container=function(_super){function Container(){var _this=_super.call(this)||this;return _this._childrenByLayout=[],_this._childrenDisposers=new Dictionary_Dictionary,_this.hasFocused=!1,_this.setStateOnSprites=[],_this.layoutInvalid=!1,_this._absoluteWidth=0,_this._absoluteHeight=0,_this._shouldBeReady=[],_this._tapToActivate=!1,_this.tapTimeout=3e3,_this.className=\"Container\",_this._element=_this.paper.addGroup(\"g\"),_this.group.add(_this.element),_this.setPropertyValue(\"pixelPerfect\",!1),_this.setPropertyValue(\"layout\",\"absolute\"),_this.setPropertyValue(\"fixedWidthGrid\",!1),_this.setPropertyValue(\"verticalCenter\",\"none\"),_this.setPropertyValue(\"horizontalCenter\",\"none\"),_this._positionPrecision=4,_this._disposers.push(new Dictionary_DictionaryDisposer(_this._childrenDisposers)),_this.children.events.on(\"inserted\",_this.handleChildAdded,_this),_this.children.events.on(\"removed\",_this.handleChildRemoved,_this),_this.applyTheme(),_this}return __extends(Container,_super),Container.prototype.handleChildAdded=function(event){this.processChild(event.newValue)},Container.prototype.processChild=function(child){try{this._childrenDisposers.insertKey(child.uid,new Disposer_MultiDisposer([child.events.on(\"transformed\",this.handleChildTransform,this),child.events.on(\"zIndexChanged\",this.sortAndAdd,this)]))}catch(err){}this.element&&!child.disabled&&this.element.add(child.group),child.parent=this,child.paper=this.paper,this.dispatchImmediately(\"childadded\",{type:\"childadded\",newValue:child}),this.invalidate()},Container.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},Container.prototype.handleChildRemoved=function(event){var child=event.oldValue;this._childrenDisposers.removeKey(child.uid),this.element&&this.element.removeElement(child.group),child.isMeasured&&this.invalidateLayout(),this.dispatchImmediately(\"childremoved\",{type:\"childremoved\",oldValue:child})},Container.prototype.handleChildTransform=function(event){event.target.isMeasured&&this.invalidateLayout()},Container.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||\"none\"==this.layout||this.__disabled||(this.layoutInvalid=!0,Registry_registry.addToInvalidLayouts(this),system.requestFrame())},Container.prototype.invalidate=function(){_super.prototype.invalidate.call(this),this.invalidateLayout()},Container.prototype.deepInvalidate=function(){_super.prototype.invalidate.call(this),each(this._childrenByLayout,function(child){child instanceof Container?child.deepInvalidate():child.invalidate()}),this.invalidateLayout()},Object.defineProperty(Container.prototype,\"children\",{get:function(){return this._children||(this._children=new List_List),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,\"minWidth\",{get:function(){return this.getPropertyValue(\"minWidth\")},set:function(value){this.setPropertyValue(\"minWidth\",value)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,\"minHeight\",{get:function(){return this.getPropertyValue(\"minHeight\")},set:function(value){this.setPropertyValue(\"minHeight\",value)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Container.prototype.removeElement=function(){},Container.prototype.sortChildren=function(){var _this=this;if(this._childrenByLayout=[],\"none\"!=this.layout&&\"absolute\"!=this.layout&&this.layout){var fixed_1=[],relative_1=[];Iterator_each(this.children.iterator(),function(child){\"horizontal\"==_this.layout||\"grid\"==_this.layout?isNumber(child.percentWidth)?relative_1.push(child):fixed_1.push(child):\"vertical\"==_this.layout&&isNumber(child.percentHeight)?relative_1.push(child):fixed_1.push(child)}),this._childrenByLayout=fixed_1.concat(relative_1)}else this._childrenByLayout=this.children.values;this.calculateRelativeSize()},Container.prototype.calculateRelativeSize=function(){var _this=this,totalRelativeWidth=0,totalRelativeHeight=0;each(this._childrenByLayout,function(child){child.isMeasured&&(isNumber(child.percentWidth)&&(totalRelativeWidth+=child.percentWidth),isNumber(child.percentHeight)&&(totalRelativeHeight+=child.percentHeight))}),each(this._childrenByLayout,function(child){child.isMeasured&&(\"horizontal\"==_this.layout&&(isNumber(child.percentWidth)&&(child.relativeWidth=child.percentWidth/totalRelativeWidth),isNumber(child.percentHeight)&&(child.relativeHeight=child.percentHeight/100)),\"vertical\"==_this.layout&&(isNumber(child.percentHeight)&&(child.relativeHeight=child.percentHeight/totalRelativeHeight),isNumber(child.percentWidth)&&(child.relativeWidth=child.percentWidth/100)),\"grid\"==_this.layout&&(isNumber(child.percentHeight)&&(child.relativeHeight=child.percentHeight/100),isNumber(child.percentWidth)&&(child.relativeWidth=child.percentWidth/100))),\"absolute\"!=_this.layout&&child.isMeasured||(isNumber(child.percentWidth)&&(child.relativeWidth=child.percentWidth/100),isNumber(child.percentHeight)&&(child.relativeHeight=child.percentHeight/100))})},Container.prototype.addChildren=function(){if(this.element){var zindexed=Array_copy(this.children.values),sortArray=zindexed.map(function(data,idx){return{idx:idx,data:data}});sortArray.sort(function(a,b){var ai=a.data.zIndex||0,bi=b.data.zIndex||0;return ai<bi?-1:ai>bi?1:a.idx-b.idx}),zindexed=sortArray.map(function(val){return val.data});var group_1=this.element,isCorrect=!0;if(group_1.node&&group_1.node.childNodes)for(var i=0,len=group_1.node.childNodes.length;i<len;i++)if(group_1.node.childNodes[i]!=zindexed[i].group.node){isCorrect=!1;break}isCorrect||(each(zindexed,function(child){child.group&&group_1.add(child.group)}),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},Container.prototype.createChild=function(classType){var sprite=new classType;return sprite.parent=this,sprite},Container.prototype.removeChildren=function(){for(;this.children.length>0;){var child=this.children.getIndex(0);child.parent=void 0,this.children.removeValue(child)}},Container.prototype.disposeChildren=function(){for(;this.children.length>0;){var child=this.children.getIndex(0);child.dispose(),this.children.removeValue(child)}},Object.defineProperty(Container.prototype,\"background\",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(background){this._background&&this.background!=background&&this.removeDispose(this._background),background&&(this._background=background,this._disposers.push(background),this.processBackground())},enumerable:!0,configurable:!0}),Container.prototype.handleGlobalScale=function(){_super.prototype.handleGlobalScale.call(this),this.children.each(function(child){child.handleGlobalScale()})},Container.prototype.createBackground=function(){return new Rectangle_Rectangle},Container.prototype.processBackground=function(){var background=this._background;background&&(background.isMeasured=!1,this._background.fill=(new InterfaceColorSet_InterfaceColorSet).getFor(\"background\"),background.parent=this,background.isMeasured=!1,this.children.removeValue(background),this._disposers.push(background),this.group.addToBack(this._background.group))},Container.prototype.validateLayout=function(){var _this=this;Registry_registry.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var measuredWidth=0,measuredHeight=0,allValid=!0;this.children&&(this.sortChildren(),each(this._childrenByLayout,function(child){var maxWidth,maxHeight;if(isNumber(child.relativeWidth)?(maxWidth=Math_round(_this._availableWidth*child.relativeWidth,2),\"horizontal\"==_this.layout&&(maxWidth-=child.pixelMarginRight+child.pixelMarginLeft)):\"horizontal\"==_this.layout&&child.invalid&&child.validate(),isNumber(child.relativeHeight)?(maxHeight=Math_round(_this._availableHeight*child.relativeHeight,2),\"vertical\"==_this.layout&&(maxHeight-=child.pixelMarginTop+child.pixelMarginBottom)):\"vertical\"==_this.layout&&child.invalid&&child.validate(),0==child.invalid){if(isNumber(child.relativeWidth)&&(child.maxWidth=maxWidth),isNumber(child.relativeHeight)&&(child.maxHeight=maxHeight),child.isMeasured){\"horizontal\"==_this.layout&&(isNumber(child.percentWidth)||child.measuredWidth>0&&(_this._availableWidth-=child.measuredWidth+child.pixelMarginLeft+child.pixelMarginRight)),\"vertical\"==_this.layout&&(isNumber(child.percentHeight)||child.measuredHeight>0&&(_this._availableHeight-=child.measuredHeight+child.pixelMarginTop+child.pixelMarginBottom));var childMeasuredWidth=child.measuredWidth,childMeasuredHeight=child.measuredHeight;\"none\"!=child.align&&(childMeasuredWidth+=child.pixelMarginLeft+child.pixelMarginRight),\"none\"!=child.valign&&(childMeasuredHeight+=child.pixelMarginTop+child.pixelMarginBottom),measuredWidth=Math.max(measuredWidth,childMeasuredWidth),measuredHeight=Math.max(measuredHeight,childMeasuredHeight)}}else child.isMeasured&&(isNumber(child.relativeWidth)&&child.maxWidth!=maxWidth&&(child.maxWidth=maxWidth,allValid=!1),isNumber(child.relativeHeight)&&child.maxHeight!=maxHeight&&(child.maxHeight=maxHeight,allValid=!1))})),this._absoluteWidth=measuredWidth,this._absoluteHeight=measuredHeight,allValid&&this.arrange()},Container.prototype.arrange=function(){var left,right,top,bottom,maxCellWidth,minCellWidth,columnCount,contentLeft,contentRight,contentTop,contentBottom,_this=this,children=this.children,measuredWidth=0,measuredHeight=0,innerWidth=Math_max(this.innerWidth,this._absoluteWidth),innerHeight=Math_max(this.innerHeight,this._absoluteHeight),paddingLeft=this.pixelPaddingLeft,paddingRight=this.pixelPaddingRight,paddingTop=this.pixelPaddingTop,paddingBottom=this.pixelPaddingBottom,nextX=0,nextY=0,row=0,column=0,columnWidth=[],rowHeight=[],maxWidth=this.maxWidth,maxHeight=this.maxHeight,minWidth=this.minWidth,minHeight=this.minHeight,childrenCopy=Array_copy(children.values);if(this.reverseOrder&&childrenCopy.reverse(),\"grid\"==this.layout){minCellWidth=maxWidth,maxCellWidth=1;for(var i=0,len=childrenCopy.length;i<len;i++)if((child=childrenCopy[i]).isMeasured&&!child.disabled&&!child.__disabled){var childMeasuredWidth=child.measuredWidth;childMeasuredWidth<minCellWidth&&(minCellWidth=childMeasuredWidth),childMeasuredWidth>maxCellWidth&&(maxCellWidth=childMeasuredWidth)}minCellWidth=fitToRange(minCellWidth,1,maxWidth),maxCellWidth=fitToRange(maxCellWidth,1,maxWidth),columnCount=this.fixedWidthGrid?maxWidth/maxCellWidth:maxWidth/minCellWidth,columnCount=Math_max(1,Math.floor(columnCount)),columnCount=Math_min(this.maxColumns,columnCount),columnWidth=this.getColumnWidth(childrenCopy,columnCount,maxCellWidth)}for(i=0,len=childrenCopy.length;i<len;i++){var child;if(!(child=childrenCopy[i]).isMeasured||child.disabled||child.__disabled)child.validatePosition();else{var x=void 0,y=void 0,childMarginLeft=child.pixelMarginLeft,childMarginRight=child.pixelMarginRight,childMarginTop=child.pixelMarginTop,childMarginBottom=child.pixelMarginBottom,childWidth=child.measuredWidth,childHeight=child.measuredHeight,childLeft=void 0,childRight=void 0,childTop=void 0,childBottom=void 0;switch(this.layout){case\"none\":break;case\"absolute\":switch(child.align){case\"left\":x=childMarginLeft-child.maxLeft;break;case\"center\":x=(innerWidth-childWidth)/2-child.maxLeft;break;case\"right\":x=innerWidth-childMarginRight-child.maxRight;break;default:child.x instanceof Percent||(x=child.pixelX)}switch(child.valign){case\"top\":y=childMarginTop-child.maxTop;break;case\"middle\":y=(innerHeight-childHeight)/2-child.maxTop;break;case\"bottom\":y=innerHeight-childMarginBottom-child.maxBottom;break;default:child.y instanceof Percent||(y=child.pixelY)}break;case\"vertical\":switch(child.align){case\"left\":x=childMarginLeft-child.maxLeft;break;case\"center\":x=(innerWidth-childWidth)/2-child.maxLeft;break;case\"right\":x=innerWidth-childMarginRight-child.maxRight;break;default:x=child.pixelX}nextY=(y=nextY+childMarginTop-child.maxTop)+child.maxBottom+childMarginBottom;break;case\"horizontal\":switch(child.valign){case\"top\":y=childMarginTop-child.maxTop;break;case\"middle\":y=(innerHeight-childHeight)/2-child.maxTop;break;case\"bottom\":y=innerHeight-childMarginBottom-child.maxBottom;break;default:y=child.pixelY}nextX=(x=nextX+childMarginLeft-child.maxLeft)+child.maxRight+childMarginRight;break;case\"grid\":switch(x=nextX+childMarginLeft-child.maxLeft,child.valign){case\"top\":y=nextY+childMarginTop-child.maxTop;break;case\"middle\":y=nextY+(innerHeight-childHeight)/2-child.maxTop;break;case\"bottom\":y=nextY+innerHeight-childMarginBottom-child.maxBottom;break;default:y=nextY-child.maxTop}nextX+=columnWidth[column],rowHeight[row]=Math_max(rowHeight[row],childHeight);var nextColumnWidth=columnWidth[++column];if(isNumber(nextColumnWidth)||(nextColumnWidth=maxCellWidth),nextX>Math_min(this.innerWidth,maxWidth)-nextColumnWidth+1&&column<columnCount){columnCount=column,nextX=0,nextY=0,row=0,column=0,columnWidth=this.getColumnWidth(childrenCopy,columnCount,maxCellWidth),rowHeight=[],i=-1;continue}column>=columnCount&&(column=0,nextY+=rowHeight[row],row++,nextX=0)}\"none\"!==this.layout&&(child.moveTo({x:x,y:y}),childLeft=x+child.maxLeft-childMarginLeft,childTop=y+child.maxTop-childMarginTop,childBottom=y+child.maxBottom+childMarginBottom,((childRight=x+child.maxRight+childMarginRight)>right||!isNumber(right))&&(right=childRight),(childLeft<left||!isNumber(left))&&(left=childLeft),(childTop<top||!isNumber(top))&&(top=childTop),(childBottom>bottom||!isNumber(bottom))&&(bottom=childBottom),(childRight>contentRight||!isNumber(contentRight))&&(contentRight=childRight),(childLeft<contentLeft||!isNumber(contentLeft))&&(contentLeft=childLeft),(childTop<contentTop||!isNumber(contentTop))&&(contentTop=childTop),(childBottom>contentBottom||!isNumber(contentBottom))&&(contentBottom=contentBottom))}}if(\"none\"==this.layout){var noneBBox=this.bbox;left=noneBBox.x,right=noneBBox.x+noneBBox.width,top=noneBBox.y,bottom=noneBBox.y+noneBBox.height}isNumber(left)||(left=0,contentLeft=0),isNumber(right)||(contentRight=right=this._availableWidth),isNumber(top)||(top=0,contentTop=0),isNumber(bottom)||(contentBottom=bottom=this._availableHeight),isNumber(contentTop)||(contentTop=0),isNumber(contentBottom)||(contentBottom=contentTop),isNumber(contentLeft)||(contentLeft=0),isNumber(contentRight)||(contentRight=contentLeft),measuredWidth=right-left,measuredHeight=bottom-top,isNumber(this.relativeWidth)&&(left=0,right=measuredWidth=maxWidth-paddingLeft-paddingRight),isNumber(this.relativeHeight)&&(top=0,bottom=measuredHeight=maxHeight-paddingTop-paddingBottom),isNumber(this._pixelWidth)&&(left=0,measuredWidth=this._pixelWidth-paddingLeft-paddingRight),isNumber(minWidth)&&measuredWidth<minWidth&&(left=0,measuredWidth=this.minWidth-paddingLeft-paddingRight),isNumber(this._pixelHeight)&&(top=0,measuredHeight=this._pixelHeight-paddingTop-paddingBottom),isNumber(minHeight)&&measuredHeight<minHeight&&(top=0,measuredHeight=minHeight-paddingTop-paddingBottom);var measuredContentWidth=contentRight-contentLeft,measuredContentHeight=contentBottom-contentTop;if(\"none\"!=this.layout&&(this.contentAlign||this.contentValign)&&children.length>0){var dx_1,dy_1,mwa=measuredWidth,mha=measuredHeight;mwa<measuredContentWidth&&(mwa=measuredContentWidth),mha<measuredContentHeight&&(mha=measuredContentHeight),\"center\"==this.contentAlign&&(dx_1=(mwa-measuredContentWidth)/2),\"right\"==this.contentAlign&&(dx_1=mwa-measuredContentWidth),\"middle\"==this.contentValign&&(dy_1=(mha-measuredContentHeight)/2),\"bottom\"==this.contentValign&&(dy_1=mha-measuredContentHeight),isNumber(dx_1)&&Iterator_each(children.iterator(),function(child){var childLeft=child.maxLeft,ddx=dx_1;\"horizontal\"==_this.layout&&(child.x=child.pixelX+ddx),\"grid\"==_this.layout&&(child.x=child.pixelX+ddx),\"vertical\"==_this.layout&&(ddx+=child.pixelMarginLeft,\"none\"==child.align&&(child.x=ddx-childLeft)),\"absolute\"==_this.layout&&(ddx+=child.pixelMarginLeft,\"none\"==child.align&&(child.x=ddx-childLeft))}),isNumber(dy_1)&&Iterator_each(children.iterator(),function(child){var childTop=child.maxTop,ddy=dy_1;\"horizontal\"==_this.layout&&(ddy+=child.pixelMarginTop,\"none\"==child.valign&&(child.y=ddy-childTop)),\"grid\"==_this.layout&&(child.y=(ddy+=child.pixelMarginTop)-childTop),\"vertical\"==_this.layout&&(child.y=child.pixelY+ddy),\"absolute\"==_this.layout&&(ddy+=child.pixelMarginTop,\"none\"==child.valign&&(child.y=ddy-childTop))})}var oldBBox=this.bbox;measuredWidth=Math_max(measuredWidth,minWidth),measuredHeight=Math_max(measuredHeight,minHeight),this.contentWidth=measuredWidth,this.contentHeight=measuredHeight,measuredWidth=Math_min(measuredWidth,maxWidth),measuredHeight=Math_min(measuredHeight,maxHeight),this._bbox={x:left,y:top,width:measuredWidth,height:measuredHeight};var prevLeft=this.maxLeft,prevTop=this.maxTop,prevBotttom=this.maxBottom,prevRight=this.maxRight;if(this.measure(),(prevLeft!=this.maxLeft||prevRight!=this.maxRight||prevTop!=this.maxTop||prevBotttom!=this.maxBottom)&&this.events.isEnabled(\"transformed\")){var event_1={type:\"transformed\",target:this};oldBBox&&(event_1.dummyData=oldBBox.width+\" \"+measuredWidth+\"  \"+oldBBox.height+\" \"+measuredHeight),this.events.dispatchImmediately(\"transformed\",event_1)}},Container.prototype.updateCenter=function(){_super.prototype.updateCenter.call(this),this.updateBackground()},Container.prototype.updateBackground=function(){var background=this._background;background&&(background.x=this.maxLeft,background.y=this.maxTop,background.width=this.maxRight-this.maxLeft,background.height=this.maxBottom-this.maxTop)},Container.prototype.getColumnWidth=function(children,columnCount,maxCellWidth){var _this=this,columnWidth=[],column=0;return each(children,function(child){child.isMeasured&&(columnWidth[column]=_this.fixedWidthGrid?maxCellWidth:Math_max(columnWidth[column],child.measuredWidth+child.pixelMarginRight+child.pixelMarginLeft),++column==columnCount&&(column=0))}),columnWidth},Object.defineProperty(Container.prototype,\"layout\",{get:function(){return this.getPropertyValue(\"layout\")},set:function(value){this.setPropertyValue(\"layout\",value)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,\"contentValign\",{get:function(){return this.getPropertyValue(\"contentValign\")},set:function(value){this.setPropertyValue(\"contentValign\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,\"contentAlign\",{get:function(){return this.getPropertyValue(\"contentAlign\")},set:function(value){this.setPropertyValue(\"contentAlign\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,\"fixedWidthGrid\",{get:function(){return this.getPropertyValue(\"fixedWidthGrid\")},set:function(value){this.setPropertyValue(\"fixedWidthGrid\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,\"maxColumns\",{get:function(){return this.getPropertyValue(\"maxColumns\")},set:function(value){this.setPropertyValue(\"maxColumns\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,\"reverseOrder\",{get:function(){return this.getPropertyValue(\"reverseOrder\")},set:function(value){this.setPropertyValue(\"reverseOrder\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,\"setStateOnChildren\",{get:function(){return this.getPropertyValue(\"setStateOnChildren\")},set:function(value){this.setPropertyValue(\"setStateOnChildren\",value,!0)},enumerable:!0,configurable:!0}),Container.prototype.fitsToBounds=function(point){var x=point.x,y=point.y;return x>=-.5&&x<=this.pixelWidth+.5&&y>=-.5&&y<=this.pixelHeight+.5},Container.prototype.copyFrom=function(source){var _this=this;_super.prototype.copyFrom.call(this,source),this.layout=source.layout,this.setStateOnChildren=source.setStateOnChildren,source._background&&(this.background=source._background.clone(),this.background.copyFrom(source._background)),Iterator_each(source.children.iterator(),function(child){child.shouldClone&&(child.clone().parent=_this)})},Object.defineProperty(Container.prototype,\"preloader\",{get:function(){return this._preloader||(this.parent?this.parent.preloader:void 0)},set:function(preloader){this._preloader&&this.removeDispose(this._preloader),this._preloader=preloader,preloader&&(preloader.parent=this.tooltipContainer,this._disposers.push(preloader))},enumerable:!0,configurable:!0}),Container.prototype.setPaper=function(paper){var _this=this,changed=_super.prototype.setPaper.call(this,paper);return changed&&(this._background&&(this._background.paper=paper,this._background.topParent=this.topParent),this.children.each(function(child){child.setPaper(paper),child.topParent=_this.topParent})),changed},Container.prototype.removeFromInvalids=function(){_super.prototype.removeFromInvalids.call(this),Registry_registry.removeFromInvalidLayouts(this)},Container.prototype.setDataItem=function(dataItem){this._dataItem!=dataItem&&(Iterator_each(this.children.iterator(),function(child){child.dataItem=dataItem}),this._background&&(this._background.dataItem=dataItem)),_super.prototype.setDataItem.call(this,dataItem)},Container.prototype.measureElement=function(){this.disabled||this.isTemplate||\"none\"==this.layout||this.__disabled||this.validateLayout()},Container.prototype.getTooltipX=function(){return _super.prototype.getTooltipX.call(this)},Container.prototype.getTooltipY=function(){return _super.prototype.getTooltipY.call(this)},Object.defineProperty(Container.prototype,\"fontFamily\",{get:function(){return this.getPropertyValue(\"fontFamily\")},set:function(value){this.setPropertyValue(\"fontFamily\",value,!0)&&(this.setSVGAttribute({\"font-family\":value}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,\"fontSize\",{get:function(){return this.getPropertyValue(\"fontSize\")},set:function(value){this.setPropertyValue(\"fontSize\",value,!0)&&(this.setSVGAttribute({\"font-size\":value}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Container.prototype.invalidateLabels=function(){this.children.each(function(child){child.hardInvalidate?child.hardInvalidate():child instanceof Container&&child.invalidateLabels()})},Object.defineProperty(Container.prototype,\"fontWeight\",{get:function(){return this.getPropertyValue(\"fontWeight\")},set:function(value){this.setPropertyValue(\"fontWeight\",value),this.setSVGAttribute({\"font-weight\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,\"textDecoration\",{get:function(){return this.getPropertyValue(\"textDecoration\")},set:function(value){this.setPropertyValue(\"textDecoration\",value),this.setSVGAttribute({\"text-decoration\":value})},enumerable:!0,configurable:!0}),Container.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),_super.prototype.dispose.call(this)},Container.prototype.setState=function(value,transitionDuration,easing){var stateName=value;return value instanceof SpriteState_SpriteState&&(stateName=value.name),this.setStateOnChildren&&Iterator_each(this.children.iterator(),function(child){child.setState(stateName,transitionDuration,easing),\"active\"!=stateName&&(child.isActive=!1)}),this._background&&this._background.setState(stateName),this.setStateOnSprites.length&&each(this.setStateOnSprites,function(item){item.setState(stateName,transitionDuration,easing)}),_super.prototype.setState.call(this,value,transitionDuration,easing)},Container.prototype.setActive=function(value){_super.prototype.setActive.call(this,value),this._background&&(this._background.isActive=value)},Container.prototype.dispatchReady=function(){var _this=this;if(!this.isReady()&&!this.isDisposed()){var allReady_1=!0;this.children.each(function(sprite){sprite.__disabled||sprite.disabled||sprite.isReady()||(allReady_1=!1)}),each(this._shouldBeReady,function(sprite){sprite.__disabled||sprite.disabled||sprite.isReady()||(allReady_1=!1)}),allReady_1?_super.prototype.dispatchReady.call(this):Registry_registry.events.once(\"exitframe\",function(){_this.dispatchReady(),system.requestFrame()},void 0,!1)}},Container.prototype._systemUpdate=function(skippedSprites){this.children.each(function(child){child.invalid&&(child._systemCheckIfValidate()?child.dataItem&&child.dataItem.component&&child.dataItem.component.dataInvalid?skippedSprites.push(child):child.validate():skippedSprites.push(child))}),_super.prototype._systemUpdate.call(this,skippedSprites)},Container.prototype._systemValidatePositions=function(){this.children.each(function(sprite){sprite.positionInvalid&&sprite.validatePosition()}),_super.prototype._systemValidatePositions.call(this)},Container.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(Container.prototype,\"tapToActivate\",{get:function(){return this._tapToActivate},set:function(value){this._tapToActivate!=value&&this.setTapToActivate(value)},enumerable:!0,configurable:!0}),Container.prototype.setTapToActivate=function(value){var _this=this;this._tapToActivate=value,this.interactions.isTouchProtected=value,value&&this.interactions.setEventDisposer(\"container-tapToActivate\",value,function(){return new Disposer_MultiDisposer([_this.events.on(\"hit\",_this.handleTapToActivate,_this,!1),_this.events.on(\"down\",_this.initTapTimeout,_this,!1),_this.events.on(\"track\",_this.initTapTimeout,_this,!1),getInteraction().body.events.on(\"down\",function(ev){getInteraction().isLocalElement(ev.pointer,_this.paper.svg,_this.uid)||_this.handleTapToActivateDeactivation()},_this,!1)])}),getInteraction()},Container.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},Container.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},Container.prototype.initTapTimeout=function(){var _this=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout(function(){_this.handleTapToActivateDeactivation()},this.tapTimeout))},Container.prototype.hasLicense=function(){if(Options_options.commercialLicense)return!0;for(var i=0;i<Options_options.licenses.length;i++)if(Options_options.licenses[i].match(/^CH.{5,}/i))return!0;return!1},Container}(Sprite_Sprite);Registry_registry.registeredClasses.Container=Container_Container;var DataParser_DataParser=function(){function DataParser(){}return DataParser.prototype.parse=function(data){return[]},Object.defineProperty(DataParser.prototype,\"parsableNumbers\",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),DataParser.prototype.maybeToNumber=function(field,value){return-1!==this.options.numberFields.indexOf(field)?anyToNumber(value):value},Object.defineProperty(DataParser.prototype,\"parsableDates\",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),DataParser.prototype.maybeToDate=function(field,value){return-1!==this.options.dateFields.indexOf(field)?this.options.dateFormatter.parse(value,this.dateFormat):value},DataParser.prototype.maybeToEmpty=function(value){return hasValue(value)&&\"\"!=value||!hasValue(this.options.emptyAs)?value:this.options.emptyAs},Object.defineProperty(DataParser.prototype,\"dateFormatter\",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new DateFormatter_DateFormatter,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(DataParser.prototype,\"dateFormat\",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),DataParser}(),separators=[\",\",\";\",\"\\t\"],CSVParser_CSVParser=function(_super){function CSVParser(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.contentType=\"text/csv\",_this.options={delimiter:\"\",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},_this}return __extends(CSVParser,_super),CSVParser.isCSV=function(data){return!!CSVParser.getDelimiterFromData(data)},CSVParser.getDelimiterFromData=function(data){var separator,lines=data.split(\"\\n\"),len=lines.length;return each(separators,function(sep){for(var columns=0,lineColums=0,i=0;i<len;++i){if(!((columns=lines[i].split(sep).length)>1)){lineColums=0;break}if(0===lineColums)lineColums=columns;else if(columns!=lineColums){lineColums=0;break}}lineColums&&(separator=sep)}),separator},CSVParser.prototype.parse=function(csv){this.options.delimiter||(this.options.delimiter=CSVParser.getDelimiterFromData(csv));var col,i,row,data=this.CSVToArray(csv,this.options.delimiter),empty=hasValue(this.options.emptyAs),numbers=this.parsableNumbers,dates=this.parsableDates,res=[],cols=[];for(i=0;i<this.options.skipRows;i++)data.shift();if(this.options.useColumnNames){cols=data.shift();for(var x=0;x<cols.length;x++)\"\"===(col=hasValue(cols[x])?cols[x].replace(/^\\s+|\\s+$/gm,\"\"):\"\")&&(col=\"col\"+x),cols[x]=col}for(;row=this.options.reverse?data.pop():data.shift();)if(!this.options.skipEmpty||1!==row.length||\"\"!==row[0]){var dataPoint={};for(i=0;i<row.length;i++)dataPoint[col=void 0===cols[i]?\"col\"+i:cols[i]]=\"\"===row[i]?this.options.emptyAs:row[i],empty&&(dataPoint[col]=this.maybeToEmpty(dataPoint[col])),numbers&&(dataPoint[col]=this.maybeToNumber(col,dataPoint[col])),dates&&(dataPoint[col]=this.maybeToDate(col,dataPoint[col]));res.push(dataPoint)}return res},CSVParser.prototype.CSVToArray=function(data,delimiter){delimiter=delimiter||\",\";for(var objPattern=new RegExp(\"(\\\\\"+delimiter+'|\\\\r?\\\\n|\\\\r|^)(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|([^\"\\\\'+delimiter+\"\\\\r\\\\n]*))\",\"gi\"),arrData=[[]],arrMatches=null;arrMatches=objPattern.exec(data);){var strMatchedValue,strMatchedDelimiter=arrMatches[1];strMatchedDelimiter.length&&strMatchedDelimiter!==delimiter&&arrData.push([]),strMatchedValue=arrMatches[2]?arrMatches[2].replace(new RegExp('\"\"',\"g\"),'\"'):arrMatches[3],arrData[arrData.length-1].push(strMatchedValue)}return arrData},CSVParser}(DataParser_DataParser),JSONParser_JSONParser=function(_super){function JSONParser(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.contentType=\"application/json\",_this.options={},_this}return __extends(JSONParser,_super),JSONParser.isJSON=function(data){try{return JSON.parse(data),!0}catch(e){return!1}},JSONParser.prototype.parse=function(data){var res,_this=this;try{hasValue(JSON)&&(res=JSON.parse(data))}catch(e){return}var empty=hasValue(this.options.emptyAs),numbers=this.parsableNumbers,dates=this.parsableDates;if(Array.isArray(res)&&(numbers||dates||empty))for(var _loop_1=function(i,len){var row=res[i];Object_each(row,function(key,value){empty&&(row[key]=_this.maybeToEmpty(row[key])),numbers&&(row[key]=_this.maybeToNumber(key,row[key])),dates&&(row[key]=_this.maybeToDate(key,row[key]))})},i=0,len=res.length;i<len;i++)_loop_1(i);return res},JSONParser}(DataParser_DataParser),dataLoader=new(function(){function DataLoader(){this.adapter=new Adapter_Adapter(this)}return DataLoader.prototype.load=function(source){var promises=Array_map(Array.isArray(source)?source:[source],function(x){return x.dispatchImmediately(\"started\"),x.dispatchImmediately(\"loadstarted\"),load(x.url,x,x.requestOptions)});Promise.all(promises).then(function(res){each(res,function(result){var source=result.target;source.dispatchImmediately(\"loadended\"),result.error?source.events.isEnabled(\"error\")&&source.events.dispatchImmediately(\"error\",{type:\"error\",code:result.xhr.status,message:source.language.translate(\"Unable to load file: %1\",null,source.url),target:source}):source.processData(result.response,result.type),source.dispatchImmediately(\"ended\")})}).catch(function(res){res.target&&(res.target.dispatchImmediately(\"loadended\"),res.target.events.isEnabled(\"error\")&&res.target.events.dispatchImmediately(\"error\",{type:\"error\",code:res.xhr.status,message:res.target.language.translate(\"Unable to load file: %1\",null,res.target.url),target:res.target}),res.target.dispatchImmediately(\"ended\"))})},DataLoader.prototype.getParserByType=function(contentType){return this.adapter.apply(\"getParserByType\",{parser:null,type:contentType}).parser||(\"csv\"==contentType||\"text/csv\"==contentType||\"application/vnd.ms-excel\"==contentType?new CSVParser_CSVParser:\"json\"==contentType||\"application/json\"==contentType?new JSONParser_JSONParser:void 0)},DataLoader.prototype.getParserByData=function(data,contentType){var parser=this.adapter.apply(\"getParserByData\",{parser:null,data:data,type:contentType}).parser;if(!parser){if(parser=this.getParserByType(contentType))return parser;if(JSONParser_JSONParser.isJSON(data))return this.getParserByType(\"json\");if(CSVParser_CSVParser.isCSV(data))return this.getParserByType(\"csv\")}return parser},DataLoader}()),DataSource_DataSource=function(_super){function DataSource(url,parser){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this._requestOptions={},_this._incremental=!1,_this._incrementalParams={},_this._keepCount=!1,_this._updateCurrentData=!1,_this.showPreloader=!0,_this.className=\"DataSource\",url&&(_this.url=url),parser&&(_this.parser=\"string\"==typeof parser?dataLoader.getParserByType(parser):parser),_this}return __extends(DataSource,_super),DataSource.prototype.processData=function(data,contentType){if(this.dispatchImmediately(\"parsestarted\"),this.parser||(this.parser=dataLoader.getParserByData(data,contentType),this.parser)){if(this.parser.options=this.adapter.apply(\"parserOptions\",this.parser.options),this.parser.options.dateFields=this.adapter.apply(\"dateFields\",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply(\"numberFields\",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply(\"parsedData\",this.parser.parse(this.adapter.apply(\"unparsedData\",data))),!hasValue(this.data)&&this.events.isEnabled(\"parseerror\")){var event_2={type:\"parseerror\",message:this.language.translate(\"Error parsing file: %1\",null,this.url),target:this};this.events.dispatchImmediately(\"parseerror\",event_2)}this.dispatchImmediately(\"parseended\"),hasValue(this.data)&&this.dispatchImmediately(\"done\",{data:this.data}),this.lastLoad=new Date}else{if(this.events.isEnabled(\"parseerror\")){var event_1={type:\"parseerror\",message:this.language.translate(\"No parser available for file: %1\",null,this.url),target:this};this.events.dispatchImmediately(\"parseerror\",event_1)}this.dispatchImmediately(\"parseended\")}},Object.defineProperty(DataSource.prototype,\"url\",{get:function(){var url=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(url=this.addUrlParams(url,this.incrementalParams)),this.adapter.apply(\"url\",url)},set:function(value){this._url=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,\"requestOptions\",{get:function(){return this.adapter.apply(\"requestOptions\",this._requestOptions)},set:function(value){this._requestOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,\"parser\",{get:function(){return this._parser||(this._parser=new JSONParser_JSONParser),this.adapter.apply(\"parser\",this._parser)},set:function(value){this._parser=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,\"reloadFrequency\",{get:function(){return this.adapter.apply(\"reloadTimeout\",this._reloadFrequency)},set:function(value){var _this=this;this._reloadFrequency!=value&&(this._reloadFrequency=value,value?hasValue(this._reloadDisposer)||(this._reloadDisposer=this.events.on(\"ended\",function(ev){_this._reloadTimeout=setTimeout(function(){_this.load()},_this.reloadFrequency)})):hasValue(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,\"incremental\",{get:function(){return this.adapter.apply(\"incremental\",this._incremental)},set:function(value){this._incremental=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,\"incrementalParams\",{get:function(){return this.adapter.apply(\"incrementalParams\",this._incrementalParams)},set:function(value){this._incrementalParams=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,\"keepCount\",{get:function(){return this.adapter.apply(\"keepCount\",this._keepCount)},set:function(value){this._keepCount=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,\"updateCurrentData\",{get:function(){return this.adapter.apply(\"updateCurrentData\",this._updateCurrentData)},set:function(value){this._updateCurrentData=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,\"language\",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new Language_Language,this.language)},set:function(value){this._language=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,\"dateFormatter\",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new DateFormatter_DateFormatter,this.dateFormatter)},set:function(value){this._dateFormatter=value},enumerable:!0,configurable:!0}),DataSource.prototype.timestampUrl=function(url){var params={};return params[(new Date).getTime().toString()]=\"\",this.addUrlParams(url,params)},DataSource.prototype.dispose=function(){_super.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),hasValue(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},DataSource.prototype.load=function(){this._reloadTimeout&&clearTimeout(this._reloadTimeout),dataLoader.load(this)},DataSource.prototype.addUrlParams=function(url,params){var join=url.match(/\\?/)?\"&\":\"?\",add=[];return Object_each(params,function(key,value){add.push(\"\"!=value?key+\"=\"+encodeURIComponent(value):key)}),add.length?url+join+add.join(\"&\"):url},DataSource.prototype.processConfig=function(config){Registry_registry.registeredClasses.json=JSONParser_JSONParser,Registry_registry.registeredClasses.JSONParser=JSONParser_JSONParser,Registry_registry.registeredClasses.csv=CSVParser_CSVParser,Registry_registry.registeredClasses.CSVParser=CSVParser_CSVParser,_super.prototype.processConfig.call(this,config)},DataSource}(Base_BaseObjectEvents),Responsive_Responsive=function(_super){function Responsive(){var _this=_super.call(this)||this;return _this._rules=new List_List,_this._appliedRules={},_this._useDefault=!0,_this.adapter=new Adapter_Adapter(_this),_this._enabled=!1,_this._noStates=[],_this.className=\"Responsive\",_this.rules.events.on(\"inserted\",_this.checkRules,!0),_this.rules.events.on(\"removed\",_this.checkRules,!0),_this._disposers.push(_this.rules.events),_this.applyTheme(),_this}return __extends(Responsive,_super),Object.defineProperty(Responsive.prototype,\"component\",{get:function(){return this._component},set:function(value){value!=this._component&&(this._sizeEventDisposer&&this.removeDispose(this._sizeEventDisposer),this._component=value,this._sizeEventDisposer=getValue(this.component).events.on(\"sizechanged\",this.checkRules,this),this._disposers.push(this._sizeEventDisposer),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Responsive.prototype,\"enabled\",{get:function(){return this.adapter.apply(\"enabled\",this._enabled)},set:function(value){this._enabled!=value&&(this._enabled=value,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(Responsive.prototype,\"useDefault\",{get:function(){return this.adapter.apply(\"useDefault\",this._useDefault)},set:function(value){this._useDefault!=value&&(this._useDefault=value,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(Responsive.prototype,\"rules\",{get:function(){return this.adapter.apply(\"rules\",this._rules)},set:function(value){this._rules=value,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(Responsive.prototype,\"defaultRules\",{get:function(){return this.adapter.apply(\"defaultRules\",defaultRules)},enumerable:!0,configurable:!0}),Object.defineProperty(Responsive.prototype,\"allRules\",{get:function(){var rules=new List_List;return this.useDefault&&rules.copyFrom(this.defaultRules),rules.copyFrom(this.rules),this.adapter.apply(\"allRules\",rules)},enumerable:!0,configurable:!0}),Responsive.prototype.isApplied=function(ruleId){var rule=this._appliedRules[ruleId];return!!hasValue(rule)&&rule},Responsive.prototype.checkRules=function(){var _this=this,rules=this.allRules;if(rules&&0!=rules.length){var rulesChanged=!1,component=getValue(this.component);if(Iterator_each(rules.iterator(),function(rule){rule.id||(rule.id=Registry_registry.getUniqueId());var apply=rule.relevant(component);(apply&&!_this.isApplied(rule.id)||!apply&&_this.isApplied(rule.id))&&(rulesChanged=!0),_this._appliedRules[rule.id]=apply}),rulesChanged){if(!this.component.isReady())return component.hidden=!0,void component.events.once(\"ready\",function(ev){_this.applyRules(),ev.target.show(0)});this.dispatchImmediately(\"ruleschanged\"),this.applyRules()}}},Responsive.prototype.applyRules=function(target){var _this=this,newTarget=hasValue(target)?target:getValue(this.component),defaultStateApplied=!1;this.enabled&&Iterator_each(this.allRules.iterator(),function(rule){var state=_this.getState(rule,newTarget);state&&(defaultStateApplied||(newTarget.applyCurrentState(0),defaultStateApplied=!0),_this.isApplied(getValue(rule.id))&&(state.transitionDuration=0,newTarget.setState(state),_this.dispatchImmediately(\"ruleapplied\",{rule:rule})))}),newTarget.children&&Iterator_each(newTarget.children.iterator(),function(child){_this.applyRules(child)})},Responsive.prototype.getState=function(rule,target){var stateId=\"responsive-\"+rule.id,tmpId=target.uid+\"_\"+stateId;if(-1===Array_indexOf(this._noStates,tmpId)){if(target.states.hasKey(stateId))return target.states.getKey(stateId);var state=rule.state(target,stateId);return state||this._noStates.push(tmpId),state}},Responsive.prototype.getValue=function(target,property){var value=target.getPropertyValue(property);return!hasValue(value)&&hasValue(target[property])&&(value=target[property]),value},Responsive}(Base_BaseObjectEvents),defaultRules=new List_List;defaultRules.events.on(\"inserted\",function(ev){ev.newValue.id=Registry_registry.getUniqueId()});var ResponsiveBreakpoints=function(){function ResponsiveBreakpoints(){}return ResponsiveBreakpoints.widthXXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXS},ResponsiveBreakpoints.widthXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XS},ResponsiveBreakpoints.widthS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.S},ResponsiveBreakpoints.widthM=function(container){return container.pixelWidth<=ResponsiveBreakpoints.M},ResponsiveBreakpoints.widthL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.L},ResponsiveBreakpoints.widthXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XL},ResponsiveBreakpoints.widthXXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXL},ResponsiveBreakpoints.heightXXS=function(container){return container.pixelHeight<=ResponsiveBreakpoints.XXS},ResponsiveBreakpoints.heightXS=function(container){return container.pixelHeight<=ResponsiveBreakpoints.XS},ResponsiveBreakpoints.heightS=function(container){return container.pixelHeight<=ResponsiveBreakpoints.S},ResponsiveBreakpoints.heightM=function(container){return container.pixelHeight<=ResponsiveBreakpoints.M},ResponsiveBreakpoints.heightL=function(container){return container.pixelHeight<=ResponsiveBreakpoints.L},ResponsiveBreakpoints.heightXL=function(container){return container.pixelHeight<=ResponsiveBreakpoints.XL},ResponsiveBreakpoints.heightXXL=function(container){return container.pixelHeight<=ResponsiveBreakpoints.XXL},ResponsiveBreakpoints.isXXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXS&&container.pixelHeight<=ResponsiveBreakpoints.XXS},ResponsiveBreakpoints.isXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XS&&container.pixelHeight<=ResponsiveBreakpoints.XS},ResponsiveBreakpoints.isS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.S&&container.pixelHeight<=ResponsiveBreakpoints.S},ResponsiveBreakpoints.isM=function(container){return container.pixelWidth<=ResponsiveBreakpoints.M&&container.pixelHeight<=ResponsiveBreakpoints.M},ResponsiveBreakpoints.isL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.L&&container.pixelHeight<=ResponsiveBreakpoints.L},ResponsiveBreakpoints.isXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XL&&container.pixelHeight<=ResponsiveBreakpoints.XL},ResponsiveBreakpoints.isXXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXL&&container.pixelHeight<=ResponsiveBreakpoints.XXL},ResponsiveBreakpoints.maybeXXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXS||container.pixelHeight<=ResponsiveBreakpoints.XXS},ResponsiveBreakpoints.maybeXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XS||container.pixelHeight<=ResponsiveBreakpoints.XS},ResponsiveBreakpoints.maybeS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.S||container.pixelHeight<=ResponsiveBreakpoints.S},ResponsiveBreakpoints.maybeM=function(container){return container.pixelWidth<=ResponsiveBreakpoints.M||container.pixelHeight<=ResponsiveBreakpoints.M},ResponsiveBreakpoints.maybeL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.L||container.pixelHeight<=ResponsiveBreakpoints.L},ResponsiveBreakpoints.maybeXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XL||container.pixelHeight<=ResponsiveBreakpoints.XL},ResponsiveBreakpoints.maybeXXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXL||container.pixelHeight<=ResponsiveBreakpoints.XXL},ResponsiveBreakpoints.XXS=100,ResponsiveBreakpoints.XS=200,ResponsiveBreakpoints.S=300,ResponsiveBreakpoints.M=400,ResponsiveBreakpoints.L=600,ResponsiveBreakpoints.XL=800,ResponsiveBreakpoints.XXL=1e3,ResponsiveBreakpoints}(),DataItem_DataItem=function(_super){function DataItem(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this._disabled=!1,_this.hasProperties=!1,_this.values={},_this.categories={},_this.dates={},_this.locations={},_this.workingLocations={},_this.properties={},_this.sprites=[],_this.isTemplate=!1,_this._index=null,_this._visible=!0,_this._hidden=!1,_this._ignoreMinMax=!1,_this.hasChildren={},_this.isHiding=!1,_this._valueAnimations={},_this._locationAnimations={},_this.className=\"DataItem\",_this.applyTheme(),_this}return __extends(DataItem,_super),Object.defineProperty(DataItem.prototype,\"index\",{get:function(){return this.component&&null!=this._index?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,\"animations\",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Animation_AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,\"visible\",{get:function(){return!this._hidden&&this._visible},set:function(value){value&&(this.hidden=!1),this._visible!=value&&this.setVisibility(value)},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,\"hidden\",{get:function(){return this._hidden},set:function(value){this._hidden!=value&&(this._hidden=value,value?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,\"__disabled\",{get:function(){return this._disabled},set:function(value){this._disabled=value,each(this.sprites,function(sprite){sprite.__disabled=value})},enumerable:!0,configurable:!0}),DataItem.prototype.setVisibility=function(value,noChangeValues){each(this.sprites,function(sprite){sprite.visible=value?sprite.defaultState.properties.visible:!!sprite.hiddenState&&sprite.hiddenState.properties.visible}),this._visible=value,this.events.isEnabled(\"visibilitychanged\")&&this.events.dispatchImmediately(\"visibilitychanged\",{type:\"visibilitychanged\",target:this,visible:value})},DataItem.prototype.show=function(duration,delay,fields){var animation_1,_this=this;if(!this.hidden)return this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer),fields&&each(fields,function(field){animation_1=_this.setWorkingValue(field,_this.values[field].value,duration,delay)}),each(this.sprites,function(sprite){var animation=sprite.show(duration);null==animation||animation.isFinished()||(_this._disposers.push(animation),null!=delay&&delay>0&&animation.delay(delay))}),animation_1},DataItem.prototype.dispose=function(){_super.prototype.dispose.call(this),each(this.sprites,function(sprite){sprite.dispose()}),this.sprites=[]},DataItem.prototype.hide=function(duration,delay,toValue,fields){var _this=this;if(this.isHiding=!0,each(this.sprites,function(sprite){var animation=sprite.hide(duration);null==animation||animation.isFinished()||(_this._disposers.push(animation),null!=delay&&delay>0&&animation.delay(delay))}),isNumber(toValue)&&fields){var animation_2;if(each(fields,function(field){var anim=_this.setWorkingValue(field,toValue,duration,delay);anim&&(animation_2=anim)}),animation_2&&!animation_2.isFinished())return this._hideDisposer=animation_2.events.on(\"animationended\",function(){_this.setVisibility(!1,!0),_this.isHiding=!1}),this._disposers.push(this._hideDisposer),animation_2;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},DataItem.prototype.getDuration=function(duration){if(!isNumber(duration)){var component=this.component;component&&(duration=component.interpolationDuration)}if(null!=duration)return this.adapter.apply(\"duration\",duration)},DataItem.prototype.getValue=function(name,calculated){if(name&&this.component){calculated||(calculated=this.component.dataFields[name+\"Show\"])||(calculated=\"value\");var value=this.values[name][calculated];return this.adapter.isEnabled(\"value\")?this.adapter.apply(\"value\",{value:value,field:name}).value:value}},DataItem.prototype.getWorkingValue=function(name){if(name&&this.component){var realName=this.component.dataFields[name+\"Show\"];return realName||(realName=\"workingValue\"),this.adapter.apply(\"workingValue\",{workingValue:this.values[name][realName],field:name}).workingValue}},DataItem.prototype.getActualWorkingValue=function(name){return this.values[name].workingValue},DataItem.prototype.setValue=function(name,value,duration,delay){var currentValue=this.values[name].value,newDuration=this.getDuration(duration);currentValue!==(value=toNumber(value))&&(this.values[name].value=value,this.events.isEnabled(\"valuechanged\")&&this.events.dispatchImmediately(\"valuechanged\",{type:\"valuechanged\",target:this,property:name}),this.component&&this.component.handleDataItemValueChange(this,name)),this.setWorkingValue(name,value,newDuration,delay)},DataItem.prototype.setCalculatedValue=function(name,value,calculated){this.values[name][calculated]!==value&&isNumber(value)&&(this.values[name][calculated]=value,this.events.isEnabled(\"calculatedvaluechanged\")&&this.events.dispatchImmediately(\"calculatedvaluechanged\",{type:\"calculatedvaluechanged\",target:this,property:name}),this.component&&this.component.handleDataItemCalculatedValueChange(this,name))},DataItem.prototype.setWorkingValue=function(name,value,duration,delay){if(isNumber(this.values[name].value)){var newDuration=this.getDuration(duration),workingValue=this.values[name].workingValue;if(null!=newDuration&&newDuration>0&&isNumber(workingValue)&&this.component){if(workingValue!=value){var animation=this.animate({childObject:this.values[name],property:\"workingValue\",from:workingValue,to:value,dummyData:name},newDuration,this.component.interpolationEasing);return null!=delay&&animation.delay(delay),animation.events.on(\"animationstarted\",this.handleInterpolationProgress,this),animation.events.on(\"animationprogress\",this.handleInterpolationProgress,this),animation.events.on(\"animationended\",this.handleInterpolationProgress,this),this._valueAnimations[name]=animation,animation}(valueAnimation=this._valueAnimations[name])&&valueAnimation.stop(),this.values[name].workingValue=value}else{var valueAnimation;(valueAnimation=this._valueAnimations[name])&&valueAnimation.stop(),this.values[name].workingValue=value,this.events.isEnabled(\"workingvaluechanged\")&&this.events.dispatchImmediately(\"workingvaluechanged\",{type:\"workingvaluechanged\",target:this,property:name}),this.component&&this.component.handleDataItemWorkingValueChange(this,name)}}},DataItem.prototype.setLocation=function(name,value,duration,delay){this.locations[name]!==value&&(this.locations[name]=value,this.events.isEnabled(\"locationchanged\")&&this.events.dispatchImmediately(\"locationchanged\",{type:\"locationchanged\",target:this,property:name}),this.component&&this.component.handleDataItemValueChange(this,name),this.setWorkingLocation(name,value,duration,delay))},DataItem.prototype.setWorkingLocation=function(name,value,duration,delay){var newDuration=this.getDuration(duration),workingLocation=this.workingLocations[name];if(null!=newDuration&&newDuration>0&&isNumber(workingLocation)&&this.component){if(workingLocation!=value){var animation=this.animate({childObject:this.workingLocations,property:name,from:workingLocation,to:value,dummyData:name},newDuration,this.component.interpolationEasing);return null!=delay&&animation.delay(delay),animation.events.on(\"animationstarted\",this.handleInterpolationProgress,this),animation.events.on(\"animationprogress\",this.handleInterpolationProgress,this),animation.events.on(\"animationended\",this.handleInterpolationProgress,this),this._locationAnimations[name]=animation,animation}(locationAnimation=this._locationAnimations[name])&&locationAnimation.stop(),this.workingLocations[name]=value}else{var locationAnimation;(locationAnimation=this._locationAnimations[name])&&locationAnimation.stop(),this.workingLocations[name]=value,this.events.isEnabled(\"workinglocationchanged\")&&this.events.dispatchImmediately(\"workinglocationchanged\",{type:\"workinglocationchanged\",target:this,property:name}),this.component&&this.component.handleDataItemWorkingLocationChange(this,name)}},DataItem.prototype.setDate=function(name,date,duration){!isDate(date)&&this.component&&(date=this.component.dateFormatter.parse(date)),this.dates[name]!==date&&(this.dates[name]=date,this.setValue(name,date.getTime(),duration))},DataItem.prototype.getDate=function(name){return this.adapter.apply(\"date\",{date:this.dates[name],field:name}).date},DataItem.prototype.setProperty=function(name,value){this.properties[name]!==value&&(this.hasProperties=!0,this.properties[name]=value,this.events.isEnabled(\"propertychanged\")&&this.events.dispatchImmediately(\"propertychanged\",{type:\"propertychanged\",target:this,property:name,value:value}),this.component&&this.component.handleDataItemPropertyChange(this,name))},DataItem.prototype.setCategory=function(name,value){isString(value)||(value=castString(value)),this.categories[name]!==value&&(this.categories[name]=value)},DataItem.prototype.clone=function(cloneId){var dataItem=_super.prototype.clone.call(this,cloneId);return dataItem.copyFrom(this),dataItem},DataItem.prototype.copyFrom=function(source){var _this=this;_super.prototype.copyFrom.call(this,source),source.dataContext&&(this.dataContext=function(source,target){return Object_each(source,function(key,value){target[key]=value}),target}(source.dataContext,{})),Utils_copyProperties(source.locations,this.locations),Utils_copyProperties(source.properties,this.properties),Utils_copyProperties(source.categories,this.categories),Utils_copyProperties(source.values,this.values),Utils_copyProperties(source.dates,this.dates),Object_each(source.values,function(name,value){_this.values[name]=Object.assign({},value)}),this.adapter.copyFrom(source.adapter),this.events.copyFrom(source.events),this.component=source.component},Object.defineProperty(DataItem.prototype,\"opacity\",{set:function(value){each(this.sprites,function(sprite){sprite.opacity=value})},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,\"ignoreMinMax\",{get:function(){return this._ignoreMinMax},set:function(value){this._ignoreMinMax=value,this.events.isEnabled(\"propertychanged\")&&this.events.dispatchImmediately(\"propertychanged\",{type:\"propertychanged\",target:this,property:\"ignoreMinMax\",value:value}),this.component&&this.component.handleDataItemPropertyChange(this,\"ignoreMinMax\")},enumerable:!0,configurable:!0}),DataItem.prototype.animate=function(animationOptions,duration,easing){return new Animation_Animation(this,animationOptions,duration,easing).start()},DataItem.prototype.handleInterpolationProgress=function(event){var animationOptions=event.target.animationOptions[0];animationOptions&&(this.events.isEnabled(\"workingvaluechanged\")&&this.events.dispatchImmediately(\"workingvaluechanged\",{type:\"workingvaluechanged\",target:this,property:animationOptions.dummyData}),this.component&&this.component.handleDataItemWorkingValueChange(this,animationOptions.dummyData))},DataItem.prototype.hasValue=function(fields){for(var i=0,len=fields.length;i<len;i++){var values=this.values[fields[i]];if(!values||!hasValue(values.value))return!1}return!0},Object.defineProperty(DataItem.prototype,\"depth\",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,\"dataContext\",{get:function(){return this._dataContext},set:function(value){this._dataContext=value},enumerable:!0,configurable:!0}),DataItem.prototype.addSprite=function(sprite){sprite.dataItem&&sprite.dataItem!=this&&Array_remove(sprite.dataItem.sprites,sprite),this.visible||sprite.hide(0),this.isHiding&&sprite.hide(),this.sprites.push(sprite),sprite.dataItem=this},DataItem}(Base_BaseObjectEvents),Component_Component=function(_super){function Component(){var _this=_super.call(this)||this;return _this.dataFields={},_this._dataSources={},_this._parseDataFrom=0,_this._dataDisposers=[],_this._start=0,_this._end=1,_this.skipRangeEvent=!1,_this.rangeChangeDuration=0,_this.rangeChangeEasing=cubicOut,_this.parsingStepDuration=50,_this.dataInvalid=!1,_this.rawDataInvalid=!1,_this.dataRangeInvalid=!1,_this.dataItemsInvalid=!1,_this.interpolationDuration=0,_this.interpolationEasing=cubicOut,_this.sequencedInterpolation=!0,_this.sequencedInterpolationDelay=0,_this.dataValidationProgress=0,_this._addAllDataItems=!0,_this.className=\"Component\",_this.minZoomCount=1,_this._dataItems=new SortedList_OrderedListTemplate(_this.createDataItem()),_this._dataItems.events.on(\"inserted\",_this.handleDataItemAdded,_this,!1),_this._dataItems.events.on(\"removed\",_this.handleDataItemRemoved,_this,!1),_this._disposers.push(new List_ListDisposer(_this._dataItems)),_this._disposers.push(_this._dataItems.template),_this.invalidateData(),_this.dataUsers.events.on(\"inserted\",_this.handleDataUserAdded,_this,!1),_this._disposers.push(new Disposer_MultiDisposer(_this._dataDisposers)),_this._start=0,_this._end=1,_this.maxZoomDeclination=1,_this.applyTheme(),_this}return __extends(Component,_super),Component.prototype.createDataItem=function(){return new DataItem_DataItem},Component.prototype.handleDataUserAdded=function(event){event.newValue.dataProvider=this},Component.prototype.handleDataItemValueChange=function(dataItem,name){this.dataItemsInvalid||this.invalidateDataItems()},Component.prototype.handleDataItemWorkingValueChange=function(dataItem,name){},Component.prototype.handleDataItemWorkingLocationChange=function(dataItem,name){},Component.prototype.handleDataItemCalculatedValueChange=function(dataItem,name){},Component.prototype.handleDataItemPropertyChange=function(dataItem,name){},Component.prototype.processDataItem=function(dataItem,dataContext){var _this=this;if(dataItem){dataContext||(dataContext={}),dataItem.dataContext=dataContext;var hasSomeValues_1=!1;Object_each(this.dataFields,function(key,fieldValue){var fieldName=key,value=dataContext[fieldValue];if(_this.adapter.isEnabled(\"dataContextValue\")&&(value=_this.adapter.apply(\"dataContextValue\",{field:fieldName,value:value,dataItem:dataItem}).value),dataItem.hasChildren[fieldName]){if(hasValue(value)){hasSomeValues_1=!0;var template=_this.createDataItem();template.copyFrom(_this.dataItems.template);var children=new SortedList_OrderedListTemplate(template);children.events.on(\"inserted\",_this.handleDataItemAdded,_this,!1),children.events.on(\"removed\",_this.handleDataItemRemoved,_this,!1),_this._dataDisposers.push(new List_ListDisposer(children));for(var count=value.length,i=0;i<count;i++){var rawDataItem=value[i],childDataItem=children.create();childDataItem.parent=dataItem,_this.processDataItem(childDataItem,rawDataItem)}dataItem[fieldName]=children}}else hasValue(value)&&(hasSomeValues_1=!0,dataItem[fieldName]=value)}),Object_each(this.propertyFields,function(key,fieldValue){var f=key,value=dataContext[fieldValue];hasValue(value)&&(hasSomeValues_1=!0,dataItem.setProperty(f,value))}),this._addAllDataItems||hasSomeValues_1||this.dataItems.remove(dataItem)}},Component.prototype.updateDataItem=function(dataItem){var _this=this;if(dataItem){var dataContext_1=dataItem.dataContext;Object_each(this.dataFields,function(key,fieldValue){var fieldName=key,value=dataContext_1[fieldValue];value=_this.adapter.apply(\"dataContextValue\",{field:fieldName,value:value,dataItem:dataItem}).value,dataItem.hasChildren[fieldName]?value&&Iterator_each(dataItem[fieldName].iterator(),function(child){_this.updateDataItem(child)}):hasValue(value)&&(dataItem[fieldName]=value)}),Object_each(this.propertyFields,function(key,fieldValue){var f=key,value=dataContext_1[fieldValue];hasValue(value)&&dataItem.setProperty(f,value)})}},Component.prototype.validateDataElements=function(){for(var count=this.endIndex,i=this.startIndex;i<count;i++){var dataItem=this.dataItems.getIndex(i);dataItem&&this.validateDataElement(dataItem)}},Component.prototype.validate=function(){this.validateDataElements(),_super.prototype.validate.call(this)},Component.prototype.validateDataElement=function(dataItem){},Component.prototype.addData=function(rawDataItem,removeCount){var _this=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),rawDataItem instanceof Array?each(rawDataItem,function(dataItem){_this.data.push(dataItem)}):this.data.push(rawDataItem),this.inited)this.removeData(removeCount);else if(isNumber(removeCount))for(;removeCount>0;)this.data.shift(),removeCount--;this.invalidateData()},Component.prototype.removeData=function(count){if(isNumber(count))for(;count>0;){var dataItem=this.dataItems.getIndex(0);dataItem&&this.dataItems.remove(dataItem),this.dataUsers.each(function(dataUser){var dataItem=dataUser.dataItems.getIndex(0);dataItem&&dataUser.dataItems.remove(dataItem)}),this.data.shift(),this._parseDataFrom--,count--}},Component.prototype.invalidateData=function(){this.disabled||this.isTemplate||(Registry_registry.addToInvalidComponents(this),system.requestFrame(),this.dataInvalid=!0,Iterator_each(this.dataUsers.iterator(),function(x){x.invalidateDataItems()}))},Component.prototype.invalidateDataUsers=function(){Iterator_each(this.dataUsers.iterator(),function(x){x.invalidate()})},Component.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(move(Registry_registry.invalidDataItems,this),system.requestFrame(),this.dataItemsInvalid=!0,Iterator_each(this.dataUsers.iterator(),function(x){x.invalidateDataItems()}))},Component.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,move(Registry_registry.invalidDataRange,this),system.requestFrame())},Component.prototype.validateDataRange=function(){Array_remove(Registry_registry.invalidDataRange,this),this.dataRangeInvalid=!1,this.startIndex==this._prevStartIndex&&this.endIndex==this._prevEndIndex||(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately(\"datarangechanged\"))},Component.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},Component.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},Component.prototype.appendDataItems=function(){for(var count=this.endIndex,i=this.startIndex;i<count;i++)(dataItem=this.dataItems.getIndex(i))&&(dataItem.__disabled=!1);for(i=0;i<this.startIndex;i++)(dataItem=this.dataItems.getIndex(i)).__disabled=!0;for(i=this.endIndex;i<this.dataItems.length;i++){var dataItem;(dataItem=this.dataItems.getIndex(i)).__disabled=!0}},Component.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(move(Registry_registry.invalidRawDatas,this),system.requestFrame(),this.rawDataInvalid=!0,Iterator_each(this.dataUsers.iterator(),function(x){x.invalidateRawData()}))},Component.prototype.validateRawData=function(){var _this=this;Array_remove(Registry_registry.invalidRawDatas,this),Iterator_each(this.dataItems.iterator(),function(dataItem){dataItem&&_this.updateDataItem(dataItem)})},Component.prototype.dispose=function(){var _this=this;this.dataItems.template.clones.clear(),Object_each(this._dataSources,function(key,source){_this.removeDispose(source)}),_super.prototype.dispose.call(this)},Component.prototype.disposeData=function(){this.dataItems.template.clones.clear(),each(this._dataDisposers,function(x){x.dispose()}),Iterator_each(this.dataUsers.iterator(),function(dataUser){dataUser.disposeData()}),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.dataItems.clear(),this.dataItems.template.clones.clear()},Component.prototype.getDataItem=function(dataContext){return this.dataItems.create()},Component.prototype.validateData=function(){if(this.dispatchImmediately(\"beforedatavalidated\"),this.dataInvalid=!1,Registry_registry.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem&&(this._data=this.dataItem.dataContext[this.dataFields.data]),0===this._parseDataFrom&&this.data.length>0&&this.disposeData(),this.data.length>0){var preloader=this.preloader;Iterator_each(this.dataUsers.iterator(),function(dataUser){dataUser._startIndex=void 0,dataUser._endIndex=void 0});for(var counter=0,startTime=Date.now(),i=this._parseDataFrom,n=this.data.length,_loop_1=function(){var rawDataItem=this_1.data[i],dataItem=this_1.getDataItem(rawDataItem);if(this_1.processDataItem(dataItem,rawDataItem),this_1.dataUsers.each(function(dataUser){if(0==dataUser.data.length){var dataUserDataItem=dataUser.getDataItem(rawDataItem);dataUser.processDataItem(dataUserDataItem,rawDataItem)}}),100==++counter&&(counter=0,Date.now()-startTime>this_1.parsingStepDuration&&i<this_1.data.length-10))return this_1._parseDataFrom=i+1,preloader&&(i/this_1.data.length>.5&&!preloader.visible||(preloader.progress=i/this_1.data.length)),this_1.dataValidationProgress=i/this_1.data.length,i=this_1.data.length,this_1.invalidateData(),{value:void 0}},this_1=this;i<n;i++){var state_1=_loop_1();if(\"object\"==typeof state_1)return state_1.value}preloader&&(preloader.progress=1),this.dataUsers.each(function(dataUser){dataUser.hidden&&dataUser.hide(0)})}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch(\"datavalidated\")}},Component.prototype.validateDataItems=function(){Array_remove(Registry_registry.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch(\"dataitemsvalidated\")},Object.defineProperty(Component.prototype,\"data\",{get:function(){return this._data||(this._data=[]),this.adapter.apply(\"data\",this._data)},set:function(value){this.setData(value)},enumerable:!0,configurable:!0}),Component.prototype.setData=function(value){this._parseDataFrom=0,this.disposeData(),this._data=value,value&&value.length>0&&this.invalidateData()},Component.prototype.getDataSource=function(property){var _this=this;return hasValue(this._dataSources[property])||(this._dataSources[property]=new DataSource_DataSource,this._dataSources[property].component=this,this.setDataSourceEvents(this._dataSources[property],property),this._dataSources[property].adapter.add(\"dateFields\",function(val){return _this.dataSourceDateFields(val)}),this._dataSources[property].adapter.add(\"numberFields\",function(val){return _this.dataSourceNumberFields(val)}),this.events.on(\"inited\",function(){_this.loadData(property)},this,!1)),this._dataSources[property]},Object.defineProperty(Component.prototype,\"dataSource\",{get:function(){return this._dataSources.data||this.getDataSource(\"data\"),this._dataSources.data},set:function(value){var _this=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=value,this._dataSources.data.component=this,this.events.on(\"inited\",function(){_this.loadData(\"data\")},this,!1),this.setDataSourceEvents(value,\"data\")},enumerable:!0,configurable:!0}),Component.prototype.loadData=function(property){this._dataSources[property].load()},Component.prototype.dataSourceDateFields=function(value){return value},Component.prototype.dataSourceNumberFields=function(value){return value},Component.prototype.populateDataSourceFields=function(list,dataFields,targetList){return each(targetList,function(value){dataFields[value]&&-1===Array_indexOf(list,dataFields[value])&&list.push(dataFields[value])}),list},Component.prototype.setDataSourceEvents=function(ds,property){var _this=this;ds.events.on(\"started\",function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=0)},void 0,!1),ds.events.on(\"loadstarted\",function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=.25)},void 0,!1),ds.events.on(\"loadended\",function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=.5)},void 0,!1),ds.events.on(\"parseended\",function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=.75)},void 0,!1),ds.events.on(\"ended\",function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=1)},void 0,!1),ds.events.on(\"error\",function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=1),_this.openModal(ev.message)},void 0,!1),property&&ds.events.on(\"done\",function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=1),\"data\"!=property||Type_isArray(ev.data)||(ev.data=[ev.data]),ds.incremental&&\"data\"==property&&_this.data.length?_this.addData(ev.data,ds.keepCount?ev.data.length:0):ds.updateCurrentData&&\"data\"==property&&_this.data.length?(each(_this.data,function(item,index){hasValue(ev.data[index])&&Object_each(item,function(key,val){hasValue(ev.data[index][key])&&(item[key]=ev.data[index][key])})}),_this.invalidateRawData()):_this[property]=ev.data})},Object.defineProperty(Component.prototype,\"responsive\",{get:function(){return this._responsive||(this._responsive=new Responsive_Responsive,this._responsive.component=this),this._responsive},set:function(value){this._responsive=value,this._responsive.component=this},enumerable:!0,configurable:!0}),Component.prototype.zoom=function(range,skipRangeEvent,instantly,declination){var _this=this;void 0===skipRangeEvent&&(skipRangeEvent=!1),void 0===instantly&&(instantly=!1);var start=range.start,end=range.end,priority=range.priority;if(isNumber(declination)||(declination=this.maxZoomDeclination),!isNumber(start)||!isNumber(end))return{start:this.start,end:this.end};if(this._finalStart!=start||this._finalEnd!=end){var maxZoomFactor=this.maxZoomFactor/this.minZoomCount;if(\"start\"==priority?(1/(end-start)>maxZoomFactor&&(end=start+1/maxZoomFactor),end>1&&end-start<1/maxZoomFactor&&(start=end-1/maxZoomFactor)):(1/(end-start)>maxZoomFactor&&(start=end-1/maxZoomFactor),start<0&&end-start<1/maxZoomFactor&&(end=start+1/maxZoomFactor)),start<-declination&&(start=-declination),1/(end-start)>maxZoomFactor&&(end=start+1/maxZoomFactor),end>1+declination&&(end=1+declination),1/(end-start)>maxZoomFactor&&(start=end-1/maxZoomFactor),this._finalEnd=end,this._finalStart=start,this.skipRangeEvent=skipRangeEvent,this.rangeChangeDuration>0&&!instantly){var rangeChangeAnimation=this.rangeChangeAnimation;if(rangeChangeAnimation&&rangeChangeAnimation.progress<1){var options=rangeChangeAnimation.animationOptions;if(options.length>1&&options[0].to==start&&options[1].to==end)return{start:start,end:end}}this.dispatchImmediately(\"rangechangestarted\"),this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),rangeChangeAnimation=this.animate([{property:\"start\",to:start},{property:\"end\",to:end}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=rangeChangeAnimation,rangeChangeAnimation&&!rangeChangeAnimation.isFinished()?rangeChangeAnimation.events.on(\"animationended\",function(){_this.dispatchImmediately(\"rangechangeended\")}):this.dispatchImmediately(\"rangechangeended\")}else this.start=start,this.end=end}return{start:start,end:end}},Component.prototype.zoomToIndexes=function(startIndex,endIndex,skipRangeEvent,instantly){isNumber(startIndex)&&isNumber(endIndex)&&this.zoom({start:startIndex/this.dataItems.length,end:endIndex/this.dataItems.length},skipRangeEvent,instantly)},Object.defineProperty(Component.prototype,\"zoomFactor\",{get:function(){return fitToRange(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,\"maxZoomFactor\",{get:function(){return this.getPropertyValue(\"maxZoomFactor\")},set:function(value){this.setPropertyValue(\"maxZoomFactor\",value)&&(1==value&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,\"maxZoomDeclination\",{get:function(){return this.getPropertyValue(\"maxZoomDeclination\")},set:function(value){this.setPropertyValue(\"maxZoomDeclination\",value)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,\"startIndex\",{get:function(){return isNumber(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(value){this._startIndex=fitToRange(Math.round(value),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),Component.prototype.indexToPosition=function(index){return index/this.dataItems.length},Object.defineProperty(Component.prototype,\"endIndex\",{get:function(){return isNumber(this._endIndex)||(this._endIndex=this.dataItems.length),this._endIndex},set:function(value){this._endIndex=fitToRange(Math.round(value),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,\"start\",{get:function(){return this.adapter.apply(\"start\",this._start)},set:function(value){if(this._start!=value){this._start=value;var startIndex=Math.max(0,Math.floor(this.dataItems.length*value)||0);this._startIndex=Math.min(startIndex,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately(\"startchanged\"),this.dispatch(\"startendchanged\")}},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,\"end\",{get:function(){return this.adapter.apply(\"end\",this._end)},set:function(value){this._end!=value&&(this._end=value,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*value)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately(\"endchanged\"),this.dispatch(\"startendchanged\"))},enumerable:!0,configurable:!0}),Component.prototype.removeFromInvalids=function(){_super.prototype.removeFromInvalids.call(this),Registry_registry.removeFromInvalidComponents(this),Array_remove(Registry_registry.invalidDataItems,this),Array_remove(Registry_registry.invalidDataRange,this),Array_remove(Registry_registry.invalidRawDatas,this)},Object.defineProperty(Component.prototype,\"dataItems\",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),Component.prototype._updateDataItemIndexes=function(startIndex){for(var dataItems=this.dataItems.values,length=dataItems.length,i=startIndex;i<length;++i)dataItems[i]._index=i},Component.prototype.handleDataItemAdded=function(event){event.newValue.component=this,this._updateDataItemIndexes(event.index),this.dataItemsInvalid||this.invalidateDataItems()},Component.prototype.handleDataItemRemoved=function(event){this._updateDataItemIndexes(event.index),this.dataItemsInvalid||this.invalidateDataItems()},Object.defineProperty(Component.prototype,\"dataMethods\",{get:function(){return this._dataMethods||(this._dataMethods=new Dictionary_Dictionary),this._dataMethods},enumerable:!0,configurable:!0}),Component.prototype.bindDataField=function(field,value){this.dataFields[field]=value,this.invalidateDataRange()},Component.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},Component.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(Component.prototype,\"dataUsers\",{get:function(){var _this=this;return this._dataUsers||(this._dataUsers=new List_List,this._disposers.push(new Disposer(function(){Iterator_each(_this._dataUsers.iterator(),function(x){x.dispose()})}))),this._dataUsers},enumerable:!0,configurable:!0}),Component.prototype.clone=function(){var component=_super.prototype.clone.call(this);return component.dataFields=Utils_copyProperties(this.dataFields,{}),component},Component.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.data=source.data,this.sequencedInterpolation=source.sequencedInterpolation,this.sequencedInterpolationDelay=source.sequencedInterpolationDelay,this.interpolationDuration=source.interpolationDuration,this.interpolationEasing=source.interpolationEasing},Component.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},Component.prototype.getExporting=function(){var _export=_super.prototype.getExporting.call(this);return _export.adapter.has(\"data\",this._exportData,null,this)||(_export.adapter.add(\"data\",this._exportData,null,this),this.events.on(\"datavalidated\",function(ev){_export.menu&&_export.menu.invalidate(),_export.handleDataUpdated()})),_export},Component.prototype._exportData=function(arg){return arg.data=this.data,arg},Component.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return changed&&this.invalidateData(),changed},Component.prototype.setShowOnInit=function(value){value!=this.getPropertyValue(\"showOnInit\")&&(!value||this.inited||this.hidden?this._showOnInitDisposer2&&this._showOnInitDisposer2.dispose():(this._showOnInitDisposer2=this.events.once(\"dataitemsvalidated\",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2))),_super.prototype.setShowOnInit.call(this,value)},Component.prototype.setBaseId=function(value){value!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,Registry_registry.removeFromInvalidComponents(this),this._baseId=value,this.invalidateData()),_super.prototype.setBaseId.call(this,value)},Object.defineProperty(Component.prototype,\"minZoomCount\",{get:function(){return this.getPropertyValue(\"minZoomCount\")},set:function(value){this.setPropertyValue(\"minZoomCount\",value)},enumerable:!0,configurable:!0}),Component.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},Component}(Container_Container);Registry_registry.registeredClasses.Component=Component_Component;var Label_Label=function(_super){function Label(){var _this=_super.call(this)||this;return _this.isOversized=!1,_this.className=\"Label\",_this.fill=(new InterfaceColorSet_InterfaceColorSet).getFor(\"text\"),_this.wrap=!1,_this.truncate=!1,_this.fullWords=!0,_this.ellipsis=\"...\",_this.textAlign=\"start\",_this.textValign=\"top\",_this.layout=\"absolute\",_this.baseLineRatio=-.27,_this.adapter.add(\"readerTitle\",function(arg){return arg||(arg=_this.populateString(plainText(isNotEmpty(_this.html)?_this.html:_this.text))),arg}),_this.events.on(\"maxsizechanged\",function(){_this.inited&&_this.handleMaxSize()},_this,!1),_this.events.once(\"validated\",_this.handleValidate,_this,!1),_this.applyTheme(),_this}return __extends(Label,_super),Label.prototype.afterDraw=function(){_super.prototype.afterDraw.call(this),this.validatePosition()},Label.prototype.setPaper=function(paper){var changed=_super.prototype.setPaper.call(this,paper);return changed&&this.hardInvalidate(),changed},Label.prototype.handleValidate=function(){!this.currentText&&!this.text||0!=this.bbox.width&&0!=this.bbox.height||Registry_registry.events.once(\"exitframe\",this.hardInvalidate,this)},Label.prototype.handleMaxSize=function(){this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized?this.invalidate():this.alignSVGText()},Label.prototype.arrange=function(){},Label.prototype.updateCurrentText=function(){var output,text;isNotEmpty(this.html)&&this.paper.supportsForeignObject()?(output=\"html\",text=this.html):(output=\"svg\",text=this.text),hasValue(text)&&\"\"!==text&&(text=this.populateString(text,this.dataItem));var changed=(text=this.adapter.apply(\"html\"==output?\"htmlOutput\":\"textOutput\",text))!=this.currentText||output!=this._currentFormat;return this.currentText=text,this._currentFormat=output,changed},Label.prototype.hardInvalidate=function(){this._prevStatus=\"\",this.invalidate()},Label.prototype.getLineBBox=function(lineInfo){var element=lineInfo&&lineInfo.element,node=element&&element.node;node&&node.parentNode&&(lineInfo.bbox=element.getBBox())},Label.prototype.draw=function(){_super.prototype.draw.call(this);var oldW=this.bbox.width,oldH=this.bbox.height,topParent=this.topParent;if(!topParent||topParent.maxWidth&&topParent.maxHeight){var maxWidth=Math_max(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),maxHeight=Math_max(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),status=maxHeight+\",\"+maxWidth+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(this.updateCurrentText()||!this.inited||this._prevStatus!=status){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var output=this._currentFormat,text=this.currentText;if(hasValue(text)&&\"\"!=text){var lines=text.split(\"\\n\");this._prevStatus=status,this.textAlign=this.textAlign;var display=this.group.getAttr(\"display\");if(\"none\"==display&&this.group.removeAttr(\"display\"),this.textPathElement&&this.textPathElement.removeChildren(),\"svg\"===output){this.element.removeAttr(\"display\");var group=this.element;this.resetBBox();for(var currentHeight=0,currentFormat=\"\",i=0;i<lines.length;i++){var line=lines[i];if(\"\"!=line){var chunks=getTextFormatter().chunk(line,null,this.ignoreFormatting),currentLineHeight=0,firstChunk=!0,skipTextChunks=!1,lineInfo=this.getLineInfo(i);lineInfo?lineInfo.element.textContent=\"\":(lineInfo={element:this.getSVGLineElement(\"\",0),complex:!1},group.add(lineInfo.element)),lineInfo.element.removeAttr(\"display\"),lineInfo.element.removeChildren(),this.textPathElement&&lineInfo.element.add(this.textPathElement);for(var x=0;x<chunks.length;x++){x&&(lineInfo.complex=!0);var chunk=chunks[x];if(\"format\"===chunk.type)currentFormat=chunk.text;else{if(skipTextChunks)continue;lineInfo.text=chunk.text,lineInfo.style=getTextFormatter().translateStyleShortcuts(currentFormat);var tspan=this.getSvgElement(lineInfo.text,lineInfo.style);if(this.textPathElement?this.textPathElement.add(tspan):lineInfo.element.add(tspan),this.getLineBBox(lineInfo),lineInfo.bbox.width=Math.ceil(lineInfo.bbox.width),currentLineHeight<lineInfo.bbox.height&&(currentLineHeight=lineInfo.bbox.height),(this.wrap||this.truncate)&&lineInfo.bbox.width>maxWidth){this.isOversized=!0;var lineText=lineInfo.element.textContent,avgCharWidth=lineInfo.bbox.width/lineText.length,excessChars=Math_min(Math.ceil((lineInfo.bbox.width-maxWidth)/avgCharWidth),lineText.length);if(this.truncate){var addEllipsis=!1,node_1=lineInfo.element.node;if(node_1&&node_1.childNodes)for(var e=lineInfo.element.node.childNodes.length-1;e>=0;e--){var node_2=lineInfo.element.node.childNodes[e];if(addEllipsis&&lineInfo.bbox.width<=maxWidth&&(node_2.textContent+=\" \"+this.ellipsis,lineInfo.bbox=lineInfo.element.getBBox(),lineInfo.bbox.width=Math.floor(lineInfo.bbox.width),lineInfo.bbox.width<=maxWidth))break;addEllipsis=!1;var elementText=node_2.textContent;for(lineText=lineInfo.element.textContent,excessChars=Math_min(Math.ceil((lineInfo.bbox.width-maxWidth)/avgCharWidth),lineText.length);lineInfo.bbox.width>maxWidth&&excessChars<=lineText.length&&excessChars>0;)(maxChars=Math_max(elementText.length-excessChars-this.ellipsis.length,1))<=1&&(excessChars=0,e>0&&(addEllipsis=!0,lineInfo.element.node.removeChild(node_2))),(elementText=truncateWithEllipsis(elementText,maxChars,this.ellipsis,this.fullWords,this.rtl)).length>maxChars&&this.fullWords&&(elementText=truncateWithEllipsis(elementText,maxChars,this.ellipsis,!1,this.rtl)),node_2.textContent=elementText,lineInfo.bbox=lineInfo.element.getBBox(),lineInfo.bbox.width=Math.floor(lineInfo.bbox.width),excessChars=Math.ceil(1.1*excessChars);skipTextChunks=!0}}else if(lineInfo.element.node){for(var lastNode=lineInfo.element.node.lastChild,splitLines=void 0;lineInfo.bbox.width>maxWidth&&excessChars<=lineText.length&&excessChars>0;){var maxChars=Math_max(chunk.text.length-excessChars,1);firstChunk?splitLines=splitTextByCharCount(chunk.text,maxChars,!0,this.rtl):((splitLines=splitTextByCharCount(chunk.text,maxChars,!0,this.rtl))[0].length>maxChars||1===maxChars)&&(lineInfo.element.node.removeChild(lastNode),excessChars=0),excessChars>0&&(lastNode.textContent=getTextFormatter().cleanUp(trim(splitLines.shift()))),lineInfo.bbox=lineInfo.element.getBBox(),lineInfo.bbox.width=Math.floor(lineInfo.bbox.width),excessChars=Math.ceil(1.1*excessChars)}if(splitLines.length>0){var restOfLine=\"\";hasValue(splitLines)&&(restOfLine+=this.rtl?splitLines.join(\"\")+currentFormat:currentFormat+splitLines.join(\"\").replace(/([\\[\\]]{1})/g,\"$1$1\"));for(var c=x+1;c<chunks.length;c++)restOfLine+=\"value\"==chunks[c].type?chunks[c].text.replace(/([\\[\\]]{1})/g,\"$1$1\"):chunks[c].text;lines.splice(i+1,0,restOfLine)}skipTextChunks=!0}}this.bbox.width<lineInfo.bbox.width&&(this.bbox.width=lineInfo.bbox.width),this.bbox.height=currentHeight+currentLineHeight,lineInfo.element.attr(this.textPathElement?{dy:-this.paddingBottom.toString()}:{x:\"0\",y:currentHeight+currentLineHeight,dy:Math_round(this.baseLineRatio*currentLineHeight,3).toString()}),firstChunk=!1}}var node=lineInfo.element.node;node&&(lastNode=node.lastChild)&&(lastNode.textContent=this.rtl?lastNode.textContent.replace(/^[\\s\\uFEFF\\xA0]+/g,\"\"):rtrim(lastNode.textContent)),currentHeight+=currentLineHeight,this.addLineInfo(lineInfo,i)}else{var tempElement=this.getSVGLineElement(\"\",0);tempElement.add(this.getSvgElement(\".\",getTextFormatter().translateStyleShortcuts(currentFormat))),group.add(tempElement);var offset=Math.ceil(tempElement.getBBox().height);offset>0&&(currentHeight+=offset),group.removeElement(tempElement)}}this.maybeHideOversized(),this._measuredWidth=Math_max(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=Math_max(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,oldH==this._measuredHeight&&oldW==this._measuredWidth||this.dispatch(\"transformed\"),this.hideUnused(lines.length)}else{this.element.removeAttr(\"display\"),this.resetBBox(),(group=this.element).removeChildren();var fo=this.paper.foreignObject();group.add(fo);var lineElement=this.getHTMLLineElement(text);fo.node.appendChild(lineElement),lineElement.style.display=\"inline-block\";var clientWidth=lineElement.clientWidth,clientHeight=lineElement.clientHeight;lineElement.style.display=\"block\",this._bbox={x:0,y:0,width:clientWidth,height:clientHeight},fo.attr({width:clientWidth,height:clientHeight}),this.maybeHideOversized(),this._measuredWidth=Math_max(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=Math_max(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(lineElement.style.overflow=\"hidden\"),(clientWidth>maxWidth||clientHeight>maxHeight)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),\"none\"==display&&this.group.attr({display:\"none\"}),this.pathElement&&this.paper.appendDef(this.pathElement)}else this.element.attr({display:\"none\"})}}else topParent.events.once(\"maxsizechanged\",this.hardInvalidate,this,!1)},Label.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:\"none\"}),this.isOversized=!0):(this.element.removeAttr(\"display\"),this.isOversized=!1))},Label.prototype.alignSVGText=function(){var group=this.element,children=group.node.children||group.node.childNodes;if(children&&(!children||0!=children.length))for(var width=this._measuredWidth,height=this._measuredHeight,i=children.length-1;i>=0;i--){var node=children[i];if(node.setAttribute(\"text-anchor\",this.textAlign),this.textPathElement)node.removeAttribute(\"x\"),node.removeAttribute(\"y\");else{switch(this.textAlign){case\"middle\":node.setAttribute(\"x\",(width/2).toString()+\"px\");break;case\"end\":this.rtl||node.setAttribute(\"x\",width.toString());break;default:this.rtl?node.setAttribute(\"x\",width.toString()):node.removeAttribute(\"text-anchor\")}var y=toNumber(node.getAttribute(\"y\"));switch(this.textValign){case\"middle\":node.setAttribute(\"y\",(y+(height-this.bbox.height)/2).toString());break;case\"bottom\":node.setAttribute(\"y\",(y+height-this.bbox.height).toString());break;default:node.setAttribute(\"y\",y.toString())}}}},Label.prototype.getSVGLineElement=function(text,y){var element=this.paper.addGroup(\"text\");return element.textContent=text,element.attr({x:\"0\"}),hasValue(y)&&element.attr({y:y.toString()}),(this.truncate||this.wrap)&&element.attr({overflow:\"hidden\"}),this.rtl&&element.attr({direction:\"rtl\"}),element},Label.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},Label.prototype.getHTMLLineElement=function(text){var div=document.createElement(\"div\");switch(div.innerHTML=text,this.textAlign){case\"middle\":div.style.textAlign=\"center\";break;case\"end\":div.style.textAlign=\"right\"}return this.wrap?div.style.wordWrap=\"break-word\":div.style.whiteSpace=\"nowrap\",this.rtl&&(div.style.direction=\"rtl\"),hasValue(this.fill)&&(div.style.color=this.fill.toString()),div},Label.prototype.setStyles=function(){var group=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?group.addStyle({webkitUserSelect:\"none\",msUserSelect:\"none\"}):this.selectable&&(group.removeStyle(\"webkitUserSelect\"),group.removeStyle(\"msUserSelect\"))},Label.prototype.hideUnused=function(index){this.initLineCache();var lines=this.getCache(\"lineInfo\");if(lines.length>=index)for(var i=index;i<lines.length;i++){var line=lines[i];line&&line.element&&line.element.attr({display:\"none\"})}},Object.defineProperty(Label.prototype,\"text\",{get:function(){return this.getPropertyValue(\"text\")},set:function(value){this.setPropertyValue(\"text\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"path\",{get:function(){return this.getPropertyValue(\"path\")},set:function(value){this.setPropertyValue(\"path\",value,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add(\"path\"),this.pathElement.attr({d:value}),this.pathElement.attr({id:\"text-path-\"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup(\"textPath\"),this.textPathElement.attrNS(XLINK,\"xlink:href\",\"#text-path-\"+this.uid),this.textPathElement.attr({path:value}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"locationOnPath\",{get:function(){return this.getPropertyValue(\"locationOnPath\")},set:function(value){this.setPropertyValue(\"locationOnPath\",value),this.textPathElement&&this.textPathElement.attr({startOffset:100*value+\"%\"})},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"baseLineRatio\",{get:function(){return this.getPropertyValue(\"baseLineRatio\")},set:function(value){this.setPropertyValue(\"baseLineRatio\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"wrap\",{get:function(){return this.getPropertyValue(\"wrap\")},set:function(value){this.resetBBox(),this.setPropertyValue(\"wrap\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"truncate\",{get:function(){return this.getPropertyValue(\"truncate\")},set:function(value){this.resetBBox(),this.setPropertyValue(\"truncate\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"fullWords\",{get:function(){return this.getPropertyValue(\"fullWords\")},set:function(value){this.setPropertyValue(\"fullWords\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"ellipsis\",{get:function(){return this.getPropertyValue(\"ellipsis\")},set:function(value){this.setPropertyValue(\"ellipsis\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"selectable\",{get:function(){return this.getPropertyValue(\"selectable\")},set:function(value){this.setPropertyValue(\"selectable\",value,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"textAlign\",{get:function(){return this.getPropertyValue(\"textAlign\")},set:function(value){this.setPropertyValue(\"textAlign\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"textValign\",{get:function(){return this.getPropertyValue(\"textValign\")},set:function(value){this.setPropertyValue(\"textValign\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"html\",{get:function(){return this.getPropertyValue(\"html\")},set:function(value){this.setPropertyValue(\"html\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"hideOversized\",{get:function(){return this.getPropertyValue(\"hideOversized\")},set:function(value){this.setPropertyValue(\"hideOversized\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"ignoreFormatting\",{get:function(){return this.getPropertyValue(\"ignoreFormatting\")},set:function(value){this.setPropertyValue(\"ignoreFormatting\",value,!0)},enumerable:!0,configurable:!0}),Label.prototype.measureElement=function(){},Label.prototype.getLineInfo=function(index){this.initLineCache();var lines=this.getCache(\"lineInfo\");return lines.length>index?lines[index]:void 0},Label.prototype.addLineInfo=function(line,index){this.initLineCache(),this.getCache(\"lineInfo\")[index]=line},Label.prototype.initLineCache=function(){hasValue(this.getCache(\"lineInfo\"))||this.setCache(\"lineInfo\",[],0)},Label.prototype.setDataItem=function(dataItem){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),dataItem&&(this._sourceDataItemEvents=new Disposer_MultiDisposer([dataItem.events.on(\"valuechanged\",this.invalidate,this,!1),dataItem.events.on(\"workingvaluechanged\",this.invalidate,this,!1),dataItem.events.on(\"calculatedvaluechanged\",this.invalidate,this,!1),dataItem.events.on(\"propertychanged\",this.invalidate,this,!1)])),_super.prototype.setDataItem.call(this,dataItem)},Object.defineProperty(Label.prototype,\"availableWidth\",{get:function(){return hasValue(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,\"availableHeight\",{get:function(){return hasValue(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),Label.prototype.getSvgElement=function(text,style){var element=this.paper.add(\"tspan\");return element.textContent=text,style&&element.node.setAttribute(\"style\",style),element},Label.prototype.deepInvalidate=function(){_super.prototype.deepInvalidate.call(this),this.hardInvalidate()},Label}(Container_Container);Registry_registry.registeredClasses.Label=Label_Label,defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(target,stateId){if(target instanceof Label_Label&&target.parent&&target.parent.isBaseSprite){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var RoundedRectangle_RoundedRectangle=function(_super){function RoundedRectangle(){var _this=_super.call(this)||this;return _this.className=\"RoundedRectangle\",_this.element=_this.paper.add(\"path\"),_this.cornerRadius(3,3,3,3),_this.applyTheme(),_this}return __extends(RoundedRectangle,_super),RoundedRectangle.prototype.draw=function(){_super.prototype.draw.call(this);var w=this.innerWidth,h=this.innerHeight;if(isNumber(w)&&isNumber(h)){var minSide=Math_min(w,h)/2,cornerRadiusTopLeft=relativeToValue(this.cornerRadiusTopLeft,minSide),cornerRadiusTopRight=relativeToValue(this.cornerRadiusTopRight,minSide),cornerRadiusBottomRight=relativeToValue(this.cornerRadiusBottomRight,minSide),cornerRadiusBottomLeft=relativeToValue(this.cornerRadiusBottomLeft,minSide),maxcr=Math_min(Math.abs(w/2),Math.abs(h/2)),crtl=fitToRange(cornerRadiusTopLeft,0,maxcr),crtr=fitToRange(cornerRadiusTopRight,0,maxcr),crbr=fitToRange(cornerRadiusBottomRight,0,maxcr),crbl=fitToRange(cornerRadiusBottomLeft,0,maxcr);this.path=\"M\"+crtl+\",0 L\"+(w-crtr)+\",0 a\"+crtr+\",\"+crtr+\" 0 0 1 \"+crtr+\",\"+crtr+\" L\"+w+\",\"+(h-crbr)+\" a\"+crbr+\",\"+crbr+\" 0 0 1 -\"+crbr+\",\"+crbr+\" L\"+crbl+\",\"+h+\" a\"+crbl+\",\"+crbl+\" 0 0 1 -\"+crbl+\",-\"+crbl+\" L0,\"+crtl+\" a\"+crtl+\",\"+crtl+\" 0 0 1 \"+crtl+\",-\"+crtl+\" Z\"}},RoundedRectangle.prototype.cornerRadius=function(tl,tr,bl,br){this.cornerRadiusTopLeft=tl,this.cornerRadiusTopRight=tr,this.cornerRadiusBottomLeft=bl,this.cornerRadiusBottomRight=br},Object.defineProperty(RoundedRectangle.prototype,\"cornerRadiusTopLeft\",{get:function(){return this.getPropertyValue(\"cornerRadiusTopLeft\")},set:function(value){this.setPercentProperty(\"cornerRadiusTopLeft\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RoundedRectangle.prototype,\"cornerRadiusTopRight\",{get:function(){return this.getPropertyValue(\"cornerRadiusTopRight\")},set:function(value){this.setPercentProperty(\"cornerRadiusTopRight\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RoundedRectangle.prototype,\"cornerRadiusBottomRight\",{get:function(){return this.getPropertyValue(\"cornerRadiusBottomRight\")},set:function(value){this.setPercentProperty(\"cornerRadiusBottomRight\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RoundedRectangle.prototype,\"cornerRadiusBottomLeft\",{get:function(){return this.getPropertyValue(\"cornerRadiusBottomLeft\")},set:function(value){this.setPercentProperty(\"cornerRadiusBottomLeft\",value,!0)},enumerable:!0,configurable:!0}),RoundedRectangle.prototype.measureElement=function(){},Object.defineProperty(RoundedRectangle.prototype,\"bbox\",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),RoundedRectangle}(Sprite_Sprite);Registry_registry.registeredClasses.RoundedRectangle=RoundedRectangle_RoundedRectangle;var Button_Button=function(_super){function Button(){var _this=_super.call(this)||this;_this.className=\"Button\",_this.tooltipY=0,_this.iconPosition=\"left\",_this.layout=\"horizontal\",_this.contentAlign=\"center\",_this.contentValign=\"middle\",_this.padding(8,16,8,16);var interfaceColors=new InterfaceColorSet_InterfaceColorSet,background=_this.background;background.fill=interfaceColors.getFor(\"secondaryButton\"),background.stroke=interfaceColors.getFor(\"secondaryButtonStroke\"),background.fillOpacity=1,background.strokeOpacity=1,background.cornerRadius(3,3,3,3),_this.label=new Label_Label,_this.label.fill=interfaceColors.getFor(\"secondaryButtonText\");var hoverState=background.states.create(\"hover\");hoverState.properties.fillOpacity=1,hoverState.properties.fill=interfaceColors.getFor(\"secondaryButtonHover\");var downState=background.states.create(\"down\");return downState.transitionDuration=100,downState.properties.fill=interfaceColors.getFor(\"secondaryButtonDown\"),downState.properties.fillOpacity=1,_this.role=\"button\",_this.focusable=!0,_this.applyTheme(),_this}return __extends(Button,_super),Object.defineProperty(Button.prototype,\"icon\",{get:function(){return this.getPropertyValue(\"icon\")},set:function(icon){var currentIcon=this.getPropertyValue(\"icon\");currentIcon&&(currentIcon.parent=void 0),icon&&(this.setPropertyValue(\"icon\",icon),icon.parent=this,icon.interactionsEnabled=!1,this.iconPosition=this.iconPosition,this._disposers.push(icon))},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,\"iconPosition\",{get:function(){return this.getPropertyValue(\"iconPosition\")},set:function(position){this.setPropertyValue(\"iconPosition\",position),this.icon&&(\"left\"==position?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,\"label\",{get:function(){return this._label},set:function(label){this._label&&this.removeDispose(this._label),this._label=label,label&&(label.parent=this,label.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),Button.prototype.createBackground=function(){return new RoundedRectangle_RoundedRectangle},Button}(Container_Container);Registry_registry.registeredClasses.Button=Button_Button;var Circle_Circle=function(_super){function Circle(){var _this=_super.call(this)||this;return _this.className=\"Circle\",_this.element=_this.paper.add(\"circle\"),_this.setPercentProperty(\"radius\",Percent_percent(100)),_this.setPropertyValue(\"horizontalCenter\",\"middle\"),_this.setPropertyValue(\"verticalCenter\",\"middle\"),_this.applyTheme(),_this}return __extends(Circle,_super),Circle.prototype.draw=function(){_super.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(Circle.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Circle.prototype,\"pixelRadius\",{get:function(){return relativeToValue(this.radius,Math_min(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Circle.prototype.measureElement=function(){var pixelRadius=this.pixelRadius;this._bbox={x:-pixelRadius,y:-pixelRadius,width:2*pixelRadius,height:2*pixelRadius}},Circle}(Sprite_Sprite);Registry_registry.registeredClasses.Circle=Circle_Circle;var Ellipse_Ellipse=function(_super){function Ellipse(){var _this=_super.call(this)||this;return _this.className=\"Ellipse\",_this.element=_this.paper.add(\"ellipse\"),_this.applyTheme(),_this}return __extends(Ellipse,_super),Ellipse.prototype.draw=function(){_super.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(Ellipse.prototype,\"radiusY\",{get:function(){return this.innerHeight/2},set:function(value){this.height=2*value,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(Ellipse.prototype,\"radius\",{get:function(){return this.innerWidth/2},set:function(value){this.width=2*value,this.invalidate()},enumerable:!0,configurable:!0}),Ellipse}(Circle_Circle);Registry_registry.registeredClasses.Ellipse=Ellipse_Ellipse;var Image_Image=function(_super){function Image(){var _this=_super.call(this)||this;return _this.className=\"Image\",_this.element=_this.paper.add(\"image\"),_this.applyTheme(),_this.width=50,_this.height=50,_this}return __extends(Image,_super),Image.prototype.draw=function(){if(_super.prototype.draw.call(this),this.href){var width=this.innerWidth,height=this.innerHeight;isNumber(this.widthRatio)&&(this.width=width=height*this.widthRatio),isNumber(this.heightRatio)&&(this.height=height=width*this.heightRatio),this.element.attr({width:width,height:height}),this.element.attrNS(XLINK,\"xlink:href\",this.href)}},Object.defineProperty(Image.prototype,\"href\",{get:function(){return this.getPropertyValue(\"href\")},set:function(value){this.setPropertyValue(\"href\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Image.prototype,\"widthRatio\",{get:function(){return this.getPropertyValue(\"widthRatio\")},set:function(value){this.setPropertyValue(\"widthRatio\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Image.prototype,\"heightRatio\",{get:function(){return this.getPropertyValue(\"heightRatio\")},set:function(value){this.setPropertyValue(\"heightRatio\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Image.prototype,\"bbox\",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),Image}(Sprite_Sprite);Registry_registry.registeredClasses.Image=Image_Image;var Line_Line=function(_super){function Line(){var _this=_super.call(this)||this;return _this.className=\"Line\",_this.element=_this.paper.add(\"line\"),_this.fill=Color_color(),_this.x1=0,_this.y1=0,_this.applyTheme(),_this}return __extends(Line,_super),Line.prototype.draw=function(){_super.prototype.draw.call(this),this.pixelPerfect=this.x1==this.x2||this.y1==this.y2,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(Line.prototype,\"x1\",{get:function(){return this.getPropertyValue(\"x1\")},set:function(value){isNumber(value)||(value=0);var delta=0;this.pixelPerfect&&this.stroke instanceof LinearGradient_LinearGradient&&(delta=1e-5),this.setPropertyValue(\"x1\",value,!0),this.element.attr({x1:value+delta})},enumerable:!0,configurable:!0}),Object.defineProperty(Line.prototype,\"x2\",{get:function(){var value=this.getPropertyValue(\"x2\");return isNumber(value)||(value=this.pixelWidth),value},set:function(value){isNumber(value)||(value=0),this.setPropertyValue(\"x2\",value,!0),this.element.attr({x2:value})},enumerable:!0,configurable:!0}),Object.defineProperty(Line.prototype,\"y1\",{get:function(){return this.getPropertyValue(\"y1\")},set:function(value){isNumber(value)||(value=0);var delta=0;this.pixelPerfect&&this.stroke instanceof LinearGradient_LinearGradient&&(delta=1e-5),this.setPropertyValue(\"y1\",value,!0),this.element.attr({y1:value+delta})},enumerable:!0,configurable:!0}),Object.defineProperty(Line.prototype,\"y2\",{get:function(){var value=this.getPropertyValue(\"y2\");return isNumber(value)||(value=this.pixelHeight),value},set:function(value){isNumber(value)||(value=0),this.setPropertyValue(\"y2\",value,!0),this.element.attr({y2:value})},enumerable:!0,configurable:!0}),Line.prototype.positionToPoint=function(position){var point1={x:this.x1,y:this.y1},point2={x:this.x2,y:this.y2},point=getMidPoint(point1,point2,position),angle=getAngle(point1,point2);return{x:point.x,y:point.y,angle:angle}},Line}(Sprite_Sprite);Registry_registry.registeredClasses.Line=Line_Line;var PointedRectangle_PointedRectangle=function(_super){function PointedRectangle(){var _this=_super.call(this)||this;return _this.className=\"PointedRectangle\",_this.element=_this.paper.add(\"path\"),_this.cornerRadius=6,_this.applyTheme(),_this}return __extends(PointedRectangle,_super),PointedRectangle.prototype.draw=function(){_super.prototype.draw.call(this);var cr=this.cornerRadius,w=this.innerWidth,h=this.innerHeight;if(w>0&&h>0){var stemX,stemY,lineT,lineR,lineB,lineL,x=this.pointerX,y=this.pointerY,bwh=this.pointerBaseWidth/2,maxcr=Math_min(w/2,h/2),crtl=fitToRange(cr,0,maxcr),crtr=fitToRange(cr,0,maxcr),crbr=fitToRange(cr,0,maxcr),crbl=fitToRange(cr,0,maxcr),d1=(x-0)*(h-0)-(y-0)*(w-0),d2=(x-0)*(0-h)-(y-h)*(w-0);lineT=d1>0&&d2>0?\"M\"+crtl+\",0 L\"+((stemX=fitToRange(x,crtl+bwh,w-bwh-crtr))-bwh)+\",0 L\"+x+\",\"+(y=fitToRange(y,-1/0,0))+\" L\"+(stemX+bwh)+\",0 L\"+(w-crtr)+\",0\":\"M\"+crtl+\",0 L\"+(w-crtr)+\",0\",lineB=d1<0&&d2<0?\" L\"+(w-crbr)+\",\"+h+\" L\"+((stemX=fitToRange(x,crbl+bwh,w-bwh-crbr))+bwh)+\",\"+h+\" L\"+x+\",\"+(y=fitToRange(y,h,1/0))+\" L\"+(stemX-bwh)+\",\"+h+\" L\"+crbl+\",\"+h:\" L\"+crbl+\",\"+h,lineL=d1<0&&d2>0?\" L0,\"+(h-crbl)+\" L0,\"+((stemY=fitToRange(y,crtl+bwh,h-crbl-bwh))+bwh)+\" L\"+(x=fitToRange(x,-1/0,0))+\",\"+y+\" L0,\"+(stemY-bwh)+\" L0,\"+crtl:\" L0,\"+crtl,lineR=d1>0&&d2<0?\" L\"+w+\",\"+crtr+\" L\"+w+\",\"+((stemY=fitToRange(y,crtr+bwh,h-bwh-crbr))-bwh)+\" L\"+(x=fitToRange(x,w,1/0))+\",\"+y+\" L\"+w+\",\"+(stemY+bwh)+\" L\"+w+\",\"+(h-crbr):\" L\"+w+\",\"+(h-crbr),this.path=lineT+\" a\"+crtr+\",\"+crtr+\" 0 0 1 \"+crtr+\",\"+crtr+lineR+\" a\"+crbr+\",\"+crbr+\" 0 0 1 -\"+crbr+\",\"+crbr+lineB+\" a\"+crbl+\",\"+crbl+\" 0 0 1 -\"+crbl+\",-\"+crbl+lineL+\" a\"+crtl+\",\"+crtl+\" 0 0 1 \"+crtl+\",-\"+crtl}},Object.defineProperty(PointedRectangle.prototype,\"cornerRadius\",{get:function(){return this.getPropertyValue(\"cornerRadius\")},set:function(value){this.setPropertyValue(\"cornerRadius\",value,!0)},enumerable:!0,configurable:!0}),PointedRectangle}(function(_super){function PointedShape(){var _this=_super.call(this)||this;return _this.className=\"PointedShape\",_this.pointerBaseWidth=15,_this.pointerLength=10,_this.pointerY=0,_this.pointerX=0,_this.applyTheme(),_this}return __extends(PointedShape,_super),PointedShape.prototype.draw=function(){_super.prototype.draw.call(this),isNumber(this.pointerX)||(this.pointerX=this.pixelWidth/2),isNumber(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(PointedShape.prototype,\"pointerBaseWidth\",{get:function(){return this.getPropertyValue(\"pointerBaseWidth\")},set:function(value){this.setPropertyValue(\"pointerBaseWidth\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PointedShape.prototype,\"pointerLength\",{get:function(){return this.getPropertyValue(\"pointerLength\")},set:function(value){this.setPropertyValue(\"pointerLength\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PointedShape.prototype,\"pointerX\",{get:function(){return this.getPropertyValue(\"pointerX\")},set:function(value){this.setPropertyValue(\"pointerX\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PointedShape.prototype,\"pointerY\",{get:function(){return this.getPropertyValue(\"pointerY\")},set:function(value){this.setPropertyValue(\"pointerY\",value,!0)},enumerable:!0,configurable:!0}),PointedShape}(Sprite_Sprite));function polyline(points){var path=lineTo(points[0]),prevPoint={x:0,y:0},minStep=Options_options.minPolylineStep;isNumber(minStep)||(minStep=.5);for(var i=0,len=points.length;i<len;i++){var point=points[i];getDistance(point,prevPoint)>minStep&&(path+=lineTo(point),prevPoint=point)}return path}function moveTo(point){return\" M\"+Math_round(point.x,4)+\",\"+Math_round(point.y,4)+\" \"}function lineTo(point){return\" L\"+Math_round(point.x,4)+\",\"+Math_round(point.y,4)+\" \"}function quadraticCurveTo(point,controlPoint){return\" Q\"+Math_round(controlPoint.x,4)+\",\"+Math_round(controlPoint.y,4)+\" \"+Math_round(point.x,4)+\",\"+Math_round(point.y,4)}function cubicCurveTo(point,controlPointA,controlPointB){return\" C\"+Math_round(controlPointA.x,4)+\",\"+Math_round(controlPointA.y,4)+\" \"+Math_round(controlPointB.x,4)+\",\"+Math_round(controlPointB.y,4)+\" \"+Math_round(point.x,4)+\",\"+Math_round(point.y,4)}function arcTo(startAngle,arc,radius,radiusY){if(0==arc)return\"\";isNumber(radiusY)||(radiusY=radius);var path=\"\",c=\",\",segments=Math.ceil(Math.abs(arc)/180),l=1;arc<0&&(l=0);var pax=0,pay=0,cx=-Math_cos(startAngle)*radius,cy=-Math_sin(startAngle)*radiusY;if(arc<.5&&radius>3e3)return lineTo({x:ax=Math_round(Math_cos(endAngle=startAngle+arc)*radius,4),y:ay=Math_round(Math_sin(endAngle)*radiusY,4)});for(var i=0;i<segments;i++){var endAngle,ax,ay;path+=\" a\"+radius+c+radiusY+c+0+c+0+c+l+c+(ax=Math_round(Math_cos(endAngle=startAngle+arc/segments*(i+1))*radius+cx-pax,4))+c+(ay=Math_round(Math_sin(endAngle)*radiusY+cy-pay,4)),pax=ax,pay=ay}return path}function Path_arc(startAngle,arc,radius,innerRadius,radiusY,cornerRadius,innerCornerRadius){if(0==arc)return\"\";if(isNumber(innerRadius)||(innerRadius=0),0==radius&&innerRadius<=0)return\"\";if(radius<innerRadius){var temp=radius;radius=innerRadius,innerRadius=temp,isNumber(radiusY)&&(radiusY=radiusY/innerRadius*radius)}360==(arc=Math_min(arc,360))&&(cornerRadius=0,innerCornerRadius=0);var endAngle=startAngle+arc,crSin=Math_sin(Math_min(arc,45)/2),innerRadiusY=(radiusY=isNumber(radiusY)?radiusY:radius)/radius*innerRadius,cornerRadiusY=radiusY/radius*(cornerRadius=cornerRadius||0),innerCornerRadiusY=radiusY/radius*(innerCornerRadius=isNumber(innerCornerRadius)?innerCornerRadius:cornerRadius);cornerRadius=fitToRange(cornerRadius,0,(radius-innerRadius)/2),cornerRadiusY=fitToRange(cornerRadiusY,0,(radiusY-innerRadiusY)/2),innerCornerRadius=fitToRange(innerCornerRadius,0,(radius-innerRadius)/2),innerCornerRadiusY=fitToRange(innerCornerRadiusY,0,(radiusY-innerRadiusY)/2),cornerRadius=Math_round(fitToRange(cornerRadius,0,radius*crSin),4),cornerRadiusY=Math_round(fitToRange(cornerRadiusY,0,radiusY*crSin),4),innerCornerRadius=Math_round(fitToRange(innerCornerRadius,0,innerRadius*crSin),4),innerCornerRadiusY=Math_round(fitToRange(innerCornerRadiusY,0,innerRadiusY*crSin),4);var crAngle=Math.asin(cornerRadius/radius/2)*DEGREES*2,crAngleY=Math.asin(cornerRadiusY/radiusY/2)*DEGREES*2;innerRadius<innerCornerRadius&&(innerRadius=innerCornerRadius),innerRadiusY<innerCornerRadiusY&&(innerRadiusY=innerCornerRadiusY);var crInnerAngle=Math.asin(innerCornerRadius/innerRadius/2)*DEGREES*2,crInnerAngleY=Math.asin(innerCornerRadiusY/innerRadiusY/2)*DEGREES*2;isNumber(crInnerAngle)||(crInnerAngle=0),isNumber(crInnerAngleY)||(crInnerAngleY=0);var middleAngle=startAngle+arc/2,mPoint={x:Math_round(Math_cos(middleAngle)*innerRadius,4),y:Math_sin(middleAngle)*innerRadiusY},a0={x:Math_cos(startAngle)*(innerRadius+innerCornerRadius),y:Math_sin(startAngle)*(innerRadiusY+innerCornerRadiusY)},b0={x:Math_cos(startAngle)*(radius-cornerRadius),y:Math_sin(startAngle)*(radiusY-cornerRadiusY)},c0={x:Math_cos(endAngle)*(radius-cornerRadius),y:Math_sin(endAngle)*(radiusY-cornerRadiusY)},d0={x:Math_cos(endAngle)*(innerRadius+innerCornerRadius),y:Math_sin(endAngle)*(innerRadiusY+innerCornerRadiusY)},b1={x:Math_cos(startAngle+crAngle)*radius,y:Math_sin(startAngle+crAngleY)*radiusY},d1={x:Math_cos(endAngle-crInnerAngle)*innerRadius,y:Math_sin(endAngle-crInnerAngleY)*innerRadiusY};innerCornerRadius+=innerCornerRadius*Math_sin(crInnerAngle/2),innerCornerRadiusY+=innerCornerRadiusY*Math_sin(crInnerAngleY/2),crInnerAngle>(endAngle-startAngle)/2&&(d1=mPoint);var path=\"\";return 360==arc?path=moveTo(b0):(path=moveTo(a0),path+=lineTo(b0),path+=arcToPoint(b1,cornerRadius,cornerRadiusY,!0)),path+=arcTo(startAngle+crAngle,arc-2*crAngle,radius,radiusY),isNumber(innerRadius)&&0!=innerRadius?(360==arc&&0==cornerRadius?path+=moveTo(d0):(path+=arcToPoint(c0,cornerRadius,cornerRadiusY,!0),path+=lineTo(d0),path+=arcToPoint(d1,innerCornerRadius,innerCornerRadiusY,!0)),path+=arcTo(endAngle-crInnerAngle,-(arc-2*crInnerAngle),innerRadius,innerRadiusY),(arc<360||cornerRadius>0)&&(path+=arcToPoint(a0,innerCornerRadius,innerCornerRadiusY,!0)),path+=lineTo(a0)):(path+=arcToPoint(c0,cornerRadius,cornerRadiusY,!0),arc<360&&(path+=lineTo(a0))),path}function arcToPoint(point,radius,radiusY,sweepFlag,largeArcFlag,xAxisRotation){if(0==radius)return\"\";var c=\",\";return\" A\"+radius+c+radiusY+c+(xAxisRotation=xAxisRotation||0)+c+ +(largeArcFlag=Boolean(largeArcFlag))+c+ +(sweepFlag=Boolean(sweepFlag))+c+Math_round(point.x,4)+c+Math_round(point.y,4)}function Path_rectangle(width,height,x,y){return isNumber(x)||(x=0),isNumber(y)||(y=0),moveTo({x:x,y:y})+lineTo({x:x+width,y:y})+lineTo({x:x+width,y:y+height})+lineTo({x:x,y:y+height})+\" Z\"}function rectToPath(rect,ccw){var c=\",\",L=\" L\";return ccw?\"M\"+rect.x+c+rect.y+L+rect.x+c+(rect.y+rect.height)+L+(rect.x+rect.width)+c+(rect.y+rect.height)+L+(rect.x+rect.width)+c+rect.y+L+rect.x+c+rect.y:\"M\"+rect.x+c+rect.y+L+(rect.x+rect.width)+c+rect.y+L+(rect.x+rect.width)+c+(rect.y+rect.height)+L+rect.x+c+(rect.y+rect.height)+L+rect.x+c+rect.y}var Polyline_Polyline=function(_super){function Polyline(){var _this=_super.call(this)||this;return _this._distance=0,_this.className=\"Polyline\",_this.element=_this.paper.add(\"path\"),_this.shapeRendering=\"auto\",_this.fill=Color_color(),_this.strokeOpacity=1,_this.applyTheme(),_this}return __extends(Polyline,_super),Polyline.prototype.makePath=function(){this._distance=0;var segments=this.segments;if(segments&&segments.length>0){for(var path=\"\",i=0,len=segments.length;i<len;i++){var points=segments[i];if(points.length>0){path+=moveTo(points[0]);for(var p=1;p<points.length;p++){var point=points[p];path+=lineTo(point),this._distance+=getDistance(points[p-1],point)}}}this.path=path}this._realSegments=segments},Object.defineProperty(Polyline.prototype,\"segments\",{get:function(){return this.getPropertyValue(\"segments\")},set:function(segments){this.setPropertyValue(\"segments\",segments),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(Polyline.prototype,\"distance\",{get:function(){return this._distance},enumerable:!0,configurable:!0}),Polyline.prototype.positionToPoint=function(position){var deltaAngle=0;position<0&&(position=Math.abs(position),deltaAngle=180);var segments=this._realSegments;if(segments){for(var totalDistance=this.distance,currentDistance=0,positionA=0,positionB=0,pointA=void 0,pointB=void 0,s=0;s<segments.length;s++){var points=segments[s];if(points.length>1){for(var p=1;p<points.length;p++)if(positionA=currentDistance/totalDistance,positionB=(currentDistance+=getDistance(pointA=points[p-1],pointB=points[p]))/totalDistance,positionA<=position&&positionB>position){s=segments.length;break}}else 1==points.length&&(pointA=points[0],pointB=points[0],positionA=0,positionB=1)}if(pointA&&pointB){var midPoint=getMidPoint(pointA,pointB,(position-positionA)/(positionB-positionA));return{x:midPoint.x,y:midPoint.y,angle:deltaAngle+getAngle(pointA,pointB)}}}return{x:0,y:0,angle:0}},Polyline}(Sprite_Sprite);Registry_registry.registeredClasses.Polyline=Polyline_Polyline;var Polyarc_Polyarc=function(_super){function Polyarc(){var _this=_super.call(this)||this;return _this.className=\"Polyarc\",_this.controlPointDistance=.5,_this.controlPointPosition=.5,_this.applyTheme(),_this}return __extends(Polyarc,_super),Polyarc.prototype.makePath=function(){this._distance=0;var segments=this.segments;if(segments&&segments.length>0){var path=\"\";this._realSegments=[];for(var i=0,len=segments.length;i<len;i++){var points=segments[i],realPoints=[];if(this._realSegments.push(realPoints),points.length>0){path+=moveTo(points[0]);for(var p=1;p<points.length;p++){var pointA=points[p-1],pointB=points[p],distanceAB=getDistance(pointB,pointA),cpDistance=distanceAB*this.controlPointDistance,controlPointPosition=this.controlPointPosition,angle=-getAngle(pointA,pointB),controlPoint1={x:pointA.x+(pointB.x-pointA.x)*controlPointPosition*.5-cpDistance*Math_sin(angle),y:pointA.y+(pointB.y-pointA.y)*controlPointPosition*.5-cpDistance*Math_cos(angle)},controlPoint2={x:pointA.x+(pointB.x-pointA.x)*controlPointPosition*1.5-cpDistance*Math_sin(angle),y:pointA.y+(pointB.y-pointA.y)*controlPointPosition*1.5-cpDistance*Math_cos(angle)};path+=cubicCurveTo(pointB,controlPoint1,controlPoint2);var stepCount=Math.ceil(distanceAB),prevPoint=pointA;if(stepCount>0)for(var i_1=0;i_1<=stepCount;i_1++){var point=getPointOnCubicCurve(pointA,pointB,controlPoint1,controlPoint2,i_1/stepCount);realPoints.push(point),this._distance+=getDistance(prevPoint,point),prevPoint=point}else realPoints.push(pointA)}}}this.path=path}},Object.defineProperty(Polyarc.prototype,\"controlPointPosition\",{get:function(){return this.getPropertyValue(\"controlPointPosition\")},set:function(value){this.setPropertyValue(\"controlPointPosition\",value),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(Polyarc.prototype,\"controlPointDistance\",{get:function(){return this.getPropertyValue(\"controlPointDistance\")},set:function(value){this.setPropertyValue(\"controlPointDistance\",value),this.makePath()},enumerable:!0,configurable:!0}),Polyarc}(Polyline_Polyline);Registry_registry.registeredClasses.Polyarc=Polyarc_Polyarc;var Morpher_Morpher=function(_super){function Morpher(morphable){var _this=_super.call(this)||this;return _this._bboxes=[],_this.morphDuration=800,_this.morphEasing=cubicOut,_this.morphToSingle=!0,_this.scaleRatio=1,_this.className=\"Morpher\",_this.morphable=morphable,_this.applyTheme(),_this}return __extends(Morpher,_super),Morpher.prototype.morphToPolygon=function(toPoints,duration,easing){var points=this.morphable.currentPoints;if(points&&toPoints){this.sortPoints(points),this.sortPoints(toPoints),this._morphFromPointsReal=[],this._morphToPointsReal=[],hasValue(duration)||(duration=this.morphDuration),hasValue(easing)||(easing=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(toPoints,points),this._morphToPointsReal=this.normalizePoints(points,toPoints),this.morphable.currentPoints=this._morphFromPointsReal;var animation=new Animation_Animation(this,{property:\"morphProgress\",from:0,to:1},duration,easing);return this._disposers.push(animation),animation.start(),animation}},Morpher.prototype.normalizePoints=function(pointsA,pointsB){for(var i=0,len=pointsA.length;i<len;i++){var surfaceA=pointsA[i][0],holeA=pointsA[i][1],bboxA=getValue(getBBox(surfaceA)),middleX=bboxA.x+bboxA.width,middleY=bboxA.y+bboxA.height;if(pointsB[i]||(pointsB[i]=[]),surfaceA&&!pointsB[i][0]&&(pointsB[i][0]=[{x:middleX,y:middleY},{x:middleX,y:middleY}]),pointsB[i][0]){pointsB[i][0]=this.addPoints(pointsB[i][0],surfaceA.length);for(var distance=1/0,splitAt=0,a=0;a<pointsB[i][0].length;a++){var newDistance=getDistance(pointsB[i][0][a],surfaceA[0]);newDistance<distance&&(splitAt=a,distance=newDistance)}var partA=pointsB[i][0].slice(0,splitAt),partB=pointsB[i][0].slice(splitAt);pointsB[i][0]=partB.concat(partA)}holeA&&(pointsB[i][1]||(pointsB[i][1]=[{x:middleX,y:middleY},{x:middleX,y:middleY}]),pointsB[i][1]=this.addPoints(pointsB[i][1],holeA.length))}return pointsB},Morpher.prototype.sortPoints=function(points){points.sort(function(a,b){var bbox1=getValue(getBBox(a[0])),bbox2=getValue(getBBox(b[0]));return bbox1.width*bbox1.height>bbox2.width*bbox2.height?-1:1});for(var bboxes=[],i=0,len=points.length;i<len;i++){var surface=points[i][0];surface&&bboxes.push(getValue(getBBox(surface)))}return getCommonRectangle(bboxes)},Morpher.prototype.morphToCircle=function(radius,duration,easing){var points=this.morphable.points,commonBBox=this.sortPoints(points);this._morphFromPointsReal=[],this._morphToPointsReal=[],hasValue(duration)||(duration=this.morphDuration),hasValue(easing)||(easing=this.morphEasing);for(var i=0,len=points.length;i<len;i++){var surface=points[i][0],hole=points[i][1];if(this._morphFromPointsReal[i]=[],this._morphToPointsReal[i]=[],surface){var toPoints=surface,fromPoints=surface,bbox=getValue(getBBox(fromPoints));this.morphToSingle&&(bbox=getValue(commonBBox));var middleX=bbox.x+bbox.width/2,middleY=bbox.y+bbox.height/2,realRadius=radius;isNumber(realRadius)||(realRadius=Math.min(bbox.width/2,bbox.height/2)),toPoints=[];var startAngle=getAngle({x:middleX,y:middleY},surface[0]),count=100;surface.length>count&&(count=surface.length);for(var angle=360/((count=(fromPoints=this.addPoints(surface,count)).length)-1),a=0;a<count;a++){var realAngle=angle*a+startAngle,pointOnCircle={x:middleX+realRadius*Math_cos(realAngle),y:middleY+realRadius*Math_sin(realAngle)};toPoints[a]=pointOnCircle}if(hole&&hole.length>0)for(var i_1=0,hlen=hole.length;i_1<hlen;i_1++)toPoints.push({x:middleX,y:middleY});this._morphFromPointsReal[i][0]=fromPoints,this._morphToPointsReal[i][0]=toPoints}}this.morphable.currentPoints=this._morphFromPointsReal;var animation=new Animation_Animation(this,{property:\"morphProgress\",from:0,to:1},duration,easing);return this._disposers.push(animation),animation.start(),animation},Morpher.prototype.addPoints=function(points,mustHaveCount){for(var addToSegmentCount=Math.round(mustHaveCount/points.length),newPoints=[],i=0,len=points.length;i<len;i++){var point1,point0=points[i];point1=i==points.length-1?points[0]:points[i+1],newPoints.push(point0);for(var p=1;p<addToSegmentCount;p++){var percent=p/addToSegmentCount;newPoints.push({x:point0.x+(point1.x-point0.x)*percent,y:point0.y+(point1.y-point0.y)*percent})}newPoints.length+points.length-i==mustHaveCount&&(addToSegmentCount=0)}if(newPoints.length<mustHaveCount&&points.length>0){var lastPoint=points[points.length-1];for(p=newPoints.length;p<mustHaveCount;p++)newPoints.push({x:lastPoint.x,y:lastPoint.y})}return newPoints},Morpher.prototype.morphToRectangle=function(width,height,duration,easing){var points=this.morphable.points;this.sortPoints(points),this._morphFromPointsReal=[],this._morphToPointsReal=[],hasValue(duration)||(duration=this.morphDuration),hasValue(easing)||(easing=this.morphEasing);for(var i=0,len=points.length;i<len;i++){var surface=points[i][0],hole=points[i][1];if(this._morphFromPointsReal[i]=[],this._morphToPointsReal[i]=[],surface){var toPoints=surface,fromPoints=surface,bbox=this._bboxes[i],x=bbox.x,y=bbox.y,realWidth=width,realHeight=height;if(isNumber(realWidth)||(realWidth=bbox.width),isNumber(realHeight)||(realHeight=bbox.height),toPoints=this.addPoints(toPoints=[{x:x,y:y},{x:x+realWidth,y:y},{x:x+realWidth,y:y+realHeight},{x:x,y:y+realHeight}],surface.length),surface.length<4)for(var i_2=surface.length;i_2<4;i_2++)toPoints.push({x:surface[i_2].x,y:surface[i_2].y});if(hole&&hole.length>0)for(var middleX=bbox.x+bbox.width/2,middleY=bbox.y+bbox.height/2,i_3=0,hlen=hole.length;i_3<hlen;i_3++)toPoints.push({x:middleX,y:middleY});this._morphFromPointsReal[i][0]=fromPoints,this._morphToPointsReal[i][0]=toPoints}}this.morphable.currentPoints=this._morphFromPointsReal;var animation=new Animation_Animation(this,{property:\"morphProgress\",from:0,to:1},duration,easing);return this._disposers.push(animation),animation.start(),animation},Object.defineProperty(Morpher.prototype,\"morphProgress\",{get:function(){return this._morphProgress},set:function(value){this._morphProgress=value;var currentPoints=[];if(null!=value){var fromPoints=this._morphFromPointsReal,toPoints=this._morphToPointsReal;if(null!=fromPoints&&null!=toPoints)for(var i=0,len=fromPoints.length;i<len;i++){var currentArea=[];currentPoints.push(currentArea);var surfaceFrom=fromPoints[i][0],holeFrom=fromPoints[i][1],surfaceTo=toPoints[i][0],holeTo=toPoints[i][1];if(surfaceFrom&&surfaceFrom.length>0&&surfaceTo&&surfaceTo.length>0){for(var currentSurface=[],i_4=0,slen=surfaceFrom.length;i_4<slen;i_4++)currentSurface.push({x:(point0=surfaceFrom[i_4]).x+((point1=surfaceTo[i_4]).x*this.scaleRatio-point0.x)*value,y:point0.y+(point1.y*this.scaleRatio-point0.y)*value});currentArea[0]=currentSurface}if(holeFrom&&holeFrom.length>0&&holeTo&&holeTo.length>0){for(var currentHole=[],i_5=0,hlen=holeFrom.length;i_5<hlen;i_5++){var point0,point1;currentHole.push({x:(point0=holeFrom[i_5]).x+((point1=holeTo[i_5]).x*this.scaleRatio-point0.x)*value,y:point0.y+(point1.y*this.scaleRatio-point0.y)*value})}currentArea[1]=currentHole}}}this.morphable.currentPoints=currentPoints},enumerable:!0,configurable:!0}),Morpher.prototype.morphBack=function(duration,easing){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,hasValue(duration)||(duration=this.morphDuration),hasValue(easing)||(easing=this.morphEasing);var animation=new Animation_Animation(this,{property:\"morphProgress\",from:0,to:1},duration,easing);return this._disposers.push(animation),animation.start(),animation},Object.defineProperty(Morpher.prototype,\"animations\",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Animation_AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Morpher}(Base_BaseObject),Polygon_Polygon=function(_super){function Polygon(){var _this=_super.call(this)||this;return _this.className=\"Polygon\",_this.element=_this.paper.add(\"path\"),_this.shapeRendering=\"auto\",_this._currentPoints=[],_this.applyTheme(),_this}return __extends(Polygon,_super),Object.defineProperty(Polygon.prototype,\"points\",{get:function(){var points=this.getPropertyValue(\"points\"),path=this.path;if(path&&(!points||0==points.length)){for(var segments=path.slice(1,path.length-1).split(\"ZM\"),s=0;s<segments.length;s++){var segment=segments[s];if(segment.length>0){var areaHole=segment.split(\"M\"),areaArr=areaHole[0],holeArr=areaHole[1];if(areaArr&&areaArr.length>0){var pointsArr=areaArr.split(\"L\");if(pointsArr.length>0){var area=[],areaAndHole=[area];points.push(areaAndHole);for(var p=0;p<pointsArr.length;p++){var coords=pointsArr[p].split(\",\");area.push({x:+coords[0],y:+coords[1]})}if(holeArr&&holeArr.length>0){var pointsArr_1=holeArr.split(\"L\");if(pointsArr_1.length>0){var hole=[];for(areaAndHole.push(hole),p=pointsArr_1.length-1;p>=0;p--)coords=pointsArr_1[p].split(\",\"),hole.push({x:+coords[0],y:+coords[1]})}}}}}}this.setPropertyValue(\"points\",points),this._currentPoints=points}return points},set:function(points){this.setPropertyValue(\"points\",points,!0),this._currentPoints=points},enumerable:!0,configurable:!0}),Object.defineProperty(Polygon.prototype,\"currentPoints\",{get:function(){return this._currentPoints&&0!=this._currentPoints.length||!this.path||(this._currentPoints=this.points),this._currentPoints},set:function(points){this._currentPoints!=points&&(this._currentPoints=points,this.draw())},enumerable:!0,configurable:!0}),Polygon.prototype.draw=function(){var left,right,top,bottom,path=\"\",points=this._currentPoints;if(points.length>0){for(var i=0,len=points.length;i<len;i++){var surface=points[i][0],hole=points[i][1];if(surface&&surface.length>0){path+=moveTo(point=surface[0]);for(var s=0;s<surface.length;s++)path+=lineTo(point=surface[s]),(!isNumber(right)||right<point.x)&&(right=point.x),(!isNumber(left)||left>point.x)&&(left=point.x),(!isNumber(top)||top>point.y)&&(top=point.y),(!isNumber(bottom)||bottom<point.y)&&(bottom=point.y)}if(hole&&hole.length>0){var point;path+=moveTo(point=hole[0]);for(var h=0,hlen=hole.length;h<hlen;h++)path+=lineTo(point=hole[h])}}path&&(path+=\" Z\"),this.bbox.x=left,this.bbox.y=top,this.bbox.width=right-left,this.bbox.height=bottom-top,_super.prototype.setPath.call(this,path)}},Polygon.prototype.setPath=function(value){return!!_super.prototype.setPath.call(this,value)&&(this.points=[],this._bbox=this.group.getBBox(),!0)},Polygon.prototype.measureElement=function(){},Object.defineProperty(Polygon.prototype,\"centerPoint\",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(Polygon.prototype,\"morpher\",{get:function(){return this._morpher||(this._morpher=new Morpher_Morpher(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),Polygon}(Sprite_Sprite);Registry_registry.registeredClasses.Polygon=Polygon_Polygon;var Polyspline_Polyspline=function(_super){function Polyspline(){var _this=_super.call(this)||this;return _this.className=\"Polyspline\",_this.tensionX=.5,_this.tensionY=.5,_this.applyTheme(),_this}return __extends(Polyspline,_super),Polyspline.prototype.makePath=function(){this._distance=0;var segments=this.segments,tensionX=this.tensionX,tensionY=this.tensionY;if(segments&&segments.length>0){var path=\"\";this._realSegments=[];for(var i=0,len=segments.length;i<len;i++){var points=segments[i],realPoints=[];if(this._realSegments.push(realPoints),points.length>0){path+=moveTo(points[0]);for(var p=0;p<points.length-1;p++){var p0=points[p-1],p1=points[p],p2=points[p+1],p3=points[p+2];0===p?p0=points[p]:p==points.length-2&&(p3=points[p+1]),p3||(p3=p2);var controlPointA=getCubicControlPointA(p0,p1,p2,0,tensionX,tensionY),controlPointB=getCubicControlPointB(0,p1,p2,p3,tensionX,tensionY);path+=cubicCurveTo(p2,controlPointA,controlPointB);var stepCount=Math.ceil(getDistance(p1,p2))/2,prevPoint=p1;if(stepCount>0)for(var s=0;s<=stepCount;s++){var point=getPointOnCubicCurve(p1,p2,controlPointA,controlPointB,s/stepCount);realPoints.push(point),this._distance+=getDistance(prevPoint,point),prevPoint=point}else realPoints.push(p0)}}}this.path=path}},Object.defineProperty(Polyspline.prototype,\"tensionX\",{get:function(){return this.getPropertyValue(\"tensionX\")},set:function(value){this.setPropertyValue(\"tensionX\",value),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(Polyspline.prototype,\"tensionY\",{get:function(){return this.getPropertyValue(\"tensionY\")},set:function(value){this.setPropertyValue(\"tensionY\",value,!0),this.makePath()},enumerable:!0,configurable:!0}),Polyspline}(Polyline_Polyline);Registry_registry.registeredClasses.Polyspline=Polyspline_Polyspline;var Slice_Slice=function(_super){function Slice(){var _this=_super.call(this)||this;return _this.className=\"Slice\",_this.setPropertyValue(\"cornerRadius\",0),_this.setPropertyValue(\"startAngle\",0),_this.setPercentProperty(\"innerRadius\",0),_this.setPercentProperty(\"radius\",0),_this.setPropertyValue(\"arc\",0),_this.setPropertyValue(\"shiftRadius\",0),_this.strokeOpacity=1,_this.setPropertyValue(\"layout\",\"none\"),_this.slice=_this.createChild(Sprite_Sprite),_this.slice.isMeasured=!1,_this._disposers.push(_this.slice),_this.applyTheme(),_this}return __extends(Slice,_super),Slice.prototype.draw=function(){_super.prototype.draw.call(this);var radiusY=this.radiusY;this.radius>0&&0==radiusY&&(radiusY=.01),this.slice.path=Path_arc(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,radiusY,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof RadialGradient_RadialGradient&&this.updateGradient(this.realFill),this.realStroke instanceof RadialGradient_RadialGradient&&this.updateGradient(this.realStroke)},Slice.prototype.updateGradient=function(gradient){gradient.element.attr({gradientUnits:\"userSpaceOnUse\"}),gradient.element.attr({r:this.radius}),gradient.cx=0,gradient.cy=0,gradient.element.attr({radius:this.radius})},Object.defineProperty(Slice.prototype,\"bbox\",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?getCommonRectangle([getArcRect(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),getArcRect(this.startAngle,this.startAngle+this.arc,this.radius)]):{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"startAngle\",{get:function(){return this.getPropertyValue(\"startAngle\")},set:function(value){this.setPropertyValue(\"startAngle\",normalizeAngle(value),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"arc\",{get:function(){return this.getPropertyValue(\"arc\")},set:function(value){isNumber(value)||(value=0),this.setPropertyValue(\"arc\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"radius\",{get:function(){var radius=this.getPropertyValue(\"radius\");return isNumber(radius)||(radius=0),radius},set:function(value){this.setPropertyValue(\"radius\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"radiusY\",{get:function(){var value=this.getPropertyValue(\"radiusY\");return isNumber(value)||(value=this.radius),value},set:function(value){this.setPropertyValue(\"radiusY\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"pixelInnerRadius\",{get:function(){return relativeToValue(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"cornerRadius\",{get:function(){return this.getPropertyValue(\"cornerRadius\")},set:function(value){this.setPropertyValue(\"cornerRadius\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"innerCornerRadius\",{get:function(){return this.getPropertyValue(\"innerCornerRadius\")},set:function(value){this.setPropertyValue(\"innerCornerRadius\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"shiftRadius\",{get:function(){return this.getPropertyValue(\"shiftRadius\")},set:function(value){this.setPropertyValue(\"shiftRadius\",value),this.dx=value*this.radius*this.ix,this.dy=value*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"ix\",{get:function(){return Math_cos(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"iy\",{get:function(){return Math_sin(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,\"middleAngle\",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),Slice.prototype.getTooltipX=function(){var value=this.getPropertyValue(\"tooltipX\");if(!isNumber(value)){var innerRadius=relativeToValue(this.innerRadius,this.radius);value=this.ix*(innerRadius+(this.radius-innerRadius)/2)}return value},Slice.prototype.getTooltipY=function(){var value=this.getPropertyValue(\"tooltipY\");if(!isNumber(value)){var innerRadius=relativeToValue(this.innerRadius,this.radius);value=this.iy*(innerRadius+(this.radiusY-innerRadius)/2)+this.slice.dy}return value},Slice}(Container_Container);Registry_registry.registeredClasses.Slice=Slice_Slice;var Preloader_Preloader=function(_super){function Preloader(){var _this=_super.call(this)||this;_this.className=\"Preloader\",_this.width=Percent_percent(100),_this.height=Percent_percent(100);var interfaceColors=new InterfaceColorSet_InterfaceColorSet,sliceContainer=_this.createChild(Container_Container);sliceContainer.shouldClone=!1;var backgroundSlice=sliceContainer.createChild(Slice_Slice);backgroundSlice.shouldClone=!1,backgroundSlice.radius=53,backgroundSlice.arc=360,backgroundSlice.fill=interfaceColors.getFor(\"fill\"),backgroundSlice.fillOpacity=.8,backgroundSlice.innerRadius=42,backgroundSlice.isMeasured=!1,_this.backgroundSlice=backgroundSlice;var progressSlice=sliceContainer.createChild(Slice_Slice);progressSlice.shouldClone=!1,progressSlice.radius=50,progressSlice.innerRadius=45,progressSlice.fill=interfaceColors.getFor(\"alternativeBackground\"),progressSlice.fillOpacity=.2,progressSlice.isMeasured=!1,_this.progressSlice=progressSlice;var label=sliceContainer.createChild(Label_Label);return label.shouldClone=!1,label.horizontalCenter=\"middle\",label.verticalCenter=\"middle\",label.isMeasured=!1,label.fill=interfaceColors.getFor(\"text\"),label.align=\"center\",label.valign=\"middle\",label.fillOpacity=.4,_this.label=label,_this.background.opacity=1,_this.background.fill=interfaceColors.getFor(\"background\"),_this.contentAlign=\"center\",_this.contentValign=\"middle\",_this.delay=300,_this.states.create(\"hidden\").properties.opacity=0,_this.visible=!1,_this.hide(0),_this.__disabled=!0,_this._disposers.push(_this.backgroundSlice),_this._disposers.push(_this.progressSlice),_this._disposers.push(_this.label),_this._disposers.push(sliceContainer),_this}return __extends(Preloader,_super),Object.defineProperty(Preloader.prototype,\"progress\",{get:function(){return this.getPropertyValue(\"progress\")},set:function(value){var _this=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue(\"progress\",value),this.progressSlice.arc=360*value,this.label&&(this.label.text=Math.round(100*value)+\"%\"),value>=1?(this._started&&(this._started=void 0),Registry_registry.events.once(\"enterframe\",function(){var animation=_this.hide();animation&&!animation.isFinished()?animation.events.once(\"animationended\",function(){_this.__disabled=!0}):_this.__disabled=!0}),this.interactionsEnabled=!1,this.setPropertyValue(\"progress\",0)):value>0&&(this.delay?this._started?this._started+this.delay<=(new Date).getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=(new Date).getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Preloader.prototype,\"delay\",{get:function(){return this.getPropertyValue(\"delay\")},set:function(value){this.setPropertyValue(\"delay\",value)},enumerable:!0,configurable:!0}),Preloader}(Container_Container);Registry_registry.registeredClasses.Preloader=Preloader_Preloader;var ResizeButton_ResizeButton=function(_super){function ResizeButton(){var _this=_super.call(this)||this;_this.className=\"ResizeButton\",_this.orientation=\"horizontal\",_this.layout=\"absolute\",_this.horizontalCenter=\"middle\",_this.verticalCenter=\"middle\",_this.draggable=!0,_this.padding(8,8,8,8),_this.background.cornerRadius(20,20,20,20);var icon=new Sprite_Sprite;icon.element=_this.paper.add(\"path\");var path=moveTo({x:-2,y:-6});return path+=lineTo({x:-2,y:6}),path+=moveTo({x:2,y:-6}),path+=lineTo({x:2,y:6}),icon.path=path,icon.pixelPerfect=!0,icon.padding(0,4,0,4),icon.stroke=(new InterfaceColorSet_InterfaceColorSet).getFor(\"alternativeText\"),icon.strokeOpacity=.7,_this.icon=icon,_this.label.dispose(),_this.label=void 0,_this.applyTheme(),_this}return __extends(ResizeButton,_super),Object.defineProperty(ResizeButton.prototype,\"orientation\",{set:function(value){var icon=this.icon;icon&&(icon.rotation=\"horizontal\"==value?0:-90)},enumerable:!0,configurable:!0}),ResizeButton}(Button_Button);Registry_registry.registeredClasses.ResizeButton=ResizeButton_ResizeButton;var Scrollbar_Scrollbar=function(_super){function Scrollbar(){var _this=_super.call(this)||this;_this._prevStart=0,_this._prevEnd=1,_this._isBusy=!1,_this._skipRangeEvents=!1,_this.updateWhileMoving=!0,_this.className=\"Scrollbar\",_this.minHeight=12,_this.minWidth=12,_this.animationDuration=0,_this.animationEasing=cubicOut,_this.margin(10,10,10,10);var interfaceColors=new InterfaceColorSet_InterfaceColorSet,background=_this.background;return background.cornerRadius(10,10,10,10),background.fill=interfaceColors.getFor(\"fill\"),background.fillOpacity=.5,_this.showSystemTooltip=!0,_this.startGrip=new ResizeButton_ResizeButton,_this.endGrip=new ResizeButton_ResizeButton,_this.events.on(\"transformed\",_this.updateThumb,_this,!1),_this.start=0,_this.end=1,_this.role=\"scrollbar\",_this.thumb.role=\"slider\",_this.thumb.readerLive=\"polite\",_this.startGrip.role=\"slider\",_this.endGrip.role=\"slider\",_this.events.once(\"inited\",function(){_this._previousStart=void 0,_this.dispatchRangeChange()},void 0,!1),_this.hideGrips=!1,_this.orientation=\"horizontal\",_this.applyTheme(),_this}return __extends(Scrollbar,_super),Scrollbar.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),\"horizontal\"===this.orientation?(hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Use TAB to select grip buttons or left and right arrows to change selection\")),hasValue(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate(\"Use left and right arrows to move selection\")),hasValue(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate(\"Use left and right arrows to move left selection\")),hasValue(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate(\"Use left and right arrows to move right selection\"))):(hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Use TAB select grip buttons or up and down arrows to change selection\")),hasValue(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate(\"Use up and down arrows to move selection\")),hasValue(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate(\"Use up and down arrows to move upper selection\")),hasValue(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate(\"Use up and down arrows to move lower selection\")))},Scrollbar.prototype.validateLayout=function(){this.updateSize(),_super.prototype.validateLayout.call(this),this.updateExtremes()},Scrollbar.prototype.processBackground=function(){_super.prototype.processBackground.call(this);var background=this.background;background.clickable=!0,background.events.on(\"hit\",this.handleBgHit,this,void 0)},Scrollbar.prototype.handleBgHit=function(event){this.makeBusy();var point=event.spritePoint;point=spritePointToSprite(point,this.background,this);var thumb=this.thumb;if(\"horizontal\"==this.orientation){var thumbX=point.x-thumb.pixelWidth/2;thumbX=fitToRange(thumbX,0,this.innerWidth-thumb.pixelWidth),this._thumbAnimation=thumb.animate({property:\"x\",to:thumbX},this.animationDuration,this.animationEasing)}else{var thumbY=point.y-thumb.pixelHeight/2;thumbY=fitToRange(thumbY,0,this.innerHeight-thumb.pixelHeight),this._thumbAnimation=thumb.animate({property:\"y\",to:thumbY},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on(\"animationended\",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},Scrollbar.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},Scrollbar.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},Scrollbar.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),1.1*this.animationDuration)},Scrollbar.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},Scrollbar.prototype.dispatchRangeChange=function(){this._previousEnd==this.end&&this._previousStart==this.start||(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch(\"rangechanged\"))},Scrollbar.prototype.updateThumb=function(){if(this.parent){var thumb=this.thumb,start=this.start,end=this.end,startGrip=this.startGrip,endGrip=this.endGrip;if(\"horizontal\"==this.orientation){var innerWidth_1=this.innerWidth;thumb.width=innerWidth_1*(end-start),thumb.maxX=innerWidth_1-thumb.pixelWidth,thumb.x=start*innerWidth_1,startGrip.moveTo({x:thumb.pixelX,y:0},void 0,void 0,!0),endGrip.moveTo({x:thumb.pixelX+thumb.pixelWidth,y:0},void 0,void 0,!0),startGrip.readerTitle=this.language.translate(\"From %1\",void 0,this.adapter.apply(\"positionValue\",{value:Math.round(100*start)+\"%\",position:start}).value),endGrip.readerTitle=this.language.translate(\"To %1\",void 0,this.adapter.apply(\"positionValue\",{value:Math.round(100*end)+\"%\",position:end}).value)}else{var innerHeight_1=this.innerHeight;thumb.height=innerHeight_1*(end-start),thumb.maxY=innerHeight_1-thumb.pixelHeight,thumb.y=(1-end)*innerHeight_1,startGrip.moveTo({x:0,y:thumb.pixelY+thumb.pixelHeight},void 0,void 0,!0),endGrip.moveTo({x:0,y:thumb.pixelY},void 0,void 0,!0),startGrip.readerTitle=this.language.translate(\"To %1\",void 0,this.adapter.apply(\"positionValue\",{value:Math.round(100*(1-start))+\"%\",position:1-start}).value),endGrip.readerTitle=this.language.translate(\"From %1\",void 0,this.adapter.apply(\"positionValue\",{value:Math.round(100*(1-end))+\"%\",position:1-end}).value)}thumb.readerTitle=this.language.translate(\"From %1 to %2\",void 0,this.adapter.apply(\"positionValue\",{value:Math.round(100*start)+\"%\",position:start}).value,this.adapter.apply(\"positionValue\",{value:Math.round(100*end)+\"%\",position:end}).value),!this._skipRangeEvents&&this.updateWhileMoving&&this.dispatchRangeChange()}},Scrollbar.prototype.updateExtremes=function(){var minX=0,minY=0,maxX=0,maxY=0;\"horizontal\"==this.orientation?(maxX=this.innerWidth,minY=maxY=this.innerHeight/2):(maxY=this.innerHeight,minX=maxX=this.innerWidth/2);var startGrip=this.startGrip;startGrip.minX=minX,startGrip.maxX=maxX,startGrip.minY=minY,startGrip.maxY=maxY;var endGrip=this.endGrip;endGrip.minX=minX,endGrip.maxX=maxX,endGrip.minY=minY,endGrip.maxY=maxY;var thumb=this.thumb;thumb.minX=minX,thumb.maxX=maxX,thumb.minY=minY,thumb.maxY=maxY},Scrollbar.prototype.updateSize=function(){var orientation=this.orientation,startGrip=this.startGrip;startGrip&&(startGrip.orientation=orientation),this.endGrip&&(this.endGrip.orientation=orientation);var thumb=this.thumb;thumb&&(\"horizontal\"==orientation?(isNumber(this._pixelWidth)||this.width instanceof Percent||(this.width=Percent_percent(100)),hasValue(this.percentHeight)&&(this.height=this.minHeight),thumb.height=this.innerHeight,thumb.verticalCenter=\"middle\",thumb.horizontalCenter=\"left\"):(isNumber(this._pixelHeight)||this.height instanceof Percent||(this.height=Percent_percent(100)),hasValue(this.percentWidth)&&(this.width=this.minWidth),thumb.width=this.innerWidth,thumb.verticalCenter=\"top\",thumb.horizontalCenter=\"middle\"))},Object.defineProperty(Scrollbar.prototype,\"start\",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(position){this._isBusy||(this.__start=position)},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,\"__start\",{get:function(){return this._start},set:function(position){this._start=this.getPosition(position),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,\"end\",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(position){this._isBusy||(this.__end=position)},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,\"__end\",{get:function(){return this._end},set:function(position){this._end=this.getPosition(position),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,\"range\",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),Scrollbar.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},Scrollbar.prototype.fixRange=function(range){range.start==Math_round(this._start,2)&&range.end==Math_round(this._end,2)||(this._start=range.start,this._end=range.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},Scrollbar.prototype.getPosition=function(position){return fitToRange(Math_round(position,4),0,1)},Object.defineProperty(Scrollbar.prototype,\"orientation\",{get:function(){return this.getPropertyValue(\"orientation\")},set:function(value){this.setPropertyValue(\"orientation\",value)&&(\"horizontal\"===value?(this.startGrip.cursorOverStyle=MouseCursorStyle.horizontalResize,this.endGrip.cursorOverStyle=MouseCursorStyle.horizontalResize):(this.startGrip.cursorOverStyle=MouseCursorStyle.verticalResize,this.endGrip.cursorOverStyle=MouseCursorStyle.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),Scrollbar.prototype.updateByOrientation=function(){},Object.defineProperty(Scrollbar.prototype,\"startGrip\",{get:function(){return this._startGrip},set:function(button){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=button,this.processGrip(button)},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,\"endGrip\",{get:function(){return this._endGrip},set:function(button){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=button,this.processGrip(button)},enumerable:!0,configurable:!0}),Scrollbar.prototype.processGrip=function(button){button.parent=this,button.isMeasured=!1,button.focusable=!0,button.shouldClone=!1,button.zIndex=100,button.events.on(\"drag\",this.handleGripDrag,this,!1),button.events.on(\"dragstop\",this.makeUnbusy,this,!1),button.events.on(\"down\",this.makeBusy,this,!1),this._disposers.push(button)},Scrollbar.prototype.handleGripDrag=function(event){this.makeBusy(),this._usingGrip=event.target===this._startGrip?\"start\":\"end\",\"horizontal\"==this.orientation?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(Scrollbar.prototype,\"thumb\",{get:function(){if(!this._thumb){var thumb=new Button_Button;thumb.background.cornerRadius(10,10,10,10),thumb.padding(0,0,0,0),this.thumb=thumb}return this._thumb},set:function(thumb){var _this=this;thumb&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=thumb,thumb.parent=this,thumb.isMeasured=!1,thumb.inert=!0,thumb.draggable=!0,thumb.clickable=!0,thumb.hoverable=!0,thumb.focusable=!0,thumb.shouldClone=!1,thumb.zIndex=0,thumb.cursorOverStyle=MouseCursorStyle.grab,thumb.cursorDownStyle=MouseCursorStyle.grabbing,thumb.events.on(\"dragstart\",this.makeBusy,this,!1),thumb.events.on(\"dragstop\",this.makeUnbusy,this,!1),thumb.events.on(\"positionchanged\",this.handleThumbPosition,this,!1),thumb.events.on(\"sizechanged\",this.handleThumbPosition,this,!1),thumb.events.on(\"doublehit\",this.handleDoubleClick,this,!1),this._disposers.push(getInteraction().body.events.on(\"keyup\",function(ev){keyboard.isKey(ev.event,[\"space\",\"enter\"])&&_this.thumb.isFocused&&(ev.event.preventDefault(),_this.handleDoubleClick())})),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),Scrollbar.prototype.handleDoubleClick=function(){this.makeBusy();var newStart=0,newEnd=1;0!=this.start||1!=this.end?(this._prevStart=this.start,this._prevEnd=this.end):(newStart=this._prevStart,newEnd=this._prevEnd);var zoomAnimation=this.animate([{property:\"__start\",to:newStart},{property:\"__end\",to:newEnd}],this.animationDuration,this.animationEasing);zoomAnimation&&!zoomAnimation.isFinished()?(zoomAnimation.events.on(\"animationended\",this.makeUnbusy,this,!1),this._zoomAnimation=zoomAnimation):this.makeUnbusy()},Scrollbar.prototype.handleThumbPosition=function(){var thumb=this.thumb;if(\"horizontal\"==this.orientation){var innerWidth_2=this.innerWidth,w=thumb.innerWidth,x=thumb.pixelX;this._start=x/innerWidth_2,this._end=(x+w)/innerWidth_2,this.updateThumb()}else{var innerHeight_2=this.innerHeight,y=thumb.pixelY;this._start=1-(y+thumb.innerHeight)/innerHeight_2,this._end=1-y/innerHeight_2,this.updateThumb()}},Scrollbar.prototype.createBackground=function(){return new RoundedRectangle_RoundedRectangle},Object.defineProperty(Scrollbar.prototype,\"hideGrips\",{get:function(){return this._hideGrips},set:function(value){var _this=this;this._hideGrips=value,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),value?(this._overDisposer=this.events.on(\"over\",function(){_this.startGrip.show(),_this.endGrip.show()},void 0,!1),this._outDisposer=this.events.on(\"out\",function(){_this.startGrip.hide(),_this.endGrip.hide()},void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,\"animationDuration\",{get:function(){return this.getPropertyValue(\"animationDuration\")},set:function(value){this.setPropertyValue(\"animationDuration\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,\"animationEasing\",{get:function(){return this.getPropertyValue(\"animationEasing\")},set:function(value){this.setPropertyValue(\"animationEasing\",value)},enumerable:!0,configurable:!0}),Scrollbar}(Container_Container);Registry_registry.registeredClasses.Scrollbar=Scrollbar_Scrollbar;var Slider_Slider=function(_super){function Slider(){var _this=_super.call(this)||this;return _this.className=\"Slider\",_this.thumb.opacity=0,_this.thumb.interactionsEnabled=!1,_this.endGrip.opacity=0,_this.endGrip.interactionsEnabled=!1,_this.startGrip.events.on(\"drag\",function(){_this.endGrip.x=_this.startGrip.x,_this.endGrip.y=_this.startGrip.y}),_this.applyTheme(),_this}return __extends(Slider,_super),Object.defineProperty(Slider.prototype,\"__end\",{get:function(){return this._start},set:function(value){},enumerable:!0,configurable:!0}),Object.defineProperty(Slider.prototype,\"end\",{get:function(){return this._start},set:function(position){},enumerable:!0,configurable:!0}),Object.defineProperty(Slider.prototype,\"start\",{get:function(){return this._start},set:function(position){this._isBusy||(this.__start=position)},enumerable:!0,configurable:!0}),Slider}(Scrollbar_Scrollbar);Registry_registry.registeredClasses.Slider=Slider_Slider;var TextLink_TextLink=function(_super){function TextLink(){var _this=_super.call(this)||this;_this.className=\"TextLink\",_this.selectable=!0;var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.fill=interfaceColors.getFor(\"primaryButton\").brighten(.3),_this.states.create(\"hover\").properties.fill=interfaceColors.getFor(\"primaryButtonHover\").brighten(.3),_this.states.create(\"down\").properties.fill=interfaceColors.getFor(\"primaryButtonDown\").brighten(.3),_this.cursorOverStyle=MouseCursorStyle.pointer,_this.applyTheme(),_this}return __extends(TextLink,_super),TextLink}(Label_Label);Registry_registry.registeredClasses.TextLink=TextLink_TextLink;var Filter_Filter=function(_super){function Filter(){var _this=_super.call(this)||this;return _this.properties={},_this.isTemplate=!1,_this._scale=1,_this._nonScaling=!0,_this.className=\"Filter\",_this.filterPrimitives=new List_List,_this.filterPrimitives.events.on(\"inserted\",function(ev){_this._disposers.push(ev.newValue)}),_this.width=120,_this.height=120,_this.applyTheme(),_this}return __extends(Filter,_super),Filter.prototype.appendPrimitives=function(filterElement){Iterator_each(this.filterPrimitives.iterator(),function(filterPrimitive){filterElement.add(filterPrimitive)})},Filter.prototype.animate=function(animationOptions,duration,easing){return new Animation_Animation(this,animationOptions,duration,easing).start()},Object.defineProperty(Filter.prototype,\"width\",{get:function(){return this.properties.width},set:function(value){this.properties.width=value},enumerable:!0,configurable:!0}),Object.defineProperty(Filter.prototype,\"height\",{get:function(){return this.properties.height},set:function(value){this.properties.height=value},enumerable:!0,configurable:!0}),Filter.prototype.copyFrom=function(filter){var _this=this;_super.prototype.copyFrom.call(this,filter),Object_each(filter.properties,function(key,value){_this[key]=value})},Object.defineProperty(Filter.prototype,\"paper\",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(paper){this._paper!=paper&&(this._paper=paper)},enumerable:!0,configurable:!0}),Object.defineProperty(Filter.prototype,\"animations\",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Animation_AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(Filter.prototype,\"scale\",{get:function(){return this._scale},set:function(value){this._scale=value,this.updateScale()},enumerable:!0,configurable:!0}),Filter.prototype.updateScale=function(){},Object.defineProperty(Filter.prototype,\"nonScaling\",{get:function(){return this._nonScaling},set:function(value){this._nonScaling=value,value||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(Filter.prototype,\"sprite\",{set:function(value){this.setSprite(value)},enumerable:!0,configurable:!0}),Filter.prototype.setSprite=function(value){this._sprite&&this._sprite!=value&&this._sprite.filters.removeValue(this),this._sprite=value},Filter}(Base_BaseObject),DropShadowFilter_DropShadowFilter=function(_super){function DropShadowFilter(){var _this=_super.call(this)||this;return _this.className=\"DropShadowFilter\",_this.color=Color_color(\"#000\"),_this.feGaussianBlur=_this.paper.add(\"feGaussianBlur\"),_this.feGaussianBlur.attr({result:\"blurOut\",in:\"SourceGraphic\"}),_this.filterPrimitives.push(_this.feGaussianBlur),_this.feOffset=_this.paper.add(\"feOffset\"),_this.feOffset.attr({result:\"offsetBlur\"}),_this.filterPrimitives.push(_this.feOffset),_this.feFlood=_this.paper.add(\"feFlood\"),_this.feFlood.attr({\"flood-color\":_this.color}),_this.filterPrimitives.push(_this.feFlood),_this.feComposite=_this.paper.add(\"feComposite\"),_this.feComposite.attr({in2:\"offsetBlur\",operator:\"in\"}),_this.filterPrimitives.push(_this.feComposite),_this.feMerge=_this.paper.addGroup(\"feMerge\"),_this.feMerge.add(_this.paper.add(\"feMergeNode\")),_this.feMerge.add(_this.paper.add(\"feMergeNode\").attr({in:\"SourceGraphic\"})),_this.filterPrimitives.push(_this.feMerge),_this.width=200,_this.height=200,_this.blur=1.5,_this.dx=3,_this.dy=3,_this.opacity=.5,_this.applyTheme(),_this}return __extends(DropShadowFilter,_super),Object.defineProperty(DropShadowFilter.prototype,\"color\",{get:function(){return this.properties.color},set:function(value){this.properties.color=value,this.feFlood&&this.feFlood.attr({\"flood-color\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(DropShadowFilter.prototype,\"opacity\",{get:function(){return this.properties.opacity},set:function(value){this.properties.opacity=value,this.feFlood.attr({\"flood-opacity\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(DropShadowFilter.prototype,\"dx\",{get:function(){return this.properties.dx},set:function(value){this.properties.dx=value,this.feOffset.attr({dx:value/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(DropShadowFilter.prototype,\"dy\",{get:function(){return this.properties.dy},set:function(value){this.properties.dy=value,this.feOffset.attr({dy:value/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(DropShadowFilter.prototype,\"blur\",{get:function(){return this.properties.blur},set:function(value){this.properties.blur=value,this.feGaussianBlur.attr({stdDeviation:value/this.scale})},enumerable:!0,configurable:!0}),DropShadowFilter.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},DropShadowFilter}(Filter_Filter);Registry_registry.registeredClasses.DropShadowFilter=DropShadowFilter_DropShadowFilter;var Tooltip_Tooltip=function(_super){function Tooltip(){var _this=_super.call(this)||this;_this._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},_this._pointTo={x:0,y:0},_this.fitPointerToBounds=!1,_this._verticalOrientation=\"up\",_this.className=\"Tooltip\",_this.isMeasured=!1,_this.getFillFromObject=!0,_this.margin(5,5,5,5),_this.defaultState.transitionDuration=1,_this.hiddenState.transitionDuration=1;var background=_this.background;background.interactionsEnabled=!1,background.fillOpacity=.9,background.strokeWidth=1,background.strokeOpacity=1,background.stroke=Color_color(\"#ffffff\"),background.cornerRadius=3,background.pointerLength=6,background.pointerBaseWidth=10;var dropShadow=new DropShadowFilter_DropShadowFilter;dropShadow.dy=1,dropShadow.dx=1,dropShadow.opacity=.5,background.filters.push(dropShadow),_this.autoTextColor=!0;var label=_this.createChild(Label_Label);return label.shouldClone=!1,_this.label=label,label.padding(7,12,4,12),label.interactionsEnabled=!1,label.horizontalCenter=\"middle\",label.fill=Color_color(\"#ffffff\"),_this._disposers.push(label),_this.label.events.on(\"sizechanged\",_this.drawBackground,_this),_this.label.zIndex=1,_this.pointerOrientation=\"vertical\",_this.animationDuration=0,_this.animationEasing=cubicOut,_this.setPropertyValue(\"showInViewport\",!1),_this.role=\"tooltip\",_this.visible=!1,_this.opacity=0,_this.x=0,_this.y=0,_this.events.on(\"visibilitychanged\",_this.handleVisibility,_this),_this.applyTheme(),_this}return __extends(Tooltip,_super),Tooltip.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(Tooltip.prototype,\"getStrokeFromObject\",{get:function(){return this.getPropertyValue(\"getStrokeFromObject\")},set:function(value){this.setPropertyValue(\"getStrokeFromObject\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,\"autoTextColor\",{get:function(){return this.getPropertyValue(\"autoTextColor\")},set:function(value){this.setPropertyValue(\"autoTextColor\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,\"keepTargetHover\",{get:function(){return this.getPropertyValue(\"keepTargetHover\")},set:function(value){var _this=this;this.setPropertyValue(\"keepTargetHover\",value,!0)&&value&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on(\"over\",function(ev){_this.targetSprite&&_this.targetSprite.hoverable&&(_this.targetSprite.isHover=!0)})),this._disposers.push(this.events.on(\"out\",function(ev){_this.targetSprite&&_this.targetSprite.hoverable&&(_this.targetSprite.isHover=!1)})))},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,\"showInViewport\",{get:function(){return this.getPropertyValue(\"showInViewport\")},set:function(value){this.setPropertyValue(\"showInViewport\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,\"getFillFromObject\",{get:function(){return this.getPropertyValue(\"getFillFromObject\")},set:function(value){this.setPropertyValue(\"getFillFromObject\",value,!0)},enumerable:!0,configurable:!0}),Tooltip.prototype.createBackground=function(){return new PointedRectangle_PointedRectangle},Object.defineProperty(Tooltip.prototype,\"pointerOrientation\",{get:function(){return this.getPropertyValue(\"pointerOrientation\")},set:function(value){this.setPropertyValue(\"pointerOrientation\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,\"animationDuration\",{get:function(){return this.getPropertyValue(\"animationDuration\")},set:function(value){this.setPropertyValue(\"animationDuration\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,\"animationEasing\",{get:function(){return this.getPropertyValue(\"animationEasing\")},set:function(value){this.setPropertyValue(\"animationEasing\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,\"html\",{get:function(){return this.label.html},set:function(value){this.label.html!=value&&(this.label.html=value,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,\"text\",{get:function(){return this.label.text},set:function(value){this.label.text!=value&&(this.label.text=value,this.invalidate())},enumerable:!0,configurable:!0}),Tooltip.prototype.draw=function(){_super.prototype.draw.call(this);var label=this.label;label.invalid&&label.validate();var textX,textY,x=this._pointTo.x,y=this._pointTo.y,boundingRect=this._boundingRect,textW=label.measuredWidth,textH=label.measuredHeight,pointerLength=this.background.pointerLength;if(textW>boundingRect.width){spritePointToDocument({x:boundingRect.x,y:boundingRect.y},this.parent);var p1=spritePointToDocument({x:boundingRect.x+boundingRect.width,y:boundingRect.y+boundingRect.height},this.parent),documentWidth=document.body.offsetWidth;document,p1.x>documentWidth/2?boundingRect.x=boundingRect.width-textW:boundingRect.width=boundingRect.x+textW}var pointerOrientation=this.pointerOrientation;\"horizontal\"==pointerOrientation||\"left\"==pointerOrientation||\"right\"==pointerOrientation?(textY=-textH/2,textX=\"horizontal\"==pointerOrientation?x>boundingRect.x+boundingRect.width/2?-textW/2-pointerLength:textW/2+pointerLength:\"left\"==pointerOrientation?textW/2+pointerLength:-textW/2-pointerLength):(textX=fitToRange(0,boundingRect.x-x+textW/2,boundingRect.x-x+boundingRect.width-textW/2),\"vertical\"==pointerOrientation?y>boundingRect.y+textH+pointerLength?(textY=-textH-pointerLength,this._verticalOrientation=\"up\"):(textY=pointerLength,this._verticalOrientation=\"down\"):\"down\"==pointerOrientation?(textY=-textH-pointerLength,this._verticalOrientation=\"up\"):(textY=pointerLength,this._verticalOrientation=\"down\")),textY=fitToRange(textY,boundingRect.y-y,boundingRect.y+boundingRect.height-textH-y),label.x=textX,label.y=textY,this.drawBackground()},Tooltip.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},Tooltip.prototype.drawBackground=function(){var label=this.label,background=this.background,textWidth=label.measuredWidth,boundingRect=this._boundingRect,bgWidth=textWidth,bgHeight=label.measuredHeight,bgY=label.pixelY,boundX1=boundingRect.x-this._pointTo.x,boundX2=boundX1+boundingRect.width,boundY1=boundingRect.y-this._pointTo.y,boundY2=boundY1+boundingRect.height;background.x=label.pixelX-textWidth/2,background.y=bgY,background.width=bgWidth,background.height=bgHeight,this.fitPointerToBounds?(background.pointerX=fitToRange(-background.x,boundX1-background.x,boundX2-background.x),background.pointerY=fitToRange(-background.y,boundY1-background.y,boundY2-background.y)):(background.pointerX=-background.x,background.pointerY=-background.y),background.validate()},Tooltip.prototype.pointTo=function(point,instantly){this._pointTo.x==point.x&&this._pointTo.y==point.y||(this._pointTo=point,this.invalidate(),!this.visible||instantly?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):0==this.pixelX&&0==this.pixelY?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new Animation_Animation(this,[{property:\"x\",to:point.x,from:this.pixelX},{property:\"y\",to:point.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},Tooltip.prototype.setBounds=function(rectangle){var oldRect=this._boundingRect;oldRect.x==rectangle.x&&oldRect.y==rectangle.y&&oldRect.width==rectangle.width&&oldRect.height==rectangle.height||(this._boundingRect=rectangle,this.invalidate())},Object.defineProperty(Tooltip.prototype,\"boundingContainer\",{set:function(container){this._boundingContainer=container,container.events.on(\"sizechanged\",this.updateBounds,this),container.events.on(\"positionchanged\",this.updateBounds,this)},enumerable:!0,configurable:!0}),Tooltip.prototype.updateBounds=function(){var boundingContainer=this._boundingContainer,rect=spriteRectToSvg({x:boundingContainer.pixelX,y:boundingContainer.pixelY,width:boundingContainer.maxWidth,height:boundingContainer.maxHeight},boundingContainer);this.setBounds(rect)},Object.defineProperty(Tooltip.prototype,\"verticalOrientation\",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,\"tooltip\",{get:function(){},enumerable:!0,configurable:!0}),Tooltip.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.label.copyFrom(source.label),source._boundingRect&&(this._boundingRect=source._boundingRect)},Tooltip}(Container_Container);Registry_registry.registeredClasses.Tooltip=Tooltip_Tooltip;var Trapezoid_Trapezoid=function(_super){function Trapezoid(){var _this=_super.call(this)||this;return _this.className=\"Trapezoid\",_this.element=_this.paper.add(\"path\"),_this.topSide=Percent_percent(100),_this.bottomSide=Percent_percent(100),_this.leftSide=Percent_percent(100),_this.rightSide=Percent_percent(100),_this.isMeasured=!1,_this.applyTheme(),_this}return __extends(Trapezoid,_super),Trapezoid.prototype.draw=function(){_super.prototype.draw.call(this);var w=this.pixelWidth,h=this.pixelHeight,ts=relativeToValue(this.topSide,w),bs=relativeToValue(this.bottomSide,w),ls=relativeToValue(this.leftSide,h),rs=relativeToValue(this.rightSide,h),x0=(w-ts)/2,y0=(h-ls)/2,x1=w-(w-ts)/2,y1=(h-rs)/2,x2=w-(w-bs)/2,y2=h-(h-rs)/2,x3=(w-bs)/2,y3=h-(h-ls)/2,mt=\"\",mr=\"\",mb=\"\",ml=\"\";if(hasValue(this.horizontalNeck)){var hn=this.horizontalNeck.value;mt=lineTo({x:w*hn,y:Math.max(y0,y1)}),mb=lineTo({x:w*hn,y:Math.min(y2,y3)})}if(hasValue(this.verticalNeck)){var vn=this.verticalNeck.value;mr=lineTo({x:Math.min(x1,x2),y:h*vn}),ml=lineTo({x:Math.max(x0,x3),y:h*vn})}var path=moveTo({x:x0,y:y0})+mt+lineTo({x:x1,y:y1})+mr+lineTo({x:x2,y:y2})+mb+lineTo({x:x3,y:y3})+ml;this.path=path},Object.defineProperty(Trapezoid.prototype,\"topSide\",{get:function(){return this.getPropertyValue(\"topSide\")},set:function(value){this.setPercentProperty(\"topSide\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Trapezoid.prototype,\"bottomSide\",{get:function(){return this.getPropertyValue(\"bottomSide\")},set:function(value){this.setPercentProperty(\"bottomSide\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Trapezoid.prototype,\"leftSide\",{get:function(){return this.getPropertyValue(\"leftSide\")},set:function(value){this.setPercentProperty(\"leftSide\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Trapezoid.prototype,\"rightSide\",{get:function(){return this.getPropertyValue(\"rightSide\")},set:function(value){this.setPercentProperty(\"rightSide\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Trapezoid.prototype,\"horizontalNeck\",{get:function(){return this.getPropertyValue(\"horizontalNeck\")},set:function(value){this.setPropertyValue(\"horizontalNeck\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Trapezoid.prototype,\"verticalNeck\",{get:function(){return this.getPropertyValue(\"verticalNeck\")},set:function(value){this.setPropertyValue(\"verticalNeck\",value,!0)},enumerable:!0,configurable:!0}),Trapezoid}(Sprite_Sprite);Registry_registry.registeredClasses.Trapezoid=Trapezoid_Trapezoid;var Triangle_Triangle=function(_super){function Triangle(){var _this=_super.call(this)||this;return _this.className=\"Triangle\",_this.element=_this.paper.add(\"path\"),_this.direction=\"top\",_this.applyTheme(),_this}return __extends(Triangle,_super),Triangle.prototype.draw=function(){_super.prototype.draw.call(this);var path,w=this.pixelWidth,h=this.pixelHeight;switch(this.direction){case\"right\":path=moveTo({x:0,y:0})+lineTo({x:w,y:h/2})+lineTo({x:0,y:h})+\" Z\";break;case\"left\":path=moveTo({x:w,y:0})+lineTo({x:0,y:h/2})+lineTo({x:w,y:h})+\" Z\";break;case\"bottom\":path=moveTo({x:0,y:0})+lineTo({x:w,y:0})+lineTo({x:w/2,y:h})+\" Z\";break;case\"top\":path=moveTo({x:w/2,y:0})+lineTo({x:w,y:h})+lineTo({x:0,y:h})+\" Z\"}this.path=path},Object.defineProperty(Triangle.prototype,\"direction\",{get:function(){return this.getPropertyValue(\"direction\")},set:function(value){this.setPropertyValue(\"direction\",value,!0)},enumerable:!0,configurable:!0}),Triangle}(Sprite_Sprite);Registry_registry.registeredClasses.Triangle=Triangle_Triangle;var Smoothing_Tension=function(){function Tension(tensionX,tensionY){this._tensionX=tensionX,this._tensionY=tensionY}return Tension.prototype.smooth=function(points){var tensionX=this._tensionX,tensionY=this._tensionY;if(points.length<3||tensionX>=1&&tensionY>=1)return polyline(points);var first=points[0],last=points[points.length-1],closed=!1;Math_round(first.x,3)==Math_round(last.x)&&Math_round(first.y)==Math_round(last.y)&&(closed=!0);for(var path=\"\",i=0,len=points.length-1;i<len;i++){var p0=points[i-1],p1=points[i],p2=points[i+1],p3=points[i+2];0===i?p0=closed?points[points.length-2]:points[i]:i==points.length-2&&(p3=closed?points[1]:points[i+1]),path+=cubicCurveTo(p2,getCubicControlPointA(p0,p1,p2,0,tensionX,tensionY),getCubicControlPointB(0,p1,p2,p3,tensionX,tensionY))}return path},Tension}();function wavedLine(point1,point2,waveLength,waveHeight,tension,adjustWaveLength){var x1=point1.x,y1=point1.y,x2=point2.x,y2=point2.y,distance=getDistance(point1,point2);adjustWaveLength&&(waveLength=distance/Math.round(distance/waveLength));var d=Registry_registry.getCache(Utils_stringify([\"wavedLine\",point1.x,point2.x,point1.y,point2.y,waveLength,waveHeight]));if(!d){if(distance>0){var angle=Math.atan2(y2-y1,x2-x1),cos=Math.cos(angle),sin=Math.sin(angle),waveLengthX=waveLength*cos,waveLengthY=waveLength*sin;if(waveLength<=1||waveHeight<=1)d=lineTo(point2);else{var halfWaveCount=Math.round(2*distance/waveLength),points=[],sign=1;x2<x1&&(sign*=-1),y2<y1&&(sign*=-1);for(var i=0;i<=halfWaveCount;i++)points.push({x:x1+i*waveLengthX/2+(sign*=-1)*waveHeight/2*sin,y:y1+i*waveLengthY/2-sign*waveHeight/2*cos});d=new Smoothing_Tension(tension,tension).smooth(points)}}else d=\"\";Registry_registry.setCache(Utils_stringify([\"wavedLine\",point1.x,point2.x,point1.y,point2.y,waveLength,waveHeight]),d)}return d}var WavedCircle_WavedCircle=function(_super){function WavedCircle(){var _this=_super.call(this)||this;return _this.className=\"WavedCircle\",_this.element=_this.paper.add(\"path\"),_this.waveLength=16,_this.waveHeight=4,_this.fill=void 0,_this.fillOpacity=0,_this.tension=.8,_this.applyTheme(),_this}return __extends(WavedCircle,_super),WavedCircle.prototype.draw=function(){var path=\"\",radius=this.pixelRadius;radius>0&&(path=moveTo((points=this.getPoints(radius))[0])+new Smoothing_Tension(this.tension,this.tension).smooth(points));var points,innerRadius=this.pixelInnerRadius;innerRadius>0&&((points=this.getPoints(innerRadius)).reverse(),path+=moveTo(points[0])+new Smoothing_Tension(this.tension,this.tension).smooth(points)),this.path=path},WavedCircle.prototype.getPoints=function(radius){for(var circleLength=radius*Math.PI*2,halfWaveHeight=this.waveHeight/2,waveLength=circleLength/Math.round(circleLength/this.waveLength),halfWaveLength=waveLength/2,points=[],count=circleLength/waveLength,i=0;i<=count;i++){var angle1=i*waveLength/circleLength*360,angle2=(i*waveLength+halfWaveLength)/circleLength*360;points.push({x:(radius-halfWaveHeight)*Math_cos(angle1),y:(radius-halfWaveHeight)*Math_sin(angle1)}),points.push({x:(radius+halfWaveHeight)*Math_cos(angle2),y:(radius+halfWaveHeight)*Math_sin(angle2)})}return points.pop(),points},Object.defineProperty(WavedCircle.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedCircle.prototype,\"pixelInnerRadius\",{get:function(){return relativeToValue(this.innerRadius,Math_min(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(WavedCircle.prototype,\"waveLength\",{get:function(){return this.getPropertyValue(\"waveLength\")},set:function(value){this.setPropertyValue(\"waveLength\",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedCircle.prototype,\"waveHeight\",{get:function(){return this.getPropertyValue(\"waveHeight\")},set:function(value){this.setPropertyValue(\"waveHeight\",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedCircle.prototype,\"tension\",{get:function(){return this.getPropertyValue(\"tension\")},set:function(value){this.setPropertyValue(\"tension\",value),this.invalidate()},enumerable:!0,configurable:!0}),WavedCircle}(Circle_Circle);Registry_registry.registeredClasses.WavedCircle=WavedCircle_WavedCircle;var WavedLine_WavedLine=function(_super){function WavedLine(){var _this=_super.call(this)||this;return _this.className=\"WavedLine\",_this.element=_this.paper.add(\"path\"),_this.waveLength=16,_this.waveHeight=4,_this.tension=.8,_this.pixelPerfect=!1,_this.fill=Color_color(),_this.applyTheme(),_this}return __extends(WavedLine,_super),WavedLine.prototype.draw=function(){var p1={x:this.x1,y:this.y1},p2={x:this.x2,y:this.y2};this.path=moveTo(p1)+wavedLine(p1,p2,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(WavedLine.prototype,\"waveLength\",{get:function(){return this.getPropertyValue(\"waveLength\")},set:function(value){this.setPropertyValue(\"waveLength\",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedLine.prototype,\"waveHeight\",{get:function(){return this.getPropertyValue(\"waveHeight\")},set:function(value){this.setPropertyValue(\"waveHeight\",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedLine.prototype,\"tension\",{get:function(){return this.getPropertyValue(\"tension\")},set:function(value){this.setPropertyValue(\"tension\",value),this.invalidate()},enumerable:!0,configurable:!0}),WavedLine}(Line_Line),WavedRectangle_WavedRectangle=function(_super){function WavedRectangle(){var _this=_super.call(this)||this;return _this.className=\"WavedRectangle\",_this.element=_this.paper.add(\"path\"),_this.waveLength=16,_this.waveHeight=4,_this.tension=.8,_this.setPropertyValue(\"wavedLeft\",!0),_this.setPropertyValue(\"wavedRight\",!0),_this.setPropertyValue(\"wavedTop\",!0),_this.setPropertyValue(\"wavedBottom\",!0),_this.applyTheme(),_this}return __extends(WavedRectangle,_super),WavedRectangle.prototype.draw=function(){_super.prototype.draw.call(this);var w=this.pixelWidth,h=this._pixelHeight;if(w>0&&h>0){var p1={x:0,y:0},p2={x:w,y:0},p3={x:w,y:h},p4={x:0,y:h},waveLength=Math.min(w,this.waveLength),waveHeight=Math.min(h,this.waveHeight),td=\"\",rd=\"\",bd=\"\",ld=\"\";this.wavedTop&&(td=wavedLine(p1,p2,waveLength,waveHeight,this.tension,!0)),this.wavedRight&&(rd=wavedLine(p2,p3,waveLength,waveHeight,this.tension,!0)),this.wavedBottom&&(bd=wavedLine(p3,p4,waveLength,waveHeight,this.tension,!0)),this.wavedLeft&&(ld=wavedLine(p4,p1,waveLength,waveHeight,this.tension,!0)),this.path=moveTo(p1)+td+lineTo(p2)+rd+lineTo(p3)+bd+lineTo(p4)+ld+\"z\"}},Object.defineProperty(WavedRectangle.prototype,\"waveLength\",{get:function(){return this.getPropertyValue(\"waveLength\")},set:function(value){this.setPropertyValue(\"waveLength\",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedRectangle.prototype,\"waveHeight\",{get:function(){return this.getPropertyValue(\"waveHeight\")},set:function(value){this.setPropertyValue(\"waveHeight\",value),this.invalidate()},enumerable:!0,configurable:!0}),WavedRectangle.prototype.setWavedSides=function(top,right,bottom,left){this.wavedTop=top,this.wavedRight=right,this.wavedBottom=bottom,this.wavedLeft=left},Object.defineProperty(WavedRectangle.prototype,\"tension\",{get:function(){return this.getPropertyValue(\"tension\")},set:function(value){this.setPropertyValue(\"tension\",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedRectangle.prototype,\"wavedRight\",{get:function(){return this.getPropertyValue(\"wavedRight\")},set:function(value){this.setPropertyValue(\"wavedRight\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(WavedRectangle.prototype,\"wavedLeft\",{get:function(){return this.getPropertyValue(\"wavedLeft\")},set:function(value){this.setPropertyValue(\"wavedLeft\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(WavedRectangle.prototype,\"wavedTop\",{get:function(){return this.getPropertyValue(\"wavedTop\")},set:function(value){this.setPropertyValue(\"wavedTop\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(WavedRectangle.prototype,\"wavedBottom\",{get:function(){return this.getPropertyValue(\"wavedBottom\")},set:function(value){this.setPropertyValue(\"wavedBottom\",value,!0)},enumerable:!0,configurable:!0}),WavedRectangle}(Rectangle_Rectangle),ZoomOutButton_ZoomOutButton=function(_super){function ZoomOutButton(){var _this=_super.call(this)||this;_this.className=\"ZoomOutButton\",_this.padding(9,9,9,9),_this.showSystemTooltip=!0;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,background=_this.background;background.cornerRadius(20,20,20,20),background.fill=interfaceColors.getFor(\"primaryButton\"),background.stroke=interfaceColors.getFor(\"primaryButtonStroke\"),background.strokeOpacity=0,background.states.getKey(\"hover\").properties.fill=interfaceColors.getFor(\"primaryButtonHover\"),background.states.getKey(\"down\").properties.fill=interfaceColors.getFor(\"primaryButtonActive\");var icon=new Sprite_Sprite;icon.element=_this.paper.add(\"path\");var path=moveTo({x:0,y:0});return path+=lineTo({x:11,y:0}),icon.path=path,icon.pixelPerfect=!0,icon.padding(8,3,8,3),icon.stroke=interfaceColors.getFor(\"primaryButtonText\"),_this.icon=icon,_this.applyTheme(),_this}return __extends(ZoomOutButton,_super),ZoomOutButton.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Zoom Out\"))},ZoomOutButton}(Button_Button);Registry_registry.registeredClasses.ZoomOutButton=ZoomOutButton_ZoomOutButton;var PlayButton_PlayButton=function(_super){function PlayButton(){var _this=_super.call(this)||this;_this.className=\"PlayButton\",_this.padding(12,12,12,12),_this.showSystemTooltip=!0;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,background=_this.background;background.cornerRadius(25,25,25,25),background.fill=interfaceColors.getFor(\"primaryButton\"),background.stroke=interfaceColors.getFor(\"primaryButtonStroke\"),background.strokeOpacity=0,background.states.getKey(\"hover\").properties.fill=interfaceColors.getFor(\"primaryButtonHover\"),background.states.getKey(\"down\").properties.fill=interfaceColors.getFor(\"primaryButtonActive\");var playIcon=new Triangle_Triangle;playIcon.direction=\"right\",playIcon.width=9,playIcon.height=11,playIcon.marginLeft=1,playIcon.marginRight=1,playIcon.horizontalCenter=\"middle\",playIcon.verticalCenter=\"middle\",playIcon.stroke=interfaceColors.getFor(\"primaryButtonText\"),playIcon.fill=playIcon.stroke,_this.icon=playIcon;var stopIcon=new RoundedRectangle_RoundedRectangle;stopIcon.width=11,stopIcon.height=11,stopIcon.horizontalCenter=\"middle\",stopIcon.verticalCenter=\"middle\",stopIcon.cornerRadius(0,0,0,0),stopIcon.stroke=interfaceColors.getFor(\"primaryButtonText\"),stopIcon.fill=playIcon.stroke,_this.togglable=!0;var activeState=_this.states.create(\"active\");return activeState.transitionDuration=0,activeState.properties.icon=stopIcon,_this.defaultState.transitionDuration=0,_this.applyTheme(),_this}return __extends(PlayButton,_super),PlayButton.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Play\"))},PlayButton}(Button_Button);Registry_registry.registeredClasses.PlayButton=PlayButton_PlayButton;var ColorModifier_ColorModifier=function(_super){function ColorModifier(){var _this=_super.call(this)||this;return _this.className=\"ColorModifier\",_this.applyTheme(),_this}return __extends(ColorModifier,_super),ColorModifier.prototype.modify=function(value){return value},ColorModifier}(Base_BaseObject);Registry_registry.registeredClasses.ColorModifier=ColorModifier_ColorModifier;var GradientModifier_GradientModifier=function(_super){function GradientModifier(){var _this=_super.call(this)||this;return _this.lightnesses=[],_this.brightnesses=[],_this.opacities=[],_this.offsets=[],_this.className=\"GradientModifier\",_this.applyTheme(),_this}return __extends(GradientModifier,_super),Object.defineProperty(GradientModifier.prototype,\"lightnesses\",{get:function(){return this._lightnesses},set:function(value){this._lightnesses=value,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(GradientModifier.prototype,\"brightnesses\",{get:function(){return this._brightnesses},set:function(value){this._brightnesses=value,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(GradientModifier.prototype,\"opacities\",{get:function(){return this._opacities},set:function(value){this._opacities=value},enumerable:!0,configurable:!0}),Object.defineProperty(GradientModifier.prototype,\"offsets\",{get:function(){return this._offsets},set:function(value){this._offsets=value},enumerable:!0,configurable:!0}),GradientModifier.prototype.modify=function(value){this.gradient.clear();var count=0;this.opacities&&(count=Math_max(count,this.opacities.length)),this.lightnesses&&(count=Math_max(count,this.lightnesses.length)),this.brightnesses&&(count=Math_max(count,this.brightnesses.length));for(var lightness,brightness,opacity=1,i=0;i<count;i++){var color=value;this.opacities&&isNumber(this.opacities[i])&&(opacity=this.opacities[i]),this.lightnesses&&isNumber(this.lightnesses[i])&&(lightness=this.lightnesses[i],brightness=void 0),this.brightnesses&&isNumber(this.brightnesses[i])&&(brightness=this.brightnesses[i],lightness=void 0),isNumber(brightness)?color=value.brighten(this.brightnesses[i]):isNumber(lightness)&&(color=value.lighten(this.lightnesses[i])),this.gradient.addColor(color,opacity,this.offsets[i])}return this.gradient},GradientModifier.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this._offsets=source.offsets,this._brightnesses=source.brightnesses,this._lightnesses=source.lightnesses,this._opacities=source.opacities},GradientModifier}(ColorModifier_ColorModifier);Registry_registry.registeredClasses.GradientModifier=GradientModifier_GradientModifier;var LinearGradientModifier_LinearGradientModifier=function(_super){function LinearGradientModifier(){var _this=_super.call(this)||this;return _this.className=\"LinearGradientModifier\",_this.gradient=new LinearGradient_LinearGradient,_this.applyTheme(),_this}return __extends(LinearGradientModifier,_super),LinearGradientModifier.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.gradient=source.gradient.clone()},LinearGradientModifier}(GradientModifier_GradientModifier);Registry_registry.registeredClasses.LinearGradientModifier=LinearGradientModifier_LinearGradientModifier;var Cone_Cone=function(_super){function Cone(){var _this=_super.call(this)||this;return _this.className=\"Cone\",_this.angle=30,_this.radius=Percent_percent(100),_this.topRadius=Percent_percent(100),_this.top=_this.createChild(Ellipse_Ellipse),_this.top.shouldClone=!1,_this.bottom=_this.createChild(Ellipse_Ellipse),_this.bottom.shouldClone=!1,_this.body=_this.createChild(Sprite_Sprite),_this.body.shouldClone=!1,_this.body.setElement(_this.paper.add(\"path\")),_this.layout=\"none\",_this.bodyFillModifier=new LinearGradientModifier_LinearGradientModifier,_this.bodyFillModifier.lightnesses=[0,-.25,0],_this.body.fillModifier=_this.bodyFillModifier,_this.applyTheme(),_this}return __extends(Cone,_super),Cone.prototype.draw=function(){_super.prototype.draw.call(this),copyProperties(this,this.top,visualProperties),copyProperties(this,this.bottom,visualProperties),copyProperties(this,this.body,visualProperties);var radiusBase,dx,dy,w=this.innerWidth,h=this.innerHeight,bottom=this.bottom,top=this.top,angle=this.angle;\"horizontal\"==this.orientation?(radiusBase=h/2,bottom.y=h/2,top.y=h/2,top.x=w,dx=(90-angle)/90,dy=0,this.bodyFillModifier.gradient.rotation=90):(dx=0,dy=(90-angle)/90,radiusBase=w/2,bottom.y=h,bottom.x=w/2,top.x=w/2,this.bodyFillModifier.gradient.rotation=0);var path,radius=this.radius.value*radiusBase,topRadius=this.topRadius.value*radiusBase;bottom.radius=radius-radius*dx,bottom.radiusY=radius-radius*dy,top.radius=topRadius-topRadius*dx,top.radiusY=topRadius-topRadius*dy,path=\"horizontal\"==this.orientation?moveTo({x:0,y:h/2-bottom.radiusY})+arcTo(-90,-180,bottom.radius,bottom.radiusY)+lineTo({x:w,y:h/2+top.radiusY})+arcTo(90,180,top.radius,top.radiusY)+\" Z\":moveTo({x:w/2-top.radius,y:0})+arcTo(180,-180,top.radius,top.radiusY)+lineTo({x:w/2+bottom.radius,y:h})+arcTo(0,180,bottom.radius,bottom.radiusY)+\" Z\",this.body.path=path},Object.defineProperty(Cone.prototype,\"angle\",{get:function(){return this.getPropertyValue(\"angle\")},set:function(value){this.setPropertyValue(\"angle\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Cone.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPropertyValue(\"radius\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Cone.prototype,\"topRadius\",{get:function(){return this.getPropertyValue(\"topRadius\")},set:function(value){this.setPropertyValue(\"topRadius\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Cone.prototype,\"orientation\",{get:function(){return this.getPropertyValue(\"orientation\")},set:function(value){this.setPropertyValue(\"orientation\",value,!0)},enumerable:!0,configurable:!0}),Cone}(Container_Container),LightenFilter_LightenFilter=function(_super){function LightenFilter(){var _this=_super.call(this)||this;return _this.className=\"LightenFilter\",_this.feColorMatrix=_this.paper.add(\"feColorMatrix\"),_this.feColorMatrix.attr({type:\"matrix\"}),_this.filterPrimitives.push(_this.feColorMatrix),_this.lightness=0,_this.applyTheme(),_this}return __extends(LightenFilter,_super),Object.defineProperty(LightenFilter.prototype,\"lightness\",{get:function(){return this.properties.lightness},set:function(value){this.properties.lightness=value;var v=value+1;this.feColorMatrix.attr({values:v+\" 0 0 0 0 0 \"+v+\" 0 0 0 0 0 \"+v+\" 0 0 0 0 0 1 0\"})},enumerable:!0,configurable:!0}),LightenFilter}(Filter_Filter);Registry_registry.registeredClasses.LightenFilter=LightenFilter_LightenFilter;var Rectangle3D_Rectangle3D=function(_super){function Rectangle3D(){var _this=_super.call(this)||this;_this.angle=30,_this.depth=30,_this.className=\"Rectangle3D\",_this.layout=\"none\";var sideBack=_this.createChild(Sprite_Sprite);sideBack.shouldClone=!1,sideBack.setElement(_this.paper.add(\"path\")),sideBack.isMeasured=!1,_this.sideBack=sideBack,_this._disposers.push(_this.sideBack);var sideBottom=_this.createChild(Sprite_Sprite);sideBottom.shouldClone=!1,sideBottom.setElement(_this.paper.add(\"path\")),sideBottom.isMeasured=!1,_this.sideBottom=sideBottom,_this._disposers.push(_this.sideBottom);var sideLeft=_this.createChild(Sprite_Sprite);sideLeft.shouldClone=!1,sideLeft.setElement(_this.paper.add(\"path\")),sideLeft.isMeasured=!1,_this.sideLeft=sideLeft,_this._disposers.push(_this.sideLeft);var sideRight=_this.createChild(Sprite_Sprite);sideRight.shouldClone=!1,sideRight.setElement(_this.paper.add(\"path\")),sideRight.isMeasured=!1,_this.sideRight=sideRight,_this._disposers.push(_this.sideRight);var sideTop=_this.createChild(Sprite_Sprite);sideTop.shouldClone=!1,sideTop.setElement(_this.paper.add(\"path\")),sideTop.isMeasured=!1,_this.sideTop=sideTop,_this._disposers.push(_this.sideTop);var sideFront=_this.createChild(Sprite_Sprite);return sideFront.shouldClone=!1,sideFront.setElement(_this.paper.add(\"path\")),sideFront.isMeasured=!1,_this.sideFront=sideFront,_this._disposers.push(_this.sideFront),_this.applyTheme(),_this}return __extends(Rectangle3D,_super),Rectangle3D.prototype.draw=function(){_super.prototype.draw.call(this);var w=this.innerWidth,h=this.innerHeight,depth=this.depth,angle=this.angle,sin=Math_sin(angle),cos=Math_cos(angle),a={x:0,y:0},b={x:w,y:0},c={x:w,y:h},d={x:0,y:h},ah={x:depth*cos,y:-depth*sin},bh={x:depth*cos+w,y:-depth*sin},ch={x:depth*cos+w,y:-depth*sin+h},dh={x:depth*cos,y:-depth*sin+h};this.sideFront.path=moveTo(a)+lineTo(b)+lineTo(c)+lineTo(d)+\" Z\",this.sideBack.path=moveTo(ah)+lineTo(bh)+lineTo(ch)+lineTo(dh)+\" Z\",this.sideLeft.path=moveTo(a)+lineTo(ah)+lineTo(dh)+lineTo(d)+\" Z\",this.sideRight.path=moveTo(b)+lineTo(bh)+lineTo(ch)+lineTo(c)+\" Z\",this.sideBottom.path=moveTo(d)+lineTo(dh)+lineTo(ch)+lineTo(c)+\" Z\",this.sideTop.path=moveTo(a)+lineTo(ah)+lineTo(bh)+lineTo(b)+\" Z\"},Object.defineProperty(Rectangle3D.prototype,\"depth\",{get:function(){return this.getPropertyValue(\"depth\")},set:function(value){this.setPropertyValue(\"depth\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Rectangle3D.prototype,\"angle\",{get:function(){return this.getPropertyValue(\"angle\")},set:function(value){this.setPropertyValue(\"angle\",value,!0)},enumerable:!0,configurable:!0}),Rectangle3D.prototype.setFill=function(value){var colorStr;if(_super.prototype.setFill.call(this,value),value instanceof Color_Color)colorStr=value.hex;else if(value instanceof LinearGradient_LinearGradient||value instanceof RadialGradient_RadialGradient)colorStr=value.stops.getIndex(0).color.hex;else{var filter=new LightenFilter_LightenFilter;filter.lightness=-.2,this.sideBack.filters.push(filter);var filter2=filter.clone();filter2.lightness=-.4,this.sideLeft.filters.push(filter2);var filter3=filter.clone();filter3.lightness=-.2,this.sideRight.filters.push(filter3);var filter4=filter.clone();filter4.lightness=-.1,this.sideTop.filters.push(filter4);var filter5=filter.clone();filter5.lightness=-.5,this.sideBottom.filters.push(filter5)}colorStr&&(this.sideBack.fill=Color_color(colorStr).lighten(-.2),this.sideLeft.fill=Color_color(colorStr).lighten(-.4),this.sideRight.fill=Color_color(colorStr).lighten(-.2),this.sideTop.fill=Color_color(colorStr).lighten(-.1),this.sideBottom.fill=Color_color(colorStr).lighten(-.5))},Rectangle3D.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.sideBack.copyFrom(source.sideBack),this.sideLeft.copyFrom(source.sideLeft),this.sideRight.copyFrom(source.sideRight),this.sideTop.copyFrom(source.sideTop),this.sideBottom.copyFrom(source.sideBottom)},Rectangle3D}(Container_Container),Slice3D_Slice3D=function(_super){function Slice3D(){var _this=_super.call(this)||this;_this.className=\"Slice3D\",_this.layout=\"none\";var edge=_this.createChild(Sprite_Sprite);_this.edge=edge,edge.shouldClone=!1,edge.isMeasured=!1,edge.toBack(),_this.angle=30,_this.depth=20;var sideA=_this.createChild(Sprite_Sprite);_this.sideA=sideA,sideA.shouldClone=!1,sideA.isMeasured=!1;var sideB=_this.createChild(Sprite_Sprite);return _this.sideB=sideB,sideB.shouldClone=!1,sideB.isMeasured=!1,_this.applyTheme(),_this}return __extends(Slice3D,_super),Slice3D.prototype.setFill=function(value){var colorStr;if(_super.prototype.setFill.call(this,value),value instanceof Color_Color)colorStr=value.hex;else if(value instanceof LinearGradient_LinearGradient||value instanceof RadialGradient_RadialGradient)colorStr=value.stops.getIndex(0).color.hex;else{var filter=new LightenFilter_LightenFilter;filter.lightness=-.25,this.edge.filters.push(filter),this.sideA.filters.push(filter.clone()),this.sideB.filters.push(filter.clone())}if(colorStr){var edgeFill=Color_color(colorStr).lighten(-.25);this.edge.fill=edgeFill,this.sideA.fill=edgeFill,this.sideB.fill=edgeFill,this.edge.stroke=edgeFill,this.sideA.stroke=edgeFill,this.sideB.stroke=edgeFill}},Slice3D.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,_super.prototype.draw.call(this),0!==this.arc&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var startAngle=this.startAngle,arc=this.arc,innerRadius=this.pixelInnerRadius||0,radiusY=this.radiusY||0,radius=this.radius,endAngle=startAngle+arc,innerRadiusY=radiusY/radius*innerRadius,a0={x:Math_cos(startAngle)*innerRadius,y:Math_sin(startAngle)*innerRadiusY},b0={x:Math_cos(startAngle)*radius,y:Math_sin(startAngle)*radiusY},c0={x:Math_cos(endAngle)*radius,y:Math_sin(endAngle)*radiusY},d0={x:Math_cos(endAngle)*innerRadius,y:Math_sin(endAngle)*innerRadiusY},h=this.depth,ah={x:a0.x,y:a0.y-h},bh={x:b0.x,y:b0.y-h},ch={x:c0.x,y:c0.y-h},dh={x:d0.x,y:d0.y-h},edgePath=\"\",count=Math.ceil(arc/5),step=arc/count,mangle=startAngle,prevPoint=bh,i=0;i<count;i++)if((mangle+=step)>0&&mangle<180){edgePath+=moveTo(prevPoint);var pp={x:Math_cos(mangle)*radius,y:Math_sin(mangle)*radiusY-h};edgePath+=lineTo({x:prevPoint.x,y:prevPoint.y+h}),edgePath+=arcToPoint({x:pp.x,y:pp.y+h},radius,radiusY,!0),edgePath+=lineTo(pp),edgePath+=arcToPoint(prevPoint,radius,radiusY),edgePath+=\"z\",prevPoint=pp}else edgePath+=moveTo(prevPoint),edgePath+=arcToPoint(pp={x:Math_cos(mangle)*radius,y:Math_sin(mangle)*radiusY-h},radius,radiusY,!0),edgePath+=lineTo({x:pp.x,y:pp.y+h}),edgePath+=arcToPoint({x:prevPoint.x,y:prevPoint.y+h},radius,radiusY),edgePath+=lineTo(prevPoint),edgePath+=\"z\",prevPoint=pp;for(prevPoint=ah,mangle=startAngle,i=0;i<count;i++)(mangle+=step)>0&&mangle<180?(edgePath+=moveTo(prevPoint),pp={x:Math_cos(mangle)*innerRadius,y:Math_sin(mangle)*innerRadiusY-h},edgePath+=lineTo({x:prevPoint.x,y:prevPoint.y+h}),edgePath+=arcToPoint({x:pp.x,y:pp.y+h},innerRadius,innerRadiusY,!0),edgePath+=lineTo(pp),edgePath+=arcToPoint(prevPoint,innerRadius,innerRadiusY),edgePath+=\"z\",prevPoint=pp):(edgePath+=moveTo(prevPoint),edgePath+=arcToPoint(pp={x:Math_cos(mangle)*innerRadius,y:Math_sin(mangle)*innerRadiusY-h},innerRadius,innerRadiusY,!0),edgePath+=lineTo({x:pp.x,y:pp.y+h}),edgePath+=arcToPoint({x:prevPoint.x,y:prevPoint.y+h},innerRadius,innerRadiusY),edgePath+=lineTo(prevPoint),edgePath+=\"z\",prevPoint=pp);this.edge.path=edgePath,this.sideA.path=moveTo(a0)+lineTo(b0)+lineTo(bh)+lineTo(ah)+\" Z\",this.sideB.path=moveTo(c0)+lineTo(d0)+lineTo(dh)+lineTo(ch)+\" Z\",this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-h}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(Slice3D.prototype,\"depth\",{get:function(){return this.getPropertyValue(\"depth\")},set:function(depth){this.setPropertyValue(\"depth\",depth,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice3D.prototype,\"angle\",{get:function(){var angle=this.getPropertyValue(\"angle\");return isNumber(angle)||(angle=0),angle},set:function(value){this.setPropertyValue(\"angle\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice3D.prototype,\"radiusY\",{get:function(){var radiusY=this.getPropertyValue(\"radiusY\");return isNumber(radiusY)||(radiusY=this.radius-this.radius*this.angle/90),radiusY},set:function(value){this.setPropertyValue(\"radiusY\",value,!0)},enumerable:!0,configurable:!0}),Slice3D.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.edge.copyFrom(source.edge),this.sideA.copyFrom(source.sideA),this.sideB.copyFrom(source.sideB)},Slice3D}(Slice_Slice),RadialGradientModifier_RadialGradientModifier=function(_super){function RadialGradientModifier(){var _this=_super.call(this)||this;return _this.className=\"RadialGradientModifier\",_this.gradient=new RadialGradient_RadialGradient,_this.applyTheme(),_this}return __extends(RadialGradientModifier,_super),RadialGradientModifier.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.gradient=source.gradient.clone()},RadialGradientModifier}(GradientModifier_GradientModifier);Registry_registry.registeredClasses.RadialGradientModifier=RadialGradientModifier_RadialGradientModifier;var LinePattern_LinePattern=function(_super){function LinePattern(){var _this=_super.call(this)||this;return _this._line=_this.paper.add(\"line\"),_this.addElement(_this._line),_this}return __extends(LinePattern,_super),LinePattern.prototype.draw=function(){_super.prototype.draw.call(this),this._line&&this._line.attr({x2:2*this.width})},LinePattern}(Pattern_Pattern);Registry_registry.registeredClasses.LinePattern=LinePattern_LinePattern;var RectPattern_RectPattern=function(_super){function RectPattern(){var _this=_super.call(this)||this;return _this.rectHeight=1,_this.rectWidth=1,_this}return __extends(RectPattern,_super),RectPattern.prototype.draw=function(){this._rect&&this.removeElement(this._rect),this._rect=this.paper.add(\"rect\"),this._rect.attr({width:this.rectWidth,height:this.rectHeight}),this.addElement(this._rect),_super.prototype.draw.call(this)},Object.defineProperty(RectPattern.prototype,\"rectWidth\",{get:function(){return this.properties.rectWidth},set:function(value){this.properties.rectWidth=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(RectPattern.prototype,\"rectHeight\",{get:function(){return this.properties.rectHeight},set:function(value){this.properties.rectHeight=value,this.draw()},enumerable:!0,configurable:!0}),RectPattern}(Pattern_Pattern);Registry_registry.registeredClasses.RectPattern=RectPattern_RectPattern;var ColorizeFilter_ColorizeFilter=function(_super){function ColorizeFilter(){var _this=_super.call(this)||this;return _this.className=\"ColorizeFilter\",_this.feColorMatrix=_this.paper.add(\"feColorMatrix\"),_this.feColorMatrix.attr({type:\"matrix\"}),_this.filterPrimitives.push(_this.feColorMatrix),_this.intensity=1,_this.applyTheme(),_this}return __extends(ColorizeFilter,_super),ColorizeFilter.prototype.applyFilter=function(){var r,g,b,i=this.intensity,ii=1-i,color=this.color;color&&color.rgb?(r=color.rgb.r/255*i,g=color.rgb.g/255*i,b=color.rgb.b/255*i):(r=0,g=0,b=0),this.feColorMatrix.attr({values:ii+\" 0 0 0 \"+r+\" 0 \"+ii+\" 0 0 \"+g+\" 0 0 \"+ii+\" 0 \"+b+\" 0 0 0 1 0\"})},Object.defineProperty(ColorizeFilter.prototype,\"color\",{get:function(){return this.properties.color},set:function(value){this.properties.color=value,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(ColorizeFilter.prototype,\"intensity\",{get:function(){return this.properties.intensity},set:function(value){this.properties.intensity=value,this.applyFilter()},enumerable:!0,configurable:!0}),ColorizeFilter}(Filter_Filter);Registry_registry.registeredClasses.ColorizeFilter=ColorizeFilter_ColorizeFilter;var DesaturateFilter_DesaturateFilter=function(_super){function DesaturateFilter(){var _this=_super.call(this)||this;return _this.className=\"DesaturateFilter\",_this.feColorMatrix=_this.paper.add(\"feColorMatrix\"),_this.feColorMatrix.attr({type:\"saturate\"}),_this.filterPrimitives.push(_this.feColorMatrix),_this.width=120,_this.height=120,_this.saturation=0,_this.applyTheme(),_this}return __extends(DesaturateFilter,_super),Object.defineProperty(DesaturateFilter.prototype,\"saturation\",{get:function(){return this.properties.saturation},set:function(value){this.properties.saturation=value,this.feColorMatrix.attr({values:value.toString()})},enumerable:!0,configurable:!0}),DesaturateFilter}(Filter_Filter);Registry_registry.registeredClasses.DesaturateFilter=DesaturateFilter_DesaturateFilter;var BlurFilter_BlurFilter=function(_super){function BlurFilter(){var _this=_super.call(this)||this;return _this.className=\"BlurFilter\",_this.feGaussianBlur=_this.paper.add(\"feGaussianBlur\"),_this.feGaussianBlur.attr({result:\"blurOut\",in:\"SourceGraphic\"}),_this.filterPrimitives.push(_this.feGaussianBlur),_this.width=200,_this.height=200,_this.blur=1.5,_this.applyTheme(),_this}return __extends(BlurFilter,_super),Object.defineProperty(BlurFilter.prototype,\"blur\",{get:function(){return this.properties.blur},set:function(value){this.properties.blur=value,this.feGaussianBlur.attr({stdDeviation:value/this.scale})},enumerable:!0,configurable:!0}),BlurFilter}(Filter_Filter);Registry_registry.registeredClasses.BlurFilter=BlurFilter_BlurFilter;var FocusFilter_FocusFilter=function(_super){function FocusFilter(){var _this=_super.call(this)||this;return _this.className=\"FocusFilter\",_this.feFlood=_this.paper.add(\"feFlood\"),_this.feFlood.attr({\"flood-color\":(new InterfaceColorSet_InterfaceColorSet).getFor(\"primaryButtonHover\"),result:\"base\"}),_this.filterPrimitives.push(_this.feFlood),_this.feMorphology=_this.paper.add(\"feMorphology\"),_this.feMorphology.attr({result:\"bigger\",in:\"SourceGraphic\",operator:\"dilate\",radius:\"2\"}),_this.filterPrimitives.push(_this.feMorphology),_this.feColorMatrix=_this.paper.add(\"feColorMatrix\"),_this.feColorMatrix.attr({result:\"mask\",in:\"bigger\",type:\"matrix\",values:\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\"}),_this.filterPrimitives.push(_this.feColorMatrix),_this.feComposite=_this.paper.add(\"feComposite\"),_this.feComposite.attr({result:\"drop\",in:\"base\",in2:\"mask\",operator:\"in\"}),_this.filterPrimitives.push(_this.feComposite),_this.feBlend=_this.paper.add(\"feBlend\"),_this.feBlend.attr({in:\"SourceGraphic\",in2:\"drop\",mode:\"normal\"}),_this.filterPrimitives.push(_this.feBlend),_this.width=130,_this.height=130,_this.applyTheme(),_this}return __extends(FocusFilter,_super),Object.defineProperty(FocusFilter.prototype,\"stroke\",{get:function(){return this.properties.stroke},set:function(value){this.properties.stroke=value,this.feFlood.attr({\"flood-color\":value})},enumerable:!0,configurable:!0}),Object.defineProperty(FocusFilter.prototype,\"strokeWidth\",{get:function(){return this.properties.strokeWidth},set:function(value){this.properties.strokeWidth=value,this.feMorphology.attr({radius:value})},enumerable:!0,configurable:!0}),Object.defineProperty(FocusFilter.prototype,\"opacity\",{get:function(){return this.properties.opacity},set:function(value){this.properties.opacity=value,this.feColorMatrix.attr({values:\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \"+value+\" 0\"})},enumerable:!0,configurable:!0}),FocusFilter.prototype.setSprite=function(value){this._sprite&&this._sprite!=value&&this._sprite.group.removeStyle(\"outline\"),value.group.addStyle({outline:\"none\"}),_super.prototype.setSprite.call(this,value)},FocusFilter}(Filter_Filter),ColorSet_ColorSet=function(_super){function ColorSet(){var _this=_super.call(this)||this;return _this._list=[],_this._currentStep=0,_this._startIndex=0,_this._currentPass=0,_this.baseColor=new Color_Color({r:103,g:183,b:220}),_this.stepOptions={},_this.passOptions={brighten:-.2},_this.step=1,_this.minColors=20,_this.minLightness=.2,_this.maxLightness=.9,_this.shuffle=!1,_this.wrap=!0,_this.reuse=!1,_this.saturation=1,_this.className=\"ColorSet\",_this.applyTheme(),_this}return __extends(ColorSet,_super),Object.defineProperty(ColorSet.prototype,\"list\",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(value){this._list=value,this.reset()},enumerable:!0,configurable:!0}),ColorSet.prototype.getReusableColor=function(index){if(0==this._list.length)return this.generate(1),this.list[0];var tmpstep=index-Math.floor(index/this._list.length)*this.list.length;return this.list[tmpstep]},ColorSet.prototype.next=function(){var color;return this.list.length<=this._currentStep?this.reuse?color=this.getReusableColor(this._currentStep):(this.generate(this.minColors),color=this.list[this._currentStep]):color=this.list[this._currentStep],this._currentStep+=this.step,color.saturate(this.saturation)},ColorSet.prototype.getIndex=function(i){var color;return this.list.length<=i?this.reuse?color=this.getReusableColor(i):(this.generate(this.minColors),color=this.getIndex(i)):color=this.list[i],color.saturate(this.saturation)},ColorSet.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(ColorSet.prototype,\"currentStep\",{get:function(){return this._currentStep},set:function(value){this._currentStep=value},enumerable:!0,configurable:!0}),Object.defineProperty(ColorSet.prototype,\"startIndex\",{get:function(){return this._startIndex},set:function(value){this._startIndex=value,this.reset()},enumerable:!0,configurable:!0}),ColorSet.prototype.generate=function(count){var hsl=rgbToHsl(getValue(this.currentColor.rgb)),hueStep=hasValue(this.stepOptions.hue)?this.stepOptions.hue:1/count,mods={brighten:0,lighten:0,hue:hsl.h,lightness:hsl.l,saturation:hsl.s},hues=[];if(this.reuse)for(var i=0;i<count;i++)hues.push(rgbToHsl(getValue(this._list[i].rgb)).h);else for(i=0;i<count;i++){var h=hsl.h+hueStep*i;this.wrap&&h>1&&(h-=1),hues.push(h)}for(this.shuffle&&hues.sort(function(a,b){return Math.random()-.5}),i=0;i<count;i++){this.reuse?hsl=rgbToHsl(getValue(this._list[i].rgb)):hsl.h=hues.shift(),this.applyStepOptions(hsl,mods,i+1,this._currentPass);var c=Color_color(hslToRgb(hsl)),brighten=(this.stepOptions.brighten||0)*(i+1)+(this.passOptions.brighten||0)*this._currentPass;0!=brighten&&(brighten=this.wrap?fitNumberRelative(brighten,this.minLightness,this.maxLightness):fitNumber(brighten,this.minLightness,this.maxLightness),c=c.brighten(brighten));var lighten=(this.stepOptions.lighten||0)*(i+1)+(this.passOptions.lighten||0)*this._currentPass;0!=lighten&&(lighten=this.wrap?fitNumberRelative(lighten,this.minLightness,this.maxLightness):fitNumber(lighten,this.minLightness,this.maxLightness),c=c.lighten(lighten)),this._list.push(c)}this._currentPass++},Object.defineProperty(ColorSet.prototype,\"currentColor\",{get:function(){return 0==this._list.length?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),ColorSet.prototype.applyStepOptions=function(hsl,base,step,pass){hsl.l=base.lightness+(this.stepOptions.lightness||0)*step+(this.passOptions.lightness||0)*pass,this.wrap?(hsl.l>1?hsl.l=hsl.l-Math.floor(hsl.l):hsl.l<0&&(hsl.l=-(hsl.l-Math.floor(hsl.l))),hsl.l=fitNumberRelative(hsl.l,this.minLightness,this.maxLightness)):(hsl.l>1?hsl.l=1:hsl.l<0&&(hsl.l=0),hsl.l=fitNumber(hsl.l,this.minLightness,this.maxLightness))},ColorSet.prototype.processConfig=function(config){if(config&&hasValue(config.list)&&Type_isArray(config.list))for(var i=0,len=config.list.length;i<len;i++)config.list[i]instanceof Color_Color||(config.list[i]=Color_color(config.list[i]));_super.prototype.processConfig.call(this,config)},ColorSet}(Base_BaseObject);Registry_registry.registeredClasses.ColorSet=ColorSet_ColorSet,function(){function Plugin(){this._disposed=!1,this._disposers=[]}Plugin.prototype.init=function(){},Plugin.prototype.isDisposed=function(){return this._disposed},Plugin.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._disposers;for(this._disposers=null;0!==a.length;)a.shift().dispose()}}}();var AmChartsLogo_AmChartsLogo=function(_super){function AmChartsLogo(){var _this=_super.call(this)||this;_this.className=\"AmChartsLogo\",_this.valign=\"bottom\",_this.opacity=.3,_this.defaultState.properties.opacity=.4,_this.url=\"https://www.amcharts.com/\",_this.urlTarget=\"_blank\",_this.showSystemTooltip=!0,_this.readerTitle=\"Chart created using amCharts library\",_this.width=66,_this.height=21,_this.background.opacity=0;var aColor=Color_color(\"#474758\");\"#ffffff\"==(new InterfaceColorSet_InterfaceColorSet).getFor(\"background\").alternative.hex&&(aColor=Color_color(\"#ffffff\"));var aGradient=new LinearGradient_LinearGradient;aGradient.addColor(aColor),aGradient.addColor(aColor,1,.75),aGradient.addColor(Color_color(\"#3cabff\"),1,.755),aGradient.rotation=-10;var aStroke=aGradient,m=_this.createChild(Polyspline_Polyspline);m.shouldClone=!1,m.isMeasured=!1,m.segments=[[{x:15,y:15},{x:27,y:15},{x:36,y:6},{x:40.5,y:10.5},{x:45,y:6},{x:54,y:15},{x:60,y:15}]],m.strokeWidth=6*.3,m.tensionX=.8,m.tensionY=1,m.stroke=Color_color(\"#3cabff\");var a=_this.createChild(Polyspline_Polyspline);a.shouldClone=!1,a.isMeasured=!1,a.segments=[[{x:6,y:15},{x:15,y:15},{x:27,y:12*.3},{x:39.9,y:15},{x:51,y:15},{x:60,y:15}]],a.strokeWidth=6*.3,a.tensionX=.75,a.tensionY=1,a.stroke=aStroke,_this._disposers.push(a);var desaturateFilter=new DesaturateFilter_DesaturateFilter;_this.filters.push(desaturateFilter);var desaturateFilterHover=new DesaturateFilter_DesaturateFilter;desaturateFilterHover.saturation=1;var hoverState=_this.states.create(\"hover\");return hoverState.properties.opacity=1,hoverState.filters.push(desaturateFilterHover),_this.applyTheme(),_this}return __extends(AmChartsLogo,_super),AmChartsLogo}(Container_Container);function addToQueue(sprite){-1==Registry_registry.queue.indexOf(sprite)&&(sprite.__disabled=!0,sprite.tooltipContainer.__disabled=!0,sprite.events.disableType(\"appeared\"),0==Registry_registry.queue.length&&queueHandler(sprite),sprite.addDisposer(new Disposer(function(){removeFromQueue(sprite)})),Registry_registry.queue.push(sprite))}function removeFromQueue(sprite){var index=Registry_registry.queue.indexOf(sprite);if(index>=0){Registry_registry.queue.splice(Registry_registry.queue.indexOf(sprite),1);var nextSprite=Registry_registry.queue[index];nextSprite&&queueHandler(nextSprite)}}function viewPortHandler(sprite){sprite.__disabled&&isElementInViewport(sprite.htmlContainer)&&(sprite.vpDisposer&&sprite.vpDisposer.dispose(),addToQueue(sprite))}function queueHandler(sprite){sprite.__disabled=!1,sprite.tooltipContainer.__disabled=!1,sprite.events.enableType(\"appeared\"),sprite.showOnInit&&sprite.events.on(\"appeared\",function(){removeFromQueue(sprite)}),sprite.vpDisposer&&sprite.vpDisposer.dispose(),sprite instanceof Component_Component?(sprite.invalidateData(),sprite.reinit(),sprite.events.once(\"datavalidated\",function(){sprite.showOnInit?sprite.appear():removeFromQueue(sprite)})):sprite.showOnInit?sprite.appear():removeFromQueue(sprite)}function create(htmlElement,classType){var classError;isString(classType)&&(hasValue(Registry_registry.registeredClasses[classType])?classType=Registry_registry.registeredClasses[classType]:(classType=Registry_registry.registeredClasses.Container,classError=new Error(\"Class [\"+classType+\"] is not loaded.\")));var chart=function(htmlElement,classType){var htmlContainer=function(el){if(isString(el)){var e=document.getElementById(el);if(null==e&&(e=document.getElementsByClassName(el)[0]),e instanceof HTMLElement)return e}else if(el instanceof HTMLElement)return el}(htmlElement);if(htmlContainer){htmlContainer.innerHTML=\"\";var svgDiv_1=new SVGContainer_SVGContainer(htmlContainer),paper=new Paper_Paper(svgDiv_1.SVGContainer,\"svg-\"+(svgContainers.length-1)),container_1=new Container_Container;container_1.htmlContainer=htmlContainer,container_1.svgContainer=svgDiv_1,container_1.width=Percent_percent(100),container_1.height=Percent_percent(100),container_1.background.fillOpacity=0,container_1.paper=paper,paper.append(container_1.group),container_1.relativeWidth=1,container_1.relativeHeight=1,svgDiv_1.container=container_1;var sprite_1=container_1.createChild(classType);sprite_1.topParent=container_1;var uid=sprite_1.uid;Registry_registry.invalidSprites[uid]=[],Registry_registry.invalidDatas[uid]=[],Registry_registry.invalidPositions[uid]=[],Registry_registry.invalidLayouts[uid]=[],container_1.baseId=uid,sprite_1.isBaseSprite=!0,sprite_1.focusFilter=new FocusFilter_FocusFilter,Registry_registry.baseSprites.push(sprite_1),Registry_registry.baseSpritesByUid[uid]=sprite_1,sprite_1.maskRectangle={x:0,y:0,width:svgDiv_1.width,height:svgDiv_1.height},container_1.events.on(\"maxsizechanged\",function(event){0!=event.previousWidth&&0!=event.previousHeight||container_1.deepInvalidate(),sprite_1.maskRectangle&&(sprite_1.maskRectangle={x:0,y:0,width:svgDiv_1.width,height:svgDiv_1.height})});var loopTimer_1=null,loop_1=function(){sprite_1.isDisposed()?loopTimer_1=null:null==getRoot(sprite_1.dom)?(function(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i]=arguments[_i];console&&console.warn.apply(console,__spread(messages))}(\"Chart was not disposed\",sprite_1.uid),loopTimer_1=null):loopTimer_1=setTimeout(loop_1,1e3)};loop_1(),sprite_1.addDisposer(new Disposer(function(){null!==loopTimer_1&&clearTimeout(loopTimer_1),Array_remove(Registry_registry.baseSprites,sprite_1),Registry_registry.baseSpritesByUid[sprite_1.uid]=void 0})),sprite_1.addDisposer(container_1);var tooltipContainer_1=container_1.createChild(Container_Container);tooltipContainer_1.topParent=container_1,tooltipContainer_1.width=Percent_percent(100),tooltipContainer_1.height=Percent_percent(100),tooltipContainer_1.isMeasured=!1,container_1.tooltipContainer=tooltipContainer_1,sprite_1.tooltip=new Tooltip_Tooltip,sprite_1.tooltip.hide(0),sprite_1.tooltip.setBounds({x:0,y:0,width:tooltipContainer_1.maxWidth,height:tooltipContainer_1.maxHeight}),tooltipContainer_1.events.on(\"maxsizechanged\",function(){getValue(sprite_1.tooltip).setBounds({x:0,y:0,width:tooltipContainer_1.maxWidth,height:tooltipContainer_1.maxHeight})},void 0,!1);var preloader_1=new Preloader_Preloader;if(preloader_1.events.on(\"inited\",function(){preloader_1.__disabled=!0},void 0,!1),container_1.preloader=preloader_1,!container_1.hasLicense()){var logo_1=tooltipContainer_1.createChild(AmChartsLogo_AmChartsLogo);tooltipContainer_1.events.on(\"maxsizechanged\",function(ev){tooltipContainer_1.maxWidth<=100||tooltipContainer_1.maxHeight<=50?logo_1.hide():(logo_1.isHidden||logo_1.isHiding)&&logo_1.show()},void 0,!1),sprite_1.logo=logo_1,logo_1.align=\"left\",logo_1.valign=\"bottom\"}if(container_1.isStandaloneInstance=!0,Options_options.onlyShowOnViewport)if(isElementInViewport(htmlContainer))Options_options.queue&&addToQueue(sprite_1);else{sprite_1.__disabled=!0,sprite_1.tooltipContainer.__disabled=!0;var disposer=new Disposer_MultiDisposer([addEventListener(window,\"DOMContentLoaded\",function(){viewPortHandler(sprite_1)}),addEventListener(window,\"load\",function(){viewPortHandler(sprite_1)}),addEventListener(window,\"resize\",function(){viewPortHandler(sprite_1)}),addEventListener(window,\"scroll\",function(){viewPortHandler(sprite_1)})]);sprite_1.addDisposer(disposer),sprite_1.vpDisposer=disposer}else Options_options.queue&&addToQueue(sprite_1);return sprite_1}throw system.log(\"html container not found\"),new Error(\"html container not found\")}(htmlElement,classType);return classError&&chart.raiseCriticalError(classError),chart}var Grip_Grip=function(_super){function Grip(){var _this=_super.call(this)||this;_this.className=\"Grip\";var cs=new InterfaceColorSet_InterfaceColorSet;_this.layout=\"absolute\",_this.padding(10,10,10,10),_this.margin(3,3,3,3),_this.background.fillOpacity=.3,_this.background.cornerRadius(10,10,10,10);var icon=new Sprite_Sprite;icon.element=_this.paper.add(\"path\");var path=moveTo({x:-6,y:0});return path+=lineTo({x:6,y:0}),path+=moveTo({x:-8,y:-6}),path+=lineTo({x:0,y:-12}),path+=lineTo({x:8,y:-6}),path+=moveTo({x:-8,y:6}),path+=lineTo({x:0,y:12}),path+=lineTo({x:8,y:6}),icon.path=path,icon.strokeWidth=2,icon.fillOpacity=0,icon.pixelPerfect=!0,icon.padding(0,4,0,4),icon.stroke=cs.getFor(\"text\"),icon.strokeOpacity=.7,icon.align=\"center\",icon.valign=\"middle\",_this.icon=icon,_this.label.dispose(),_this.label=void 0,_this.position=\"right\",_this.autoHideDelay=3e3,_this.events.on(\"shown\",function(ev){_this._autoHideTimeout&&_this._autoHideTimeout.dispose(),_this.autoHideDelay&&(_this._autoHideTimeout=_this.setTimeout(function(){_this.hide()},_this.autoHideDelay))}),_this.events.on(\"down\",function(ev){_this._autoHideTimeout&&_this._autoHideTimeout.dispose()}),_this.events.on(\"out\",function(ev){_this.autoHideDelay&&(_this._autoHideTimeout=_this.setTimeout(function(){_this.hide()},_this.autoHideDelay))}),_this.applyTheme(),_this}return __extends(Grip,_super),Object.defineProperty(Grip.prototype,\"position\",{get:function(){return this.getPropertyValue(\"position\")},set:function(value){if(this.setPropertyValue(\"position\",value))switch(value){case\"left\":this.align=\"left\",this.valign=\"middle\",this.horizontalCenter=\"left\",this.verticalCenter=\"middle\",this.icon.rotation=0,this.width=void 0,this.height=Percent_percent(30);break;case\"right\":this.align=\"right\",this.valign=\"middle\",this.horizontalCenter=\"right\",this.verticalCenter=\"middle\",this.icon.rotation=0,this.width=void 0,this.height=Percent_percent(30);break;case\"top\":this.align=\"center\",this.valign=\"top\",this.horizontalCenter=\"middle\",this.verticalCenter=\"top\",this.icon.rotation=90,this.width=Percent_percent(30),this.height=void 0;break;case\"bottom\":this.align=\"center\",this.valign=\"bottom\",this.horizontalCenter=\"middle\",this.verticalCenter=\"bottom\",this.icon.rotation=90,this.width=Percent_percent(30),this.height=void 0;break;default:this.align=\"center\",this.valign=\"middle\",this.horizontalCenter=\"middle\",this.verticalCenter=\"middle\",this.icon.rotation=90,this.width=Percent_percent(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(Grip.prototype,\"autoHideDelay\",{get:function(){return this.getPropertyValue(\"autoHideDelay\")},set:function(value){this.setPropertyValue(\"autoHideDelay\",value)},enumerable:!0,configurable:!0}),Grip}(Button_Button);Registry_registry.registeredClasses.Grip=Grip_Grip;var Chart_ChartDataItem=function(_super){function ChartDataItem(){var _this=_super.call(this)||this;return _this.className=\"ChartDataItem\",_this.applyTheme(),_this}return __extends(ChartDataItem,_super),ChartDataItem}(DataItem_DataItem),Chart_Chart=function(_super){function Chart(){var _this=_super.call(this)||this;if(_this._legend=new Disposer_MutableValueDisposer,_this.constructor===Chart)throw new Error(\"'Chart' cannot be instantiated directly. Please use a specific chart type.\");_this.className=\"Chart\";var template=new Label_Label;_this.titles=new List_ListTemplate(template),_this._disposers.push(new List_ListDisposer(_this.titles)),_this._disposers.push(template),_this.width=Percent_percent(100),_this.height=Percent_percent(100),_this.layout=\"vertical\";var chartAndLegendContainer=_this.createChild(Container_Container);chartAndLegendContainer.shouldClone=!1,chartAndLegendContainer.layout=\"vertical\",chartAndLegendContainer.width=Percent_percent(100),chartAndLegendContainer.height=Percent_percent(100),_this.chartAndLegendContainer=chartAndLegendContainer;var chartContainer=chartAndLegendContainer.createChild(Container_Container);return chartContainer.shouldClone=!1,chartContainer.width=Percent_percent(100),chartContainer.height=Percent_percent(100),_this.chartContainer=chartContainer,_this.showOnInit=!0,_this._disposers.push(_this._legend),_this.titles.events.on(\"inserted\",function(label){_this.processTitle(label),_this.updateReaderTitleReferences()},_this,!1),_this.titles.events.on(\"removed\",function(label){_this.updateReaderTitleReferences()},_this,!1),_this.role=\"region\",_this.defaultState.transitionDuration=1,_this.applyTheme(),_this}return __extends(Chart,_super),Chart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Chart\"))},Chart.prototype.draw=function(){this.fixLayout(),_super.prototype.draw.call(this)},Chart.prototype.fixLayout=function(){var legend=this.legend;if(legend){var chartAndLegendContainer=this.chartAndLegendContainer,chartContainer=this.chartContainer;switch(chartContainer.x=void 0,chartContainer.y=void 0,legend.x=void 0,legend.y=void 0,legend.position){case\"left\":chartAndLegendContainer.layout=\"horizontal\",isNumber(legend.width)||(legend.width=200),legend.toBack();break;case\"right\":chartAndLegendContainer.layout=\"horizontal\",isNumber(legend.width)||(legend.width=200),legend.toFront();break;case\"top\":chartAndLegendContainer.layout=\"vertical\",legend.maxWidth=void 0,legend.width=Percent_percent(100),legend.toBack();break;case\"bottom\":chartAndLegendContainer.layout=\"vertical\",legend.maxWidth=void 0,legend.width=Percent_percent(100),legend.toFront()}}},Chart.prototype.feedLegend=function(){},Chart.prototype.processTitle=function(event){var title=event.newValue;return title.parent=this,title.toBack(),title.shouldClone=!1,title.align=\"center\",title.uidAttr(),title},Chart.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var titleIds_1=[];Iterator_each(this.titles.iterator(),function(title){titleIds_1.push(title.uid)}),this.setSVGAttribute({\"aria-labelledby\":titleIds_1.join(\" \")})}else this.removeSVGAttribute(\"aria-labelledby\")},Object.defineProperty(Chart.prototype,\"legend\",{get:function(){return this._legend.get()},set:function(legend){this.setLegend(legend)},enumerable:!0,configurable:!0}),Chart.prototype.setLegend=function(legend){var _this=this;this._legend.get()!==legend&&(legend?(legend.parent=this.chartAndLegendContainer,this._legend.set(legend,legend.events.on(\"propertychanged\",function(event){\"position\"!=event.property&&\"width\"!=event.property||_this.fixLayout()},void 0,!1))):this._legend.reset(),this.feedLegend())},Chart.prototype.dispose=function(){this.legend&&this.legend.dispose(),_super.prototype.dispose.call(this)},Chart.prototype.processConfig=function(config){config&&hasValue(config.legend)&&!hasValue(config.legend.type)&&(config.legend.type=\"Legend\"),_super.prototype.processConfig.call(this,config)},Chart.prototype.copyFrom=function(source){this.titles.copyFrom(source.titles),source.legend&&(this.legend=source.legend.clone(),this.legend.removeChildren()),_super.prototype.copyFrom.call(this,source)},Object.defineProperty(Chart.prototype,\"dragGrip\",{get:function(){var _this=this;if(!this._dragGrip){var grip_1=this.tooltipContainer.createChild(Grip_Grip);grip_1.align=\"right\",grip_1.valign=\"middle\",grip_1.hide(0),grip_1.events.on(\"down\",function(ev){ev.touch&&(_this.interactionsEnabled=!1)}),grip_1.events.on(\"up\",function(ev){_this.interactionsEnabled=!0}),this.events.on(\"down\",function(ev){ev.touch&&grip_1.show()}),this._dragGrip=grip_1}return this._dragGrip},set:function(value){this._dragGrip=value},enumerable:!0,configurable:!0}),Chart}(Component_Component);Registry_registry.registeredClasses.Chart=Chart_Chart,defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(target,stateId){if(target instanceof Chart_Chart){var state=target.states.create(stateId);return target.pixelPaddingLeft>10&&(state.properties.paddingLeft=10),target.pixelPaddingRight>10&&(state.properties.paddingRight=10),state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(target,stateId){if(target instanceof Chart_Chart){var state=target.states.create(stateId);return target.pixelPaddingTop>10&&(state.properties.paddingTop=10),target.pixelPaddingBottom>10&&(state.properties.paddingBottom=10),state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.widthXXS,state:function(target,stateId){if(target instanceof Chart_Chart){var state=target.states.create(stateId);return state.properties.paddingLeft=0,state.properties.paddingRight=0,state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.heightXXS,state:function(target,stateId){if(target instanceof Chart_Chart){var state=target.states.create(stateId);return state.properties.paddingTop=0,state.properties.paddingBottom=0,state}return null}});var Bullet_Bullet=function(_super){function Bullet(){var _this=_super.call(this)||this;return _this.className=\"Bullet\",_this.isMeasured=!1,_this.tooltipX=0,_this.tooltipY=0,_this.layout=\"none\",_this.applyOnClones=!0,_this.copyToLegendMarker=!0,_this.applyTheme(),_this}return __extends(Bullet,_super),Object.defineProperty(Bullet.prototype,\"locationX\",{get:function(){return this.getPropertyValue(\"locationX\")},set:function(value){this.setPropertyValue(\"locationX\",value,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Bullet.prototype,\"locationY\",{get:function(){return this.getPropertyValue(\"locationY\")},set:function(value){this.setPropertyValue(\"locationY\",value,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Bullet.prototype,\"xField\",{get:function(){return this.getPropertyValue(\"xField\")},set:function(value){this.setPropertyValue(\"xField\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Bullet.prototype,\"yField\",{get:function(){return this.getPropertyValue(\"yField\")},set:function(value){this.setPropertyValue(\"yField\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Bullet.prototype,\"isDynamic\",{get:function(){return this.getPropertyValue(\"isDynamic\")},set:function(value){this.setPropertyValue(\"isDynamic\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Bullet.prototype,\"copyToLegendMarker\",{get:function(){return this.getPropertyValue(\"copyToLegendMarker\")},set:function(value){this.setPropertyValue(\"copyToLegendMarker\",value)},enumerable:!0,configurable:!0}),Bullet}(Container_Container);Registry_registry.registeredClasses.Bullet=Bullet_Bullet,defaultRules.push({relevant:ResponsiveBreakpoints.isXS,state:function(target,stateId){if(target instanceof Bullet_Bullet){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var Legend_LegendDataItem=function(_super){function LegendDataItem(){var _this=_super.call(this)||this;return _this.childrenCreated=!1,_this.className=\"LegendDataItem\",_this.applyTheme(),_this}return __extends(LegendDataItem,_super),Object.defineProperty(LegendDataItem.prototype,\"label\",{get:function(){var _this=this;if(!this._label){var label_1=this.component.labels.create();this._label=label_1,this.addSprite(label_1),this._disposers.push(label_1),label_1.parent=this.itemContainer,this._disposers.push(new Disposer(function(){hasValue(_this.component)&&_this.component.labels.removeValue(label_1)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(LegendDataItem.prototype,\"color\",{get:function(){return this.properties.color},set:function(value){this.setProperty(\"color\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(LegendDataItem.prototype,\"valueLabel\",{get:function(){var _this=this;if(!this._valueLabel){var valueLabel_1=this.component.valueLabels.create();this._valueLabel=valueLabel_1,this.addSprite(valueLabel_1),this._disposers.push(valueLabel_1),valueLabel_1.parent=this.itemContainer,this._disposers.push(new Disposer(function(){hasValue(_this.component)&&_this.component.valueLabels.removeValue(valueLabel_1)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(LegendDataItem.prototype,\"itemContainer\",{get:function(){var _this=this;if(!this._itemContainer){var component_1=this.component,itemContainer_1=component_1.itemContainers.create();this._itemContainer=itemContainer_1,this.addSprite(itemContainer_1),this._disposers.push(itemContainer_1),itemContainer_1.togglable&&itemContainer_1.events.on(\"toggled\",function(ev){component_1.toggleDataItem(ev.target.dataItem)},void 0,!1),itemContainer_1.focusable&&(itemContainer_1.events.on(\"focus\",function(ev){component_1.focusedItem=ev.target.dataItem},void 0,!1),itemContainer_1.events.on(\"blur\",function(ev){component_1.focusedItem=void 0},void 0,!1)),this._disposers.push(new Disposer(function(){hasValue(_this.component)&&_this.component.itemContainers.removeValue(itemContainer_1)})),this.dataContext.uidAttr&&(itemContainer_1.readerControls=this.dataContext.uidAttr(),itemContainer_1.readerLabelledBy=this.dataContext.uidAttr());var sprite=this.dataContext;(sprite instanceof DataItem_DataItem||sprite instanceof Sprite_Sprite)&&!sprite.isDisposed()&&(itemContainer_1.addDisposer(sprite.events.on(\"visibilitychanged\",function(ev){itemContainer_1.readerChecked=ev.visible,itemContainer_1.events.disableType(\"toggled\"),itemContainer_1.isActive=!ev.visible,itemContainer_1.events.enableType(\"toggled\")},void 0,!1)),sprite.addDisposer(new Disposer(function(){_this.component&&_this.component.dataItems.remove(_this)})),sprite instanceof Sprite_Sprite&&(itemContainer_1.addDisposer(sprite.events.on(\"hidden\",function(ev){itemContainer_1.readerChecked=!1,itemContainer_1.events.disableType(\"toggled\"),itemContainer_1.isActive=!0,itemContainer_1.events.enableType(\"toggled\")},void 0,!1)),itemContainer_1.addDisposer(sprite.events.on(\"shown\",function(ev){itemContainer_1.readerChecked=!0,itemContainer_1.events.disableType(\"toggled\"),itemContainer_1.isActive=!1,itemContainer_1.events.enableType(\"toggled\")},void 0,!1))))}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(LegendDataItem.prototype,\"marker\",{get:function(){var _this=this;if(!this._marker){var marker_1=this.component.markers.create();this._marker=marker_1,marker_1.parent=this.itemContainer,this.addSprite(marker_1),this._disposers.push(marker_1),this._disposers.push(new Disposer(function(){hasValue(_this.component)&&_this.component.markers.removeValue(marker_1)}))}return this._marker},enumerable:!0,configurable:!0}),LegendDataItem}(DataItem_DataItem),LegendSettings=function(){this.createMarker=!0},Legend_Legend=function(_super){function Legend(){var _this=_super.call(this)||this;_this.className=\"Legend\",_this.layout=\"grid\",_this.setPropertyValue(\"useDefaultMarker\",!1),_this.setPropertyValue(\"contentAlign\",\"center\");var itemContainer=new Container_Container;itemContainer.applyOnClones=!0,itemContainer.padding(10,0,10,0),itemContainer.margin(0,10,0,0),itemContainer.layout=\"horizontal\",itemContainer.clickable=!0,itemContainer.focusable=!0,itemContainer.role=\"switch\",itemContainer.togglable=!0,itemContainer.cursorOverStyle=MouseCursorStyle.pointer,itemContainer.background.fillOpacity=0,_this.itemContainers=new List_ListTemplate(itemContainer),_this._disposers.push(new List_ListDisposer(_this.itemContainers)),_this._disposers.push(_this.itemContainers.template),_this._disposers.push(getInteraction().body.events.on(\"keyup\",function(ev){keyboard.isKey(ev.event,\"enter\")&&_this.focusedItem&&_this.focusedItem.itemContainer.clickable&&_this.toggleDataItem(_this.focusedItem)},_this));var interfaceColors=new InterfaceColorSet_InterfaceColorSet,marker=new Container_Container;marker.width=23,marker.height=23,marker.interactionsEnabled=!1,marker.applyOnClones=!0,marker.setStateOnChildren=!0,marker.background.fillOpacity=0,marker.background.strokeOpacity=0,marker.propertyFields.fill=\"fill\",marker.valign=\"middle\";var disabledColor=interfaceColors.getFor(\"disabledBackground\");marker.events.on(\"childadded\",function(event){var activeState=event.newValue.states.create(\"active\");activeState.properties.stroke=disabledColor,activeState.properties.fill=disabledColor}),_this.markers=new List_ListTemplate(marker),_this._disposers.push(new List_ListDisposer(_this.markers)),_this._disposers.push(_this.markers.template);var rectangle=marker.createChild(RoundedRectangle_RoundedRectangle);rectangle.width=Percent_percent(100),rectangle.height=Percent_percent(100),rectangle.applyOnClones=!0,rectangle.propertyFields.fill=\"fill\",rectangle.strokeOpacity=0;var label=new Label_Label;label.text=\"{name}\",label.margin(0,5,0,5),label.valign=\"middle\",label.applyOnClones=!0,label.states.create(\"active\").properties.fill=interfaceColors.getFor(\"disabledBackground\"),_this.labels=new List_ListTemplate(label),_this._disposers.push(new List_ListDisposer(_this.labels)),_this._disposers.push(_this.labels.template),label.interactionsEnabled=!1;var valueLabel=new Label_Label;return valueLabel.margin(0,5,0,0),valueLabel.valign=\"middle\",valueLabel.width=50,valueLabel.align=\"right\",valueLabel.textAlign=\"end\",valueLabel.applyOnClones=!0,valueLabel.states.create(\"active\").properties.fill=interfaceColors.getFor(\"disabledBackground\"),valueLabel.interactionsEnabled=!1,_this.valueLabels=new List_ListTemplate(valueLabel),_this._disposers.push(new List_ListDisposer(_this.valueLabels)),_this._disposers.push(_this.valueLabels.template),_this.position=\"bottom\",itemContainer.states.create(\"active\"),itemContainer.setStateOnChildren=!0,_this.role=\"group\",_this.applyTheme(),_this}return __extends(Legend,_super),Legend.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Legend\"))},Legend.prototype.createDataItem=function(){return new Legend_LegendDataItem},Legend.prototype.validateDataElement=function(dataItem){_super.prototype.validateDataElement.call(this,dataItem);var container=dataItem.itemContainer,marker=dataItem.marker,valueLabel=dataItem.valueLabel;container.parent=this,container.readerChecked=dataItem.dataContext.visible,dataItem.dataContext.legendDataItem=dataItem;var legendSettings=dataItem.dataContext.legendSettings,dataContext=dataItem.dataContext;!dataContext.createLegendMarker||this.useDefaultMarker&&dataContext instanceof Sprite_Sprite||dataItem.childrenCreated||(dataContext.createLegendMarker(marker),dataItem.childrenCreated=!0),dataContext.updateLegendValue&&dataContext.updateLegendValue(),valueLabel.invalid&&valueLabel.validate(),valueLabel.__disabled=\"\"==valueLabel.currentText||null==valueLabel.currentText,!legendSettings||null==legendSettings.itemValueText&&null==legendSettings.valueText||(valueLabel.__disabled=!1);var visible=dataItem.dataContext.visible;void 0===visible&&(visible=!0),visible=toBoolean(visible),dataItem.dataContext.visible=visible,container.events.disableType(\"toggled\"),container.isActive=!visible,container.events.enableType(\"toggled\")},Object.defineProperty(Legend.prototype,\"position\",{get:function(){return this.getPropertyValue(\"position\")},set:function(value){this.setPropertyValue(\"position\",value)&&(\"left\"==value||\"right\"==value?(this.margin(10,20,10,20),this.valign=\"middle\",this.itemContainers.template.width=Percent_percent(100),this.valueLabels.template.width=Percent_percent(100),this.labels.template.truncate=!0,this.labels.template.fullWords=!1):(this.itemContainers.template.width=void 0,this.itemContainers.template.maxWidth=void 0,this.valueLabels.template.width=50,this.labels.template.truncate=!1,this.width=Percent_percent(100)),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(Legend.prototype,\"useDefaultMarker\",{get:function(){return this.getPropertyValue(\"useDefaultMarker\")},set:function(value){this.setPropertyValue(\"useDefaultMarker\",value,!0)},enumerable:!0,configurable:!0}),Legend.prototype.toggleDataItem=function(item){var dataContext=item.dataContext;!dataContext.visible||dataContext.isHiding||dataContext instanceof Sprite_Sprite&&dataContext.isHidden?(item.color=item.colorOrig,item.itemContainer.isActive=!1,!0===dataContext.hidden&&(dataContext.hidden=!1),dataContext.show?dataContext.show():dataContext.visible=!0):(item.itemContainer.isActive=!0,dataContext.hide?dataContext.hide():dataContext.visible=!1,item.color=(new InterfaceColorSet_InterfaceColorSet).getFor(\"disabledBackground\"))},Object.defineProperty(Legend.prototype,\"preloader\",{get:function(){},enumerable:!0,configurable:!0}),Legend.prototype.handleDataItemPropertyChange=function(dataItem,name){dataItem.valueLabel.invalidate(),dataItem.label.invalidate()},Legend}(Component_Component);Registry_registry.registeredClasses.Legend=Legend_Legend,defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(target,stateId){if(target instanceof Legend_Legend&&(\"left\"==target.position||\"right\"==target.position)){var state=target.states.create(stateId);return state.properties.position=\"bottom\",state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(target,stateId){if(target instanceof Legend_Legend&&(\"top\"==target.position||\"bottom\"==target.position)){var state=target.states.create(stateId);return state.properties.position=\"right\",state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.isXS,state:function(target,stateId){if(target instanceof Legend_Legend){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var Series_SeriesDataItem=function(_super){function SeriesDataItem(){var _this=_super.call(this)||this;return _this.bullets=new Dictionary_Dictionary,_this.className=\"SeriesDataItem\",_this._disposers.push(new Dictionary_DictionaryDisposer(_this.bullets)),_this.values.value={},_this.values.value={},_this.applyTheme(),_this}return __extends(SeriesDataItem,_super),SeriesDataItem.prototype.dispose=function(){this.bullets.clear(),_super.prototype.dispose.call(this)},Object.defineProperty(SeriesDataItem.prototype,\"value\",{get:function(){return this.values.value.value},set:function(value){this.setValue(\"value\",value)},enumerable:!0,configurable:!0}),SeriesDataItem}(DataItem_DataItem),Series_Series=function(_super){function Series(){var _this=_super.call(this)||this;if(_this._ignoreMinMax=!1,_this._showBullets=!0,_this.legendSettings=new LegendSettings,_this._tmin=new Dictionary_Dictionary,_this._tmax=new Dictionary_Dictionary,_this._smin=new Dictionary_Dictionary,_this._smax=new Dictionary_Dictionary,_this.dataItemsByAxis=new Dictionary_Dictionary,_this.skipFocusThreshold=20,_this.calculatePercent=!1,_this.autoDispose=!0,_this.simplifiedProcessing=!1,_this.constructor===Series)throw new Error(\"'Series' cannot be instantiated directly. Please use a specific series type.\");_this.className=\"Series\",_this.isMeasured=!1,_this.layout=\"none\",_this.shouldClone=!1,_this.setPropertyValue(\"hidden\",!1),_this.axisRanges=new List_List,_this.axisRanges.events.on(\"inserted\",_this.processAxisRange,_this,!1),_this.minBulletDistance=0,_this.mainContainer=_this.createChild(Container_Container),_this.mainContainer.shouldClone=!1,_this.mainContainer.mask=_this.createChild(Sprite_Sprite),_this._disposers.push(_this.mainContainer);var bulletsContainer=_this.mainContainer.createChild(Container_Container);return _this._shouldBeReady.push(bulletsContainer),bulletsContainer.shouldClone=!1,bulletsContainer.layout=\"none\",bulletsContainer.virtualParent=_this,_this._disposers.push(bulletsContainer),_this.bulletsContainer=bulletsContainer,_this.tooltip=new Tooltip_Tooltip,_this.tooltip.virtualParent=_this,_this._disposers.push(_this.tooltip),_this.hiddenState.transitionEasing=cubicIn,_this.dataItem=_this.createDataItem(),_this._disposers.push(_this.dataItem),_this.dataItem.component=_this,_this.role=\"group\",_this.applyTheme(),_this}return __extends(Series,_super),Series.prototype.applyTheme=function(){_super.prototype.applyTheme.call(this),Options_options.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+\"-bullets\",this.bulletsContainer.setClassName())},Series.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Series\"))},Series.prototype.createDataItem=function(){return new Series_SeriesDataItem},Object.defineProperty(Series.prototype,\"chart\",{get:function(){return this._chart},set:function(value){this._chart=value},enumerable:!0,configurable:!0}),Series.prototype.positionBullet=function(bullet){},Series.prototype.processBullet=function(event){var bullet=event.newValue;bullet.isTemplate=!0,this.itemsFocusable()&&(bullet.focusable=!0)},Series.prototype.removeBullet=function(event){var bullet=event.oldValue;this.dataItems.each(function(dataItem){var eachBullet=dataItem.bullets.getKey(bullet.uid);eachBullet&&eachBullet.dispose()}),this.invalidate()},Series.prototype.validateDataItems=function(){_super.prototype.validateDataItems.call(this),this.processValues(!1)},Series.prototype.getFirstValue=function(key,startIndex){startIndex>0&&startIndex<this.dataItems.length-1&&startIndex++;for(var i=startIndex;i>=0;i--){var value=this.dataItems.getIndex(i).getActualWorkingValue(key);if(isNumber(value))return value}return null},Series.prototype.rangeChangeUpdate=function(){_super.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},Series.prototype.processValues=function(working){var _this=this;if(!this.simplifiedProcessing){var dataItems=this.dataItems,count_1={},sum_1={},low_1={},high_1={},open_1={},close_1={},previous_1={},first_1={},startIndex_1=Math_max(0,this._workingStartIndex);startIndex_1=Math_min(startIndex_1,this.dataItems.length);var endIndex=Math_min(this._workingEndIndex,this.dataItems.length);if(isNumber(startIndex_1)||(startIndex_1=0),isNumber(endIndex)||(endIndex=this.dataItems.length),startIndex_1>0){var dataItem_1=dataItems.getIndex(startIndex_1-1);Object_each(dataItem_1.values,function(key,values){var value=dataItem_1.getActualWorkingValue(key);isNumber(value)&&(previous_1[key]=value)})}for(var _loop_1=function(i){var dataItem_2=dataItems.getIndex(i);Object_each(dataItem_2.values,function(key,values){var value=dataItem_2.getActualWorkingValue(key);if(isNumber(value)){isNumber(count_1[key])||(count_1[key]=0),count_1[key]++,isNumber(sum_1[key])||(sum_1[key]=0),sum_1[key]+=value,isNumber(open_1[key])||(open_1[key]=value),close_1[key]=value,isNumber(low_1[key])?low_1[key]>value&&(low_1[key]=value):low_1[key]=value,isNumber(high_1[key])?high_1[key]<value&&(high_1[key]=value):high_1[key]=value,isNumber(first_1[key])||(first_1[key]=_this.getFirstValue(key,startIndex_1)),dataItem_2.setCalculatedValue(key,value-first_1[key],\"change\"),dataItem_2.setCalculatedValue(key,(value-first_1[key])/first_1[key]*100,\"changePercent\");var prevValue=previous_1[key];isNumber(prevValue)||(prevValue=value),dataItem_2.setCalculatedValue(key,value-prevValue,\"previousChange\"),dataItem_2.setCalculatedValue(key,(value-prevValue)/prevValue*100,\"previousChangePercent\"),previous_1[key]=value}})},i=startIndex_1;i<endIndex;i++)_loop_1(i);if(this.calculatePercent){var _loop_2=function(i){var dataItem_3=dataItems.getIndex(i);Object_each(dataItem_3.values,function(key){var ksum=sum_1[key],value=dataItem_3.getActualWorkingValue(key);isNumber(value)&&(ksum>0?(value==ksum&&(ksum=dataItem_3.values[key].value),dataItem_3.setCalculatedValue(key,value/ksum*100,\"percent\")):dataItem_3.setCalculatedValue(key,0,\"percent\"))})};for(i=startIndex_1;i<endIndex;i++)_loop_2(i)}if(startIndex_1>0){var zeroItem_1=dataItems.getIndex(startIndex_1-1);Object_each(zeroItem_1.values,function(key){var value=zeroItem_1.values[key].value;zeroItem_1.setCalculatedValue(key,value-open_1[key],\"change\"),zeroItem_1.setCalculatedValue(key,(value-open_1[key])/open_1[key]*100,\"changePercent\")})}var dataItem_4=this.dataItem;Object_each(dataItem_4.values,function(key){dataItem_4.setCalculatedValue(key,sum_1[key],\"sum\"),dataItem_4.setCalculatedValue(key,sum_1[key]/count_1[key],\"average\"),dataItem_4.setCalculatedValue(key,open_1[key],\"open\"),dataItem_4.setCalculatedValue(key,close_1[key],\"close\"),dataItem_4.setCalculatedValue(key,low_1[key],\"low\"),dataItem_4.setCalculatedValue(key,high_1[key],\"high\"),dataItem_4.setCalculatedValue(key,count_1[key],\"count\")})}},Series.prototype.validate=function(){Iterator_each(this.axisRanges.iterator(),function(axisRange){axisRange.validate()}),_super.prototype.validate.call(this);var bulletsContainer=this.bulletsContainer;if(bulletsContainer.fill=this.fill,bulletsContainer.stroke=this.stroke,bulletsContainer.x=this.pixelX,bulletsContainer.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++)(dataItem=this.dataItems.getIndex(i))&&dataItem.bullets.each(function(key,bullet){bullet.__disabled=!0});for(i=this.dataItems.length-1;i>this.endIndex;i--){var dataItem;(dataItem=this.dataItems.getIndex(i))&&dataItem.bullets.each(function(key,bullet){bullet.__disabled=!0})}}else this.bulletsContainer.children.each(function(bullet){bullet.__disabled=!0});this.updateTooltipBounds()},Series.prototype.updateTooltipBounds=function(){this.topParent&&this.tooltip.setBounds({x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight})},Series.prototype.shouldCreateBullet=function(dataItem,bulletTemplate){return!0},Series.prototype.validateDataElement=function(dataItem){var _this=this;_super.prototype.validateDataElement.call(this,dataItem),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(bulletTemplate){var bullet=dataItem.bullets.getKey(bulletTemplate.uid);if(_this.shouldCreateBullet(dataItem,bulletTemplate)){if(!bullet){var disabledField=bulletTemplate.propertyFields.disabled,dataContext=dataItem.dataContext;disabledField&&dataContext&&!1===dataContext[disabledField]?(bulletTemplate.applyOnClones=!1,bulletTemplate.disabled=!1,bullet=bulletTemplate.clone(),bulletTemplate.disabled=!0,bulletTemplate.applyOnClones=!0):bullet=bulletTemplate.clone(),bullet.shouldClone=!1,dataItem.addSprite(bullet),_this.visible&&!_this.isHiding||bullet.hide(0)}var currentDataItem=bullet.dataItem;if(currentDataItem!=dataItem){currentDataItem&&currentDataItem.bullets.setKey(bulletTemplate.uid,void 0);var readerText_1=_this.itemReaderText;bullet instanceof Bullet_Bullet&&(readerText_1||(readerText_1=\"{\"+bullet.xField+\"}: {\"+bullet.yField+\"}\"),bullet.isDynamic&&(dataItem.events.on(\"workingvaluechanged\",bullet.deepInvalidate,bullet,!1),_this.dataItem.events.on(\"workingvaluechanged\",bullet.deepInvalidate,bullet,!1)),bullet.deepInvalidate()),bullet.focusable&&(bullet.events.on(\"focus\",function(ev){bullet.readerTitle=_this.populateString(readerText_1,bullet.dataItem)},void 0,!1),bullet.events.on(\"blur\",function(ev){bullet.readerTitle=\"\"},void 0,!1)),bullet.hoverable&&(bullet.events.on(\"over\",function(ev){bullet.readerTitle=_this.populateString(readerText_1,bullet.dataItem)},void 0,!1),bullet.events.on(\"out\",function(ev){bullet.readerTitle=\"\"},void 0,!1))}bullet.parent=_this.bulletsContainer,dataItem.bullets.setKey(bulletTemplate.uid,bullet),bullet.maxWidth=dataItem.itemWidth,bullet.maxHeight=dataItem.itemHeight,bullet.__disabled=!1,_this.positionBullet(bullet)}})):this.bulletsContainer.visible=!1},Series.prototype.handleDataItemWorkingValueChange=function(dataItem,name){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(Series.prototype,\"ignoreMinMax\",{get:function(){return this._ignoreMinMax},set:function(value){this._ignoreMinMax=value,this.invalidateDataItems()},enumerable:!0,configurable:!0}),Series.prototype.createMask=function(){},Series.prototype.processAxisRange=function(event){this.rangesContainer||(this.rangesContainer=this.createChild(Container_Container),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var axisRange=event.newValue;axisRange&&(axisRange.contents.parent=this.rangesContainer,axisRange.isRange=!0)},Series.prototype.getAxisField=function(axis){},Series.prototype.showTooltipAtPosition=function(xPosition,yPosition){},Object.defineProperty(Series.prototype,\"minBulletDistance\",{get:function(){return this.getPropertyValue(\"minBulletDistance\")},set:function(value){this.setPropertyValue(\"minBulletDistance\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,\"bullets\",{get:function(){return this._bullets||(this._bullets=new List_ListTemplate(new Bullet_Bullet),this._bullets.template.virtualParent=this,this._bullets.events.on(\"inserted\",this.processBullet,this,!1),this._bullets.events.on(\"removed\",this.removeBullet,this,!1),this._disposers.push(new List_ListDisposer(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),Series.prototype.createLegendMarker=function(marker){},Object.defineProperty(Series.prototype,\"hiddenInLegend\",{get:function(){return this.getPropertyValue(\"hiddenInLegend\")},set:function(value){this.setPropertyValue(\"hiddenInLegend\",value)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,\"name\",{get:function(){return this.getPropertyValue(\"name\")},set:function(value){this.setPropertyValue(\"name\",value);var legendDataItem=this.legendDataItem;legendDataItem&&(legendDataItem.component.invalidate(),legendDataItem.component.invalidateRawData()),this.readerTitle=value},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,\"itemReaderText\",{get:function(){var readerText=this._itemReaderText;return readerText||(this.tooltipText?readerText=plainText(this.tooltipText):this.tooltipHTML&&(readerText=plainText(this.tooltipHTML))),this.adapter.apply(\"itemReaderText\",readerText)},set:function(value){this._itemReaderText=value},enumerable:!0,configurable:!0}),Series.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(Series.prototype,\"legendDataItem\",{get:function(){return this._legendDataItem},set:function(value){this._legendDataItem=value,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),Series.prototype.updateLegendValue=function(dataItem,notRange){if(this.legendDataItem){var legendSettings=this.legendSettings,legendDataItem=this.legendDataItem,label=legendDataItem.label,valueLabel=legendDataItem.valueLabel;dataItem||notRange?(valueLabel&&(legendSettings.itemValueText&&(valueLabel.text=legendSettings.itemValueText),valueLabel.dataItem=dataItem),label&&(legendSettings.itemLabelText&&(label.text=legendSettings.itemLabelText),label.dataItem=dataItem)):(label&&((legendSettings.labelText||null!=legendSettings.itemLabelText)&&(label.text=legendSettings.labelText),label.dataItem=this.dataItem),valueLabel&&((legendSettings.valueText||null!=legendSettings.itemValueText)&&(valueLabel.text=legendSettings.valueText),valueLabel.dataItem=this.dataItem))}},Series.prototype.copyFrom=function(source){this.bullets.copyFrom(source.bullets),this.bulletsContainer.copyFrom(source.bulletsContainer),this.calculatePercent=source.calculatePercent,this.simplifiedProcessing=source.simplifiedProcessing,_super.prototype.copyFrom.call(this,source)},Series.prototype.raiseCriticalError=function(e){this._chart.modal.content=this._chart.adapter.apply(\"criticalError\",e).message,this._chart.modal.closable=!1,this._chart.modal.open(),this._chart.disabled=!0,Options_options.verbose&&console.log(e)},Series.prototype.applyFilters=function(){var _this=this;_super.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),Iterator_each(this.filters.iterator(),function(filter){_this.bulletsContainer.filters.push(filter.clone())})},Object.defineProperty(Series.prototype,\"heatRules\",{get:function(){var _this=this;return this._heatRules||(this._heatRules=new List_List,this._heatRules.events.on(\"inserted\",function(event){var heatRule=event.newValue,target=heatRule.target;if(target){var dataField_1=heatRule.dataField;hasValue(dataField_1)||(dataField_1=\"value\");var min_1=heatRule.min,max_1=heatRule.max,seriesDataItem_1=_this.dataItem,property_1=heatRule.property,minValue=toNumber(heatRule.minValue),maxValue=toNumber(heatRule.maxValue);isNumber(minValue)||isNumber(maxValue)||_this.dataItem.events.on(\"calculatedvaluechanged\",function(event){event.property==dataField_1&&Iterator_each(_this.dataItems.iterator(),function(dataItem){var foundSprite=!1;each(dataItem.sprites,function(sprite){sprite.clonedFrom==target&&(sprite[property_1]=sprite[property_1],foundSprite=!0)}),foundSprite||each(dataItem.sprites,function(sprite){sprite instanceof Container_Container&&Iterator_each(sprite.children.iterator(),function(child){child.className==target.className?child[property_1]=child[property_1]:child instanceof Container_Container&&child.deepInvalidate()})})})}),_this.dataItems.template.events.on(\"workingvaluechanged\",function(event){if(event.property==dataField_1){var dataItem=event.target,foundSprite_1=!1;each(dataItem.sprites,function(sprite){sprite.clonedFrom==target&&(sprite[property_1]=sprite[property_1],foundSprite_1=!0)}),foundSprite_1||each(dataItem.sprites,function(sprite){sprite instanceof Container_Container&&Iterator_each(sprite.children.iterator(),function(child){child.className==target.className?child[property_1]=child[property_1]:child instanceof Container_Container&&child.deepInvalidate()})})}}),target.adapter.add(property_1,function(value,ruleTarget,property){var minValue=toNumber(heatRule.minValue),maxValue=toNumber(heatRule.maxValue);if(ruleTarget instanceof Sprite_Sprite){var propertyField=ruleTarget.propertyFields[property];if(propertyField&&ruleTarget.dataItem){var dataContext=ruleTarget.dataItem.dataContext;if(dataContext&&hasValue(dataContext[propertyField]))return value}}var dataItem=ruleTarget.dataItem;if(isNumber(minValue)||(minValue=seriesDataItem_1.values[dataField_1].low),isNumber(maxValue)||(maxValue=seriesDataItem_1.values[dataField_1].high),dataItem&&dataItem.values[dataField_1]){var workingValue=dataItem.getActualWorkingValue(dataField_1);if(hasValue(min_1)&&hasValue(max_1)&&isNumber(minValue)&&isNumber(maxValue)&&isNumber(workingValue)){var percent=(workingValue-minValue)/(maxValue-minValue);if(isNumber(workingValue)&&!isNumber(percent)&&(percent=.5),isNumber(min_1))return min_1+(max_1-min_1)*percent;if(min_1 instanceof Color_Color)return new Color_Color(Colors_interpolate(min_1.rgb,max_1.rgb,percent))}}return value})}})),this._heatRules},enumerable:!0,configurable:!0}),Series.prototype.processConfig=function(config){var heatRules;if(config){if(hasValue(config.bullets)&&Type_isArray(config.bullets))for(var i=0,len=config.bullets.length;i<len;i++){var bullets=config.bullets[i];hasValue(bullets.type)||(bullets.type=\"Bullet\")}hasValue(config.heatRules)&&Type_isArray(config.heatRules)&&(heatRules=config.heatRules,delete config.heatRules)}if(_super.prototype.processConfig.call(this,config),heatRules){for(i=0,len=heatRules.length;i<len;i++){var rule=heatRules[i],target=this;if(hasValue(rule.target)&&isString(rule.target))if(this.map.hasKey(rule.target))target=this.map.getKey(rule.target);else for(var parts=rule.target.split(\".\"),x=0;x<parts.length;x++)if(target instanceof List_List){var listitem=target.getIndex(toNumber(parts[x]));target=listitem||target[parts[x]]}else target=target[parts[x]];rule.target=target,hasValue(rule.min)&&(rule.min=this.maybeColorOrPercent(rule.min)),hasValue(rule.max)&&(rule.max=this.maybeColorOrPercent(rule.max))}_super.prototype.processConfig.call(this,{heatRules:heatRules})}},Series.prototype.configOrder=function(a,b){return a==b?0:\"heatRules\"==a?1:\"heatRules\"==b?-1:_super.prototype.configOrder.call(this,a,b)},Series.prototype.setVisibility=function(value){_super.prototype.setVisibility.call(this,value),this.bulletsContainer.visible=value},Series}(Component_Component);Registry_registry.registeredClasses.Series=Series_Series,Registry_registry.registeredClasses.SeriesDataItem=Series_SeriesDataItem;var SerialChart_SerialChartDataItem=function(_super){function SerialChartDataItem(){var _this=_super.call(this)||this;return _this.className=\"SerialChartDataItem\",_this.applyTheme(),_this}return __extends(SerialChartDataItem,_super),SerialChartDataItem}(Chart_ChartDataItem),SerialChart_SerialChart=function(_super){function SerialChart(){var _this=_super.call(this)||this;_this.className=\"SerialChart\",_this.colors=new ColorSet_ColorSet;var seriesContainer=_this.chartContainer.createChild(Container_Container);seriesContainer.shouldClone=!1,seriesContainer.width=Percent_percent(100),seriesContainer.height=Percent_percent(100),seriesContainer.isMeasured=!1,seriesContainer.layout=\"none\",seriesContainer.zIndex=2,_this.seriesContainer=seriesContainer;var bulletsContainer=_this.chartContainer.createChild(Container_Container);return bulletsContainer.shouldClone=!1,bulletsContainer.width=Percent_percent(100),bulletsContainer.height=Percent_percent(100),bulletsContainer.isMeasured=!1,bulletsContainer.zIndex=3,bulletsContainer.layout=\"none\",_this.bulletsContainer=bulletsContainer,_this.applyTheme(),_this}return __extends(SerialChart,_super),SerialChart.prototype.dispose=function(){_super.prototype.dispose.call(this),this.colors&&this.colors.dispose()},SerialChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Serial chart\"))},Object.defineProperty(SerialChart.prototype,\"series\",{get:function(){var _this=this;return this._series||(this._series=new List_ListTemplate(this.createSeries()),this._series.events.on(\"inserted\",function(event){_this.handleSeriesAdded(event)},void 0,!1),this._series.events.on(\"removed\",function(event){var series=event.oldValue;_this.dataUsers.removeValue(series),_this.dataUsers.each(function(dataUser){dataUser.invalidateDataItems()}),series.autoDispose&&series.dispose(),_this.feedLegend()},void 0,!1),this._disposers.push(new List_ListDisposer(this._series)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),SerialChart.prototype.handleSeriesAdded=function(event){var _this=this,series=event.newValue;series.isDisposed()||(series.chart=this,series.parent=this.seriesContainer,series.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(series),series.addDisposer(new Disposer(function(){_this.dataUsers.removeValue(series)})),this.handleSeriesAdded2(series),this.feedLegend())},SerialChart.prototype.handleSeriesAdded2=function(series){this.dataInvalid||this.invalidateData()},SerialChart.prototype.feedLegend=function(){var legend=this.legend;if(legend){var legendData_1=[];Iterator_each(this.series.iterator(),function(series){series.hiddenInLegend||legendData_1.push(series)}),legend.dataFields.name=\"name\",legend.data=legendData_1}},SerialChart.prototype.createSeries=function(){return new Series_Series},Object.defineProperty(SerialChart.prototype,\"colors\",{get:function(){return this.getPropertyValue(\"colors\")},set:function(value){this.setPropertyValue(\"colors\",value,!0)},enumerable:!0,configurable:!0}),SerialChart.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.series.copyFrom(source.series)},SerialChart.prototype.appear=function(){_super.prototype.appear.call(this),this.series.each(function(series){series.showOnInit&&series.inited&&series.appear()})},SerialChart}(Chart_Chart);Registry_registry.registeredClasses.SerialChart=SerialChart_SerialChart;var AxisBreak_AxisBreak=function(_super){function AxisBreak(){var _this=_super.call(this)||this;_this._axis=new Disposer_MutableValueDisposer,_this.dataItems=new List_List,_this.className=\"AxisBreak\",_this.breakSize=.01,_this.marginLeft=-5,_this.marginRight=-5,_this.marginTop=-5,_this.marginBottom=-5;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,fillShape=new WavedLine_WavedLine;fillShape.fill=interfaceColors.getFor(\"background\"),fillShape.stroke=Color_color(),fillShape.fillOpacity=.9,fillShape.zIndex=0,_this._fillShape=fillShape;var startLine=new WavedLine_WavedLine;startLine.fill=Color_color(),startLine.stroke=interfaceColors.getFor(\"grid\"),startLine.strokeOpacity=.3,startLine.zIndex=1,_this._startLine=startLine;var endLine=new WavedLine_WavedLine;return endLine.fill=Color_color(),endLine.stroke=Color_color(\"#000000\"),endLine.strokeOpacity=.3,endLine.zIndex=2,_this._endLine=endLine,_this._disposers.push(_this._axis),_this.applyTheme(),_this}return __extends(AxisBreak,_super),AxisBreak.prototype.dispose=function(){_super.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(AxisBreak.prototype,\"startLine\",{get:function(){return this._startLine},set:function(sprite){this._startLine&&this._startLine.dispose(),this._startLine=sprite,this.addBreakSprite(sprite)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,\"endLine\",{get:function(){return this._endLine},set:function(sprite){this._endLine&&this._endLine.dispose(),this._endLine=sprite,this.addBreakSprite(sprite)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,\"fillShape\",{get:function(){return this._fillShape},set:function(sprite){this._fillShape&&this._fillShape.dispose(),this._fillShape=sprite,this.addBreakSprite(sprite)},enumerable:!0,configurable:!0}),AxisBreak.prototype.addBreakSprite=function(sprite){sprite.parent=this,sprite.isMeasured=!1,this._disposers.push(sprite)},Object.defineProperty(AxisBreak.prototype,\"axis\",{get:function(){return this._axis.get()},set:function(axis){if(this._axis.get()!==axis){this._axis.set(axis,axis.renderer.gridContainer.events.on(\"transformed\",this.invalidate,this,!1)),axis.renderer.createBreakSprites(this);var breakTemplate=axis.axisBreaks.template;this.startLine.copyFrom(breakTemplate.startLine),this.endLine.copyFrom(breakTemplate.endLine),this.fillShape.copyFrom(breakTemplate.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,\"breakSize\",{get:function(){return this.getPropertyValue(\"breakSize\")},set:function(value){this.setPropertyValue(\"breakSize\",value)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,\"startPoint\",{get:function(){var renderer=this.axis.renderer;if(renderer)return renderer.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,\"endPoint\",{get:function(){var renderer=this.axis.renderer;if(renderer)return renderer.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,\"startPosition\",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,\"endPosition\",{get:function(){},enumerable:!0,configurable:!0}),AxisBreak.prototype.draw=function(){_super.prototype.draw.call(this),this.axis&&this.axis.renderer.updateBreakElement(this)},Object.defineProperty(AxisBreak.prototype,\"startValue\",{get:function(){return this.getPropertyValue(\"startValue\")},set:function(value){this.setPropertyValue(\"startValue\",value)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,\"endValue\",{get:function(){return this.getPropertyValue(\"endValue\")},set:function(value){this.setPropertyValue(\"endValue\",value)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),AxisBreak}(Container_Container);Registry_registry.registeredClasses.AxisBreak=AxisBreak_AxisBreak;var AxisItemLocation,Axis_AxisDataItem=function(_super){function AxisDataItem(){var _this=_super.call(this)||this;return _this.className=\"AxisDataItem\",_this.applyTheme(),_this}return __extends(AxisDataItem,_super),Object.defineProperty(AxisDataItem.prototype,\"grid\",{get:function(){if(!this._grid){var component_1=this.component;if(component_1){var grid_1,template=void 0;if(this.isRange){if((template=component_1.axisRanges.template.grid).disabled)return;grid_1=template.clone()}else{if((template=component_1.renderer.grid.template).disabled)return;grid_1=component_1.renderer.grid.create(),this._disposers.push(new Disposer(function(){component_1.renderer.grid.removeValue(grid_1)}))}this.grid=grid_1,grid_1.shouldClone=!1,this._disposers.push(grid_1),grid_1.axis=this.component}}return this._grid},set:function(grid){this._grid&&this._grid!=grid&&(Array_remove(this.sprites,this._grid),this._grid.dataItem=void 0),grid&&(grid.dataItem&&grid.dataItem!=this&&(Array_remove(grid.dataItem.sprites,grid),grid.dataItem.grid=void 0),this.addSprite(grid)),this._grid=grid},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,\"tick\",{get:function(){if(!this._tick){var component_2=this.component;if(component_2){var tick_1,template=void 0;if(this.isRange){if((template=component_2.axisRanges.template.tick).disabled)return;tick_1=template.clone()}else{if((template=component_2.renderer.ticks.template).disabled)return;tick_1=component_2.renderer.ticks.create(),this._disposers.push(new Disposer(function(){component_2.renderer.ticks.removeValue(tick_1)}))}this.tick=tick_1,tick_1.axis=this.component,tick_1.shouldClone=!1,this._disposers.push(tick_1)}}return this._tick},set:function(tick){this._tick&&this._tick!=tick&&(Array_remove(this.sprites,this._tick),this._tick.dataItem=void 0),tick&&(tick.dataItem&&tick.dataItem!=this&&(Array_remove(tick.dataItem.sprites,tick),tick.dataItem.tick=void 0),this.addSprite(tick)),this._tick=tick},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,\"label\",{get:function(){if(!this._label){var component_3=this.component;if(component_3){var label_1,template=void 0;if(this.isRange){if((template=component_3.axisRanges.template.label).disabled)return;label_1=template.clone()}else{if((template=component_3.renderer.labels.template).disabled)return;label_1=component_3.renderer.labels.create(),this._disposers.push(new Disposer(function(){component_3.renderer.labels.removeValue(label_1)}))}this._disposers.push(label_1),this.label=label_1,label_1.shouldClone=!1,label_1.axis=this.component,label_1.virtualParent=component_3}}return this._label},set:function(label){this._label&&this._label!=label&&(Array_remove(this.sprites,this._label),this._label.dataItem=void 0),label&&(label.dataItem&&label.dataItem!=this&&(Array_remove(label.dataItem.sprites,label),label.dataItem.label=void 0),this.addSprite(label)),this._label=label},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,\"axisFill\",{get:function(){if(!this._axisFill){var component_4=this.component;if(component_4){var axisFill_1,template=void 0;if(this.isRange){if(template=component_4.axisRanges.template.axisFill,!this.isTemplate&&template.disabled)return;axisFill_1=template.clone()}else{if((template=component_4.renderer.axisFills.template).disabled)return;axisFill_1=component_4.renderer.axisFills.create(),this._disposers.push(new Disposer(function(){component_4.renderer.axisFills.removeValue(axisFill_1)}))}this.axisFill=axisFill_1,axisFill_1.shouldClone=!1,this._disposers.push(axisFill_1)}}return this._axisFill},set:function(axisFill){this._axisFill&&this._axisFill!=axisFill&&(Array_remove(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),axisFill&&(axisFill.dataItem&&axisFill.dataItem!=this&&(Array_remove(axisFill.dataItem.sprites,axisFill),axisFill.dataItem.axisFill=void 0),axisFill.axis=this.component,this.addSprite(axisFill)),this._axisFill=axisFill},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,\"text\",{get:function(){return this._text},set:function(text){this._text=text,this._label&&(this._label.text=text)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,\"mask\",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,\"contents\",{get:function(){if(!this._contents){var contents=new Container_Container;this.addSprite(contents),contents.isMeasured=!1,this._contents=contents;var component=this.component;if(component){var mask=component.renderer.createFill(this.component);mask.disabled=!1,mask.axis=component,this.addSprite(mask),this._mask=mask,contents.mask=mask}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,\"axisBreak\",{get:function(){return this._axisBreak},set:function(axisBreak){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),axisBreak&&axisBreak.dataItems.push(this),this._axisBreak=axisBreak},enumerable:!0,configurable:!0}),AxisDataItem.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},AxisDataItem.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},AxisDataItem.prototype.configOrder=function(a,b){return a==b?0:\"language\"==a?-1:\"language\"==b?1:\"component\"==a?-1:\"component\"==b?1:0},AxisDataItem.prototype.hasProperty=function(prop){return\"component\"==prop||_super.prototype.hasProperty.call(this,prop)},AxisDataItem.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.text=source.text,source.bullet&&(this.bullet=source.bullet.clone()),this.minPosition=source.minPosition,this.maxPosition=source.maxPosition},AxisDataItem.prototype.setVisibility=function(value,noChangeValues){_super.prototype.setVisibility.call(this,value,noChangeValues),this._contents&&(this._contents.visible=value)},Object.defineProperty(AxisDataItem.prototype,\"bullet\",{get:function(){return this._bullet},set:function(value){this._bullet&&this._bullet!=value&&(Array_remove(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=value,value&&this.addSprite(value)},enumerable:!0,configurable:!0}),AxisDataItem}(DataItem_DataItem);!function(AxisItemLocation){AxisItemLocation[AxisItemLocation.Start=0]=\"Start\",AxisItemLocation[AxisItemLocation.Middle=.5]=\"Middle\",AxisItemLocation[AxisItemLocation.End=1]=\"End\"}(AxisItemLocation||(AxisItemLocation={}));var Axis_Axis=function(_super){function Axis(){var _this=_super.call(this)||this;if(_this._gridCount=10,_this._series=new List_List,_this.autoDispose=!0,_this.constructor===Axis)throw new Error(\"'Axis' cannot be instantiated directly. Please use a specific axis type.\");_this.className=\"Axis\",_this.shouldClone=!1,_this.setPropertyValue(\"cursorTooltipEnabled\",!0);var interfaceColors=new InterfaceColorSet_InterfaceColorSet;_this.title=new Label_Label,_this.title.shouldClone=!1,_this._disposers.push(_this.title),_this.setPropertyValue(\"startLocation\",0),_this.setPropertyValue(\"endLocation\",1),_this._dataItemsIterator=new Iterator_ListIterator(_this.dataItems,function(){return _this.dataItems.create()}),_this._dataItemsIterator.createNewItems=!0;var tooltip=new Tooltip_Tooltip;_this._disposers.push(tooltip),tooltip.label.padding(5,10,5,10),tooltip.background.pointerLength=5,tooltip.fitPointerToBounds=!0,tooltip.background.filters.clear(),tooltip.virtualParent=_this;var background=tooltip.background;return background.cornerRadius=0,background.fill=interfaceColors.getFor(\"alternativeBackground\"),background.stroke=background.fill,background.strokeWidth=1,background.fillOpacity=1,tooltip.label.fill=interfaceColors.getFor(\"alternativeText\"),_this.tooltip=tooltip,_this.applyTheme(),_this}return __extends(Axis,_super),Axis.prototype.fillRule=function(dataItem,index){isNumber(index)||(index=dataItem.index),index/2==Math.round(index/2)?(dataItem.axisFill.__disabled=!0,dataItem.axisFill.opacity=0):(dataItem.axisFill.opacity=1,dataItem.axisFill.__disabled=!1)},Axis.prototype.createDataItem=function(){return new Axis_AxisDataItem},Axis.prototype.invalidateLayout=function(){_super.prototype.invalidateLayout.call(this),Iterator_each(this.series.iterator(),function(series){series.invalidateLayout()})},Axis.prototype.invalidateSeries=function(){Iterator_each(this.series.iterator(),function(series){series.invalidate()})},Axis.prototype.validateDataElements=function(){this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},Axis.prototype.updateGridCount=function(){this.renderer&&(this._gridCount=this.axisLength/this.renderer.minGridDistance)},Axis.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),_super.prototype.validateLayout.call(this),this.updateGridCount(),this.renderer.updateAxisLine(),this.renderer.updateTooltip(),this.renderer.updateBaseGridElement(),this._prevLength!=this.axisLength&&(this.dispatchImmediately(\"lengthchanged\"),this._prevLength=this.axisLength)},Axis.prototype.initRenderer=function(){},Axis.prototype.appendDataItem=function(dataItem){var renderer=this.renderer,tick=dataItem.tick;tick&&(tick.parent=tick.above?renderer.bulletsContainer:renderer.gridContainer),dataItem.label&&(dataItem.label.parent=renderer);var axisFill=dataItem.axisFill;axisFill&&(axisFill.parent=axisFill.above?renderer.bulletsContainer:renderer.gridContainer);var grid=dataItem.grid;grid&&(grid.parent=grid.above?renderer.bulletsContainer:renderer.gridContainer),dataItem.bullet&&(dataItem.bullet.parent=renderer.bulletsContainer)},Axis.prototype.validate=function(){_super.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},Axis.prototype.validateAxisRanges=function(){var _this=this;Iterator_each(this.axisRanges.iterator(),function(axisRange){_this.appendDataItem(axisRange),_this.validateDataElement(axisRange),axisRange.grid&&axisRange.grid.validate(),axisRange.tick&&axisRange.tick.validate(),axisRange.axisFill&&axisRange.axisFill.validate(),axisRange.label&&axisRange.label.validate()})},Axis.prototype.validateBreaks=function(){Iterator_each(this.axisBreaks.iterator(),function(axisBreak){axisBreak.invalidate()})},Axis.prototype.processBreak=function(event){var axisBreak=event.newValue;axisBreak.parent=this.renderer.breakContainer,axisBreak.axis=this},Axis.prototype.registerSeries=function(series){var _this=this;return this.series.moveValue(series),new Disposer_MultiDisposer([new Disposer(function(){_this.series.removeValue(series)}),this.events.on(\"lengthchanged\",series.invalidate,series,!1),this.events.on(\"lengthchanged\",series.createMask,series,!1),this.events.on(\"startchanged\",series.invalidate,series,!1),this.events.on(\"endchanged\",series.invalidate,series,!1)])},Object.defineProperty(Axis.prototype,\"renderer\",{get:function(){return this._renderer},set:function(renderer){if(renderer!=this._renderer){this._renderer=renderer,renderer.chart=this.chart,renderer.axis=this,renderer.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(renderer.gridContainer.events.on(\"maxsizechanged\",this.invalidate,this,!1));var ghostLabel_1=this.renderer.labels.create();this._disposers.push(ghostLabel_1),ghostLabel_1.dataItem=this.dataItems.template.clone(),ghostLabel_1.text=\"L\",ghostLabel_1.parent=this.renderer,ghostLabel_1.shouldClone=!1,ghostLabel_1.fillOpacity=0,ghostLabel_1.opacity=0,ghostLabel_1.strokeOpacity=0,ghostLabel_1.interactionsEnabled=!1,ghostLabel_1.validate(),this.ghostLabel=ghostLabel_1,this.events.on(\"beforedatavalidated\",function(){ghostLabel_1.text=\"L\"},void 0,!1)}},enumerable:!0,configurable:!0}),Axis.prototype.positionToAngle=function(position){return this.renderer.positionToAngle(position)},Axis.prototype.pointToPosition=function(point){return this.renderer.pointToPosition(point)},Axis.prototype.getAnyRangePath=function(start,end){return this.renderer.getPositionRangePath(start,end)},Axis.prototype.anyToPosition=function(value){return 0},Axis.prototype.anyToPoint=function(value){return{x:0,y:0,angle:0}},Axis.prototype.getPositionRangePath=function(startPosition,endPosition){return this.renderer.getPositionRangePath(startPosition,endPosition)},Object.defineProperty(Axis.prototype,\"axisLength\",{get:function(){return this.renderer.axisLength},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,\"cursorTooltipEnabled\",{get:function(){return this.getPropertyValue(\"cursorTooltipEnabled\")},set:function(value){this.setPropertyValue(\"cursorTooltipEnabled\",value)&&(value&&this.renderer?this.renderer.updateTooltip():this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Axis.prototype.showTooltipAtPosition=function(position,local){var tooltip=this._tooltip;if(!tooltip||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(local||(position=this.toAxisPosition(position)),!isNumber(position)||position<0||position>1)return tooltip.hide(0),void(this._tooltipPosition=void 0);var renderer=this.renderer;tooltip.parent||(tooltip.parent=this.tooltipContainer);var tooltipLocation=renderer.tooltipLocation,startPosition=this.getCellStartPosition(position),endPosition=this.getCellEndPosition(position);if(\"fixed\"==this.tooltipPosition&&(position=startPosition+(endPosition-startPosition)*tooltipLocation),position=fitToRange(position,this.start,this.end),this._tooltipPosition!=position){this._tooltipPosition=position;var tooltipLocation2=renderer.tooltipLocation2,startPoint=renderer.positionToPoint(startPosition,tooltipLocation2),endPoint=renderer.positionToPoint(endPosition,tooltipLocation2);this.currentItemStartPoint=startPoint,this.currentItemEndPoint=endPoint,renderer.fullWidthTooltip&&(tooltip.width=endPoint.x-startPoint.x,tooltip.height=endPoint.y-startPoint.y);var globalPoint=spritePointToSvg(renderer.positionToPoint(position,tooltipLocation2),this.renderer.line);tooltip.text=this.getTooltipText(position),tooltip.text&&(tooltip.pointTo(globalPoint),tooltip.show())}this.cursorTooltipEnabled&&!this.tooltip.disabled||tooltip.hide(0)}},Axis.prototype.toAxisPosition=function(position){if(null!=(position=this.renderer.toAxisPosition(position)))return position*=this.end-this.start,this.renderer.inversed?this.end-position:this.start+position},Axis.prototype.toGlobalPosition=function(position){return this.renderer.inversed?position=this.end-position:position-=this.start,position/(this.end-this.start)},Axis.prototype.getTooltipText=function(position){},Axis.prototype.updateTooltip=function(pointerOrientation,boundingRectangle){var tooltip=this._tooltip;tooltip&&(tooltip.pointerOrientation=pointerOrientation,tooltip.setBounds(spriteRectToSvg(boundingRectangle,this.renderer.line)))},Axis.prototype.roundPosition=function(position,location){return position},Axis.prototype.getCellStartPosition=function(position){return position},Axis.prototype.getCellEndPosition=function(position){return position},Object.defineProperty(Axis.prototype,\"axisRanges\",{get:function(){if(!this._axisRanges){var dataItem=this.createDataItem();dataItem.isRange=!0,dataItem.axisFill=this.renderer.axisFills.template.clone(),dataItem.grid=this.renderer.grid.template.clone(),dataItem.tick=this.renderer.ticks.template.clone(),dataItem.label=this.renderer.labels.template.clone(),dataItem.isTemplate=!0,dataItem.component=this,dataItem.axisFill.disabled=!1,dataItem.tick.disabled=!1,dataItem.grid.disabled=!1,dataItem.label.disabled=!1,this._axisRanges=new List_ListTemplate(dataItem),this._axisRanges.events.on(\"inserted\",this.processAxisRange,this,!1),this._disposers.push(new List_ListDisposer(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),Axis.prototype.processAxisRange=function(event){var axisRange=event.newValue;axisRange.component=this,axisRange.isRange=!0},Object.defineProperty(Axis.prototype,\"axisBreaks\",{get:function(){return this._axisBreaks||(this._axisBreaks=new SortedList_SortedListTemplate(this.createAxisBreak(),function(a,b){return Number_order(a.adjustedStartValue,b.adjustedStartValue)}),this._axisBreaks.events.on(\"inserted\",this.processBreak,this,!1),this._disposers.push(new List_ListDisposer(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),Axis.prototype.createAxisBreak=function(){return new AxisBreak_AxisBreak},Object.defineProperty(Axis.prototype,\"series\",{get:function(){return this._series||(this._series=new List_List),this._series},enumerable:!0,configurable:!0}),Axis.prototype.processSeriesDataItems=function(){},Axis.prototype.processSeriesDataItem=function(dataItem,axisLetter){},Axis.prototype.postProcessSeriesDataItems=function(){},Axis.prototype.postProcessSeriesDataItem=function(dataItem){},Axis.prototype.updateAxisBySeries=function(){},Axis.prototype.hideUnusedDataItems=function(){var _this=this,dataItemsIterator=this._dataItemsIterator;dataItemsIterator.createNewItems=!1,Iterator_each(dataItemsIterator.iterator(),function(dataItem){_this.validateDataElement(dataItem),dataItem.__disabled=!0}),dataItemsIterator.clear(),dataItemsIterator.createNewItems=!0},Axis.prototype.getSeriesDataItem=function(series,position,findNearest){},Axis.prototype.getAngle=function(dataItem,key,location,stackKey,range){},Axis.prototype.getX=function(dataItem,key,location,stackKey,range){},Axis.prototype.getPositionX=function(dataItem,key,location,stackKey,range){},Axis.prototype.getY=function(dataItem,key,location,stackKey,range){},Axis.prototype.getPositionY=function(dataItem,key,location,stackKey,range){},Object.defineProperty(Axis.prototype,\"basePoint\",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),Axis.prototype.dataChangeUpdate=function(){},Axis.prototype.seriesDataChangeUpdate=function(series){},Axis.prototype.adjustDifference=function(min,max){var difference=max-min;if(isNumber(difference))return Iterator_eachContinue(this.axisBreaks.iterator(),function(axisBreak){var range1,range2,start1,start2,end1,end2,startMax,endMin,startValue=axisBreak.adjustedStartValue,endValue=axisBreak.adjustedEndValue;if(isNumber(startValue)&&isNumber(endValue)){if(startValue>max)return!1;if(endValue>=min&&isNumber(startValue)&&isNumber(endValue)){var breakSize=axisBreak.breakSize,intersection=(range2={start:min,end:max},start1=getValue((range1={start:startValue,end:endValue}).start),start2=getValue(range2.start),end1=getValue(range1.end),end2=getValue(range2.end),startMax=Math.max(start1,start2),(endMin=Math.min(end1,end2))<startMax?void 0:{start:startMax,end:endMin});intersection&&(difference-=(intersection.end-intersection.start)*(1-breakSize))}return!0}}),difference},Axis.prototype.isInBreak=function(value){return iter=this.axisBreaks.iterator(),matches=function(axisBreak){return value>=axisBreak.adjustedStartValue&&value<=axisBreak.adjustedEndValue},iter(function(value){return!matches(value)||(output=value,!1)}),output;var iter,matches,output},Axis.prototype.fixAxisBreaks=function(){var _this=this,axisBreaks=this.axisBreaks;if(axisBreaks.length>0){each(Iterator_toArray(axisBreaks.iterator()),function(axisBreak){var startValue=Math_min(axisBreak.startValue,axisBreak.endValue),endValue=Math_max(axisBreak.startValue,axisBreak.endValue);axisBreak.adjustedStartValue=startValue,axisBreak.adjustedEndValue=endValue,_this.axisBreaks.update(axisBreak)});var firstAxisBreak=axisBreaks.first,previousEndValue_1=Math.min(firstAxisBreak.startValue,firstAxisBreak.endValue);Iterator_each(this.axisBreaks.iterator(),function(axisBreak){var startValue=axisBreak.adjustedStartValue,endValue=axisBreak.adjustedEndValue;startValue<previousEndValue_1&&(startValue=previousEndValue_1,endValue<previousEndValue_1&&(endValue=previousEndValue_1)),axisBreak.adjustedStartValue=startValue,axisBreak.adjustedEndValue=endValue})}},Object.defineProperty(Axis.prototype,\"startIndex\",{get:function(){return 0},set:function(value){},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,\"endIndex\",{get:function(){return this.dataItems.length},set:function(value){},enumerable:!0,configurable:!0}),Axis.prototype.getPositionLabel=function(position){return Math.round(100*position)+\"%x\"},Object.defineProperty(Axis.prototype,\"chart\",{get:function(){return this._chart},set:function(value){this._chart=value},enumerable:!0,configurable:!0}),Axis.prototype.createSeriesRange=function(series){var range=this.axisRanges.create();return range.component=this,range.axisFill=this.renderer.axisFills.template.clone(),range.axisFill.disabled=!1,range.axisFill.fillOpacity=0,range.grid=this.renderer.grid.template.clone(),range.grid.disabled=!0,range.tick=this.renderer.ticks.template.clone(),range.tick.disabled=!0,range.label=this.renderer.labels.template.clone(),range.label.disabled=!0,series.axisRanges.push(range),range},Axis.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.renderer?this.renderer.copyFrom(source.renderer):source.renderer&&(this.renderer=source.renderer.clone(),this._disposers.push(this.renderer)),source.title&&(this.title=source.title.clone(),this._disposers.push(this.title))},Axis.prototype.resetIterators=function(){this._dataItemsIterator.reset()},Axis.prototype.processConfig=function(config){if(config&&hasValue(config.axisRanges)&&Type_isArray(config.axisRanges))for(var i=0,len=config.axisRanges.length;i<len;i++){var range=config.axisRanges[i];hasValue(range.series)&&isString(range.series)&&this.map.hasKey(range.series)&&(config.axisRanges[i]=this.createSeriesRange(this.map.getKey(range.series)),delete range.series,config.axisRanges[i].config=range)}_super.prototype.processConfig.call(this,config)},Object.defineProperty(Axis.prototype,\"startLocation\",{get:function(){return this.getPropertyValue(\"startLocation\")},set:function(value){this.setPropertyValue(\"startLocation\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,\"endLocation\",{get:function(){return this.getPropertyValue(\"endLocation\")},set:function(value){this.setPropertyValue(\"endLocation\",value,!0)},enumerable:!0,configurable:!0}),Axis.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.renderer&&(this.renderer.gridContainer.disabled=value),changed},Axis}(Component_Component);Registry_registry.registeredClasses.Axis=Axis_Axis,Registry_registry.registeredClasses.AxisDataItem=Axis_AxisDataItem,defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(target,stateId){if(target instanceof Axis_Axis&&target.tooltip){var state=target.states.create(stateId);return state.properties.cursorTooltipEnabled=!1,state}return null}});var AxisLine_AxisLine=function(_super){function AxisLine(){var _this=_super.call(this)||this;_this.className=\"AxisLine\",_this.element=_this.paper.add(\"path\");var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.stroke=interfaceColors.getFor(\"grid\"),_this.strokeOpacity=.15,_this.pixelPerfect=!0,_this.fill=Color_color(),_this.applyTheme(),_this.interactionsEnabled=!1,_this}return __extends(AxisLine,_super),AxisLine}(Sprite_Sprite);Registry_registry.registeredClasses.AxisLine=AxisLine_AxisLine;var AxisFill_AxisFill=function(_super){function AxisFill(axis){var _this=_super.call(this)||this;_this.axis=axis,_this.element=_this.paper.add(\"path\"),_this.className=\"AxisFill\",_this.isMeasured=!1,_this.location=0,_this.above=!1;var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.fill=interfaceColors.getFor(\"alternativeBackground\"),_this.fillOpacity=0,_this.applyTheme(),_this}return __extends(AxisFill,_super),AxisFill.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.axis&&this.axis.invalidateDataItems(),changed},AxisFill.prototype.draw=function(){_super.prototype.draw.call(this),this.__disabled||this.disabled||this.axis&&isNumber(this.startPosition)&&isNumber(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath)},Object.defineProperty(AxisFill.prototype,\"startPosition\",{get:function(){return this.getPropertyValue(\"startPosition\")},set:function(value){this.setPropertyValue(\"startPosition\",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisFill.prototype,\"endPosition\",{get:function(){return this.getPropertyValue(\"endPosition\")},set:function(value){this.setPropertyValue(\"endPosition\",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisFill.prototype,\"location\",{get:function(){return this.getPropertyValue(\"location\")},set:function(value){this.setPropertyValue(\"location\",value,!0)},enumerable:!0,configurable:!0}),AxisFill.prototype.setPath=function(value){return!!this.setPropertyValue(\"path\",value)&&(this.element.attr({d:value}),!0)},Object.defineProperty(AxisFill.prototype,\"above\",{get:function(){return this.getPropertyValue(\"above\")},set:function(value){this.setPropertyValue(\"above\",value,!0)},enumerable:!0,configurable:!0}),AxisFill}(Sprite_Sprite);Registry_registry.registeredClasses.AxisFill=AxisFill_AxisFill;var Grid_Grid=function(_super){function Grid(){var _this=_super.call(this)||this;_this.className=\"Grid\",_this.element=_this.paper.add(\"path\"),_this.location=.5,_this.isMeasured=!1,_this.above=!1;var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.stroke=interfaceColors.getFor(\"grid\"),_this.pixelPerfect=!0,_this.strokeOpacity=.15,_this.fill=Color_color(),_this.applyTheme(),_this}return __extends(Grid,_super),Object.defineProperty(Grid.prototype,\"location\",{get:function(){return this.getPropertyValue(\"location\")},set:function(value){this.setPropertyValue(\"location\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Grid.prototype,\"above\",{get:function(){return this.getPropertyValue(\"above\")},set:function(value){this.setPropertyValue(\"above\",value,!0)},enumerable:!0,configurable:!0}),Grid.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.axis&&this.axis.invalidateDataItems(),changed},Grid}(Sprite_Sprite);Registry_registry.registeredClasses.Grid=Grid_Grid,defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(target,stateId){if(target instanceof Grid_Grid){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var AxisLabel_AxisLabel=function(_super){function AxisLabel(){var _this=_super.call(this)||this;return _this.className=\"AxisLabel\",_this.isMeasured=!1,_this.padding(10,10,10,10),_this.location=.5,_this.applyTheme(),_this}return __extends(AxisLabel,_super),Object.defineProperty(AxisLabel.prototype,\"location\",{get:function(){return this.getPropertyValue(\"location\")},set:function(value){this.setPropertyValue(\"location\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisLabel.prototype,\"inside\",{get:function(){return this.getPropertyValue(\"inside\")},set:function(value){this.setPropertyValue(\"inside\",value,!0)},enumerable:!0,configurable:!0}),AxisLabel.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.axis&&this.axis.invalidateDataItems(),changed},AxisLabel}(Label_Label);Registry_registry.registeredClasses.AxisLabel=AxisLabel_AxisLabel;var Tick_Tick=function(_super){function Tick(){var _this=_super.call(this)||this;_this.className=\"Tick\";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.fillOpacity=0,_this.length=6,_this.strokeOpacity=.2,_this.stroke=interfaceColors.getFor(\"grid\"),_this.isMeasured=!1,_this.nonScalingStroke=!0,_this.applyTheme(),_this}return __extends(Tick,_super),Object.defineProperty(Tick.prototype,\"length\",{get:function(){return this.disabled?0:this.getPropertyValue(\"length\")},set:function(value){this.setPropertyValue(\"length\",value,!0)},enumerable:!0,configurable:!0}),Tick}(Sprite_Sprite);Registry_registry.registeredClasses.Tick=Tick_Tick;var AxisTick_AxisTick=function(_super){function AxisTick(){var _this=_super.call(this)||this;return _this.className=\"AxisTick\",_this.element=_this.paper.add(\"path\"),_this.location=.5,_this.above=!1,_this.isMeasured=!1,_this.pixelPerfect=!0,_this.strokeOpacity=0,_this.length=5,_this.applyTheme(),_this}return __extends(AxisTick,_super),Object.defineProperty(AxisTick.prototype,\"location\",{get:function(){return this.getPropertyValue(\"location\")},set:function(value){this.setPropertyValue(\"location\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisTick.prototype,\"inside\",{get:function(){return this.getPropertyValue(\"inside\")},set:function(value){this.setPropertyValue(\"inside\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisTick.prototype,\"above\",{get:function(){return this.getPropertyValue(\"above\")},set:function(value){this.setPropertyValue(\"above\",value,!0)},enumerable:!0,configurable:!0}),AxisTick.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.axis&&this.axis.invalidateDataItems(),changed},AxisTick}(Tick_Tick);Registry_registry.registeredClasses.AxisTick=AxisTick_AxisTick;var AxisRenderer_AxisRenderer=function(_super){function AxisRenderer(){var _this=_super.call(this)||this;_this._chart=new Disposer_MutableValueDisposer,_this.className=\"AxisRenderer\",_this.minGridDistance=50,_this.inside=!1,_this.inversed=!1,_this.tooltipLocation=.5,_this.fullWidthTooltip=!1,_this.cellStartLocation=0,_this.cellEndLocation=1,_this.minLabelPosition=0,_this.maxLabelPosition=1,_this.shouldClone=!1;var gridContainer=_this.createChild(Container_Container);gridContainer.shouldClone=!1,gridContainer.layout=\"none\",gridContainer.virtualParent=_this,gridContainer.width=Percent_percent(100),gridContainer.height=Percent_percent(100),_this.gridContainer=gridContainer,gridContainer.events.on(\"maxsizechanged\",function(){_this.inited&&_this.invalidateAxisItems()},_this,!1);var breakContainer=_this.createChild(Container_Container);breakContainer.shouldClone=!1,breakContainer.isMeasured=!1,breakContainer.layout=\"none\",breakContainer.width=Percent_percent(100),breakContainer.height=Percent_percent(100),_this.breakContainer=breakContainer;var bulletsContainer=_this.createChild(Container_Container);bulletsContainer.shouldClone=!1,bulletsContainer.isMeasured=!1,bulletsContainer.layout=\"none\",bulletsContainer.width=Percent_percent(100),bulletsContainer.height=Percent_percent(100),_this.bulletsContainer=bulletsContainer,_this.line=_this.createChild(AxisLine_AxisLine),_this.line.shouldClone=!1,_this.line.strokeOpacity=0;var baseGrid=_this.createChild(Grid_Grid);baseGrid.shouldClone=!1,_this.baseGrid=baseGrid;var disposers=_this._disposers;return disposers.push(baseGrid),disposers.push(_this.line),disposers.push(gridContainer),disposers.push(breakContainer),disposers.push(bulletsContainer),disposers.push(_this._chart),_this.ticks.template.disabled=!0,_this.axisFills.template.disabled=!0,_this.axisFills.template.interactionsEnabled=!1,_this.applyTheme(),_this}return __extends(AxisRenderer,_super),Object.defineProperty(AxisRenderer.prototype,\"axis\",{get:function(){return this._axis},set:function(axis){this.setAxis(axis)},enumerable:!0,configurable:!0}),AxisRenderer.prototype.setAxis=function(axis){this._axis=axis,this.baseGrid.parent=axis,this.line.parent=axis,this.gridContainer.bind(\"opacity\",axis)},AxisRenderer.prototype.processRenderer=function(){this.events.on(\"sizechanged\",this.updateTooltip,this,!1),this.events.on(\"positionchanged\",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},AxisRenderer.prototype.updateTooltip=function(){},Object.defineProperty(AxisRenderer.prototype,\"axisLength\",{get:function(){return 0},enumerable:!0,configurable:!0}),AxisRenderer.prototype.positionItem=function(item,point){item&&item.moveTo(point)},AxisRenderer.prototype.positionToPoint=function(position,position2){return{x:0,y:0}},AxisRenderer.prototype.positionToAngle=function(position){return 0},AxisRenderer.prototype.positionToCoordinate=function(position){var axis=this.axis,axisFullLength=axis.axisFullLength;return axis.renderer.inversed?(axis.end-position)*axisFullLength:(position-axis.start)*axisFullLength},AxisRenderer.prototype.updateGridContainer=function(){},AxisRenderer.prototype.getHeight=function(){var axis=this.axis;if(axis&&axis.chart){var chart=this.axis.chart;if(chart.plotContainer)return chart.plotContainer.pixelHeight||0}return this.gridContainer.pixelHeight||0},AxisRenderer.prototype.getWidth=function(){var axis=this.axis;if(axis&&axis.chart){var chart=this.axis.chart;if(chart.plotContainer)return chart.plotContainer.pixelWidth||0}return this.gridContainer.pixelWidth||0},AxisRenderer.prototype.coordinateToPosition=function(coordinate,coordinate2){var axis=this.axis,axisFullLength=axis.axisFullLength;return Math_round(axis.renderer.inversed?axis.end-coordinate/axisFullLength:coordinate/axisFullLength+axis.start,5)},AxisRenderer.prototype.pointToPosition=function(point){return 0},AxisRenderer.prototype.getPositionRangePath=function(startPosition,endPosition){return\"\"},AxisRenderer.prototype.invalidateAxisItems=function(){var axis=this.axis;axis&&axis.invalidateDataItems()},AxisRenderer.prototype.updateGridElement=function(grid,position,endPosition){},AxisRenderer.prototype.updateTickElement=function(tick,position,endPosition){},AxisRenderer.prototype.updateBullet=function(bullet,position,endPosition){},AxisRenderer.prototype.updateLabelElement=function(label,position,endPosition,location){},AxisRenderer.prototype.updateFillElement=function(fill,position,endPosition){fill.startPosition=position,fill.endPosition=endPosition},AxisRenderer.prototype.updateAxisLine=function(){},AxisRenderer.prototype.updateBaseGridElement=function(){},AxisRenderer.prototype.updateBreakElement=function(axisBreak){this.positionItem(axisBreak.startLine,axisBreak.startPoint),this.toggleVisibility(axisBreak.startLine,axisBreak.startPosition,0,1),this.positionItem(axisBreak.endLine,axisBreak.endPoint),this.toggleVisibility(axisBreak.endLine,axisBreak.endPosition,0,1)},Object.defineProperty(AxisRenderer.prototype,\"minGridDistance\",{get:function(){return this.getPropertyValue(\"minGridDistance\")},set:function(value){this.setPropertyValue(\"minGridDistance\",value)&&this.axis&&this.axis.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,\"chart\",{get:function(){return this._chart.get()},set:function(value){this._chart.set(value,null)},enumerable:!0,configurable:!0}),AxisRenderer.prototype.toggleVisibility=function(sprite,position,minPosition,maxPosition){var axis=this.axis,dataItem=sprite.dataItem;dataItem&&dataItem instanceof Axis_AxisDataItem&&(isNumber(dataItem.minPosition)&&(minPosition=dataItem.minPosition),isNumber(dataItem.maxPosition)&&(maxPosition=dataItem.maxPosition)),sprite.disabled||(sprite.__disabled=position<axis.start+(axis.end-axis.start)*(minPosition-1e-4)||position>axis.start+(axis.end-axis.start)*(maxPosition+1e-4))},AxisRenderer.prototype.createBreakSprites=function(axisBreak){},Object.defineProperty(AxisRenderer.prototype,\"axisFills\",{get:function(){if(!this._axisFills){var fill=this.createFill(this.axis);this._axisFills=new List_ListTemplate(fill),fill.applyOnClones=!0,fill.events.on(\"enabled\",this.invalidateAxisItems,this,!1),this._disposers.push(new List_ListDisposer(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),AxisRenderer.prototype.createFill=function(axis){return new AxisFill_AxisFill(axis)},Object.defineProperty(AxisRenderer.prototype,\"grid\",{get:function(){if(!this._grid){var grid=this.createGrid();this._grid=new List_ListTemplate(grid),grid.applyOnClones=!0,grid.events.on(\"enabled\",this.invalidateAxisItems,this,!1),this._disposers.push(new List_ListDisposer(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),AxisRenderer.prototype.createGrid=function(){return new Grid_Grid},Object.defineProperty(AxisRenderer.prototype,\"ticks\",{get:function(){if(!this._ticks){var tick=this.createTick();tick.applyOnClones=!0,tick.isMeasured=!1,tick.events.on(\"enabled\",this.invalidateAxisItems,this,!1),this._ticks=new List_ListTemplate(tick),this._disposers.push(new List_ListDisposer(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),AxisRenderer.prototype.createTick=function(){return new AxisTick_AxisTick},Object.defineProperty(AxisRenderer.prototype,\"labels\",{get:function(){if(!this._labels){var label=this.createLabel();this._labels=new List_ListTemplate(label),label.applyOnClones=!0,label.events.on(\"enabled\",this.invalidateAxisItems,this,!1),this._disposers.push(new List_ListDisposer(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),AxisRenderer.prototype.createLabel=function(){return new AxisLabel_AxisLabel},Object.defineProperty(AxisRenderer.prototype,\"inside\",{get:function(){return this.getPropertyValue(\"inside\")},set:function(value){this.setPropertyValue(\"inside\",value)&&this.axis&&this.axis.invalidate(),value?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,\"opposite\",{get:function(){return this.getPropertyValue(\"opposite\")},set:function(value){this.setPropertyValue(\"opposite\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,\"fullWidthTooltip\",{get:function(){return this.getPropertyValue(\"fullWidthTooltip\")},set:function(value){this.setPropertyValue(\"fullWidthTooltip\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,\"tooltipLocation\",{get:function(){return this.getPropertyValue(\"tooltipLocation\")},set:function(value){this.setPropertyValue(\"tooltipLocation\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,\"tooltipLocation2\",{get:function(){return this.getPropertyValue(\"tooltipLocation2\")},set:function(value){this.setPropertyValue(\"tooltipLocation2\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,\"cellStartLocation\",{get:function(){return this.getPropertyValue(\"cellStartLocation\")},set:function(value){this.setPropertyValue(\"cellStartLocation\",value)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,\"cellEndLocation\",{get:function(){return this.getPropertyValue(\"cellEndLocation\")},set:function(value){this.setPropertyValue(\"cellEndLocation\",value)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,\"inversed\",{get:function(){return this.getPropertyValue(\"inversed\")},set:function(value){this.setPropertyValue(\"inversed\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,\"minLabelPosition\",{get:function(){return this.getPropertyValue(\"minLabelPosition\")},set:function(value){this.setPropertyValue(\"minLabelPosition\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,\"maxLabelPosition\",{get:function(){return this.getPropertyValue(\"maxLabelPosition\")},set:function(value){this.setPropertyValue(\"maxLabelPosition\",value,!0)},enumerable:!0,configurable:!0}),AxisRenderer.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.grid.template.copyFrom(source.grid.template),this.ticks.template.copyFrom(source.ticks.template),this.labels.template.copyFrom(source.labels.template),this.axisFills.template.copyFrom(source.axisFills.template),this.line.copyFrom(source.line),this.baseGrid.copyFrom(source.baseGrid)},AxisRenderer.prototype.toAxisPosition=function(value){return value},AxisRenderer.prototype.setVisibility=function(value){_super.prototype.setVisibility.call(this,value),this.bulletsContainer.visible=value},AxisRenderer}(Container_Container);Registry_registry.registeredClasses.AxisRenderer=AxisRenderer_AxisRenderer;var AxisBullet_AxisBullet=function(_super){function AxisBullet(){var _this=_super.call(this)||this;return _this.className=\"AxisBullet\",_this.location=.5,_this.isMeasured=!1,_this.applyTheme(),_this}return __extends(AxisBullet,_super),Object.defineProperty(AxisBullet.prototype,\"location\",{get:function(){return this.getPropertyValue(\"location\")},set:function(value){this.setPropertyValue(\"location\",value,!0)},enumerable:!0,configurable:!0}),AxisBullet.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.axis&&this.axis.invalidateDataItems(),changed},AxisBullet}(Container_Container);Registry_registry.registeredClasses.AxisBullet=AxisBullet_AxisBullet;var AxisRendererY_AxisRendererY=function(_super){function AxisRendererY(){var _this=_super.call(this)||this;return _this.className=\"AxisRendererY\",_this.minGridDistance=40,_this.opposite=!1,_this.height=Percent_percent(100),_this.labels.template.verticalCenter=\"middle\",_this.applyTheme(),_this}return __extends(AxisRendererY,_super),AxisRendererY.prototype.setAxis=function(axis){_super.prototype.setAxis.call(this,axis),axis.layout=\"horizontal\"},AxisRendererY.prototype.updateGridContainer=function(){var axis=this.axis;if(axis){var gridContainer=this.gridContainer;gridContainer.y=axis.pixelY,gridContainer.height=axis.axisLength}},AxisRendererY.prototype.toAxisPosition=function(value){var axis=this.axis,parent=axis.parent;return axis&&parent?1-(1-value-axis.pixelY/parent.innerHeight)/(axis.axisLength/parent.innerHeight):value},AxisRendererY.prototype.processRenderer=function(){_super.prototype.processRenderer.call(this);var axis=this.axis;if(axis){var title=axis.title;title.valign=\"middle\",axis.height instanceof Percent||(axis.height=Percent_percent(100)),this.opposite?(title.rotation=90,this.line.toBack(),title.toFront()):(title.rotation=-90,title.toBack(),this.line.toFront())}},AxisRendererY.prototype.updateTooltip=function(){if(this.axis){var bbx=0,bbw=2e3;this.opposite?this.inside&&(bbx=-2e3,bbw=2e3):this.inside||(bbx=-2e3,bbw=2e3),this.axis.updateTooltip(\"horizontal\",{x:bbx,y:0,width:bbw,height:this.axisLength})}},Object.defineProperty(AxisRendererY.prototype,\"axisLength\",{get:function(){var axis=this.axis;return axis.measuredHeight-axis.pixelPaddingTop-axis.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),AxisRendererY.prototype.positionToPoint=function(position){return{x:0,y:this.positionToCoordinate(position)}},AxisRendererY.prototype.pointToPosition=function(point){return this.coordinateToPosition(point.y,point.x)},AxisRendererY.prototype.getPositionRangePath=function(startPosition,endPosition){var y1=fitToRange(this.positionToCoordinate(startPosition),0,this.axisLength),y2=fitToRange(this.positionToCoordinate(endPosition),0,this.axisLength),h=Math.abs(y2-y1),w=this.getWidth();return rectToPath({x:0,y:Math.min(y1,y2),width:w,height:h},!0)},AxisRendererY.prototype.updateGridElement=function(grid,position,endPosition){var point=this.positionToPoint(position+=(endPosition-position)*grid.location);grid.path=moveTo({x:0,y:0})+lineTo({x:this.getWidth(),y:0}),this.positionItem(grid,point),this.toggleVisibility(grid,position,0,1)},AxisRendererY.prototype.updateTickElement=function(tick,position,endPosition){var point=this.positionToPoint(position+=(endPosition-position)*tick.location),tickLength=tick.length;point.x=spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,tickLength*=this.opposite?tick.inside?-1:1:tick.inside?1:-1,tick.path=moveTo({x:0,y:0})+lineTo({x:tickLength,y:0}),this.positionItem(tick,point),this.toggleVisibility(tick,position,0,1)},AxisRendererY.prototype.updateAxisLine=function(){this.line.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.axisLength})},AxisRendererY.prototype.updateBaseGridElement=function(){_super.prototype.updateBaseGridElement.call(this);var axis=this.axis,w=this.getWidth(),y=axis.basePoint.y,baseGrid=this.baseGrid;if(y<-.2||y>this.axisLength+.2)baseGrid.hide(0);else{var x=spritePointToSprite({x:0,y:0},this.gridContainer,baseGrid.parent).x;baseGrid.path=moveTo({x:0,y:0})+lineTo({x:w,y:0}),baseGrid.moveTo({x:x,y:y}),baseGrid.show(0)}},AxisRendererY.prototype.updateLabelElement=function(label,position,endPosition,location){hasValue(location)||(location=label.location),position+=(endPosition-position)*location,label.isMeasured=!label.inside;var horizontalCenter,point=this.positionToPoint(position),deltaX=0,maxWidth=this.gridContainer.maxWidth;this.opposite?(label.inside?(horizontalCenter=\"right\",\"left\"==label.align&&(deltaX=-maxWidth,horizontalCenter=\"left\"),\"center\"==label.align&&(deltaX=-maxWidth/2,horizontalCenter=\"middle\")):horizontalCenter=\"left\",point.x=0+deltaX):(label.inside?(horizontalCenter=\"left\",\"right\"==label.align&&(deltaX=maxWidth,horizontalCenter=\"right\"),\"center\"==label.align&&(deltaX=maxWidth/2,horizontalCenter=\"middle\")):horizontalCenter=\"right\",point.x=this.measuredWidth+deltaX),0==label.rotation&&(label.horizontalCenter=horizontalCenter),this.positionItem(label,point),this.toggleVisibility(label,position,this.minLabelPosition,this.maxLabelPosition)},AxisRendererY.prototype.updateBreakElement=function(axisBreak){_super.prototype.updateBreakElement.call(this,axisBreak);var startLine=axisBreak.startLine,endLine=axisBreak.endLine,fillShape=axisBreak.fillShape,startPoint=axisBreak.startPoint,endPoint=axisBreak.endPoint,x1=axisBreak.pixelMarginLeft,x2=this.getWidth()-axisBreak.pixelMarginLeft-axisBreak.pixelMarginRight;startPoint.y=fitToRange(startPoint.y,-1,this.axisLength+1),endPoint.y=fitToRange(endPoint.y,-1,this.axisLength+1),axisBreak.fillShape.__disabled=startPoint.y==endPoint.y&&(startPoint.y<0||startPoint.y>this.axisLength);var w=Math.abs(x2-x1);startLine.x=x1,startLine.height=0,startLine.width=w,endLine.x=x1,endLine.height=0,endLine.width=w,fillShape.width=w,fillShape.height=Math.abs(endPoint.y-startPoint.y),fillShape.x=x1,fillShape.y=endPoint.y},AxisRendererY.prototype.createBreakSprites=function(axisBreak){axisBreak.startLine=new WavedLine_WavedLine,axisBreak.endLine=new WavedLine_WavedLine;var wavedRectangle=new WavedRectangle_WavedRectangle;wavedRectangle.setWavedSides(!0,!1,!0,!1),axisBreak.fillShape=wavedRectangle},AxisRendererY.prototype.positionToCoordinate=function(position){var axis=this.axis,axisFullLength=axis.axisFullLength;return Math_round(axis.renderer.inversed?(position-axis.start)*axisFullLength:(axis.end-position)*axisFullLength,1)},AxisRendererY.prototype.updateBullet=function(bullet,position,endPosition){var location=.5;bullet instanceof AxisBullet_AxisBullet&&(location=bullet.location);var point=this.positionToPoint(position+=(endPosition-position)*location);point.x=spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(bullet,point),this.toggleVisibility(bullet,position,0,1)},AxisRendererY}(AxisRenderer_AxisRenderer);Registry_registry.registeredClasses.AxisRendererY=AxisRendererY_AxisRendererY,defaultRules.push({relevant:ResponsiveBreakpoints.widthS,state:function(target,stateId){if(target instanceof AxisRendererY_AxisRendererY){var state=target.states.create(stateId);return state.properties.inside=!0,state.properties.maxLabelPosition=.9,state.properties.minLabelPosition=.1,state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(target,stateId){if(target instanceof AxisRendererY_AxisRendererY){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var ValueAxisBreak_ValueAxisBreak=function(_super){function ValueAxisBreak(){var _this=_super.call(this)||this;return _this.className=\"ValueAxisBreak\",_this.applyTheme(),_this}return __extends(ValueAxisBreak,_super),Object.defineProperty(ValueAxisBreak.prototype,\"startPosition\",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxisBreak.prototype,\"endPosition\",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),ValueAxisBreak}(AxisBreak_AxisBreak);Registry_registry.registeredClasses.ValueAxisBreak=ValueAxisBreak_ValueAxisBreak;var ValueAxis_ValueAxisDataItem=function(_super){function ValueAxisDataItem(){var _this=_super.call(this)||this;return _this.className=\"ValueAxisDataItem\",_this.values.value={},_this.values.endValue={},_this.applyTheme(),_this}return __extends(ValueAxisDataItem,_super),Object.defineProperty(ValueAxisDataItem.prototype,\"value\",{get:function(){return this.values.value.value},set:function(value){this.setValue(\"value\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxisDataItem.prototype,\"endValue\",{get:function(){return this.values.endValue.value},set:function(value){this.setValue(\"endValue\",value)},enumerable:!0,configurable:!0}),ValueAxisDataItem}(Axis_AxisDataItem),ValueAxis_ValueAxis=function(_super){function ValueAxis(){var _this=_super.call(this)||this;return _this._stepDecimalPlaces=0,_this._baseValue=0,_this._adjustedStart=0,_this._adjustedEnd=1,_this._extremesChanged=!1,_this._deltaMinMax=1,_this.calculateTotals=!1,_this.className=\"ValueAxis\",_this.axisFieldName=\"value\",_this.setPropertyValue(\"maxZoomFactor\",1e3),_this.setPropertyValue(\"extraMin\",0),_this.setPropertyValue(\"extraMax\",0),_this.setPropertyValue(\"strictMinMax\",!1),_this.setPropertyValue(\"maxPrecision\",Number.MAX_VALUE),_this.keepSelection=!1,_this.includeRangesInMinMax=!1,_this.applyTheme(),_this}return __extends(ValueAxis,_super),ValueAxis.prototype.fillRule=function(dataItem){var value=dataItem.value,axis=dataItem.component;dataItem.axisFill.disabled||(dataItem.axisFill.__disabled=Math_round(value/axis.step/2,5)==Math.round(value/axis.step/2))},ValueAxis.prototype.createDataItem=function(){return new ValueAxis_ValueAxisDataItem},ValueAxis.prototype.createAxisBreak=function(){return new ValueAxisBreak_ValueAxisBreak},ValueAxis.prototype.dataChangeUpdate=function(){this.keepSelection?(0!=this._start&&this.dispatchImmediately(\"startchanged\"),1!=this._end&&this.dispatchImmediately(\"endchanged\"),0==this._start&&1==this._end||this.dispatchImmediately(\"startendchanged\")):0==this._start&&1==this._end||(this._start=0,this._end=1,this.dispatchImmediately(\"startendchanged\")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},ValueAxis.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var series=this.series.getIndex(0),startIndex=series.startIndex;if(series.dataItems.length>0){startIndex>0&&startIndex--;var endIndex=series.endIndex;endIndex<series.dataItems.length&&endIndex++;for(var _loop_1=function(i){var total={};this_1.series.each(function(series){if(!series.excludeFromTotal){var dataItem_1=series.dataItems.getIndex(i);dataItem_1&&Object_each(dataItem_1.values,function(key){var value=dataItem_1.values[key].workingValue;isNumber(value)&&(isNumber(total[key])?total[key]+=Math.abs(value):total[key]=Math.abs(value))})}}),this_1.series.each(function(series){if(!series.excludeFromTotal){var dataItem_2=series.dataItems.getIndex(i);dataItem_2&&Object_each(dataItem_2.values,function(key){var value=dataItem_2.values[key].workingValue;isNumber(value)&&(dataItem_2.setCalculatedValue(key,total[key],\"total\"),dataItem_2.setCalculatedValue(key,100*value/total[key],\"totalPercent\"))})}})},this_1=this,i=startIndex;i<endIndex;++i)_loop_1(i)}}},ValueAxis.prototype.validate=function(){this.axisLength<=0||(_super.prototype.validate.call(this),this.getMinMax(),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},ValueAxis.prototype.calculateZoom=function(){if(isNumber(this.min)&&isNumber(this.max)){var min=this.positionToValue(this.start),max=this.positionToValue(this.end),differece=this.adjustDifference(min,max),minMaxStep=this.adjustMinMax(min,max,differece,this._gridCount,!0);max=minMaxStep.max,this._adjustedStart=Math_round(((min=minMaxStep.min)-this.min)/(this.max-this.min),5),this._adjustedEnd=Math_round((max-this.min)/(this.max-this.min),5),this._step=minMaxStep.step,this._stepDecimalPlaces=(match=(\"\"+this._step).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/))?Math.max(0,(match[1]?match[1].length:0)-(match[2]?+match[2]:0)):0,this._minZoomed==min&&this._maxZoomed==max||(this._minZoomed=min,this._maxZoomed=max,this.dispatchImmediately(\"selectionextremeschanged\"))}else this._adjustedStart=this.start,this._adjustedEnd=this.end;var match},ValueAxis.prototype.validateAxisElements=function(){var _this=this;if(isNumber(this.max)&&isNumber(this.min)){var value_1=this.minZoomed-2*this._step;this.logarithmic?Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?value_1=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(value_1=Math.floor(this.minZoomed/this._step)*this._step)&&(value_1=this.minZoomed):value_1=Math.floor(value_1/this._step)*this._step;var maxZoomed=this._maxZoomed+this._step;this.resetIterators();for(var dataItemsIterator_1=this._dataItemsIterator,i=0;value_1<=maxZoomed;){if(!this.isInBreak(value_1)){var dataItem=dataItemsIterator_1.find(function(x){return x.value===value_1});dataItem.__disabled&&(dataItem.__disabled=!1),this.appendDataItem(dataItem),dataItem.axisBreak=void 0,dataItem.value!=value_1&&(dataItem.value=value_1,dataItem.text=this.formatLabel(value_1),dataItem.label&&dataItem.label.invalid&&dataItem.label.validate(),dataItem.value>this.min&&dataItem.value<this.max&&dataItem.label&&(dataItem.label.measuredWidth>this.ghostLabel.measuredWidth||dataItem.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=dataItem.label.currentText)),this.validateDataElement(dataItem)}i++,this.logarithmic&&Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?value_1=Math.pow(10,Math.log(this.min)*Math.LOG10E+i):value_1+=this._step;var stepPower=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(stepPower<1){var decCount=Math.round(Math.abs(Math.log(Math.abs(stepPower))*Math.LOG10E))+2;value_1=Math_round(value_1,decCount)}}var renderer_1=this.renderer;Iterator_each(this.axisBreaks.iterator(),function(axisBreak){if(axisBreak.breakSize>0&&getDistance(axisBreak.startPoint,axisBreak.endPoint)>renderer_1.minGridDistance)for(var breakValue_1=axisBreak.adjustedMin;breakValue_1<=axisBreak.adjustedMax;){if(breakValue_1>=axisBreak.adjustedStartValue&&breakValue_1<=axisBreak.adjustedEndValue){var dataItem=dataItemsIterator_1.find(function(x){return x.value===breakValue_1});dataItem.__disabled&&(dataItem.__disabled=!1),_this.appendDataItem(dataItem),dataItem.axisBreak=axisBreak,dataItem.value!=breakValue_1&&(dataItem.value=breakValue_1,dataItem.text=_this.formatLabel(breakValue_1),dataItem.label&&dataItem.label.invalid&&dataItem.label.validate()),_this.validateDataElement(dataItem)}breakValue_1+=axisBreak.adjustedStep}})}},ValueAxis.prototype.validateDataElement=function(dataItem){_super.prototype.validateDataElement.call(this,dataItem);var renderer=this.renderer,value=dataItem.value,endValue=dataItem.endValue,position=this.valueToPosition(value);dataItem.position=position;var endPosition=position,fillEndPosition=this.valueToPosition(value+this._step);isNumber(endValue)&&(fillEndPosition=endPosition=this.valueToPosition(endValue)),dataItem.point=renderer.positionToPoint(position);var tick=dataItem.tick;tick&&!tick.disabled&&renderer.updateTickElement(tick,position,endPosition);var grid=dataItem.grid;grid&&!grid.disabled&&renderer.updateGridElement(grid,position,endPosition);var label=dataItem.label;label&&!label.disabled&&renderer.updateLabelElement(label,position,endPosition);var fill=dataItem.axisFill;fill&&!fill.disabled&&(renderer.updateFillElement(fill,position,fillEndPosition),dataItem.isRange||this.fillRule(dataItem)),dataItem.bullet&&renderer.updateBullet(dataItem.bullet,position,endPosition);var mask=dataItem.mask;mask&&renderer.updateFillElement(mask,position,fillEndPosition)},ValueAxis.prototype.formatLabel=function(value){return this.numberFormatter.format(value)},Object.defineProperty(ValueAxis.prototype,\"basePoint\",{get:function(){var position=this.valueToPosition(this.baseValue);return this.renderer.positionToPoint(position)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,\"baseValue\",{get:function(){return this.logarithmic?this.min:this._baseValue},set:function(value){this._baseValue=value,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),ValueAxis.prototype.anyToPosition=function(value){return this.valueToPosition(value)},ValueAxis.prototype.valueToPoint=function(value){var position=this.valueToPosition(value),point=this.renderer.positionToPoint(position),angle=this.renderer.positionToAngle(position);return{x:point.x,y:point.y,angle:angle}},ValueAxis.prototype.anyToPoint=function(value){return this.valueToPoint(value)},ValueAxis.prototype.valueToPosition=function(value){if(isNumber(value)){var min_1=this.min,max_1=this.max;if(isNumber(min_1)&&isNumber(max_1)){var difference=this._difference,axisBreaks=this.axisBreaks;return axisBreaks.length>0&&Iterator_eachContinue(axisBreaks.iterator(),function(axisBreak){var startValue=axisBreak.adjustedStartValue,endValue=axisBreak.adjustedEndValue;if(isNumber(startValue)&&isNumber(endValue)){if(value<startValue)return!1;if(intersect({start:startValue,end:endValue},{start:min_1,end:max_1})){startValue=Math.max(startValue,min_1),endValue=Math.min(endValue,max_1);var breakSize=axisBreak.breakSize;value>endValue?min_1+=(endValue-startValue)*(1-breakSize):value<startValue||(value=startValue+(value-startValue)*breakSize)}}return!0}),this.logarithmic?(Math.log(value)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E):(value-min_1)/difference}}return 0},ValueAxis.prototype.positionToValue=function(position){position=Math_round(position,10);var min=this.min,max=this.max;if(isNumber(min)&&isNumber(max)){var difference_1=max-min,axisBreaks=this.axisBreaks,value_2=null;return axisBreaks.length>0&&Iterator_eachContinue(axisBreaks.iterator(),function(axisBreak){var breakStartPosition=axisBreak.startPosition,breakEndPosition=axisBreak.endPosition,breakStartValue=axisBreak.adjustedStartValue,breakEndValue=axisBreak.adjustedEndValue;if(isNumber(breakStartValue)&&isNumber(breakEndValue)){if(breakStartValue>max)return!1;if(intersect({start:breakStartValue,end:breakEndValue},{start:min,end:max})){breakStartValue=Math_max(breakStartValue,min),breakEndValue=Math_min(breakEndValue,max);var breakSize=axisBreak.breakSize;if(difference_1-=(breakEndValue-breakStartValue)*(1-breakSize),position>breakEndPosition)min+=(breakEndValue-breakStartValue)*(1-breakSize);else if(!(position<breakStartPosition))return value_2=breakStartValue+(position-breakStartPosition)/(breakEndPosition-breakStartPosition)*(breakEndValue-breakStartValue),!1}return!0}}),isNumber(value_2)||(value_2=this.logarithmic?Math.pow(Math.E,(position*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):position*difference_1+min),value_2}},ValueAxis.prototype.xToValue=function(x){return this.positionToValue(this.pointToPosition({x:x,y:0}))},ValueAxis.prototype.yToValue=function(y){return this.positionToValue(this.pointToPosition({x:0,y:y}))},ValueAxis.prototype.pointToPosition=function(point){return this.renderer instanceof AxisRendererY_AxisRendererY?1-this.renderer.pointToPosition(point):this.renderer.pointToPosition(point)},ValueAxis.prototype.getMinMax=function(){var _this=this;this.updateGridCount();var min=Number.POSITIVE_INFINITY,max=Number.NEGATIVE_INFINITY;if(isNumber(this._minDefined)&&isNumber(this._maxDefined)||(this.series.each(function(series){if(!series.ignoreMinMax){var seriesMin=series.min(_this);isNumber(seriesMin)&&seriesMin<min&&(min=seriesMin);var seriesMax=series.max(_this);isNumber(seriesMax)&&seriesMax>max&&(max=seriesMax)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(range){if(!range.ignoreMinMax){var minValue=Math_min(range.value,range.endValue),maxValue=Math_max(range.value,range.endValue);(minValue<min||!isNumber(min))&&(min=minValue),(maxValue>max||!isNumber(max))&&(max=maxValue)}})),this.logarithmic&&min<=0)throw Error(\"Logarithmic value axis can not have vales <= 0.\");if(0==min&&0==max&&(max=.9,min=-.9),isNumber(this._minDefined)&&(min=this._minDefined),isNumber(this._maxDefined)&&(max=this._maxDefined),isNumber(min)&&isNumber(max)){this._minReal=min,this._maxReal=max,min==Number.POSITIVE_INFINITY&&(min=void 0),max==Number.NEGATIVE_INFINITY&&(max=void 0);var dif=this.adjustDifference(min,max);if(min=this.fixMin(min),(max=this.fixMax(max))-min<=1/Math.pow(10,15)){if(max-min!=0)this._deltaMinMax=(max-min)/2;else{var exponent=Math.log(Math.abs(max))*Math.LOG10E,power=Math.pow(10,Math.floor(exponent));this._deltaMinMax=power/=10}min-=this._deltaMinMax,max+=this._deltaMinMax}max+=(max-(min-=(max-min)*this.extraMin))*this.extraMax;var strict=this.strictMinMax;isNumber(this._maxDefined)&&(strict=!0);var minMaxStep=this.adjustMinMax(min,max,dif,this._gridCount,strict);if(dif=(max=minMaxStep.max)-(min=minMaxStep.min),minMaxStep=this.adjustMinMax(min,max,max-min,this._gridCount,!0),min=minMaxStep.min,max=minMaxStep.max,this.strictMinMax&&(min=isNumber(this._minDefined)?this._minDefined:this._minReal,(max=isNumber(this._maxDefined)?this._maxDefined:this._maxReal)-min<=1e-8&&(min-=this._deltaMinMax,max+=this._deltaMinMax)),(this._minAdjusted!=min||this._maxAdjusted!=max)&&isNumber(min)&&isNumber(max)){var animation=this._minMaxAnimation;if(this._extremesChanged&&isNumber(this._minAdjusted)&&isNumber(this._maxAdjusted)&&this.inited){if(animation&&!animation.isFinished()&&this._finalMax==max&&this._finalMin==min)return;this._finalMin=min,this._finalMax=max,(animation=this.animate([{property:\"_minAdjusted\",from:this._minAdjusted,to:min},{property:\"_maxAdjusted\",from:this._maxAdjusted,to:max}],this.rangeChangeDuration))&&!animation.isFinished()?(animation.events.on(\"animationprogress\",this.validateDataItems,this),animation.events.on(\"animationended\",function(){_this.series.each(function(series){series.validate()}),_this.validateDataItems(),_this.handleSelectionExtremesChange()}),this._minMaxAnimation=animation):this.series.each(function(series){series.validate()}),this.validateDataItems(),this.dispatchImmediately(\"extremeschanged\"),this.handleSelectionExtremesChange()}else{if(animation&&!animation.isFinished()&&this._finalMax==max&&this._finalMin==min)return;this._minAdjusted=min,this._maxAdjusted=max,this._finalMin=min,this._finalMax=max,this.invalidateDataItems(),this.dispatchImmediately(\"extremeschanged\")}}this._extremesChanged=!1,this._difference=this.adjustDifference(min,max)}},ValueAxis.prototype.fixMin=function(value){return value},ValueAxis.prototype.fixMax=function(value){return value},ValueAxis.prototype.adjustMinMax=function(min,max,difference,gridCount,strictMode){gridCount<=1&&(gridCount=1),gridCount=Math.round(gridCount);var initialMin=min,initialMax=max;0===difference&&(difference=Math.abs(max));var exponent=Math.log(Math.abs(difference))*Math.LOG10E,power=Math.pow(10,Math.floor(exponent)),extra=power/=10;strictMode&&(extra=0),this.logarithmic?(min<=0&&(min=this.baseValue),min==1/0&&(min=1),max==-1/0&&(max=10),min=Math.pow(10,Math.floor(Math.log(Math.abs(min))*Math.LOG10E)),max=Math.pow(10,Math.ceil(Math.log(Math.abs(max))*Math.LOG10E))):(strictMode?(min=Math.floor(min/power)*power,max=Math.ceil(max/power)*power):(min=Math.ceil(min/power)*power-extra,max=Math.floor(max/power)*power+extra),min<0&&initialMin>=0&&(min=0),max>0&&initialMax<=0&&(max=0)),exponent=Math.log(Math.abs(difference))*Math.LOG10E,power=Math.pow(10,Math.floor(exponent)),power/=10;var step=Math.ceil(difference/gridCount/power)*power,stepPower=Math.pow(10,Math.floor(Math.log(Math.abs(step))*Math.LOG10E)),stepDivisor=Math.ceil(step/stepPower);stepDivisor>5?stepDivisor=10:stepDivisor<=5&&stepDivisor>2&&(stepDivisor=5),step=Math.ceil(step/(stepPower*stepDivisor))*stepPower*stepDivisor,this.maxPrecision<Number.MAX_VALUE&&step!=ceil(step,this.maxPrecision)&&(step=ceil(step,this.maxPrecision));var decCount=0;if(stepPower<1&&(step=Math_round(step,decCount=Math.round(Math.abs(Math.log(Math.abs(stepPower))*Math.LOG10E))+1)),!this.logarithmic){var minCount=Math.floor(min/step);min=Math_round(step*minCount,decCount);var maxCount=void 0;(maxCount=strictMode?Math.floor(max/step):Math.ceil(max/step))==minCount&&maxCount++,(max=Math_round(step*maxCount,decCount))<initialMax&&(max+=step),min>initialMin&&(min-=step)}return{min:min,max:max,step:step}},Object.defineProperty(ValueAxis.prototype,\"min\",{get:function(){var min=this._minAdjusted;return isNumber(min)||(min=this._minDefined),min},set:function(value){this._minDefined!=value&&(this._minDefined=value,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,\"extraMin\",{get:function(){return this.getPropertyValue(\"extraMin\")},set:function(value){this.setPropertyValue(\"extraMin\",value)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,\"extraMax\",{get:function(){return this.getPropertyValue(\"extraMax\")},set:function(value){this.setPropertyValue(\"extraMax\",value)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,\"step\",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,\"max\",{get:function(){var max=this._maxAdjusted;return isNumber(max)||(max=this._maxDefined),max},set:function(value){this._maxDefined!=value&&(this._maxDefined=value,this.invalidate())},enumerable:!0,configurable:!0}),ValueAxis.prototype.registerSeries=function(series){return new Disposer_MultiDisposer([_super.prototype.registerSeries.call(this,series),series.events.on(\"extremeschanged\",this.handleExtremesChange,this,!1),series.events.on(\"selectionextremeschanged\",this.handleSelectionExtremesChange,this,!1),this.events.on(\"extremeschanged\",series.invalidate,series,!1)])},ValueAxis.prototype.handleSelectionExtremesChange=function(){var selectionMin,selectionMax,_this=this,allHidden=!0;if(Iterator_each(this.series.iterator(),function(series){if(!series.ignoreMinMax&&!series.isHidden){series.visible&&!series.isHiding&&(allHidden=!1);var seriesSelectionMin=series.selectionMin(_this),seriesSelectionMax=series.selectionMax(_this);isNumber(seriesSelectionMin)&&(!isNumber(selectionMin)||seriesSelectionMin<selectionMin)&&(selectionMin=seriesSelectionMin),isNumber(seriesSelectionMax)&&(!isNumber(selectionMax)||seriesSelectionMax>selectionMax)&&(selectionMax=seriesSelectionMax)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(range){if(!range.ignoreMinMax){var minValue=Math_min(range.value,range.endValue),maxValue=Math_max(range.value,range.endValue);minValue<selectionMax&&(selectionMax=minValue),maxValue>selectionMax&&(selectionMax=maxValue)}}),isNumber(this._minDefined)?selectionMin=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(selectionMin=this._minReal),isNumber(this._maxDefined)?selectionMax=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(selectionMax=this._maxReal),selectionMin==selectionMax){var minMaxStep2=this.adjustMinMax(selectionMin-=this._deltaMinMax,selectionMax+=this._deltaMinMax,0,this._gridCount,this.strictMinMax);selectionMin=minMaxStep2.min,selectionMax=minMaxStep2.max}var dif=this.adjustDifference(selectionMin,selectionMax),minMaxStep=this.adjustMinMax(selectionMin,selectionMax,dif,this._gridCount);selectionMin=minMaxStep.min,selectionMax=minMaxStep.max,selectionMax+=(selectionMax-(selectionMin-=(selectionMax-selectionMin)*this.extraMin))*this.extraMax,selectionMin=fitToRange(selectionMin,this.min,this.max),selectionMax=fitToRange(selectionMax,this.min,this.max),dif=this.adjustDifference(selectionMin,selectionMax),minMaxStep=this.adjustMinMax(selectionMin,selectionMax,dif,this._gridCount,!0),selectionMin=minMaxStep.min,selectionMax=minMaxStep.max,this.strictMinMax&&(selectionMin=Math_max(selectionMin,this._minDefined),selectionMax=Math_min(selectionMax,this._maxDefined)),this._minZoomed=selectionMin,this._maxZoomed=selectionMax,this._step=minMaxStep.step;var start=this.valueToPosition(selectionMin),end=this.valueToPosition(selectionMax);allHidden&&(start=0,end=1),this.keepSelection||this.zoom({start:start,end:end},!1,!1,0)},Object.defineProperty(ValueAxis.prototype,\"strictMinMax\",{get:function(){return this.getPropertyValue(\"strictMinMax\")},set:function(value){this.setPropertyValue(\"strictMinMax\",value)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,\"logarithmic\",{get:function(){return this.getPropertyValue(\"logarithmic\")},set:function(value){this.setPropertyValue(\"logarithmic\",value)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,\"keepSelection\",{get:function(){return this.getPropertyValue(\"keepSelection\")},set:function(value){this.setPropertyValue(\"keepSelection\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,\"includeRangesInMinMax\",{get:function(){return this.getPropertyValue(\"includeRangesInMinMax\")},set:function(value){this.setPropertyValue(\"includeRangesInMinMax\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,\"maxPrecision\",{get:function(){return this.getPropertyValue(\"maxPrecision\")},set:function(value){this.setPropertyValue(\"maxPrecision\",value)&&this.invalidate()},enumerable:!0,configurable:!0}),ValueAxis.prototype.handleExtremesChange=function(){var _this=this;this._extremesChanged=!0,this.getMinMax(),this.ghostLabel&&this.dataItems.each(function(dataItem){dataItem.label&&dataItem.label.pixelWidth>0&&(_this.ghostLabel.text=dataItem.label.currentText)})},ValueAxis.prototype.getX=function(dataItem,key,location,stackKey,range){return this.renderer.positionToPoint(this.getPositionX(dataItem,key,location,stackKey,range)).x},ValueAxis.prototype.getPositionX=function(dataItem,key,location,stackKey,range){var value=dataItem.getWorkingValue(key);hasValue(stackKey)||(stackKey=\"valueX\");var stack=dataItem.getValue(stackKey,\"stack\");isNumber(value)||(value=this.baseValue,this.logarithmic&&stack>0&&(value=0));var position=this.valueToPosition(value+stack);return range&&(position=fitToRange(position,range.start,range.end)),position},ValueAxis.prototype.getY=function(dataItem,key,location,stackKey,range){return this.renderer.positionToPoint(this.getPositionY(dataItem,key,location,stackKey,range)).y},ValueAxis.prototype.getPositionY=function(dataItem,key,location,stackKey,range){var value=dataItem.getWorkingValue(key);hasValue(stackKey)||(stackKey=\"valueY\");var stack=dataItem.getValue(stackKey,\"stack\");isNumber(value)||(value=this.baseValue,this.logarithmic&&stack>0&&(value=0));var position=this.valueToPosition(value+stack);return range&&(position=fitToRange(position,range.start,range.end)),position},ValueAxis.prototype.getAngle=function(dataItem,key,location,stackKey,range){var value=dataItem.getWorkingValue(key),stack=dataItem.getValue(stackKey,\"stack\");isNumber(value)||(value=this.baseValue);var position=this.valueToPosition(value+stack);return range&&(position=fitToRange(position,range.start,range.end)),this.positionToAngle(position)},ValueAxis.prototype.getAnyRangePath=function(start,end,location){var startPosition=this.valueToPosition(start),endPosition=this.valueToPosition(end);return this.getPositionRangePath(startPosition,endPosition)},ValueAxis.prototype.getTooltipText=function(position){var value=Math_round(this.positionToValue(position),this._stepDecimalPlaces);return this.adapter.apply(\"getTooltipText\",this.tooltip.numberFormatter.format(value))},ValueAxis.prototype.zoomToValues=function(startValue,endValue,skipRangeEvent,instantly){this.zoom({start:(startValue-this.min)/(this.max-this.min),end:(endValue-this.min)/(this.max-this.min)},skipRangeEvent,instantly)},Object.defineProperty(ValueAxis.prototype,\"minZoomed\",{get:function(){return Math_max(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,\"maxZoomed\",{get:function(){return Math_min(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),ValueAxis.prototype.fixAxisBreaks=function(){var _this=this;_super.prototype.fixAxisBreaks.call(this);var axisBreaks=this.axisBreaks;axisBreaks.length>0&&axisBreaks.each(function(axisBreak){var startValue=axisBreak.adjustedStartValue,endValue=axisBreak.adjustedEndValue,axisBreakDif=endValue-startValue,axisBreakGridCount=Math.ceil(axisBreakDif*axisBreak.breakSize)*_this._gridCount/(_this.max-_this.min),breakMinMaxStep=_this.adjustMinMax(startValue,endValue,axisBreakDif,axisBreakGridCount,!0);axisBreak.adjustedStep=breakMinMaxStep.step,axisBreak.adjustedMin=breakMinMaxStep.min,axisBreak.adjustedMax=breakMinMaxStep.max}),this._difference=this.adjustDifference(this.min,this.max)},ValueAxis.prototype.getPositionLabel=function(position){var value=this.positionToValue(position);return this.numberFormatter.format(value)},ValueAxis.prototype.showTooltipAt=function(value){this.showTooltipAtPosition(this.valueToPosition(value))},ValueAxis.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.min=source.min,this.max=source.max,this.calculateTotals=source.calculateTotals,this._baseValue=source.baseValue},ValueAxis}(Axis_Axis);Registry_registry.registeredClasses.ValueAxis=ValueAxis_ValueAxis,Registry_registry.registeredClasses.ValueAxisDataItem=ValueAxis_ValueAxisDataItem;var DateAxisBreak_DateAxisBreak=function(_super){function DateAxisBreak(){var _this=_super.call(this)||this;return _this.className=\"DateAxisBreak\",_this.applyTheme(),_this}return __extends(DateAxisBreak,_super),Object.defineProperty(DateAxisBreak.prototype,\"startDate\",{get:function(){return this.getPropertyValue(\"startDate\")},set:function(value){this.setPropertyValue(\"startDate\",value)&&(this.startValue=value.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxisBreak.prototype,\"endDate\",{get:function(){return this.getPropertyValue(\"endDate\")},set:function(value){this.setPropertyValue(\"endDate\",value)&&(this.endValue=value.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),DateAxisBreak}(ValueAxisBreak_ValueAxisBreak);Registry_registry.registeredClasses.DateAxisBreak=DateAxisBreak_DateAxisBreak;var DateAxis_DateAxisDataItem=function(_super){function DateAxisDataItem(){var _this=_super.call(this)||this;return _this.className=\"DateAxisDataItem\",_this.applyTheme(),_this.values.date={},_this.values.endDate={},_this}return __extends(DateAxisDataItem,_super),Object.defineProperty(DateAxisDataItem.prototype,\"date\",{get:function(){return this.dates.date},set:function(date){this.setDate(\"date\",date),this.value=date.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxisDataItem.prototype,\"endDate\",{get:function(){return this.dates.endDate},set:function(date){this.setDate(\"endDate\",date),this.endValue=date.getTime()},enumerable:!0,configurable:!0}),DateAxisDataItem}(ValueAxis_ValueAxisDataItem),DateAxis_DateAxis=function(_super){function DateAxis(){var _this=_super.call(this)||this;return _this.gridIntervals=new List_List,_this.dateFormats=new Dictionary_Dictionary,_this.periodChangeDateFormats=new Dictionary_Dictionary,_this._baseIntervalReal={timeUnit:\"day\",count:1},_this._minDifference={},_this.className=\"DateAxis\",_this.setPropertyValue(\"markUnitChange\",!0),_this.snapTooltip=!0,_this.tooltipPosition=\"pointer\",_this.gridIntervals.pushAll([{timeUnit:\"millisecond\",count:1},{timeUnit:\"millisecond\",count:5},{timeUnit:\"millisecond\",count:10},{timeUnit:\"millisecond\",count:50},{timeUnit:\"millisecond\",count:100},{timeUnit:\"millisecond\",count:500},{timeUnit:\"second\",count:1},{timeUnit:\"second\",count:5},{timeUnit:\"second\",count:10},{timeUnit:\"second\",count:30},{timeUnit:\"minute\",count:1},{timeUnit:\"minute\",count:5},{timeUnit:\"minute\",count:10},{timeUnit:\"minute\",count:15},{timeUnit:\"minute\",count:30},{timeUnit:\"hour\",count:1},{timeUnit:\"hour\",count:3},{timeUnit:\"hour\",count:6},{timeUnit:\"hour\",count:12},{timeUnit:\"day\",count:1},{timeUnit:\"day\",count:2},{timeUnit:\"day\",count:3},{timeUnit:\"day\",count:4},{timeUnit:\"day\",count:5},{timeUnit:\"week\",count:1},{timeUnit:\"month\",count:1},{timeUnit:\"month\",count:2},{timeUnit:\"month\",count:3},{timeUnit:\"month\",count:6},{timeUnit:\"year\",count:1},{timeUnit:\"year\",count:2},{timeUnit:\"year\",count:5},{timeUnit:\"year\",count:10},{timeUnit:\"year\",count:50},{timeUnit:\"year\",count:100},{timeUnit:\"year\",count:200},{timeUnit:\"year\",count:500},{timeUnit:\"year\",count:1e3},{timeUnit:\"year\",count:2e3},{timeUnit:\"year\",count:5e3},{timeUnit:\"year\",count:1e4},{timeUnit:\"year\",count:1e5}]),_this.axisFieldName=\"date\",_this.applyTheme(),_this}return __extends(DateAxis,_super),DateAxis.prototype.fillRule=function(dataItem){var value=dataItem.value,axis=dataItem.component,gridInterval=axis._gridInterval,gridDuration=getDuration(gridInterval.timeUnit,gridInterval.count);dataItem.axisFill.__disabled=Math.round((value-axis.min)/gridDuration)/2==Math.round(Math.round((value-axis.min)/gridDuration)/2)},DateAxis.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey(\"millisecond\")||this.dateFormats.setKey(\"millisecond\",this.language.translate(\"_date_millisecond\")),this.dateFormats.hasKey(\"second\")||this.dateFormats.setKey(\"second\",this.language.translate(\"_date_second\")),this.dateFormats.hasKey(\"minute\")||this.dateFormats.setKey(\"minute\",this.language.translate(\"_date_minute\")),this.dateFormats.hasKey(\"hour\")||this.dateFormats.setKey(\"hour\",this.language.translate(\"_date_hour\")),this.dateFormats.hasKey(\"day\")||this.dateFormats.setKey(\"day\",this.language.translate(\"_date_day\")),this.dateFormats.hasKey(\"week\")||this.dateFormats.setKey(\"week\",this.language.translate(\"_date_day\")),this.dateFormats.hasKey(\"month\")||this.dateFormats.setKey(\"month\",this.language.translate(\"_date_month\")),this.dateFormats.hasKey(\"year\")||this.dateFormats.setKey(\"year\",this.language.translate(\"_date_year\")),this.periodChangeDateFormats.hasKey(\"millisecond\")||this.periodChangeDateFormats.setKey(\"millisecond\",this.language.translate(\"_date_millisecond\")),this.periodChangeDateFormats.hasKey(\"second\")||this.periodChangeDateFormats.setKey(\"second\",this.language.translate(\"_date_second\")),this.periodChangeDateFormats.hasKey(\"minute\")||this.periodChangeDateFormats.setKey(\"minute\",this.language.translate(\"_date_minute\")),this.periodChangeDateFormats.hasKey(\"hour\")||this.periodChangeDateFormats.setKey(\"hour\",this.language.translate(\"_date_hour\")),this.periodChangeDateFormats.hasKey(\"day\")||this.periodChangeDateFormats.setKey(\"day\",this.language.translate(\"_date_day\")),this.periodChangeDateFormats.hasKey(\"week\")||this.periodChangeDateFormats.setKey(\"week\",this.language.translate(\"_date_day\")),this.periodChangeDateFormats.hasKey(\"month\")||this.periodChangeDateFormats.setKey(\"month\",this.language.translate(\"_date_month\")+\" \"+this.language.translate(\"_date_year\"))},DateAxis.prototype.createDataItem=function(){return new DateAxis_DateAxisDataItem},DateAxis.prototype.createAxisBreak=function(){return new DateAxisBreak_DateAxisBreak},DateAxis.prototype.validateDataItems=function(){var start=this.start,end=this.end,periodCount=(this.max-this.min)/this.baseDuration;_super.prototype.validateDataItems.call(this),this.maxZoomFactor=(this.max-this.min)/this.baseDuration,this._deltaMinMax=this.baseDuration/2,this.zoom({start:start+=(end-start)*(1-periodCount/((this.max-this.min)/this.baseDuration)),end:end},!1,!0)},DateAxis.prototype.handleSelectionExtremesChange=function(){},DateAxis.prototype.calculateZoom=function(){var _this=this;_super.prototype.calculateZoom.call(this);var gridInterval=this.chooseInterval(0,this.adjustDifference(this._minZoomed,this._maxZoomed),this._gridCount);getDuration(gridInterval.timeUnit,gridInterval.count)<this.baseDuration&&(gridInterval=__assign({},this.baseInterval)),this._gridInterval=gridInterval,this._gridDate=Time_round(new Date(this.min),gridInterval.timeUnit,gridInterval.count,this.getFirstWeekDay(),this.dateFormatter.utc),this._nextGridUnit=getNextUnit(gridInterval.timeUnit),this._intervalDuration=getDuration(gridInterval.timeUnit,gridInterval.count);var count=Math.ceil(this._difference/this._intervalDuration);count=Math.max(-5,Math.floor(this.start*count)-3),Time_add(this._gridDate,gridInterval.timeUnit,count*gridInterval.count,this.dateFormatter.utc),Iterator_each(this.series.iterator(),function(series){if(series.baseAxis==_this){var field_1=series.getAxisField(_this),minZoomed=Time_round(new Date(_this._minZoomed),_this.baseInterval.timeUnit,_this.baseInterval.count).getTime(),minZoomedStr=minZoomed.toString(),startDataItem=series.dataItemsByAxis.getKey(_this.uid).getKey(minZoomedStr),startIndex=0;0!=_this.start&&(startIndex=startDataItem?(startDataItem=_this.findFirst(startDataItem,minZoomed,field_1)).index:series.dataItems.findClosestIndex(_this._minZoomed,function(x){return x[field_1]},\"left\"));var baseInterval=_this.baseInterval,maxZoomed=Time_add(Time_round(new Date(_this._maxZoomed),baseInterval.timeUnit,baseInterval.count,_this.getFirstWeekDay(),_this.dateFormatter.utc),baseInterval.timeUnit,baseInterval.count,_this.dateFormatter.utc).getTime(),maxZoomedStr=maxZoomed.toString(),endDataItem=series.dataItemsByAxis.getKey(_this.uid).getKey(maxZoomedStr),endIndex=series.dataItems.length;1!=_this.end&&(endDataItem?endIndex=endDataItem.index:(endIndex=series.dataItems.findClosestIndex(maxZoomed-=1,function(x){return x[field_1]},\"right\"))>0&&endIndex++),series.startIndex=startIndex,series.endIndex=endIndex,series.dataRangeInvalid&&series.validateDataRange()}})},DateAxis.prototype.findFirst=function(dataItem,time,key){var index=dataItem.index;if(index>0){var previousDataItem=dataItem.component.dataItems.getIndex(index-1),previousDate=previousDataItem[key];return!previousDate||previousDate.getTime()<time?dataItem:this.findFirst(previousDataItem,time,key)}return dataItem},DateAxis.prototype.validateData=function(){_super.prototype.validateData.call(this),isNumber(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(DateAxis.prototype,\"minDifference\",{get:function(){var _this=this,minDifference=Number.MAX_VALUE;return this.series.each(function(series){minDifference>_this._minDifference[series.uid]&&(minDifference=_this._minDifference[series.uid])}),minDifference!=Number.MAX_VALUE&&0!=minDifference||(minDifference=getDuration(\"day\")),minDifference},enumerable:!0,configurable:!0}),DateAxis.prototype.seriesDataChangeUpdate=function(series){this._minDifference[series.uid]=Number.MAX_VALUE},DateAxis.prototype.postProcessSeriesDataItems=function(){var _this=this;this.series.each(function(series){JSON.stringify(series._baseInterval[_this.uid])!=JSON.stringify(_this.baseInterval)&&(series.dataItems.each(function(dataItem){_this.postProcessSeriesDataItem(dataItem)}),series._baseInterval[_this.uid]=_this.baseInterval)}),this.addEmptyUnitsBreaks()},DateAxis.prototype.postProcessSeriesDataItem=function(dataItem){var _this=this,baseInterval=this.baseInterval,dataItemsByAxis=dataItem.component.dataItemsByAxis.getKey(this.uid);Object_each(dataItem.dates,function(key){var time=dataItem.getDate(key).getTime(),startTime=Time_round(new Date(time),baseInterval.timeUnit,baseInterval.count,_this.getFirstWeekDay(),_this.dateFormatter.utc).getTime(),endDate=Time_add(new Date(startTime),baseInterval.timeUnit,baseInterval.count,_this.dateFormatter.utc);dataItem.setCalculatedValue(key,startTime,\"open\"),dataItem.setCalculatedValue(key,endDate.getTime(),\"close\"),dataItemsByAxis.setKey(startTime.toString(),dataItem)})},DateAxis.prototype.addEmptyUnitsBreaks=function(){var _this=this;if(this.skipEmptyPeriods&&isNumber(this.min)&&isNumber(this.max)){var timeUnit=this.baseInterval.timeUnit,count=this.baseInterval.count;this.axisBreaks.clear();for(var date=Time_round(new Date(this.min),timeUnit,count,this.getFirstWeekDay(),this.dateFormatter.utc),axisBreak=void 0,_loop_1=function(){Time_add(date,timeUnit,count,this_1.dateFormatter.utc);var startTime=date.getTime(),startTimeStr=startTime.toString();contains(this_1.series.iterator(),function(series){return!!series.dataItemsByAxis.getKey(_this.uid).getKey(startTimeStr)})?axisBreak&&(axisBreak.endDate=new Date(startTime-1),axisBreak=void 0):axisBreak||((axisBreak=this_1.axisBreaks.create()).startDate=new Date(startTime))},this_1=this;date.getTime()<this.max-this.baseDuration;)_loop_1()}},DateAxis.prototype.fixAxisBreaks=function(){var _this=this;_super.prototype.fixAxisBreaks.call(this);var axisBreaks=this.axisBreaks;axisBreaks.length>0&&axisBreaks.each(function(axisBreak){var breakGridCount=Math.ceil(_this._gridCount*(Math.min(_this.end,axisBreak.endPosition)-Math.max(_this.start,axisBreak.startPosition))/(_this.end-_this.start));axisBreak.gridInterval=_this.chooseInterval(0,axisBreak.adjustedEndValue-axisBreak.adjustedStartValue,breakGridCount);var gridDate=Time_round(new Date(axisBreak.adjustedStartValue),axisBreak.gridInterval.timeUnit,axisBreak.gridInterval.count,_this.getFirstWeekDay(),_this.dateFormatter.utc);gridDate.getTime()>axisBreak.startDate.getTime()&&Time_add(gridDate,axisBreak.gridInterval.timeUnit,axisBreak.gridInterval.count,_this.dateFormatter.utc),axisBreak.gridDate=gridDate})},DateAxis.prototype.getFirstWeekDay=function(){return this.dateFormatter?this.dateFormatter.firstDayOfWeek:1},DateAxis.prototype.getGridDate=function(date,intervalCount){var timeUnit=this._gridInterval.timeUnit,realIntervalCount=this._gridInterval.count;Time_round(date,timeUnit,1,this.getFirstWeekDay(),this.dateFormatter.utc);var prevTimestamp=date.getTime(),newDate=Time_copy(date),timestamp=Time_add(newDate,timeUnit,intervalCount,this.dateFormatter.utc).getTime(),axisBreak=this.isInBreak(timestamp);axisBreak&&axisBreak.endDate&&(Time_round(newDate=new Date(axisBreak.endDate.getTime()),timeUnit,realIntervalCount,this.getFirstWeekDay(),this.dateFormatter.utc),newDate.getTime()<axisBreak.endDate.getTime()&&Time_add(newDate,timeUnit,realIntervalCount,this.dateFormatter.utc),timestamp=newDate.getTime());var durationBreaksRemoved=this.adjustDifference(prevTimestamp,timestamp);return Math.round(durationBreaksRemoved/getDuration(timeUnit))<realIntervalCount?this.getGridDate(date,intervalCount+realIntervalCount):newDate},DateAxis.prototype.getBreaklessDate=function(axisBreak,timeUnit,count){var date=new Date(axisBreak.endValue);Time_round(date,timeUnit,count,this.getFirstWeekDay(),this.dateFormatter.utc),Time_add(date,timeUnit,count,this.dateFormatter.utc);var timestamp=date.getTime();return(axisBreak=this.isInBreak(timestamp))?this.getBreaklessDate(axisBreak,timeUnit,count):date},DateAxis.prototype.validateAxisElements=function(){var _this=this;if(isNumber(this.max)&&isNumber(this.min)){this.calculateZoom();var timestamp=this._gridDate.getTime(),timeUnit=this._gridInterval.timeUnit,intervalCount=this._gridInterval.count,prevGridDate=Time_copy(this._gridDate),dataItemsIterator_1=this._dataItemsIterator;this.resetIterators();for(var _loop_2=function(){var date=this_2.getGridDate(Time_copy(prevGridDate),intervalCount);timestamp=date.getTime();var endDate=Time_copy(date);endDate=Time_add(endDate,timeUnit,intervalCount,this_2.dateFormatter.utc);var format=this_2.dateFormats.getKey(timeUnit);this_2.markUnitChange&&prevGridDate&&checkChange(date,prevGridDate,this_2._nextGridUnit,this_2.dateFormatter.utc)&&\"year\"!==timeUnit&&(format=this_2.periodChangeDateFormats.getKey(timeUnit));var text=this_2.dateFormatter.format(date,format),dataItem=dataItemsIterator_1.find(function(x){return x.text===text});dataItem.__disabled&&(dataItem.__disabled=!1),this_2.appendDataItem(dataItem),dataItem.axisBreak=void 0,dataItem.date=date,dataItem.endDate=endDate,dataItem.text=text,prevGridDate=date,this_2.validateDataElement(dataItem)},this_2=this;timestamp<=this._maxZoomed;)_loop_2();var renderer_1=this.renderer;Iterator_each(this.axisBreaks.iterator(),function(axisBreak){if(axisBreak.breakSize>0){var timeUnit_1=axisBreak.gridInterval.timeUnit,intervalCount_1=axisBreak.gridInterval.count;if(getDistance(axisBreak.startPoint,axisBreak.endPoint)>4*renderer_1.minGridDistance)for(var prevGridDate_1,timestamp_1=axisBreak.gridDate.getTime(),count=0,_loop_3=function(){var date=Time_copy(axisBreak.gridDate);if(timestamp_1=Time_add(date,timeUnit_1,intervalCount_1*count,_this.dateFormatter.utc).getTime(),count++,timestamp_1>axisBreak.adjustedStartValue&&timestamp_1<axisBreak.adjustedEndValue){var endDate=Time_copy(date);endDate=Time_add(endDate,timeUnit_1,intervalCount_1,_this.dateFormatter.utc);var format=_this.dateFormats.getKey(timeUnit_1);_this.markUnitChange&&prevGridDate_1&&checkChange(date,prevGridDate_1,_this._nextGridUnit,_this.dateFormatter.utc)&&\"year\"!==timeUnit_1&&(format=_this.periodChangeDateFormats.getKey(timeUnit_1));var text_1=_this.dateFormatter.format(date,format),dataItem=dataItemsIterator_1.find(function(x){return x.text===text_1});dataItem.__disabled&&(dataItem.__disabled=!1),_this.appendDataItem(dataItem),dataItem.axisBreak=axisBreak,axisBreak.dataItems.moveValue(dataItem),dataItem.date=date,dataItem.endDate=endDate,dataItem.text=text_1,prevGridDate_1=date,_this.validateDataElement(dataItem)}};timestamp_1<=axisBreak.adjustedMax;)_loop_3()}})}},DateAxis.prototype.validateDataElement=function(dataItem){if(isNumber(this.max)&&isNumber(this.min)){var renderer=this.renderer,timestamp=dataItem.value,endTimestamp=dataItem.endValue;isNumber(endTimestamp)||(endTimestamp=timestamp);var position=this.valueToPosition(timestamp),endPosition=this.valueToPosition(endTimestamp),fillEndPosition=endPosition;!dataItem.isRange&&this._gridInterval.count>this.baseInterval.count&&(endPosition=position+(endPosition-position)/(this._gridInterval.count/this.baseInterval.count)),dataItem.position=position;var tick=dataItem.tick;tick&&!tick.disabled&&renderer.updateTickElement(tick,position,endPosition);var grid=dataItem.grid;grid&&!grid.disabled&&renderer.updateGridElement(grid,position,endPosition);var fill=dataItem.axisFill;fill&&!fill.disabled&&(renderer.updateFillElement(fill,position,fillEndPosition),dataItem.isRange||this.fillRule(dataItem));var mask=dataItem.mask;mask&&renderer.updateFillElement(mask,position,endPosition),dataItem.bullet&&renderer.updateBullet(dataItem.bullet,position,endPosition);var label=dataItem.label;if(label&&!label.disabled){var location_1=label.location;0==location_1&&(location_1=1!=this._gridInterval.count||\"week\"==this._gridInterval.timeUnit||dataItem.isRange?0:.5),renderer.updateLabelElement(label,position,endPosition,location_1)}}},Object.defineProperty(DateAxis.prototype,\"baseDuration\",{get:function(){return getDuration(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),DateAxis.prototype.adjustMinMax=function(min,max){return{min:min,max:max,step:this.baseDuration}},DateAxis.prototype.fixMin=function(value){var startTime=Time_round(new Date(value),this.baseInterval.timeUnit,this.baseInterval.count,this.getFirstWeekDay(),this.dateFormatter.utc).getTime();return startTime+(Time_add(new Date(startTime),this.baseInterval.timeUnit,this.baseInterval.count,this.dateFormatter.utc).getTime()-startTime)*this.startLocation},DateAxis.prototype.fixMax=function(value){var startTime=Time_round(new Date(value),this.baseInterval.timeUnit,this.baseInterval.count,this.getFirstWeekDay(),this.dateFormatter.utc).getTime();return startTime+(Time_add(new Date(startTime),this.baseInterval.timeUnit,this.baseInterval.count,this.dateFormatter.utc).getTime()-startTime)*this.endLocation},DateAxis.prototype.chooseInterval=function(index,duration,gridCount){var gridIntervals=this.gridIntervals,gridInterval=gridIntervals.getIndex(index),intervalDuration=getDuration(gridInterval.timeUnit,gridInterval.count),lastIndex=gridIntervals.length-1;if(index>=lastIndex)return __assign({},gridIntervals.getIndex(lastIndex));var count=Math.ceil(duration/intervalDuration);return duration<intervalDuration&&index>0?__assign({},gridIntervals.getIndex(index-1)):count<=gridCount?__assign({},gridIntervals.getIndex(index)):index+1<gridIntervals.length?this.chooseInterval(index+1,duration,gridCount):__assign({},gridIntervals.getIndex(index))},DateAxis.prototype.formatLabel=function(value){return this.dateFormatter.format(value)},DateAxis.prototype.dateToPosition=function(date){return this.valueToPosition(date.getTime())},DateAxis.prototype.anyToPosition=function(date){return date instanceof Date?this.dateToPosition(date):this.valueToPosition(date)},DateAxis.prototype.dateToPoint=function(date){var position=this.dateToPosition(date),point=this.renderer.positionToPoint(position),angle=this.renderer.positionToAngle(position);return{x:point.x,y:point.y,angle:angle}},DateAxis.prototype.anyToPoint=function(date){return date instanceof Date?this.dateToPoint(date):this.valueToPoint(date)},DateAxis.prototype.positionToDate=function(position){return new Date(this.positionToValue(position))},DateAxis.prototype.getPositionX=function(dataItem,key,location,stackKey,range){var value=this.getTimeByLocation(dataItem,key,location);isNumber(value)||(value=this.baseValue);var position=this.valueToPosition(value);return range&&(position=fitToRange(position,range.start,range.end)),position},DateAxis.prototype.getPositionY=function(dataItem,key,location,stackKey,range){var value=this.getTimeByLocation(dataItem,key,location),stack=dataItem.getValue(\"valueX\",\"stack\");isNumber(value)||(value=this.baseValue);var position=this.valueToPosition(value+stack);return range&&(position=fitToRange(position,range.start,range.end)),position},DateAxis.prototype.getAngle=function(dataItem,key,location,stackKey,range){var value=this.getTimeByLocation(dataItem,key,location),stack=dataItem.getValue(stackKey,\"stack\");isNumber(value)||(value=this.baseValue);var position=this.valueToPosition(value+stack);return range&&(position=fitToRange(position,range.start,range.end)),this.positionToAngle(position)},DateAxis.prototype.getTimeByLocation=function(dataItem,key,location){if(hasValue(key)){isNumber(location)||isNumber(location=dataItem.workingLocations[key])||(location=0);var startTime=dataItem.values[key].open,endTime=dataItem.values[key].close,difference=dataItem.values[key].value-dataItem.values[key].workingValue;return endTime-=difference,isNumber(startTime-=difference)&&isNumber(endTime)?startTime+(endTime-startTime)*location:void 0}},DateAxis.prototype.processSeriesDataItem=function(dataItem,axisLetter){var time,series=dataItem.component,date=dataItem[\"date\"+axisLetter];if(date){time=date.getTime();var openTime,openDate=dataItem[\"openDate\"+axisLetter],prevSeriesTime=this._prevSeriesTime;if(openDate&&(openTime=openDate.getTime()),isNumber(openTime)){var difference=Math.abs(time-openTime);this._minDifference[series.uid]>difference&&(this._minDifference[series.uid]=difference)}var differece=time-prevSeriesTime;differece>0&&this._minDifference[series.uid]>differece&&(this._minDifference[series.uid]=differece),this._prevSeriesTime=time,series._baseInterval[this.uid]?this.postProcessSeriesDataItem(dataItem):this._baseInterval&&(series._baseInterval[this.uid]=this._baseInterval,this.postProcessSeriesDataItem(dataItem))}},DateAxis.prototype.updateAxisBySeries=function(){_super.prototype.updateAxisBySeries.call(this);var baseInterval=this.chooseInterval(0,this.minDifference,1);this.minDifference>=getDuration(\"day\",27)&&\"week\"==baseInterval.timeUnit&&(baseInterval.timeUnit=\"month\",baseInterval.count=1),\"month\"==baseInterval.timeUnit&&(this.minDifference>=getDuration(\"day\",58)&&1==baseInterval.count&&(baseInterval.count=2),this.minDifference>=getDuration(\"day\",87)&&2==baseInterval.count&&(baseInterval.count=3),this.minDifference>=getDuration(\"day\",174)&&5==baseInterval.count&&(baseInterval.count=6)),this.minDifference>=getDuration(\"hour\",23)&&\"hour\"==baseInterval.timeUnit&&(baseInterval.timeUnit=\"day\",baseInterval.count=1),this.minDifference>=getDuration(\"week\",1)-getDuration(\"hour\",1)&&\"day\"==baseInterval.timeUnit&&(baseInterval.timeUnit=\"week\",baseInterval.count=1),this.minDifference>=getDuration(\"year\",1)-getDuration(\"day\",1.01)&&\"month\"==baseInterval.timeUnit&&(baseInterval.timeUnit=\"year\",baseInterval.count=1),this._baseIntervalReal=baseInterval},Object.defineProperty(DateAxis.prototype,\"baseInterval\",{get:function(){return this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(timeInterval){JSON.stringify(this._baseInterval)!=JSON.stringify(timeInterval)&&(this._baseInterval=timeInterval,isNumber(timeInterval.count)||(timeInterval.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,\"skipEmptyPeriods\",{get:function(){return this.getPropertyValue(\"skipEmptyPeriods\")},set:function(value){if(this.setPropertyValue(\"skipEmptyPeriods\",value)&&this.invalidateData(),value){var breakTemplate=this.axisBreaks.template;breakTemplate.startLine.disabled=!0,breakTemplate.endLine.disabled=!0,breakTemplate.fillShape.disabled=!0,breakTemplate.breakSize=0}},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,\"tooltipDateFormat\",{get:function(){return this.getPropertyValue(\"tooltipDateFormat\")},set:function(value){this.setPropertyValue(\"tooltipDateFormat\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,\"markUnitChange\",{get:function(){return this.getPropertyValue(\"markUnitChange\")},set:function(value){this.setPropertyValue(\"markUnitChange\",value)&&this.invalidateData()},enumerable:!0,configurable:!0}),DateAxis.prototype.getTooltipText=function(position){var text,date=this.positionToDate(position);if(date=Time_round(date,this.baseInterval.timeUnit,this.baseInterval.count,this.getFirstWeekDay(),this.dateFormatter.utc,new Date(this.min)),hasValue(this.tooltipDateFormat))text=this.dateFormatter.format(date,this.tooltipDateFormat);else{var dateFormat=this.dateFormats.getKey(this.baseInterval.timeUnit);text=dateFormat?this.dateFormatter.format(date,dateFormat):this.getPositionLabel(position)}return this.adapter.apply(\"getTooltipText\",text)},DateAxis.prototype.roundPosition=function(position,location){var baseInterval=this.baseInterval,timeUnit=baseInterval.timeUnit,count=baseInterval.count,date=this.positionToDate(position);if(Time_round(date,timeUnit,count,this.getFirstWeekDay(),this.dateFormatter.utc),location>0&&Time_add(date,timeUnit,location*count,this.dateFormatter.utc),this.isInBreak(date.getTime()))for(;date.getTime()<this.max&&(Time_add(date,timeUnit,count,this.dateFormatter.utc),this.isInBreak(date.getTime())););return this.dateToPosition(date)},DateAxis.prototype.getCellStartPosition=function(position){return this.roundPosition(position,0)},DateAxis.prototype.getCellEndPosition=function(position){return this.roundPosition(position,1)},DateAxis.prototype.getSeriesDataItem=function(series,position,findNearest){var key_1,value=this.positionToValue(position),date=Time_round(new Date(value),this.baseInterval.timeUnit,this.baseInterval.count,this.getFirstWeekDay(),this.dateFormatter.utc),dataItem=series.dataItemsByAxis.getKey(this.uid).getKey(date.getTime().toString());return!dataItem&&findNearest&&(key_1=\"Y\"==this.axisLetter?\"dateY\":\"dateX\",dataItem=series.dataItems.getIndex(series.dataItems.findClosestIndex(date.getTime(),function(x){return x[key_1]?x[key_1].getTime():-1/0},\"any\"))),dataItem},DateAxis.prototype.getPositionLabel=function(position){var date=this.positionToDate(position);return this.dateFormatter.format(date,this.getCurrentLabelFormat())},DateAxis.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:\"day\")},DateAxis.prototype.initRenderer=function(){_super.prototype.initRenderer.call(this);var renderer=this.renderer;renderer&&(renderer.ticks.template.location=0,renderer.grid.template.location=0,renderer.labels.template.location=0,renderer.baseGrid.disabled=!0)},Object.defineProperty(DateAxis.prototype,\"basePoint\",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),DateAxis.prototype.zoomToDates=function(startDate,endDate,skipRangeEvent,instantly){startDate=this.dateFormatter.parse(startDate),endDate=this.dateFormatter.parse(endDate),this.zoomToValues(startDate.getTime(),endDate.getTime(),skipRangeEvent,instantly)},DateAxis.prototype.asIs=function(field){return\"baseInterval\"==field||_super.prototype.asIs.call(this,field)},DateAxis.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.dateFormats=source.dateFormats,this.periodChangeDateFormats=source.periodChangeDateFormats,source._baseInterval&&(this.baseInterval=source.baseInterval)},DateAxis.prototype.showTooltipAtPosition=function(position,local){var _this=this;if(local||(position=this.toAxisPosition(position)),this.snapTooltip){var closestDate_1,actualTime_1=this.positionToDate(position).getTime();if(this.series.each(function(series){if(series.baseAxis==_this){var dataItem=_this.getSeriesDataItem(series,position,!0);if(dataItem){var date=void 0;series.xAxis==_this&&(date=dataItem.dateX),series.yAxis==_this&&(date=dataItem.dateY),closestDate_1?Math.abs(closestDate_1.getTime()-actualTime_1)>Math.abs(date.getTime()-actualTime_1)&&(closestDate_1=date):closestDate_1=date}}}),closestDate_1){var closestTime_1=closestDate_1.getTime();closestDate_1=Time_round(new Date(closestTime_1),this.baseInterval.timeUnit,this.baseInterval.count,this.getFirstWeekDay(),this.dateFormatter.utc),closestTime_1=closestDate_1.getTime();var tooltipLocation=this.renderer.tooltipLocation;0==tooltipLocation&&(tooltipLocation=1e-4),closestDate_1=new Date(closestDate_1.getTime()+this.baseDuration*tooltipLocation),position=this.dateToPosition(closestDate_1),this.series.each(function(series){var dataItem=series.dataItemsByAxis.getKey(_this.uid).getKey(closestTime_1.toString()),point=series.showTooltipAtDataItem(dataItem);point?_this.chart._seriesPoints.push({series:series,point:point}):(series.tooltipText||series.tooltipHTML)&&series.hideTooltip()})}}_super.prototype.showTooltipAtPosition.call(this,position,!0)},Object.defineProperty(DateAxis.prototype,\"snapTooltip\",{get:function(){return this.getPropertyValue(\"snapTooltip\")},set:function(value){this.setPropertyValue(\"snapTooltip\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,\"gridInterval\",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),DateAxis.prototype.makeGap=function(dataItem,previous){var series=dataItem.component;return!!(dataItem&&previous&&!series.connect&&isNumber(series.autoGapCount)&&series.baseAxis==this&&dataItem.dates[\"date\"+this.axisLetter].getTime()-previous.dates[\"date\"+this.axisLetter].getTime()>series.autoGapCount*this.baseDuration)},Object.defineProperty(DateAxis.prototype,\"baseValue\",{get:function(){return this.min},enumerable:!0,configurable:!0}),DateAxis}(ValueAxis_ValueAxis);Registry_registry.registeredClasses.DateAxis=DateAxis_DateAxis,Registry_registry.registeredClasses.DateAxisDataItem=DateAxis_DateAxisDataItem;var AxisRendererX_AxisRendererX=function(_super){function AxisRendererX(){var _this=_super.call(this)||this;return _this.className=\"AxisRendererX\",_this.minGridDistance=120,_this.opposite=!1,_this.rotation=0,_this.width=Percent_percent(100),_this.labels.template.horizontalCenter=\"middle\",_this.applyTheme(),_this}return __extends(AxisRendererX,_super),AxisRendererX.prototype.setAxis=function(axis){_super.prototype.setAxis.call(this,axis),axis.layout=\"vertical\"},AxisRendererX.prototype.updateGridContainer=function(){var axis=this.axis;if(axis){var gridContainer=this.gridContainer;gridContainer.x=axis.pixelX,gridContainer.width=axis.axisLength}},AxisRendererX.prototype.processRenderer=function(){_super.prototype.processRenderer.call(this);var axis=this.axis;if(axis){axis.width instanceof Percent||(axis.width=Percent_percent(100));var title=axis.title;title.rotation=0,title.align=\"center\",this.opposite?(this.line.toFront(),title.toBack()):(title.toFront(),this.toBack(),this.line.toBack())}},AxisRendererX.prototype.updateTooltip=function(){if(this.axis){var bby=this.line.pixelY,bbh=1e3;this.opposite?this.inside||(bby=-1e3,bbh=1e3):this.inside&&(bby=-1e3,bbh=1e3),this.axis.updateTooltip(\"vertical\",{x:this.line.pixelX,y:bby,width:this.axisLength,height:bbh})}},AxisRendererX.prototype.updateLabelElement=function(label,position,endPosition,location){hasValue(location)||(location=label.location);var point=this.positionToPoint(position+=(endPosition-position)*location);label.isMeasured=!label.inside;var verticalCenter,deltaY=0,maxHeight=this.gridContainer.maxHeight;this.opposite?(label.inside?(verticalCenter=\"top\",\"bottom\"==label.valign&&(deltaY=maxHeight,verticalCenter=\"bottom\"),\"middle\"==label.valign&&(deltaY=maxHeight/2,verticalCenter=\"middle\")):verticalCenter=\"bottom\",point.y=deltaY):(label.inside?(verticalCenter=\"bottom\",\"top\"==label.valign&&(deltaY=-maxHeight,verticalCenter=\"top\"),\"middle\"==label.valign&&(deltaY=-maxHeight/2,verticalCenter=\"middle\")):verticalCenter=\"top\",point.y+=deltaY),0==label.rotation&&(label.verticalCenter=verticalCenter),this.positionItem(label,point),this.toggleVisibility(label,position,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(AxisRendererX.prototype,\"axisLength\",{get:function(){var axis=this.axis;return axis.measuredWidth-axis.pixelPaddingRight-axis.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),AxisRendererX.prototype.positionToPoint=function(position){return{x:this.positionToCoordinate(position),y:0}},AxisRendererX.prototype.pointToPosition=function(point){return this.coordinateToPosition(point.x,point.y)},AxisRendererX.prototype.getPositionRangePath=function(startPosition,endPosition){var x1=fitToRange(this.positionToCoordinate(startPosition),0,this.axisLength),x2=fitToRange(this.positionToCoordinate(endPosition),0,this.axisLength),w=Math.abs(x2-x1),h=this.getHeight();return rectToPath({x:Math.min(x1,x2),y:0,width:w,height:h},!0)},AxisRendererX.prototype.updateBreakElement=function(axisBreak){_super.prototype.updateBreakElement.call(this,axisBreak);var startLine=axisBreak.startLine,endLine=axisBreak.endLine,fillShape=axisBreak.fillShape,startPoint=axisBreak.startPoint,endPoint=axisBreak.endPoint,y1=axisBreak.pixelMarginLeft,y2=this.getHeight()-axisBreak.pixelMarginTop-axisBreak.pixelMarginBottom;startPoint.x=fitToRange(startPoint.x,-1,this.axisLength+1),endPoint.x=fitToRange(endPoint.x,-1,this.axisLength+1),axisBreak.fillShape.__disabled=startPoint.x==endPoint.x&&(startPoint.x<0||startPoint.x>this.axisLength),startLine.y=y1,startLine.width=0,startLine.height=y2,endLine.y=y1,endLine.width=0,endLine.height=y2,fillShape.height=y2,fillShape.width=Math.abs(endPoint.x-startPoint.x),fillShape.y=y1,fillShape.x=startPoint.x},AxisRendererX.prototype.updateGridElement=function(grid,position,endPosition){var point=this.positionToPoint(position+=(endPosition-position)*grid.location);grid.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.getHeight()}),this.positionItem(grid,point),this.toggleVisibility(grid,position,0,1)},AxisRendererX.prototype.updateTickElement=function(tick,position,endPosition){var point=this.positionToPoint(position+=(endPosition-position)*tick.location),tickLength=tick.length;point.y=spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,tickLength*=this.opposite?tick.inside?1:-1:tick.inside?-1:1,tick.path=moveTo({x:0,y:0})+lineTo({x:0,y:tickLength}),this.positionItem(tick,point),this.toggleVisibility(tick,position,0,1)},AxisRendererX.prototype.updateAxisLine=function(){this.line.path=moveTo({x:0,y:0})+lineTo({x:this.axisLength,y:0})},AxisRendererX.prototype.updateBaseGridElement=function(){_super.prototype.updateBaseGridElement.call(this);var axis=this.axis,h=this.getHeight(),baseGrid=this.baseGrid,x=axis.basePoint.x;if(x<-.2||x>this.axisLength+.2)baseGrid.hide(0);else{var y=spritePointToSprite({x:0,y:0},this.gridContainer,baseGrid.parent).y;baseGrid.path=moveTo({x:0,y:0})+lineTo({x:0,y:h}),baseGrid.moveTo({x:x,y:y}),baseGrid.show(0)}},AxisRendererX.prototype.createBreakSprites=function(axisBreak){axisBreak.startLine=new WavedLine_WavedLine,axisBreak.endLine=new WavedLine_WavedLine;var wavedRectangle=new WavedRectangle_WavedRectangle;wavedRectangle.setWavedSides(!1,!0,!1,!0),axisBreak.fillShape=wavedRectangle},AxisRendererX.prototype.toAxisPosition=function(value){var axis=this.axis,parent=axis.parent;return axis&&parent?(value-axis.pixelX/parent.innerWidth)/(axis.axisLength/parent.innerWidth):value},AxisRendererX.prototype.updateBullet=function(bullet,position,endPosition){var location=.5;bullet instanceof AxisBullet_AxisBullet&&(location=bullet.location);var point=this.positionToPoint(position+=(endPosition-position)*location);point.y=spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(bullet,point),this.toggleVisibility(bullet,position,0,1)},AxisRendererX}(AxisRenderer_AxisRenderer);Registry_registry.registeredClasses.AxisRendererX=AxisRendererX_AxisRendererX,defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(target,stateId){if(target instanceof AxisRendererX_AxisRendererX){var state=target.states.create(stateId);return state.properties.inside=!0,state.properties.maxLabelPosition=.9,state.properties.minLabelPosition=.1,state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.heightXXS,state:function(target,stateId){if(target instanceof AxisRendererX_AxisRendererX){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var CategoryAxisBreak_CategoryAxisBreak=function(_super){function CategoryAxisBreak(){var _this=_super.call(this)||this;return _this.className=\"CategoryAxisBreak\",_this.applyTheme(),_this}return __extends(CategoryAxisBreak,_super),Object.defineProperty(CategoryAxisBreak.prototype,\"startPosition\",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,\"endPosition\",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,\"startCategory\",{get:function(){return this.getPropertyValue(\"startCategory\")},set:function(value){this.setPropertyValue(\"startCategory\",value)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,\"endCategory\",{get:function(){return this.getPropertyValue(\"endCategory\")},set:function(value){this.setPropertyValue(\"endCategory\",value)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,\"startValue\",{get:function(){var category=this.getPropertyValue(\"startCategory\");return category?this.axis.categoryToIndex(category):this.getPropertyValue(\"startValue\")},set:function(value){this.setPropertyValue(\"startValue\",value)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,\"endValue\",{get:function(){var category=this.getPropertyValue(\"endCategory\");return category?this.axis.categoryToIndex(category):this.getPropertyValue(\"endValue\")},set:function(value){this.setPropertyValue(\"endValue\",value)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),CategoryAxisBreak}(AxisBreak_AxisBreak);Registry_registry.registeredClasses.CategoryAxisBreak=CategoryAxisBreak_CategoryAxisBreak;var CategoryAxis_CategoryAxisDataItem=function(_super){function CategoryAxisDataItem(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this.seriesDataItems={},_this.className=\"CategoryAxisDataItem\",_this.text=\"{category}\",_this.locations.category=0,_this.locations.endCategory=1,_this.applyTheme(),_this}return __extends(CategoryAxisDataItem,_super),Object.defineProperty(CategoryAxisDataItem.prototype,\"category\",{get:function(){return this.adapter.isEnabled(\"category\")?this.adapter.apply(\"category\",this.properties.category):this.properties.category},set:function(value){this.setProperty(\"category\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisDataItem.prototype,\"endCategory\",{get:function(){return this.properties.endCategory},set:function(value){this.setProperty(\"endCategory\",value)},enumerable:!0,configurable:!0}),CategoryAxisDataItem}(Axis_AxisDataItem),CategoryAxis_CategoryAxis=function(_super){function CategoryAxis(){var _this=_super.call(this)||this;return _this.dataItemsByCategory=new Dictionary_Dictionary,_this.className=\"CategoryAxis\",_this.axisFieldName=\"category\",_this._lastDataItem=_this.createDataItem(),_this._lastDataItem.component=_this,_this._disposers.push(_this._lastDataItem),_this.applyTheme(),_this}return __extends(CategoryAxis,_super),CategoryAxis.prototype.createDataItem=function(){return new CategoryAxis_CategoryAxisDataItem},CategoryAxis.prototype.createAxisBreak=function(){return new CategoryAxisBreak_CategoryAxisBreak},CategoryAxis.prototype.processSeriesDataItem=function(dataItem,axisLetter){_super.prototype.processSeriesDataItem.call(this,dataItem,axisLetter);var categoryAxisDataItem=this.dataItemsByCategory.getKey(dataItem[\"category\"+this.axisLetter]);if(categoryAxisDataItem){var seriesId=dataItem.component.uid,seriesDataItems=categoryAxisDataItem.seriesDataItems[seriesId];seriesDataItems||(categoryAxisDataItem.seriesDataItems[seriesId]=seriesDataItems=[]),seriesDataItems.push(dataItem)}},CategoryAxis.prototype.validateDataRange=function(){var _this=this;_super.prototype.validateDataRange.call(this),Iterator_each(this._series.iterator(),function(series){if(series.xAxis instanceof CategoryAxis&&series.yAxis instanceof CategoryAxis)series.invalidateDataRange();else{var startIndex=_this.positionToIndex(_this.start),endIndex=_this.positionToIndex(_this.end);endIndex>=_this.dataItems.length&&endIndex--;for(var seriesId=series.uid,minIndex=void 0,maxIndex=void 0,i=startIndex;i<=endIndex;i++){var axisDataItem=_this.dataItems.getIndex(i);if(axisDataItem){var seriesDataItems=axisDataItem.seriesDataItems[seriesId];if(seriesDataItems)for(var i_1=0;i_1<seriesDataItems.length;i_1++){var seriesDataItem=seriesDataItems[i_1];if(seriesDataItem){var index=seriesDataItem.index;(!isNumber(minIndex)||index<minIndex)&&(minIndex=index),(!isNumber(maxIndex)||index>maxIndex)&&(maxIndex=index)}}}}isNumber(minIndex)?series.startIndex=minIndex:series.start=_this.start,isNumber(maxIndex)?series.endIndex=maxIndex+1:series.end=_this.end,_this.axisBreaks.length>0&&series.invalidateDataRange()}})},CategoryAxis.prototype.validate=function(){var _this=this;_super.prototype.validate.call(this);var dataCount=this.dataItems.length,startIndex=fitToRange(Math.floor(this.start*dataCount-1),0,dataCount),endIndex=fitToRange(Math.ceil(this.end*dataCount),0,dataCount);this.renderer.invalid&&this.renderer.validate();var frequency=Math.min(this.dataItems.length,Math.ceil((endIndex-startIndex)/(this.renderer.axisLength/this.renderer.minGridDistance)));if(this._startIndex=Math.floor(startIndex/frequency)*frequency,this._endIndex=Math.ceil(this.end*dataCount),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=frequency,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),startIndex=Math_max(0,this._startIndex-this._frequency),endIndex=Math_min(this.dataItems.length,this._endIndex+this._frequency);for(var itemIndex=0,i=0;i<startIndex;i++)(dataItem=this.dataItems.getIndex(i)).__disabled=!0;i=endIndex;for(var len=this.dataItems.length;i<len;i++)(dataItem=this.dataItems.getIndex(i)).__disabled=!0;for(i=startIndex;i<endIndex;i++)if(i<this.dataItems.length){var dataItem=this.dataItems.getIndex(i);i/this._frequency==Math.round(i/this._frequency)?(this.isInBreak(i)||(this.appendDataItem(dataItem),this.validateDataElement(dataItem,itemIndex)),itemIndex++):dataItem.__disabled=!0}this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,itemIndex+1,this.dataItems.length),this.axisBreaks.each(function(axisBreak){var adjustedStartValue=axisBreak.adjustedStartValue,adjustedEndValue=axisBreak.adjustedEndValue;if(intersect({start:adjustedStartValue,end:adjustedEndValue},{start:_this._startIndex,end:_this._endIndex}))for(var frequency_1=fitToRange(Math.ceil(_this._frequency/axisBreak.breakSize),1,adjustedEndValue-adjustedStartValue),itemIndex_1=0,b=adjustedStartValue;b<=adjustedEndValue;b+=frequency_1){var dataItem=_this.dataItems.getIndex(b);_this.appendDataItem(dataItem),_this.validateDataElement(dataItem,itemIndex_1),itemIndex_1++}}),this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},CategoryAxis.prototype.validateDataElement=function(dataItem,itemIndex,index){_super.prototype.validateDataElement.call(this,dataItem);var renderer=this.renderer;isNumber(index)||(index=this.categoryToIndex(dataItem.category));var endIndex=this.categoryToIndex(dataItem.endCategory);isNumber(endIndex)||(endIndex=index);var fillEndIndex,fillPosition,fillEndPosition,position=this.indexToPosition(index,dataItem.locations.category),endPosition=this.indexToPosition(endIndex,dataItem.locations.endCategory);dataItem.position=position,dataItem.isRange&&(fillEndIndex=endIndex,fillPosition=this.indexToPosition(index,dataItem.locations.category),fillEndPosition=this.indexToPosition(fillEndIndex,dataItem.locations.endCategory)),dataItem.point=renderer.positionToPoint(position);var tick=dataItem.tick;tick&&!tick.disabled&&renderer.updateTickElement(tick,position,endPosition);var grid=dataItem.grid;grid&&!grid.disabled&&renderer.updateGridElement(grid,position,endPosition);var label=dataItem.label;label&&!label.disabled&&(dataItem.isRange&&null!=label.text||(dataItem.text=dataItem.text),renderer.updateLabelElement(label,position,endPosition),(renderer instanceof AxisRendererY_AxisRendererY&&dataItem.label.measuredWidth>this.ghostLabel.measuredWidth||renderer instanceof AxisRendererX_AxisRendererX&&dataItem.label.measuredHeight>this.ghostLabel.measuredHeight)&&(dataItem.label.html?this.ghostLabel.html=dataItem.label.currentText:this.ghostLabel.text=dataItem.label.currentText));var fill=dataItem.axisFill;fill&&!fill.disabled&&(dataItem.isRange||(fillEndIndex=index+this._frequency,fillPosition=this.indexToPosition(index,fill.location),fillEndPosition=this.indexToPosition(fillEndIndex,fill.location)),renderer.updateFillElement(fill,fillPosition,fillEndPosition),dataItem.isRange||this.fillRule(dataItem,itemIndex)),dataItem.bullet&&renderer.updateBullet(dataItem.bullet,position,endPosition);var mask=dataItem.mask;mask&&renderer.updateFillElement(mask,fillPosition,fillEndPosition)},CategoryAxis.prototype.disposeData=function(){this.dataItemsByCategory.clear(),_super.prototype.disposeData.call(this)},CategoryAxis.prototype.processDataItem=function(dataItem,dataContext){_super.prototype.processDataItem.call(this,dataItem,dataContext),this.dataItemsByCategory.setKey(dataItem.category,dataItem)},CategoryAxis.prototype.getDataItem=function(dataContext){return this.dataItemsByCategory.getKey(dataContext[this.dataFields.category])||this.dataItems.create()},CategoryAxis.prototype.indexToPosition=function(index,location){isNumber(location)||(location=.5);var startIndex=this.startIndex,endIndex=this.endIndex,difference=this.adjustDifference(startIndex,endIndex),startLocation=this.startLocation;return difference-=startLocation,difference-=1-this.endLocation,Iterator_eachContinue(this.axisBreaks.iterator(),function(axisBreak){var breakStartIndex=axisBreak.adjustedStartValue,breakEndIndex=axisBreak.adjustedEndValue;if(index<startIndex)return!1;if(intersect({start:breakStartIndex,end:breakEndIndex},{start:startIndex,end:endIndex})){breakStartIndex=Math.max(startIndex,breakStartIndex),breakEndIndex=Math.min(endIndex,breakEndIndex);var breakSize=axisBreak.breakSize;index>breakEndIndex?startIndex+=(breakEndIndex-breakStartIndex)*(1-breakSize):index<breakStartIndex||(index=breakStartIndex+(index-breakStartIndex)*breakSize)}return!0}),Math_round((index+location-startLocation-startIndex)/difference,5)},CategoryAxis.prototype.categoryToPosition=function(category,location){var index=this.categoryToIndex(category);return this.indexToPosition(index,location)},CategoryAxis.prototype.categoryToPoint=function(category,location){var position=this.categoryToPosition(category,location),point=this.renderer.positionToPoint(position),angle=this.renderer.positionToAngle(position);return{x:point.x,y:point.y,angle:angle}},CategoryAxis.prototype.anyToPoint=function(category,location){return this.categoryToPoint(category,location)},CategoryAxis.prototype.anyToPosition=function(category,location){return this.categoryToPosition(category,location)},CategoryAxis.prototype.categoryToIndex=function(category){if(hasValue(category)){var dataItem=this.dataItemsByCategory.getKey(category);if(dataItem)return dataItem.index}},CategoryAxis.prototype.zoomToCategories=function(startCategory,endCategory){this.zoomToIndexes(this.categoryToIndex(startCategory),this.categoryToIndex(endCategory)+1)},CategoryAxis.prototype.getAnyRangePath=function(start,end,startLocation,endLocation){var startPos=this.categoryToPosition(start,startLocation),endPos=this.categoryToPosition(end,endLocation);return this.getPositionRangePath(startPos,endPos)},CategoryAxis.prototype.roundPosition=function(position,location){var index=this.positionToIndex(position);return this.indexToPosition(index,location)},CategoryAxis.prototype.getFirstSeriesDataItem=function(series,category){for(var i=0;i<series.dataItems.length;i++){var dataItem=series.dataItems.getIndex(i);if(series.xAxis==this&&dataItem.categoryX==category)return dataItem;if(series.yAxis==this&&dataItem.categoryY==category)return dataItem}},CategoryAxis.prototype.getLastSeriesDataItem=function(series,category){for(var i=series.dataItems.length-1;i>=0;i--){var dataItem=series.dataItems.getIndex(i);if(series.xAxis==this&&dataItem.categoryX==category)return dataItem;if(series.yAxis==this&&dataItem.categoryY==category)return dataItem}},CategoryAxis.prototype.getSeriesDataItem=function(series,position,findNearest){var _this=this;if(isNumber(position)){var index_1=this.positionToIndex(position);index_1>=this.dataItems.length&&index_1--;var dataItem=this.dataItems.getIndex(index_1);if(dataItem){var sdi_1,category_1=dataItem.category,seriesDataItem=series.dataItems.getIndex(index_1);if(seriesDataItem){if(series.xAxis==this&&seriesDataItem.categoryX==category_1)return seriesDataItem;if(series.yAxis==this&&seriesDataItem.categoryY==category_1)return seriesDataItem}return series.dataItems.each(function(dataItem){series.xAxis==_this&&dataItem.categoryX==category_1&&(sdi_1||(sdi_1=dataItem),Math.abs(index_1-sdi_1.index)>Math.abs(index_1-dataItem.index)&&(sdi_1=dataItem)),series.yAxis==_this&&dataItem.categoryY==category_1&&(sdi_1||(sdi_1=dataItem),Math.abs(index_1-sdi_1.index)>Math.abs(index_1-dataItem.index)&&(sdi_1=dataItem))}),sdi_1}}},CategoryAxis.prototype.getX=function(dataItem,key,location,stackKey,range){var position=this.getPositionX(dataItem,key,location,stackKey,range);return Type_isNaN(position)?this.basePoint.x:this.renderer.positionToPoint(position).x},CategoryAxis.prototype.getPositionX=function(dataItem,key,location,stackKey,range){var position;return hasValue(key)&&(position=this.categoryToPosition(dataItem.categories[key],location)),range&&(position=fitToRange(position,range.start,range.end)),position},CategoryAxis.prototype.getY=function(dataItem,key,location,stackKey,range){var position=this.getPositionY(dataItem,key,location,stackKey,range);return Type_isNaN(position)?this.basePoint.y:this.renderer.positionToPoint(position).y},CategoryAxis.prototype.getPositionY=function(dataItem,key,location,stackKey,range){var position;return hasValue(key)&&(position=this.categoryToPosition(dataItem.categories[key],location)),range&&(position=fitToRange(position,range.start,range.end)),position},CategoryAxis.prototype.getAngle=function(dataItem,key,location,stackKey,range){var position=this.categoryToPosition(dataItem.categories[key],location);return range&&(position=fitToRange(position,range.start,range.end)),this.positionToAngle(position)},CategoryAxis.prototype.getCellStartPosition=function(position){return this.roundPosition(position,0)},CategoryAxis.prototype.getCellEndPosition=function(position){return this.roundPosition(position,1)},CategoryAxis.prototype.getTooltipText=function(position){var dataItem=this.dataItems.getIndex(this.positionToIndex(position));if(dataItem)return this.adapter.apply(\"getTooltipText\",dataItem.category)},CategoryAxis.prototype.positionToIndex=function(position){(position=Math_round(position,10))<0&&(position=0),position>1&&(position=1);var startIndex=this.startIndex,endIndex=this.endIndex,difference=endIndex-startIndex-this.startLocation-(1-this.endLocation);position+=1/difference*this.startLocation;var index=null;return Iterator_eachContinue(this.axisBreaks.iterator(),function(axisBreak){var breakStartPosition=axisBreak.startPosition,breakEndPosition=axisBreak.endPosition,breakStartIndex=axisBreak.adjustedStartValue,breakEndIndex=axisBreak.adjustedEndValue;breakStartIndex=Math_max(breakStartIndex,startIndex),breakEndIndex=Math_min(breakEndIndex,endIndex);var breakSize=axisBreak.breakSize;if(difference-=(breakEndIndex-breakStartIndex)*(1-breakSize),position>breakEndPosition)startIndex+=(breakEndIndex-breakStartIndex)*(1-breakSize);else if(!(position<breakStartPosition))return index=breakStartIndex+Math.round((position-breakStartPosition)/(breakEndPosition-breakStartPosition)*(breakEndIndex-breakStartIndex)),!1;return!0}),isNumber(index)||(index=Math.floor(position*difference+startIndex)),index>=this.dataItems.length&&(index=this.dataItems.length-1),index},CategoryAxis.prototype.positionToCategory=function(position){return this.getPositionLabel(position)},CategoryAxis.prototype.getPositionLabel=function(position){var dataItem=this.dataItems.getIndex(this.positionToIndex(position));if(dataItem)return dataItem.category},Object.defineProperty(CategoryAxis.prototype,\"basePoint\",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),CategoryAxis.prototype.initRenderer=function(){_super.prototype.initRenderer.call(this),this.renderer.baseGrid.disabled=!0},Object.defineProperty(CategoryAxis.prototype,\"frequency\",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),CategoryAxis}(Axis_Axis);Registry_registry.registeredClasses.CategoryAxis=CategoryAxis_CategoryAxis,Registry_registry.registeredClasses.CategoryAxisDataItem=CategoryAxis_CategoryAxisDataItem;var XYSeries_XYSeriesDataItem=function(_super){function XYSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"XYSeriesDataItem\",_this.values.valueX={stack:0},_this.values.valueY={stack:0},_this.values.openValueX={},_this.values.openValueY={},_this.values.dateX={},_this.values.dateY={},_this.values.openDateX={},_this.values.openDateY={},_this.setLocation(\"dateX\",.5,0),_this.setLocation(\"dateY\",.5,0),_this.setLocation(\"categoryX\",.5,0),_this.setLocation(\"categoryY\",.5,0),_this.applyTheme(),_this}return __extends(XYSeriesDataItem,_super),Object.defineProperty(XYSeriesDataItem.prototype,\"valueX\",{get:function(){return this.values.valueX.value},set:function(value){this.setValue(\"valueX\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"valueY\",{get:function(){return this.values.valueY.value},set:function(value){this.setValue(\"valueY\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"dateX\",{get:function(){return this.getDate(\"dateX\")},set:function(date){this.setDate(\"dateX\",date)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"dateY\",{get:function(){return this.getDate(\"dateY\")},set:function(date){this.setDate(\"dateY\",date)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"categoryX\",{get:function(){return this.categories.categoryX},set:function(category){this.setCategory(\"categoryX\",category)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"categoryY\",{get:function(){return this.categories.categoryY},set:function(category){this.setCategory(\"categoryY\",category)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"openValueX\",{get:function(){return this.values.openValueX.value},set:function(value){this.setValue(\"openValueX\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"openValueY\",{get:function(){return this.values.openValueY.value},set:function(value){this.setValue(\"openValueY\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"openDateX\",{get:function(){return this.getDate(\"openDateX\")},set:function(date){this.setDate(\"openDateX\",date)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"openDateY\",{get:function(){return this.getDate(\"openDateY\")},set:function(date){this.setDate(\"openDateY\",date)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"openCategoryX\",{get:function(){return this.categories.openCategoryX},set:function(category){this.setCategory(\"openCategoryX\",category)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,\"openCategoryY\",{get:function(){return this.categories.openCategoryY},set:function(category){this.setCategory(\"openCategoryY\",category)},enumerable:!0,configurable:!0}),XYSeriesDataItem.prototype.getMin=function(fields,working,stackValue){var min,_this=this;return isNumber(stackValue)||(stackValue=0),each(fields,function(field){var value;value=working?_this.getWorkingValue(field):_this.getValue(field),((value+=stackValue)<min||!isNumber(min))&&(min=value)}),min},XYSeriesDataItem.prototype.getMax=function(fields,working,stackValue){var max,_this=this;return isNumber(stackValue)||(stackValue=0),each(fields,function(field){var value;value=working?_this.getWorkingValue(field):_this.getValue(field),((value+=stackValue)>max||!isNumber(max))&&(max=value)}),max},XYSeriesDataItem}(Series_SeriesDataItem),XYSeries_XYSeries=function(_super){function XYSeries(){var _this=_super.call(this)||this;return _this._xAxis=new Disposer_MutableValueDisposer,_this._yAxis=new Disposer_MutableValueDisposer,_this._xValueFields=[],_this._yValueFields=[],_this._baseInterval={},_this.className=\"XYSeries\",_this.isMeasured=!1,_this.cursorTooltipEnabled=!0,_this.cursorHoverEnabled=!0,_this.excludeFromTotal=!1,_this.mainContainer.mask=new Sprite_Sprite,_this.mainContainer.mask.setElement(_this.paper.add(\"path\")),_this.stacked=!1,_this.snapTooltip=!1,_this.tooltip.pointerOrientation=\"horizontal\",_this.tooltip.events.on(\"hidden\",function(){_this.returnBulletDefaultState()},void 0,!1),_this._disposers.push(_this._xAxis),_this._disposers.push(_this._yAxis),_this.applyTheme(),_this}return __extends(XYSeries,_super),XYSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"X/Y Series\"))},XYSeries.prototype.createDataItem=function(){return new XYSeries_XYSeriesDataItem},XYSeries.prototype.dataChangeUpdate=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},XYSeries.prototype.validateData=function(){if(this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),_super.prototype.validateData.call(this),this.updateItemReaderText(),!hasValue(this.dataFields[this._xField])||!hasValue(this.dataFields[this._yField]))throw Error('Data fields for series \"'+(this.name?this.name:this.uid)+'\" are not properly defined.')},XYSeries.prototype.processDataItem=function(dataItem,dataContext){try{_super.prototype.processDataItem.call(this,dataItem,dataContext),dataItem.events.disable(),this.xAxis.processSeriesDataItem(dataItem,\"X\"),this.yAxis.processSeriesDataItem(dataItem,\"Y\"),dataItem.events.enable(),this.setInitialWorkingValues(dataItem)}catch(e){this._chart.raiseCriticalError(e)}},XYSeries.prototype.updateDataItem=function(dataItem){_super.prototype.updateDataItem.call(this,dataItem),this.xAxis.processSeriesDataItem(dataItem,\"X\"),this.yAxis.processSeriesDataItem(dataItem,\"Y\")},XYSeries.prototype.setInitialWorkingValues=function(dataItem){},XYSeries.prototype.disposeData=function(){if(_super.prototype.disposeData.call(this),this.xAxis){var dataItemsX=this.dataItemsByAxis.getKey(this.xAxis.uid);dataItemsX&&dataItemsX.clear(),this.xAxis instanceof CategoryAxis_CategoryAxis&&this.clearCatAxis(this.xAxis)}if(this.yAxis){var dataItemsY=this.dataItemsByAxis.getKey(this.yAxis.uid);dataItemsY&&dataItemsY.clear(),this.yAxis instanceof CategoryAxis_CategoryAxis&&this.clearCatAxis(this.yAxis)}},XYSeries.prototype.clearCatAxis=function(axis){var uid=this.uid;axis.dataItems.each(function(dataItem){dataItem.seriesDataItems[uid]&&(dataItem.seriesDataItems[uid]=[])})},XYSeries.prototype.defineFields=function(){var yAxis=this.yAxis,xAxisFieldName=this.xAxis.axisFieldName,xField=xAxisFieldName+\"X\",xOpenField=\"open\"+capitalize(xAxisFieldName)+\"X\",yAxisFieldName=yAxis.axisFieldName,yField=yAxisFieldName+\"Y\",yOpenField=\"open\"+capitalize(yAxisFieldName)+\"Y\";this._xField=xField,this._yField=yField,this.dataFields[xOpenField]&&(this._xOpenField=xOpenField),this.dataFields[yOpenField]&&(this._yOpenField=yOpenField),this.dataFields[yOpenField]||this.baseAxis!=this.yAxis||(this._yOpenField=yField),this.dataFields[xOpenField]||this.baseAxis!=this.xAxis||(this._xOpenField=xField),this.stacked&&this.baseAxis==this.xAxis&&(this._xOpenField=xField),this.stacked&&this.baseAxis==this.yAxis&&(this._yOpenField=yField),this.xAxis instanceof CategoryAxis_CategoryAxis&&this.yAxis instanceof CategoryAxis_CategoryAxis&&(this._yOpenField||(this._yOpenField=yField)),this._xValueFields=[],this._yValueFields=[],this.addValueField(this.xAxis,this._xValueFields,this._xField),this.addValueField(this.xAxis,this._xValueFields,this._xOpenField),this.addValueField(this.yAxis,this._yValueFields,this._yField),this.addValueField(this.yAxis,this._yValueFields,this._yOpenField)},XYSeries.prototype.addValueField=function(axis,fields,field){axis instanceof ValueAxis_ValueAxis&&hasValue(this.dataFields[field])&&-1==fields.indexOf(field)&&fields.push(field)},XYSeries.prototype.setCategoryAxisField=function(field,axis){hasValue(this.dataFields[field])||(this.dataFields[field]=axis.dataFields.category)},XYSeries.prototype.setDateAxisField=function(field,axis){hasValue(this.dataFields[field])||(this.dataFields[field]=axis.dataFields.date)},XYSeries.prototype.afterDraw=function(){_super.prototype.afterDraw.call(this),this.createMask()},XYSeries.prototype.createMask=function(){if(this.mainContainer.mask){var path_1=this.getMaskPath();Iterator_each(this.axisRanges.iterator(),function(range){range.axisFill.fillPath&&(range.axisFill.validate(),path_1+=range.axisFill.fillPath)}),this.mainContainer.mask.path=path_1}},XYSeries.prototype.getMaskPath=function(){return rectToPath({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength})},XYSeries.prototype.getAxisField=function(axis){return axis==this.xAxis?this.xField:axis==this.yAxis?this.yField:void 0},XYSeries.prototype.validateDataItems=function(){this.xAxis.updateAxisBySeries(),this.yAxis.updateAxisBySeries(),_super.prototype.validateDataItems.call(this),this.xAxis.postProcessSeriesDataItems(),this.yAxis.postProcessSeriesDataItems()},XYSeries.prototype.validateDataRange=function(){this.xAxis.dataRangeInvalid&&this.xAxis.validateDataRange(),this.yAxis.dataRangeInvalid&&this.yAxis.validateDataRange(),_super.prototype.validateDataRange.call(this)},XYSeries.prototype.validate=function(){this.xAxis.invalid&&this.xAxis.validate(),this.yAxis.invalid&&this.yAxis.validate(),this.y=this.yAxis.pixelY,this.x=this.xAxis.pixelX,this._showBullets=!0;var minBulletDistance=this.minBulletDistance;isNumber(minBulletDistance)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<minBulletDistance&&(this._showBullets=!1),_super.prototype.validate.call(this)},Object.defineProperty(XYSeries.prototype,\"xAxis\",{get:function(){if(this.chart){if(!this._xAxis.get()){var axis=this.chart.xAxes.getIndex(0);if(!axis)throw Error(\"There are no X axes on chart.\");this.xAxis=axis}return this._xAxis.get()}},set:function(axis){var oldAxis=this._xAxis.get();oldAxis!=axis&&(oldAxis&&(this.dataItemsByAxis.removeKey(oldAxis.uid),this._xAxis.dispose(),oldAxis.series.removeValue(this)),this._xAxis.set(axis,axis.registerSeries(this)),this.dataItemsByAxis.setKey(axis.uid,new Dictionary_Dictionary),this.invalidateData())},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,\"yAxis\",{get:function(){if(this.chart){if(!this._yAxis.get()){var axis=this.chart.yAxes.getIndex(0);if(!axis)throw Error(\"There are no Y axes on chart.\");this.yAxis=axis}return this._yAxis.get()}},set:function(axis){var oldAxis=this._yAxis.get();oldAxis!=axis&&(oldAxis&&(this.dataItemsByAxis.removeKey(oldAxis.uid),this._yAxis.dispose(),oldAxis.series.removeValue(this)),this._yAxis.set(axis,axis.registerSeries(this)),this.dataItemsByAxis.setKey(axis.uid,new Dictionary_Dictionary),this.invalidateData())},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,\"baseAxis\",{get:function(){return this._baseAxis||(this.yAxis instanceof DateAxis_DateAxis&&(this._baseAxis=this.yAxis),this.xAxis instanceof DateAxis_DateAxis&&(this._baseAxis=this.xAxis),this.yAxis instanceof CategoryAxis_CategoryAxis&&(this._baseAxis=this.yAxis),this.xAxis instanceof CategoryAxis_CategoryAxis&&(this._baseAxis=this.xAxis),this._baseAxis||(this._baseAxis=this.xAxis)),this._baseAxis},set:function(value){this._baseAxis!=value&&(this._baseAxis=value,this.invalidate())},enumerable:!0,configurable:!0}),XYSeries.prototype.processValues=function(working){_super.prototype.processValues.call(this,working);var dataItems=this.dataItems,minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0,startIndex=this.startIndex,endIndex=this.endIndex;working||(startIndex=0,endIndex=this.dataItems.length);for(var i=startIndex;i<endIndex;i++){var dataItem=dataItems.getIndex(i);this.getStackValue(dataItem,working);var stackX=dataItem.getValue(\"valueX\",\"stack\"),stackY=dataItem.getValue(\"valueY\",\"stack\");minX=Math_min(dataItem.getMin(this._xValueFields,working,stackX),minX),minY=Math_min(dataItem.getMin(this._yValueFields,working,stackY),minY),maxX=Math_max(dataItem.getMax(this._xValueFields,working,stackX),maxX),maxY=Math_max(dataItem.getMax(this._yValueFields,working,stackY),maxY),this.stacked&&(this.baseAxis==this.xAxis&&(stackY<minY&&(minY=stackY),stackY>maxY&&(maxY=stackY)),this.baseAxis==this.yAxis&&(stackX<minX&&(minX=stackX),stackX>maxX&&(maxX=stackX)))}this.xAxis.processSeriesDataItems(),this.yAxis.processSeriesDataItems();var xAxisId=this.xAxis.uid,yAxisId=this.yAxis.uid;if(!working&&(this._tmin.getKey(xAxisId)!=minX||this._tmax.getKey(xAxisId)!=maxX||this._tmin.getKey(yAxisId)!=minY||this._tmax.getKey(yAxisId)!=maxY)){this._tmin.setKey(xAxisId,minX),this._tmax.setKey(xAxisId,maxX),this._tmin.setKey(yAxisId,minY),this._tmax.setKey(yAxisId,maxY);var stackedSeries=this.stackedSeries;stackedSeries&&(stackedSeries.isDisposed()?this.stackedSeries=void 0:stackedSeries.processValues(!1)),this.dispatchImmediately(\"extremeschanged\")}this._smin.getKey(xAxisId)==minX&&this._smax.getKey(xAxisId)==maxX&&this._smin.getKey(yAxisId)==minY&&this._smax.getKey(yAxisId)==maxY||(this._smin.setKey(xAxisId,minX),this._smax.setKey(xAxisId,maxX),this._smin.setKey(yAxisId,minY),this._smax.setKey(yAxisId,maxY),(this.appeared||0!=this.start||1!=this.end)&&this.dispatchImmediately(\"selectionextremeschanged\")),!working&&this.stacked&&this.processValues(!0)},XYSeries.prototype.hideTooltip=function(){_super.prototype.hideTooltip.call(this),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},XYSeries.prototype.showTooltipAtPosition=function(xPosition,yPosition){var dataItem;if(this.visible&&!this.isHiding&&!this.isShowing){var xAxis=this._xAxis.get(),yAxis=this._yAxis.get();xAxis==this.baseAxis&&(dataItem=xAxis.getSeriesDataItem(this,xAxis.toAxisPosition(xPosition),this.snapTooltip)),yAxis==this.baseAxis&&(dataItem=yAxis.getSeriesDataItem(this,yAxis.toAxisPosition(yPosition),this.snapTooltip));var point=this.showTooltipAtDataItem(dataItem);if(point)return point;if(!this.tooltipText)return}this.hideTooltip()},XYSeries.prototype.getAdjustedXLocation=function(dataItem,field){return dataItem.locations[field]},XYSeries.prototype.getAdjustedYLocation=function(dataItem,field){return dataItem.locations[field]},XYSeries.prototype.showTooltipAtDataItem=function(dataItem){var e_1,_c,cursor=this.chart.cursor;if(cursor&&cursor.hideSeriesTooltipsOnSelection&&cursor.selection.visible&&cursor.downPoint)this.hideTooltip();else if(this.returnBulletDefaultState(dataItem),dataItem&&dataItem.visible){if(this.updateLegendValue(dataItem),this.cursorTooltipEnabled){this.tooltipDataItem=dataItem;var tooltipXField=this.tooltipXField,tooltipYField=this.tooltipYField;if(hasValue(dataItem[tooltipXField])&&hasValue(dataItem[tooltipYField])){var tooltipPoint=this.getPoint(dataItem,tooltipXField,tooltipYField,this.getAdjustedXLocation(dataItem,tooltipXField),this.getAdjustedYLocation(dataItem,tooltipYField));if(tooltipPoint){if(this.tooltipX=tooltipPoint.x,this.tooltipY=tooltipPoint.y,this._prevTooltipDataItem!=dataItem&&(this.dispatchImmediately(\"tooltipshownat\",{type:\"tooltipshownat\",target:this,dataItem:dataItem}),this._prevTooltipDataItem=dataItem),this.cursorHoverEnabled)try{for(var _a=__values(dataItem.sprites),_b=_a.next();!_b.done;_b=_a.next()){var sprite=_b.value;!sprite.parent.visible||sprite.isHidden||sprite.__disabled||sprite.disabled||sprite.isHiding||(sprite.isHover=!0)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_b&&!_b.done&&(_c=_a.return)&&_c.call(_a)}finally{if(e_1)throw e_1.error}}return this.showTooltip()?spritePointToSvg({x:tooltipPoint.x,y:tooltipPoint.y},this):void 0}}}}else this.updateLegendValue(dataItem,!0)},XYSeries.prototype.returnBulletDefaultState=function(dataItem){if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=dataItem)try{for(var _a=__values(this._prevTooltipDataItem.sprites),_b=_a.next();!_b.done;_b=_a.next()){var sprite=_b.value;sprite.isDisposed()?this._prevTooltipDataItem=void 0:sprite.isHover=!1}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_b&&!_b.done&&(_c=_a.return)&&_c.call(_a)}finally{if(e_2)throw e_2.error}}var e_2,_c},XYSeries.prototype.shouldCreateBullet=function(dataItem,bulletTemplate){var xField=bulletTemplate.xField;hasValue(xField)||(xField=this.xField);var yField=bulletTemplate.yField;if(hasValue(yField)||(yField=this.yField),this.xAxis instanceof ValueAxis_ValueAxis&&!dataItem.hasValue([xField])||this.yAxis instanceof ValueAxis_ValueAxis&&!dataItem.hasValue([yField]))return!1;if(bulletTemplate.disabled){var dataContext=dataItem.dataContext;return!(!dataContext||!1!==dataContext[bulletTemplate.propertyFields.disabled])}return!0},XYSeries.prototype.positionBullet=function(bullet){_super.prototype.positionBullet.call(this,bullet);var dataItem=bullet.dataItem,xField=bullet.xField;hasValue(xField)||(xField=this.xField);var yField=bullet.yField;if(hasValue(yField)||(yField=this.yField),this.xAxis instanceof ValueAxis_ValueAxis&&!dataItem.hasValue([xField])||this.yAxis instanceof ValueAxis_ValueAxis&&!dataItem.hasValue([yField]))bullet.visible=!1;else{var bulletLocationX=this.getBulletLocationX(bullet,xField),bulletLocationY=this.getBulletLocationY(bullet,yField),point=this.getPoint(dataItem,xField,yField,bulletLocationX,bulletLocationY);if(point){var x=point.x,y=point.y;isNumber(bullet.locationX)&&this.xOpenField!=this.xField&&(x-=(x-this.xAxis.getX(dataItem,this.xOpenField))*bullet.locationX),isNumber(bullet.locationY)&&this.yOpenField!=this.yField&&(y-=(y-this.yAxis.getY(dataItem,this.yOpenField))*bullet.locationY),bullet.moveTo({x:x,y:y}),bullet.visible=!0}else bullet.visible=!1}},XYSeries.prototype.getBulletLocationX=function(bullet,field){var bulletLocation=bullet.locationX,dataItem=bullet.dataItem;return isNumber(bulletLocation)||(bulletLocation=dataItem.workingLocations[field]),bulletLocation},XYSeries.prototype.getBulletLocationY=function(bullet,field){var bulletLocation=bullet.locationY,dataItem=bullet.dataItem;return isNumber(bulletLocation)||(bulletLocation=dataItem.workingLocations[field]),bulletLocation},Object.defineProperty(XYSeries.prototype,\"stacked\",{get:function(){return this.getPropertyValue(\"stacked\")},set:function(stacked){this.setPropertyValue(\"stacked\",stacked,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,\"snapTooltip\",{get:function(){return this.getPropertyValue(\"snapTooltip\")},set:function(value){this.setPropertyValue(\"snapTooltip\",value)},enumerable:!0,configurable:!0}),XYSeries.prototype.show=function(duration){var fields,_this=this;this.xAxis instanceof ValueAxis_ValueAxis&&this.xAxis!=this.baseAxis&&(fields=this._xValueFields),this.yAxis instanceof ValueAxis_ValueAxis&&this.yAxis!=this.baseAxis&&(fields=this._yValueFields);var anim,startIndex=this.startIndex,endIndex=this.endIndex,delay=0,interpolationDuration=this.defaultState.transitionDuration;isNumber(duration)&&(interpolationDuration=duration),Iterator_each(indexed(this.dataItems.iterator()),function(a){var i=a[0];_this.sequencedInterpolation&&interpolationDuration>0&&(delay=_this.sequencedInterpolationDelay*i+interpolationDuration*(i-startIndex)/(endIndex-startIndex)),anim=a[1].show(interpolationDuration,delay,fields)});var animation=_super.prototype.show.call(this,duration);return anim&&!anim.isFinished()&&(animation=anim),animation},XYSeries.prototype.hide=function(duration){var fields,value,_this=this,xAxis=this.xAxis;xAxis instanceof ValueAxis_ValueAxis&&xAxis!=this.baseAxis&&(fields=this._xValueFields,value=this.stacked||xAxis.minZoomed<xAxis.baseValue&&xAxis.maxZoomed>xAxis.baseValue||this.stackedSeries?xAxis.baseValue:xAxis.min);var yAxis=this.yAxis;yAxis instanceof ValueAxis_ValueAxis&&yAxis!=this.baseAxis&&(fields=this._yValueFields,value=this.stacked||yAxis.minZoomed<yAxis.baseValue&&yAxis.maxZoomed>yAxis.baseValue||this.stackedSeries?yAxis.baseValue:yAxis.min);var startIndex=this.startIndex,endIndex=this.endIndex,interpolationDuration=this.hiddenState.transitionDuration;isNumber(duration)&&(interpolationDuration=duration);var anim,delay=0;Iterator_each(indexed(this.dataItems.iterator()),function(a){var i=a[0],dataItem=a[1];0==interpolationDuration?dataItem.hide(0,0,value,fields):(_this.sequencedInterpolation&&interpolationDuration>0&&(delay=_this.sequencedInterpolationDelay*i+interpolationDuration*(i-startIndex)/(endIndex-startIndex)),anim=dataItem.hide(interpolationDuration,delay,value,fields))});var animation=_super.prototype.hide.call(this,interpolationDuration);return animation&&!animation.isFinished()&&animation.delay(delay),anim&&!anim.isFinished()&&(animation=anim),this.validateDataElements(),animation},XYSeries.prototype.handleDataItemWorkingValueChange=function(dataItem,name){_super.prototype.handleDataItemWorkingValueChange.call(this,dataItem,name),Iterator_each(this.baseAxis.series.iterator(),function(series){series.stacked&&series.invalidateProcessedData()})},XYSeries.prototype.getStackValue=function(dataItem,working){var _this=this;if(this.stacked){var field_1,chart=this.chart,index=chart.series.indexOf(this);this.xAxis!=this.baseAxis&&this.xAxis instanceof ValueAxis_ValueAxis&&(field_1=this.xField),this.yAxis!=this.baseAxis&&this.yAxis instanceof ValueAxis_ValueAxis&&(field_1=this.yField),field_1&&(dataItem.setCalculatedValue(field_1,0,\"stack\"),Iterator_eachContinue(chart.series.range(0,index).backwards().iterator(),function(prevSeries){if(prevSeries.xAxis==_this.xAxis&&prevSeries.yAxis==_this.yAxis){prevSeries.stackedSeries=_this;var prevDataItem=prevSeries.dataItems.getIndex(dataItem.index);if(prevDataItem&&prevDataItem.hasValue(_this._xValueFields)&&prevDataItem.hasValue(_this._yValueFields)){var prevValue,value=dataItem.getValue(field_1),prevRealValue=prevDataItem.getValue(field_1)+prevDataItem.getValue(field_1,\"stack\");if(prevValue=working?prevDataItem.getWorkingValue(field_1)+prevDataItem.getValue(field_1,\"stack\"):prevDataItem.getValue(field_1)+prevDataItem.getValue(field_1,\"stack\"),value>=0&&prevRealValue>=0||value<0&&prevRealValue<0)return dataItem.setCalculatedValue(field_1,prevValue,\"stack\"),!1}else if(!prevSeries.stacked)return!1}return!0}))}},Object.defineProperty(XYSeries.prototype,\"xField\",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,\"yField\",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,\"xOpenField\",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,\"yOpenField\",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,\"tooltipXField\",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(value){this._tooltipXField=value},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,\"tooltipYField\",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(value){this._tooltipYField=value},enumerable:!0,configurable:!0}),XYSeries.prototype.min=function(axis){return this._tmin.getKey(axis.uid)},XYSeries.prototype.max=function(axis){return this._tmax.getKey(axis.uid)},XYSeries.prototype.selectionMin=function(axis){var value=this._smin.getKey(axis.uid);return isNumber(value)||(value=this.min(axis)),value},XYSeries.prototype.selectionMax=function(axis){var value=this._smax.getKey(axis.uid);return isNumber(value)||(value=this.max(axis)),value},XYSeries.prototype.processConfig=function(config){if(config){if(hasValue(config.baseAxis)&&isString(config.baseAxis)&&(this.map.hasKey(config.baseAxis)?config.baseAxis=this.map.getKey(config.baseAxis):(this.processingErrors.push(\"[XYSeries (\"+(this.name||\"unnamed\")+')] No axis with id \"'+config.baseAxis+'\" found for `baseAxis`.'),delete config.baseAxis)),hasValue(config.xAxis)&&isString(config.xAxis)&&(this.map.hasKey(config.xAxis)?config.xAxis=this.map.getKey(config.xAxis):(this.processingErrors.push(\"[XYSeries (\"+(this.name||\"unnamed\")+')] No axis with id \"'+config.xAxis+'\" found for `xAxis`.'),delete config.xAxis)),hasValue(config.yAxis)&&isString(config.yAxis)&&(this.map.hasKey(config.yAxis)?config.yAxis=this.map.getKey(config.yAxis):(this.processingErrors.push(\"[XYSeries (\"+(this.name||\"unnamed\")+')] No axis with id \"'+config.yAxis+'\" found for `yAxis`.'),delete config.yAxis)),hasValue(config.axisRanges)&&Type_isArray(config.axisRanges))for(var i=0,len=config.axisRanges.length;i<len;i++){var range=config.axisRanges[i];hasValue(range.type)||(range.type=\"AxisDataItem\"),hasValue(range.axis)&&isString(range.axis)&&this.map.hasKey(range.axis)?range.component=this.map.getKey(range.axis):hasValue(range.component)&&isString(range.component)&&this.map.hasKey(range.component)&&(range.component=this.map.getKey(range.component))}hasValue(config.dataFields)&&Type_isObject(config.dataFields)||this.processingErrors.push(\"`dataFields` is not set for series [\"+(this.name||\"unnamed\")+\"]\")}_super.prototype.processConfig.call(this,config)},XYSeries.prototype.getPoint=function(dataItem,xKey,yKey,locationX,locationY,stackKeyX,stackKeyY){var x=this.xAxis.getX(dataItem,xKey,locationX),y=this.yAxis.getY(dataItem,yKey,locationY);return{x:x=fitToRange(x,-1e5,1e5),y:y=fitToRange(y,-1e5,1e5)}},XYSeries.prototype.updateItemReaderText=function(){var text=\"\";Object_each(this.dataFields,function(key,val){text+=\"{\"+key+\"} \"}),this.itemReaderText=text},Object.defineProperty(XYSeries.prototype,\"cursorTooltipEnabled\",{get:function(){return this.getPropertyValue(\"cursorTooltipEnabled\")},set:function(value){this.setPropertyValue(\"cursorTooltipEnabled\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,\"cursorHoverEnabled\",{get:function(){return this.getPropertyValue(\"cursorHoverEnabled\")},set:function(value){this.setPropertyValue(\"cursorHoverEnabled\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,\"excludeFromTotal\",{get:function(){return this.getPropertyValue(\"excludeFromTotal\")},set:function(value){this.setPropertyValue(\"excludeFromTotal\",value)},enumerable:!0,configurable:!0}),XYSeries}(Series_Series);Registry_registry.registeredClasses.XYSeries=XYSeries_XYSeries,Registry_registry.registeredClasses.XYSeriesDataItem=XYSeries_XYSeriesDataItem;var XYChartScrollbar_XYChartScrollbar=function(_super){function XYChartScrollbar(){var _this=_super.call(this)||this;_this._chart=new Disposer_MutableValueDisposer,_this.className=\"XYChartScrollbar\";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;_this.padding(0,0,0,0);var scrollbarChart=_this.createChild(XYChart_XYChart);scrollbarChart.shouldClone=!1,scrollbarChart.margin(0,0,0,0),scrollbarChart.padding(0,0,0,0),scrollbarChart.interactionsEnabled=!1,_this._scrollbarChart=scrollbarChart,_this._disposers.push(_this._scrollbarChart),_this.minHeight=60,_this.minWidth=60;var unselectedOverlay=_this.createChild(Sprite_Sprite);unselectedOverlay.shouldClone=!1,unselectedOverlay.setElement(_this.paper.add(\"path\")),unselectedOverlay.fill=interfaceColors.getFor(\"background\"),unselectedOverlay.fillOpacity=.8,unselectedOverlay.interactionsEnabled=!1,unselectedOverlay.isMeasured=!1,unselectedOverlay.toBack(),_this._unselectedOverlay=unselectedOverlay,_this._disposers.push(_this._unselectedOverlay),scrollbarChart.toBack(),_this.background.cornerRadius(0,0,0,0);var thumbBackground=_this.thumb.background;thumbBackground.cornerRadius(0,0,0,0),thumbBackground.fillOpacity=0,thumbBackground.fill=interfaceColors.getFor(\"background\");var hoverState=thumbBackground.states.getKey(\"hover\");hoverState&&(hoverState.properties.fillOpacity=.2);var downState=thumbBackground.states.getKey(\"down\");return downState&&(downState.properties.fillOpacity=.4),_this._disposers.push(_this._chart),_this.applyTheme(),_this}return __extends(XYChartScrollbar,_super),Object.defineProperty(XYChartScrollbar.prototype,\"series\",{get:function(){return this._series||(this._series=new List_List,this._disposers.push(this._series.events.on(\"inserted\",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on(\"removed\",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),XYChartScrollbar.prototype.handleSeriesAdded=function(event){var sourceSeries=event.newValue,scrollbarChart=this.scrollbarChart;scrollbarChart.zoomOutButton.disabled=!0,this.chart=sourceSeries.chart;var addXAxis=!0,addYAxis=!0;Iterator_each(this.series.iterator(),function(series){series!=sourceSeries&&(series.xAxis==sourceSeries.xAxis&&(addXAxis=!1),series.yAxis==sourceSeries.yAxis&&(addYAxis=!1))});var interfaceColors=new InterfaceColorSet_InterfaceColorSet,series=sourceSeries.clone();if(addXAxis){var xAxis=sourceSeries.xAxis.clone();if(scrollbarChart.xAxes.moveValue(xAxis),xAxis.title.disabled=!0,xAxis.rangeChangeDuration=0,xAxis.id=sourceSeries.uid,(renderer=xAxis.renderer).ticks.template.disabled=!0,renderer.inside=!0,renderer.labels.template.inside=!0,renderer.line.strokeOpacity=0,renderer.minLabelPosition=.02,renderer.maxLabelPosition=.98,renderer.line.disabled=!0,renderer.axisFills.template.disabled=!0,renderer.baseGrid.disabled=!0,renderer.grid.template.strokeOpacity=.05,renderer.minWidth=void 0,renderer.minHeight=void 0,renderer.padding(0,0,0,0),renderer.chart=scrollbarChart,renderer.margin(0,0,0,0),renderer.labels.template.fillOpacity=.5,xAxis instanceof DateAxis_DateAxis){var vAxis_1=xAxis;this._disposers.push(vAxis_1.clonedFrom.events.on(\"extremeschanged\",function(){vAxis_1.min=vAxis_1.clonedFrom.min,vAxis_1.max=vAxis_1.clonedFrom.max-1},void 0,!1))}else if(xAxis instanceof ValueAxis_ValueAxis){var vAxis_2=xAxis;this._disposers.push(vAxis_2.clonedFrom.events.on(\"extremeschanged\",function(){vAxis_2.min=vAxis_2.clonedFrom.min,vAxis_2.max=vAxis_2.clonedFrom.max},void 0,!1))}series.xAxis=xAxis}else this.scrollbarChart.xAxes.each(function(xAxis){xAxis.clonedFrom==sourceSeries.xAxis&&(series.xAxis=xAxis)});if(addYAxis){var renderer,yAxis=sourceSeries.yAxis.clone();if(scrollbarChart.yAxes.moveValue(yAxis),yAxis.title.disabled=!0,yAxis.rangeChangeDuration=0,(renderer=yAxis.renderer).ticks.template.disabled=!0,renderer.inside=!0,renderer.labels.template.inside=!0,renderer.line.strokeOpacity=0,renderer.minLabelPosition=.02,renderer.maxLabelPosition=.98,renderer.line.disabled=!0,renderer.axisFills.template.disabled=!0,renderer.grid.template.stroke=interfaceColors.getFor(\"background\"),renderer.baseGrid.disabled=!0,renderer.grid.template.strokeOpacity=.05,renderer.minWidth=void 0,renderer.minHeight=void 0,renderer.chart=scrollbarChart,renderer.padding(0,0,0,0),renderer.margin(0,0,0,0),renderer.labels.template.fillOpacity=.5,series.yAxis=yAxis,yAxis instanceof DateAxis_DateAxis){var vAxis_3=yAxis;this._disposers.push(vAxis_3.clonedFrom.events.on(\"extremeschanged\",function(){vAxis_3.min=vAxis_3.clonedFrom.min,vAxis_3.max=vAxis_3.clonedFrom.max-1}))}else if(yAxis instanceof ValueAxis_ValueAxis){var vAxis_4=yAxis;this._disposers.push(vAxis_4.clonedFrom.events.on(\"extremeschanged\",function(){vAxis_4.min=vAxis_4.clonedFrom.min,vAxis_4.max=vAxis_4.clonedFrom.max}))}}else this.scrollbarChart.yAxes.each(function(yAxis){yAxis.clonedFrom==sourceSeries.yAxis&&(series.yAxis=yAxis)});series.rangeChangeDuration=0,series.interpolationDuration=0,series.defaultState.transitionDuration=0,series.showOnInit=!1,this._disposers.push(series.events.on(\"validated\",this.zoomOutAxes,this,!1)),this._disposers.push(sourceSeries.events.on(\"datavalidated\",function(){series.data!=sourceSeries.data&&(series.data=sourceSeries.data)},void 0,!1)),series.defaultState.properties.visible=!0,series.filters.push(new DesaturateFilter_DesaturateFilter),scrollbarChart.series.push(series),this.updateByOrientation()},XYChartScrollbar.prototype.updateByOrientation=function(){var _this=this;this._scrollbarChart&&(Iterator_each(this._scrollbarChart.xAxes.iterator(),function(xAxis){var renderer=xAxis.renderer;\"vertical\"==_this.orientation?(renderer.grid.template.disabled=!0,renderer.labels.template.disabled=!0,renderer.minGridDistance=10):(renderer.grid.template.disabled=!1,renderer.labels.template.disabled=!1,renderer.minGridDistance=xAxis.clonedFrom.renderer.minGridDistance)}),Iterator_each(this._scrollbarChart.yAxes.iterator(),function(yAxis){var renderer=yAxis.renderer;\"horizontal\"==_this.orientation?(renderer.grid.template.disabled=!0,renderer.labels.template.disabled=!0,renderer.minGridDistance=10):(renderer.grid.template.disabled=!1,renderer.labels.template.disabled=!1,renderer.minGridDistance=yAxis.clonedFrom.renderer.minGridDistance)}))},XYChartScrollbar.prototype.handleSeriesRemoved=function(event){event.oldValue.events.off(\"validated\",this.zoomOutAxes,this)},Object.defineProperty(XYChartScrollbar.prototype,\"scrollbarChart\",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(XYChartScrollbar.prototype,\"chart\",{get:function(){return this._chart.get()},set:function(chart){this._chart.get()!==chart&&(this._chart.set(chart,chart.events.on(\"datavalidated\",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=chart)},enumerable:!0,configurable:!0}),XYChartScrollbar.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data&&(this.scrollbarChart.data=this.chart.data)},XYChartScrollbar.prototype.zoomOutAxes=function(){var scrollbarChart=this.scrollbarChart;Iterator_each(scrollbarChart.xAxes.iterator(),function(x){x.zoom({start:0,end:1},!0,!0)}),Iterator_each(scrollbarChart.yAxes.iterator(),function(y){y.zoom({start:0,end:1},!0,!0)})},XYChartScrollbar.prototype.updateThumb=function(){if(_super.prototype.updateThumb.call(this),this._unselectedOverlay){var thumb=this.thumb,x=thumb.pixelX||0,y=thumb.pixelY||0,w=thumb.pixelWidth||0,h=thumb.pixelHeight||0,path=\"\";\"horizontal\"==this.orientation?(path=rectToPath({x:-1,y:0,width:x,height:h}),path+=rectToPath({x:x+w,y:0,width:(this.pixelWidth||0)-x-w,height:h})):(path=rectToPath({x:0,y:0,width:w,height:y}),path+=rectToPath({x:0,y:y+h,width:w,height:(this.pixelHeight||0)-y-h})),this._unselectedOverlay.path=path}},XYChartScrollbar.prototype.processConfig=function(config){if(config&&hasValue(config.series)&&Type_isArray(config.series))for(var i=0,len=config.series.length;i<len;i++){var series=config.series[i];if(hasValue(series)&&isString(series)){if(!this.map.hasKey(series))throw Error(\"XYChartScrollbar error: Series with id `\"+series+\"` does not exist.\");config.series[i]=this.map.getKey(series)}}_super.prototype.processConfig.call(this,config)},XYChartScrollbar}(Scrollbar_Scrollbar);Registry_registry.registeredClasses.XYChartScrollbar=XYChartScrollbar_XYChartScrollbar;var XYChart_XYChartDataItem=function(_super){function XYChartDataItem(){var _this=_super.call(this)||this;return _this.className=\"XYChartDataItem\",_this.applyTheme(),_this}return __extends(XYChartDataItem,_super),XYChartDataItem}(SerialChart_SerialChartDataItem),XYChart_XYChart=function(_super){function XYChart(){var _this=_super.call(this)||this;_this._axisRendererX=AxisRendererX_AxisRendererX,_this._axisRendererY=AxisRendererY_AxisRendererY,_this._seriesPoints=[],_this.className=\"XYChart\",_this.maskBullets=!0,_this.arrangeTooltips=!0;var chartContainer=_this.chartContainer;chartContainer.layout=\"vertical\",_this.padding(15,15,15,15);var topAxesCont=chartContainer.createChild(Container_Container);topAxesCont.shouldClone=!1,topAxesCont.layout=\"vertical\",topAxesCont.width=Percent_percent(100),topAxesCont.zIndex=1,_this.topAxesContainer=topAxesCont;var yAxesAndPlotCont=chartContainer.createChild(Container_Container);yAxesAndPlotCont.shouldClone=!1,yAxesAndPlotCont.layout=\"horizontal\",yAxesAndPlotCont.width=Percent_percent(100),yAxesAndPlotCont.height=Percent_percent(100),yAxesAndPlotCont.zIndex=0,_this.yAxesAndPlotContainer=yAxesAndPlotCont;var bottomAxesCont=chartContainer.createChild(Container_Container);bottomAxesCont.shouldClone=!1,bottomAxesCont.width=Percent_percent(100),bottomAxesCont.layout=\"vertical\",bottomAxesCont.zIndex=1,_this.bottomAxesContainer=bottomAxesCont;var leftAxesCont=yAxesAndPlotCont.createChild(Container_Container);leftAxesCont.shouldClone=!1,leftAxesCont.layout=\"horizontal\",leftAxesCont.height=Percent_percent(100),leftAxesCont.contentAlign=\"right\",leftAxesCont.events.on(\"transformed\",_this.updateXAxesMargins,_this,!1),leftAxesCont.zIndex=1,_this.leftAxesContainer=leftAxesCont;var plotCont=yAxesAndPlotCont.createChild(Container_Container);plotCont.shouldClone=!1,plotCont.height=Percent_percent(100),plotCont.width=Percent_percent(100),plotCont.background.fillOpacity=0,_this.plotContainer=plotCont,_this.mouseWheelBehavior=\"none\",_this._cursorContainer=plotCont;var rightAxesCont=yAxesAndPlotCont.createChild(Container_Container);rightAxesCont.shouldClone=!1,rightAxesCont.layout=\"horizontal\",rightAxesCont.height=Percent_percent(100),rightAxesCont.zIndex=1,rightAxesCont.events.on(\"transformed\",_this.updateXAxesMargins,_this,!1),_this.rightAxesContainer=rightAxesCont,_this.seriesContainer.parent=plotCont,_this.bulletsContainer.parent=plotCont;var zoomOutButton=plotCont.createChild(ZoomOutButton_ZoomOutButton);zoomOutButton.shouldClone=!1,zoomOutButton.align=\"right\",zoomOutButton.valign=\"top\",zoomOutButton.zIndex=Number.MAX_SAFE_INTEGER,zoomOutButton.marginTop=5,zoomOutButton.marginRight=5,zoomOutButton.hide(0),_this.zoomOutButton=zoomOutButton;var axisBulletsContainer=_this.plotContainer.createChild(Container_Container);return axisBulletsContainer.shouldClone=!1,axisBulletsContainer.width=Percent_percent(100),axisBulletsContainer.height=Percent_percent(100),axisBulletsContainer.isMeasured=!1,axisBulletsContainer.zIndex=4,axisBulletsContainer.layout=\"none\",_this.axisBulletsContainer=axisBulletsContainer,_this._bulletMask=_this.plotContainer,_this.applyTheme(),_this}return __extends(XYChart,_super),XYChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"X/Y chart\"))},XYChart.prototype.draw=function(){_super.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},XYChart.prototype.updatePlotElements=function(){Iterator_each(this.series.iterator(),function(series){series.invalidate()})},XYChart.prototype.validateData=function(){0==this._parseDataFrom&&(Iterator_each(this.xAxes.iterator(),function(axis){axis.dataChangeUpdate()}),Iterator_each(this.yAxes.iterator(),function(axis){axis.dataChangeUpdate()}),Iterator_each(this.series.iterator(),function(series){series.dataChangeUpdate()})),_super.prototype.validateData.call(this)},XYChart.prototype.updateXAxesMargins=function(){var leftAxesWidth=this.leftAxesContainer.measuredWidth,rightAxesWidth=this.rightAxesContainer.measuredWidth,bottomAxesCont=this.bottomAxesContainer;bottomAxesCont.paddingLeft==leftAxesWidth&&bottomAxesCont.paddingRight==rightAxesWidth||(bottomAxesCont.paddingLeft=leftAxesWidth,bottomAxesCont.paddingRight=rightAxesWidth);var topAxesCont=this.topAxesContainer;topAxesCont.paddingLeft==leftAxesWidth&&topAxesCont.paddingRight==rightAxesWidth||(topAxesCont.paddingLeft=leftAxesWidth,topAxesCont.paddingRight=rightAxesWidth)},XYChart.prototype.reinit=function(){_super.prototype.reinit.call(this),this.series.each(function(series){series.appeared=!1})},XYChart.prototype.handleXAxisChange=function(event){this.updateXAxis(event.target)},XYChart.prototype.handleYAxisChange=function(event){this.updateYAxis(event.target)},XYChart.prototype.processXAxis=function(event){var axis=event.newValue;axis.chart=this,axis.renderer||(axis.renderer=new this._axisRendererX,axis.renderer.observe([\"opposite\",\"inside\",\"inversed\",\"minGridDistance\"],this.handleXAxisChange,this,!1)),axis.axisLetter=\"X\",axis.events.on(\"startendchanged\",this.handleXAxisRangeChange,this,!1),axis.dataProvider=this,this.updateXAxis(axis.renderer),this.processAxis(axis)},XYChart.prototype.processYAxis=function(event){var axis=event.newValue;axis.chart=this,axis.renderer||(axis.renderer=new this._axisRendererY,axis.renderer.observe([\"opposite\",\"inside\",\"inversed\",\"minGridDistance\"],this.handleYAxisChange,this,!1)),axis.axisLetter=\"Y\",axis.events.on(\"startendchanged\",this.handleYAxisRangeChange,this,!1),axis.dataProvider=this,this.updateYAxis(axis.renderer),this.processAxis(axis)},XYChart.prototype.handleXAxisRangeChange=function(){var range=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,range,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,range)},XYChart.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var show_1=!1;Iterator_eachContinue(this.xAxes.iterator(),function(axis){return 0==Math_round(axis.start,3)&&1==Math_round(axis.end,3)||(show_1=!0,!1)}),Iterator_eachContinue(this.yAxes.iterator(),function(axis){return 0==Math_round(axis.start,3)&&1==Math_round(axis.end,3)||(show_1=!0,!1)}),this.seriesAppeared||(show_1=!1),show_1?this.zoomOutButton.show():this.zoomOutButton.hide()}},XYChart.prototype.seriesAppeared=function(){var appeared=!1;return Iterator_each(this.series.iterator(),function(series){if(!series.appeared)return appeared=!1,!1}),appeared},XYChart.prototype.handleYAxisRangeChange=function(){var range=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,range,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,range)},XYChart.prototype.updateScrollbar=function(scrollbar,range){scrollbar&&(scrollbar.skipRangeEvents(),scrollbar.start=range.start,scrollbar.end=range.end)},XYChart.prototype.getCommonAxisRange=function(axes){var start,end;return Iterator_each(axes.iterator(),function(axis){var axisStart=axis.start,axisEnd=axis.end;axis.renderer.inversed&&(axisStart=1-axis.end,axisEnd=1-axis.start),(!isNumber(start)||axisStart<start)&&(start=axisStart),(!isNumber(end)||axisEnd>end)&&(end=axisEnd)}),{start:start,end:end}},XYChart.prototype.updateXAxis=function(renderer){var axis=renderer.axis;renderer.opposite?(axis.parent=this.topAxesContainer,axis.toFront()):(axis.parent=this.bottomAxesContainer,axis.toBack()),axis.renderer&&axis.renderer.processRenderer()},XYChart.prototype.updateYAxis=function(renderer){var axis=renderer.axis;renderer.opposite?(axis.parent=this.rightAxesContainer,axis.toBack()):(axis.parent=this.leftAxesContainer,axis.toFront()),axis.renderer&&axis.renderer.processRenderer()},XYChart.prototype.processAxis=function(axis){var _this=this;axis instanceof CategoryAxis_CategoryAxis&&this._dataUsers.moveValue(axis);var renderer=axis.renderer;renderer.gridContainer.parent=this.plotContainer,renderer.gridContainer.toBack(),renderer.breakContainer.parent=this.plotContainer,renderer.breakContainer.toFront(),renderer.breakContainer.zIndex=10,axis.addDisposer(new Disposer(function(){_this.dataUsers.removeValue(axis)})),renderer.bulletsContainer.parent=this.axisBulletsContainer,this.plotContainer.events.on(\"maxsizechanged\",function(){_this.inited&&(axis.invalidateDataItems(),_this.updateSeriesMasks())},axis,!1)},XYChart.prototype.updateSeriesMasks=function(){isIE()&&this.series.each(function(series){var mask=series.mainContainer.mask;series.mainContainer.mask=void 0,series.mainContainer.mask=mask})},Object.defineProperty(XYChart.prototype,\"xAxes\",{get:function(){return this._xAxes||(this._xAxes=new List_List,this._xAxes.events.on(\"inserted\",this.processXAxis,this,!1),this._xAxes.events.on(\"removed\",this.handleAxisRemoval,this,!1)),this._xAxes},enumerable:!0,configurable:!0}),XYChart.prototype.handleAxisRemoval=function(event){var axis=event.oldValue;this.dataUsers.removeValue(axis),axis.autoDispose&&axis.dispose()},Object.defineProperty(XYChart.prototype,\"yAxes\",{get:function(){return this._yAxes||(this._yAxes=new List_List,this._yAxes.events.on(\"inserted\",this.processYAxis,this,!1),this._yAxes.events.on(\"removed\",this.handleAxisRemoval,this,!1)),this._yAxes},enumerable:!0,configurable:!0}),XYChart.prototype.handleSeriesAdded=function(event){try{_super.prototype.handleSeriesAdded.call(this,event);var series=event.newValue;0!=this.xAxes.length&&0!=this.yAxes.length||(Registry_registry.removeFromInvalidComponents(series),series.dataInvalid=!1),null==series.fill&&(series.fill=this.colors.next()),null==series.stroke&&(series.stroke=series.fill)}catch(e){this.raiseCriticalError(e)}},Object.defineProperty(XYChart.prototype,\"cursor\",{get:function(){return this._cursor},set:function(cursor){this._cursor!=cursor&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=cursor,cursor&&(this._disposers.push(cursor),cursor.chart=this,cursor.shouldClone=!1,cursor.parent=this._cursorContainer,cursor.events.on(\"cursorpositionchanged\",this.handleCursorPositionChange,this,!1),cursor.events.on(\"zoomstarted\",this.handleCursorZoomStart,this,!1),cursor.events.on(\"zoomended\",this.handleCursorZoomEnd,this,!1),cursor.events.on(\"panstarted\",this.handleCursorPanStart,this,!1),cursor.events.on(\"panning\",this.handleCursorPanning,this,!1),cursor.events.on(\"panended\",this.handleCursorPanEnd,this,!1),cursor.events.on(\"behaviorcanceled\",this.handleCursorCanceled,this,!1),cursor.events.on(\"hidden\",this.handleHideCursor,this,!1),cursor.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),XYChart.prototype.handleCursorPositionChange=function(){var cursor=this.cursor;if(cursor.visible&&!cursor.isHiding){var xPosition_1=this.cursor.xPosition,yPosition_1=this.cursor.yPosition;this.showSeriesTooltip({x:xPosition_1,y:yPosition_1});var exceptAxis=void 0,snapToSeries=cursor.snapToSeries;if(snapToSeries){snapToSeries.baseAxis==snapToSeries.xAxis&&(exceptAxis=snapToSeries.yAxis),snapToSeries.baseAxis==snapToSeries.yAxis&&(exceptAxis=snapToSeries.xAxis);var xAxis_1=snapToSeries.xAxis,yAxis_1=snapToSeries.yAxis;if(xAxis_1 instanceof ValueAxis_ValueAxis&&!(xAxis_1 instanceof DateAxis_DateAxis)&&yAxis_1 instanceof ValueAxis_ValueAxis&&!(yAxis_1 instanceof DateAxis_DateAxis)){var closestDataItem_1,minDistance_1=1/0;snapToSeries.dataItems.each(function(dataItem){var dxPosition=xAxis_1.toGlobalPosition(xAxis_1.getPositionX(dataItem,\"valueX\"))*xAxis_1.axisFullLength,dyPosition=yAxis_1.toGlobalPosition(yAxis_1.getPositionY(dataItem,\"valueY\"))*yAxis_1.axisFullLength,distance=Math.sqrt(Math.pow(xPosition_1*xAxis_1.axisFullLength-dxPosition,2)+Math.pow(yPosition_1*yAxis_1.axisFullLength-dyPosition,2));distance<minDistance_1&&(minDistance_1=distance,closestDataItem_1=dataItem)}),closestDataItem_1&&snapToSeries.showTooltipAtDataItem(closestDataItem_1)}}this._seriesPoints=[],this.showAxisTooltip(this.xAxes,xPosition_1,exceptAxis),this.showAxisTooltip(this.yAxes,yPosition_1,exceptAxis),this.sortSeriesTooltips(this._seriesPoints)}},XYChart.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this.updateSeriesLegend()},XYChart.prototype.updateSeriesLegend=function(){Iterator_each(this.series.iterator(),function(series){series.updateLegendValue()})},XYChart.prototype.hideObjectTooltip=function(sprites){Iterator_each(sprites.iterator(),function(sprite){sprite.hideTooltip(0)})},XYChart.prototype.showSeriesTooltip=function(position){var _this=this;if(position){var seriesPoints=[];this.series.each(function(series){if(series.xAxis instanceof DateAxis_DateAxis&&series.xAxis.snapTooltip||series.yAxis instanceof DateAxis_DateAxis&&series.yAxis.snapTooltip);else{var point=series.showTooltipAtPosition(position.x,position.y);point&&(series.tooltip.setBounds({x:0,y:0,width:_this.pixelWidth,height:_this.pixelHeight}),seriesPoints.push({series:series,point:point}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(seriesPoints)}else this.series.each(function(series){series.hideTooltip()})},XYChart.prototype.sortSeriesTooltips=function(seriesPoints){var topLeft=spritePointToSvg({x:-.5,y:-.5},this.plotContainer),bottomRight=spritePointToSvg({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),sum=0,filteredSeriesPoints=[];each(seriesPoints,function(seriesPoint){var point=seriesPoint.point;point&&isInRectangle(point,{x:topLeft.x,y:topLeft.y,width:bottomRight.x-topLeft.x,height:bottomRight.y-topLeft.y})&&(filteredSeriesPoints.push({point:point,series:seriesPoint.series}),sum+=point.y)}),(seriesPoints=filteredSeriesPoints).sort(function(a,b){return a.point.y>b.point.y?1:a.point.y<b.point.y?-1:0});var averageY=sum/seriesPoints.length,maxY=svgPointToDocument({x:0,y:0},this.svgContainer.SVGContainer).y;if(seriesPoints.length>0){var top_1=topLeft.y,bottom=bottomRight.y;spritePointToDocument({x:0,y:top_1},this);var dropped=!1;if(averageY>top_1+(bottom-top_1)/2)for(var nextHeight=bottom,i=seriesPoints.length-1;i>=0;i--){var pointY=seriesPoints[i].point.y;if((tooltip=seriesPoints[i].series.tooltip).setBounds({x:0,y:-maxY,width:this.pixelWidth,height:nextHeight+maxY}),tooltip.invalid&&tooltip.validate(),tooltip.toBack(),(nextHeight=spritePointToSvg({x:0,y:tooltip.label.pixelY-tooltip.pixelY+pointY-tooltip.pixelMarginTop},tooltip).y)<-maxY){dropped=!0;break}}if(averageY<=top_1+(bottom-top_1)/2||dropped)for(var nextY=top_1,len=(i=0,seriesPoints.length);i<len;i++){var tooltip;pointY=seriesPoints[i].point.y,(tooltip=seriesPoints[i].series.tooltip).setBounds({x:0,y:nextY,width:this.pixelWidth,height:bottom}),tooltip.invalid&&tooltip.validate(),tooltip.toBack(),nextY=spritePointToSvg({x:0,y:tooltip.label.pixelY+tooltip.label.measuredHeight-tooltip.pixelY+pointY+tooltip.pixelMarginBottom},tooltip).y}}},XYChart.prototype.showAxisTooltip=function(axes,position,except){var _this=this;Iterator_each(axes.iterator(),function(axis){axis!=except&&(_this.dataItems.length>0||axis.dataItems.length>0)&&axis.showTooltipAtPosition(position)})},XYChart.prototype.getUpdatedRange=function(axis,range){if(axis){var start,end,inversed=axis.renderer.inversed;axis.renderer instanceof AxisRendererY_AxisRendererY&&(range=invertRange(range)),inversed?(invertRange(range),start=1-axis.end,end=1-axis.start):(start=axis.start,end=axis.end);var difference=end-start;return{start:start+range.start*difference,end:start+range.end*difference}}},XYChart.prototype.handleCursorZoomEnd=function(event){var cursor=this.cursor,behavior=cursor.behavior;if(\"zoomX\"==behavior||\"zoomXY\"==behavior){var xRange=cursor.xRange;xRange&&this.xAxes.length>0&&((xRange=this.getUpdatedRange(this.xAxes.getIndex(0),xRange)).priority=\"start\",this.zoomAxes(this.xAxes,xRange))}if(\"zoomY\"==behavior||\"zoomXY\"==behavior){var yRange=cursor.yRange;yRange&&this.yAxes.length>0&&((yRange=this.getUpdatedRange(this.yAxes.getIndex(0),yRange)).priority=\"start\",this.zoomAxes(this.yAxes,yRange))}this.handleHideCursor()},XYChart.prototype.handleCursorPanStart=function(event){var xAxis=this.xAxes.getIndex(0);xAxis&&(this._panStartXRange={start:xAxis.start,end:xAxis.end});var yAxis=this.yAxes.getIndex(0);yAxis&&(this._panStartYRange={start:yAxis.start,end:yAxis.end})},XYChart.prototype.handleCursorPanEnd=function(event){var panEndRange,behavior=this.cursor.behavior;if(this._panEndXRange&&(\"panX\"==behavior||\"panXY\"==behavior)){var delta=0;(panEndRange=this._panEndXRange).start<0&&(delta=panEndRange.start),panEndRange.end>1&&(delta=panEndRange.end-1),this.zoomAxes(this.xAxes,{start:panEndRange.start-delta,end:panEndRange.end-delta},!1,!0),this._panEndXRange=void 0,this._panStartXRange=void 0}!this._panEndYRange||\"panY\"!=behavior&&\"panXY\"!=behavior||(delta=0,(panEndRange=this._panEndYRange).start<0&&(delta=panEndRange.start),panEndRange.end>1&&(delta=panEndRange.end-1),this.zoomAxes(this.yAxes,{start:panEndRange.start-delta,end:panEndRange.end-delta},!1,!0),this._panEndYRange=void 0,this._panStartYRange=void 0)},XYChart.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},XYChart.prototype.handleCursorPanning=function(event){var newRange,cursor=this.cursor,behavior=cursor.behavior,maxPanOut=cursor.maxPanOut;if(this._panStartXRange&&(\"panX\"==behavior||\"panXY\"==behavior)){var panStartRange=this._panStartXRange,range=cursor.xRange,axisRange=this.getCommonAxisRange(this.xAxes),difference=panStartRange.end-panStartRange.start,delta=range.start*(axisRange.end-axisRange.start),newStart=Math.max(-maxPanOut,delta+panStartRange.start),newEnd=Math.min(delta+panStartRange.end,1+maxPanOut);newStart<=0&&(newEnd=newStart+difference),newEnd>=1&&(newStart=newEnd-difference),this._panEndXRange=newRange={start:newStart,end:newEnd},this.zoomAxes(this.xAxes,newRange,!1,!1,cursor.maxPanOut)}!this._panStartYRange||\"panY\"!=behavior&&\"panXY\"!=behavior||(panStartRange=this._panStartYRange,range=cursor.yRange,axisRange=this.getCommonAxisRange(this.yAxes),difference=panStartRange.end-panStartRange.start,delta=range.start*(axisRange.end-axisRange.start),newStart=Math.max(-maxPanOut,delta+panStartRange.start),newEnd=Math.min(delta+panStartRange.end,1+maxPanOut),newStart<=0&&(newEnd=newStart+difference),newEnd>=1&&(newStart=newEnd-difference),this._panEndYRange=newRange={start:newStart,end:newEnd},this.zoomAxes(this.yAxes,newRange,!1,!1,cursor.maxPanOut)),this.handleHideCursor()},XYChart.prototype.handleCursorZoomStart=function(event){},Object.defineProperty(XYChart.prototype,\"scrollbarX\",{get:function(){return this._scrollbarX},set:function(scrollbar){var _this=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=scrollbar,scrollbar&&(this._disposers.push(scrollbar),scrollbar.parent=this.topAxesContainer,scrollbar.shouldClone=!1,scrollbar.startGrip.exportable=!1,scrollbar.endGrip.exportable=!1,scrollbar.toBack(),scrollbar.orientation=\"horizontal\",scrollbar.events.on(\"rangechanged\",this.handleXScrollbarChange,this,!1),scrollbar.adapter.add(\"positionValue\",function(arg){var xAxis=_this.xAxes.getIndex(0);return xAxis&&(arg.value=xAxis.getPositionLabel(arg.position)),arg}))},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart.prototype,\"scrollbarY\",{get:function(){return this._scrollbarY},set:function(scrollbar){var _this=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=scrollbar,scrollbar&&(this._disposers.push(scrollbar),scrollbar.parent=this.rightAxesContainer,scrollbar.startGrip.exportable=!1,scrollbar.shouldClone=!1,scrollbar.endGrip.exportable=!1,scrollbar.toFront(),scrollbar.orientation=\"vertical\",scrollbar.events.on(\"rangechanged\",this.handleYScrollbarChange,this,!1),scrollbar.adapter.add(\"positionValue\",function(arg){var yAxis=_this.yAxes.getIndex(0);return yAxis&&(arg.value=yAxis.getPositionLabel(arg.position)),arg}))},enumerable:!0,configurable:!0}),XYChart.prototype.handleXScrollbarChange=function(event){if(this.inited){var scrollbar=event.target,range=scrollbar.range;1==range.end&&(range.priority=\"end\"),0==range.start&&(range.priority=\"start\"),range=this.zoomAxes(this.xAxes,range),scrollbar.fixRange(range)}},XYChart.prototype.handleYScrollbarChange=function(event){if(this.inited){var scrollbar=event.target,range=scrollbar.range;1==range.end&&(range.priority=\"end\"),0==range.start&&(range.priority=\"start\"),range=this.zoomAxes(this.yAxes,range),scrollbar.fixRange(range)}},XYChart.prototype.zoomAxes=function(axes,range,instantly,round,declination){var realRange={start:0,end:1};return this.showSeriesTooltip(),this.dataInvalid||Iterator_each(axes.iterator(),function(axis){if(axis.renderer.inversed&&(range=invertRange(range)),axis.hideTooltip(0),round)if(axis instanceof CategoryAxis_CategoryAxis){var diff=range.end-range.start,location_1=0;range.end>.5&&(location_1=1),range.end=axis.roundPosition(range.end+1e-4,location_1),range.start=range.end-diff}else range.start=axis.roundPosition(range.start+1e-4,0),range.end=axis.roundPosition(range.end+1e-4,0);var axisRange=axis.zoom(range,instantly,instantly,declination);axis.renderer.inversed&&(axisRange=invertRange(axisRange)),realRange=axisRange}),realRange},Object.defineProperty(XYChart.prototype,\"maskBullets\",{get:function(){return this.getPropertyValue(\"maskBullets\")},set:function(value){this.setPropertyValue(\"maskBullets\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart.prototype,\"arrangeTooltips\",{get:function(){return this.getPropertyValue(\"arrangeTooltips\")},set:function(value){this.setPropertyValue(\"arrangeTooltips\",value,!0)},enumerable:!0,configurable:!0}),XYChart.prototype.handleWheel=function(event){var plotContainer=this.plotContainer,plotPoint=svgPointToSprite(documentPointToSvg(event.point,this.htmlContainer,this.svgContainer.cssScale),plotContainer),shift=event.shift.y,rangeX=this.getCommonAxisRange(this.xAxes),rangeY=this.getCommonAxisRange(this.yAxes),mouseWheelBehavior=this.mouseWheelBehavior;if(\"panX\"==mouseWheelBehavior||\"panXY\"==mouseWheelBehavior){var differenceX=rangeX.end-rangeX.start,newStartX=Math.max(-0,rangeX.start+.05*shift/100),newEndX=Math.min(rangeX.end+.05*shift/100,1);newStartX<=0&&(newEndX=newStartX+differenceX),newEndX>=1&&(newStartX=newEndX-differenceX),this.zoomAxes(this.xAxes,{start:newStartX,end:newEndX})}if(\"panY\"==mouseWheelBehavior||\"panXY\"==mouseWheelBehavior){shift*=-1;var differenceY=rangeY.end-rangeY.start,newStartY=Math.max(-0,rangeY.start+.05*shift/100),newEndY=Math.min(rangeY.end+.05*shift/100,1);newStartY<=0&&(newEndY=newStartY+differenceY),newEndY>=1&&(newStartY=newEndY-differenceY),this.zoomAxes(this.yAxes,{start:newStartY,end:newEndY})}if(\"zoomX\"==mouseWheelBehavior||\"zoomXY\"==mouseWheelBehavior){var locationX=plotPoint.x/plotContainer.maxWidth;newStartX=Math.max(-0,rangeX.start-.05*shift/100*locationX),newStartX=Math.min(newStartX,rangeX.start+(rangeX.end-rangeX.start)*locationX-.05*.05),newEndX=Math.min(rangeX.end+.05*shift/100*(1-locationX),1),newEndX=Math.max(newEndX,rangeX.start+(rangeX.end-rangeX.start)*locationX+.05*.05),this.zoomAxes(this.xAxes,{start:newStartX,end:newEndX})}if(\"zoomY\"==mouseWheelBehavior||\"zoomXY\"==mouseWheelBehavior){var locationY=plotPoint.y/plotContainer.maxHeight;newStartY=Math.max(-0,rangeY.start-.05*shift/100*(1-locationY)),newStartY=Math.min(newStartY,rangeY.start+(rangeY.end-rangeY.start)*locationY-.05*.05),newEndY=Math.min(rangeY.end+.05*shift/100*locationY,1),newEndY=Math.max(newEndY,rangeY.start+(rangeY.end-rangeY.start)*locationY+.05*.05),this.zoomAxes(this.yAxes,{start:newStartY,end:newEndY})}},Object.defineProperty(XYChart.prototype,\"mouseWheelBehavior\",{get:function(){return this.getPropertyValue(\"mouseWheelBehavior\")},set:function(value){this.setPropertyValue(\"mouseWheelBehavior\",value)&&(\"none\"!=value?(this._mouseWheelDisposer=this.plotContainer.events.on(\"wheel\",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),XYChart.prototype.dataSourceDateFields=function(fields){var _this=this;return fields=_super.prototype.dataSourceDateFields.call(this,fields),Iterator_each(this.series.iterator(),function(series){fields=_this.populateDataSourceFields(fields,series.dataFields,[\"dateX\",\"dateY\",\"openDateX\",\"openDateY\"])}),fields},XYChart.prototype.dataSourceNumberFields=function(fields){var _this=this;return fields=_super.prototype.dataSourceDateFields.call(this,fields),Iterator_each(this.series.iterator(),function(series){fields=_this.populateDataSourceFields(fields,series.dataFields,[\"valueX\",\"valueY\",\"openValueX\",\"openValueY\"])}),fields},XYChart.prototype.processConfig=function(config){if(config){var xAxes=[],yAxes=[];if(hasValue(config.xAxes)&&Type_isArray(config.xAxes))for(var i=0,len=config.xAxes.length;i<len;i++){if(!config.xAxes[i].type)throw Error(\"[XYChart error] No type set for xAxes[\"+i+\"].\");hasValue(config.xAxes[i].axisRanges)&&(xAxes.push({axisRanges:config.xAxes[i].axisRanges,index:i}),delete config.xAxes[i].axisRanges)}if(hasValue(config.yAxes)&&Type_isArray(config.yAxes))for(i=0,len=config.yAxes.length;i<len;i++){if(!config.yAxes[i].type)throw Error(\"[XYChart error] No type set for yAxes[\"+i+\"].\");hasValue(config.yAxes[i].axisRanges)&&(yAxes.push({axisRanges:config.yAxes[i].axisRanges,index:i}),delete config.yAxes[i].axisRanges)}if(hasValue(config.series)&&Type_isArray(config.series))for(i=0,len=config.series.length;i<len;i++)config.series[i].type=config.series[i].type||\"LineSeries\";if(hasValue(config.cursor)&&!hasValue(config.cursor.type)&&(config.cursor.type=\"XYCursor\"),hasValue(config.scrollbarX)&&!hasValue(config.scrollbarX.type)&&(config.scrollbarX.type=\"Scrollbar\"),hasValue(config.scrollbarY)&&!hasValue(config.scrollbarY.type)&&(config.scrollbarY.type=\"Scrollbar\"),_super.prototype.processConfig.call(this,config),yAxes.length)for(i=0,len=yAxes.length;i<len;i++)this.yAxes.getIndex(yAxes[i].index).config={axisRanges:yAxes[i].axisRanges};if(xAxes.length)for(i=0,len=xAxes.length;i<len;i++)this.xAxes.getIndex(xAxes[i].index).config={axisRanges:xAxes[i].axisRanges}}},XYChart.prototype.configOrder=function(a,b){return a==b?0:\"scrollbarX\"==a?1:\"scrollbarX\"==b?-1:\"scrollbarY\"==a?1:\"scrollbarY\"==b?-1:\"cursor\"==a?1:\"cursor\"==b?-1:\"series\"==a?1:\"series\"==b?-1:_super.prototype.configOrder.call(this,a,b)},XYChart.prototype.createSeries=function(){return new XYSeries_XYSeries},Object.defineProperty(XYChart.prototype,\"zoomOutButton\",{get:function(){return this._zoomOutButton},set:function(button){var _this=this;this._zoomOutButton=button,button&&button.events.on(\"hit\",function(){_this.zoomAxes(_this.xAxes,{start:0,end:1}),_this.zoomAxes(_this.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),XYChart.prototype.copyFrom=function(source){var _this=this;source.xAxes.each(function(axis){_this.xAxes.push(axis.clone())}),source.yAxes.each(function(axis){_this.yAxes.push(axis.clone())}),_super.prototype.copyFrom.call(this,source),source.cursor&&(this.cursor=source.cursor.clone()),source.scrollbarX&&(this.scrollbarX=source.scrollbarX.clone()),source.scrollbarY&&(this.scrollbarY=source.scrollbarY.clone())},XYChart.prototype.disposeData=function(){_super.prototype.disposeData.call(this);var scrollbarX=this.scrollbarX;scrollbarX&&scrollbarX instanceof XYChartScrollbar_XYChartScrollbar&&scrollbarX.scrollbarChart.disposeData();var scrollbarY=this.scrollbarY;scrollbarY&&scrollbarY instanceof XYChartScrollbar_XYChartScrollbar&&scrollbarY.scrollbarChart.disposeData(),this.xAxes.each(function(axis){axis.disposeData()}),this.yAxes.each(function(axis){axis.disposeData()})},XYChart.prototype.addData=function(rawDataItem,removeCount){this.scrollbarX instanceof XYChartScrollbar_XYChartScrollbar&&this.addScrollbarData(this.scrollbarX,removeCount),this.scrollbarY instanceof XYChartScrollbar_XYChartScrollbar&&this.addScrollbarData(this.scrollbarY,removeCount),_super.prototype.addData.call(this,rawDataItem,removeCount)},XYChart.prototype.addScrollbarData=function(scrollbar,removeCount){var chart=scrollbar.scrollbarChart;chart._parseDataFrom=chart.data.length,chart.invalidateData()},XYChart.prototype.removeScrollbarData=function(scrollbar,removeCount){var chart=scrollbar.scrollbarChart;if(isNumber(removeCount)){for(;removeCount>0;){var dataItem=this.dataItems.getIndex(0);dataItem&&chart.dataItems.remove(dataItem),chart.dataUsers.each(function(dataUser){var dataItem=dataUser.dataItems.getIndex(0);dataItem&&dataUser.dataItems.remove(dataItem)}),chart._parseDataFrom--,removeCount--}chart.invalidateData()}},XYChart.prototype.removeData=function(count){this.scrollbarX instanceof XYChartScrollbar_XYChartScrollbar&&this.removeScrollbarData(this.scrollbarX,count),this.scrollbarY instanceof XYChartScrollbar_XYChartScrollbar&&this.removeScrollbarData(this.scrollbarY,count),_super.prototype.removeData.call(this,count)},XYChart.prototype.setTapToActivate=function(value){_super.prototype.setTapToActivate.call(this,value),this.cursor&&(this.cursor.interactions.isTouchProtected=value,this.plotContainer.interactions.isTouchProtected=value)},XYChart.prototype.handleTapToActivate=function(){_super.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},XYChart.prototype.handleTapToActivateDeactivation=function(){_super.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},XYChart}(SerialChart_SerialChart);Registry_registry.registeredClasses.XYChart=XYChart_XYChart,defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(target,stateId){if(target instanceof XYChart_XYChart&&target.scrollbarX){var state=target.states.create(stateId);return target.scrollbarX.states.create(stateId).properties.disabled=!0,state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(target,stateId){if(target instanceof XYChart_XYChart&&target.scrollbarY){var state=target.states.create(stateId);return target.scrollbarY.states.create(stateId).properties.disabled=!0,state}return null}});var LineSeriesSegment_LineSeriesSegment=function(_super){function LineSeriesSegment(){var _this=_super.call(this)||this;_this.className=\"LineSeriesSegment\",_this.isMeasured=!1,_this.interactionsEnabled=!1,_this.layout=\"none\";var fillSprite=_this.createChild(Sprite_Sprite);_this.fillSprite=fillSprite,fillSprite.shouldClone=!1,fillSprite.setElement(_this.paper.add(\"path\")),fillSprite.isMeasured=!1,_this._disposers.push(fillSprite);var strokeSprite=_this.createChild(Sprite_Sprite);return _this.strokeSprite=strokeSprite,strokeSprite.shouldClone=!1,strokeSprite.fill=Color_color(),strokeSprite.setElement(_this.paper.add(\"path\")),strokeSprite.isMeasured=!1,_this._disposers.push(strokeSprite),_this}return __extends(LineSeriesSegment,_super),LineSeriesSegment.prototype.drawSegment=function(points,closePoints,smoothnessX,smoothnessY){if(!this.disabled)if(points.length>0&&closePoints.length>0){var path=moveTo({x:points[0].x-.2,y:points[0].y-.2})+moveTo(points[0])+new Smoothing_Tension(smoothnessX,smoothnessY).smooth(points);0==this.strokeOpacity||0==this.strokeSprite.strokeOpacity||(this.strokeSprite.path=path),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(path+=lineTo(closePoints[0])+new Smoothing_Tension(smoothnessX,smoothnessY).smooth(closePoints),path+=lineTo(points[0]),this.fillSprite.path=path+=\" Z\")}else this.fillSprite.path=\"\",this.strokeSprite.path=\"\"},LineSeriesSegment.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source);var lineElement=this.strokeSprite;copyProperties(source,lineElement.properties,visualProperties),lineElement.events.copyFrom(source.strokeSprite.events),lineElement.fillOpacity=0;var fillElement=this.fillSprite;copyProperties(source,fillElement.properties,visualProperties),fillElement.events.copyFrom(source.fillSprite.events),fillElement.strokeOpacity=0},LineSeriesSegment}(Container_Container);Registry_registry.registeredClasses.LineSeriesSegment=LineSeriesSegment_LineSeriesSegment;var LineSeries_LineSeriesDataItem=function(_super){function LineSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"LineSeriesDataItem\",_this}return __extends(LineSeriesDataItem,_super),LineSeriesDataItem}(XYSeries_XYSeriesDataItem),LineSeries_LineSeries=function(_super){function LineSeries(){var _this=_super.call(this)||this;return _this.minDistance=.5,_this.segments=new List_ListTemplate(_this.createSegment()),_this.segments.template.applyOnClones=!0,_this._disposers.push(new List_ListDisposer(_this.segments)),_this._disposers.push(_this.segments.template),_this._segmentsIterator=new Iterator_ListIterator(_this.segments,function(){return _this.segments.create()}),_this._segmentsIterator.createNewItems=!0,_this.className=\"LineSeries\",_this.strokeOpacity=1,_this.fillOpacity=0,_this.connect=!0,_this.tensionX=1,_this.tensionY=1,_this.autoGapCount=1.1,_this.segmentsContainer=_this.mainContainer.createChild(Container_Container),_this.segmentsContainer.isMeasured=!1,_this.bulletsContainer.toFront(),_this.applyTheme(),_this}return __extends(LineSeries,_super),LineSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Line Series\"))},LineSeries.prototype.createSegment=function(){return new LineSeriesSegment_LineSeriesSegment},LineSeries.prototype.createDataItem=function(){return new LineSeries_LineSeriesDataItem},LineSeries.prototype.setInitialWorkingValues=function(dataItem){var yAxis=this._yAxis.get(),xAxis=this._xAxis.get();if(this.appeared&&this.visible){var previousDataItem=this.dataItems.getIndex(dataItem.index-1);if(dataItem.component=this,this.baseAxis==xAxis&&yAxis instanceof ValueAxis_ValueAxis){var initialY=yAxis.minZoomed;previousDataItem&&(initialY=previousDataItem.values.valueY.workingValue),dataItem.setWorkingValue(\"valueY\",initialY,0),dataItem.setWorkingValue(\"valueY\",dataItem.values.valueY.value),xAxis instanceof DateAxis_DateAxis&&(dataItem.setWorkingLocation(\"dateX\",dataItem.locations.dateX-1,0),dataItem.setWorkingLocation(\"dateX\",dataItem.locations.dateX))}if(this.baseAxis==yAxis&&xAxis instanceof ValueAxis_ValueAxis){var initialX=xAxis.minZoomed;previousDataItem&&(initialX=previousDataItem.values.valueX.workingValue),dataItem.setWorkingValue(\"valueX\",initialX,0),dataItem.setWorkingValue(\"valueX\",dataItem.values.valueX.value),yAxis instanceof DateAxis_DateAxis&&(dataItem.setWorkingLocation(\"dateY\",dataItem.locations.dateX-1,0),dataItem.setWorkingLocation(\"dateY\",dataItem.locations.dateY))}}else this.baseAxis==xAxis&&yAxis instanceof ValueAxis_ValueAxis&&(xAxis instanceof DateAxis_DateAxis&&dataItem.setWorkingLocation(\"dateX\",dataItem.locations.dateX),xAxis instanceof CategoryAxis_CategoryAxis&&dataItem.setWorkingLocation(\"categoryX\",dataItem.locations.categoryX)),this.baseAxis==yAxis&&xAxis instanceof ValueAxis_ValueAxis&&(yAxis instanceof DateAxis_DateAxis&&dataItem.setWorkingLocation(\"dateY\",dataItem.locations.dateY),yAxis instanceof CategoryAxis_CategoryAxis&&dataItem.setWorkingLocation(\"categoryY\",dataItem.locations.categoryY))},LineSeries.prototype.updateLegendValue=function(dataItem,notRange){_super.prototype.updateLegendValue.call(this,dataItem,notRange),dataItem&&dataItem.segment&&(this.tooltipColorSource=dataItem.segment)},LineSeries.prototype.validate=function(){var _this=this;_super.prototype.validate.call(this),this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),Iterator_each(this.axisRanges.iterator(),function(range){_this.openSegmentWrapper(_this._adjustedStartIndex,range)}),Iterator_each(this._segmentsIterator.iterator(),function(segment){segment.__disabled=!0})},LineSeries.prototype.sliceData=function(){for(var startIndex=this.startIndex,endIndex=this.endIndex,i=this.startIndex-1;i>=0;i--)if((dataItem=this.dataItems.getIndex(i))&&dataItem.hasValue(this._xValueFields)&&dataItem.hasValue(this._yValueFields)){startIndex=i;break}this._adjustedStartIndex=this.findAdjustedIndex(startIndex,[\"stroke\",\"strokeWidth\",\"strokeDasharray\",\"strokeOpacity\",\"fill\",\"fillOpacity\",\"opacity\"]),i=this.endIndex;for(var len=this.dataItems.length;i<len;i++){var dataItem;if((dataItem=this.dataItems.getIndex(i))&&dataItem.hasValue(this._xValueFields)&&dataItem.hasValue(this._yValueFields)){endIndex=i+1;break}}this._workingStartIndex=startIndex,this._workingEndIndex=endIndex},LineSeries.prototype.findAdjustedIndex=function(adjustedIndex,properties){var _this=this,propertyFields=this.propertyFields,startIndex=adjustedIndex;return each(properties,function(property){if(hasValue(propertyFields[property]))for(var i=startIndex;i>=0;i--){var dataItem=_this.dataItems.getIndex(i);if(dataItem&&hasValue(dataItem.properties[property])){adjustedIndex>i&&(adjustedIndex=i);break}}}),adjustedIndex},LineSeries.prototype.openSegmentWrapper=function(openIndex,axisRange){var params={index:openIndex,axisRange:axisRange};do{params=this.openSegment(params.index,params.axisRange)}while(params)},LineSeries.prototype.openSegment=function(openIndex,axisRange){var addToClose=!1,points=[];openIndex=Math.min(openIndex,this.dataItems.length);var closeIndex,endIndex=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var propertiesChanged=!1,segment=this._segmentsIterator.getFirst();segment.__disabled=!1,axisRange?(segment.parent=axisRange.contents,copyProperties(axisRange.contents,segment,visualProperties)):(copyProperties(this,segment,visualProperties),segment.filters.clear(),segment.parent=this.segmentsContainer);for(var connect=this.connect,valuesFound=!1,i=openIndex;i<endIndex;i++){var dataItem=this.dataItems.getIndex(i);if(dataItem.segment=segment,dataItem.hasProperties&&(i==openIndex?this.updateSegmentProperties(dataItem.properties,segment):propertiesChanged=this.updateSegmentProperties(dataItem.properties,segment,!0)),dataItem.hasValue(this._xValueFields)&&dataItem.hasValue(this._yValueFields))this.addPoints(points,dataItem,this.xField,this.yField),valuesFound=!0;else{if(i==openIndex)continue;if(!connect&&valuesFound){closeIndex=i;break}}if(closeIndex=i,this.baseAxis instanceof DateAxis_DateAxis){var next=this.dataItems.getIndex(i+1);if(next&&this.baseAxis.makeGap(next,dataItem)){addToClose=!0;break}}if(propertiesChanged)break}return this.closeSegment(segment,points,openIndex,closeIndex,axisRange,addToClose)},LineSeries.prototype.addPoints=function(points,dataItem,xField,yField,backwards){var point=this.getPoint(dataItem,xField,yField,dataItem.workingLocations[xField],dataItem.workingLocations[yField]);backwards||(dataItem.point=point),points.push(point)},LineSeries.prototype.closeSegment=function(segment,points,openIndex,closeIndex,axisRange,add){var closePoints=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var i=closeIndex;i>=openIndex;i--){var dataItem=this.dataItems.getIndex(i);dataItem.hasValue(this._xValueFields)&&dataItem.hasValue(this._yValueFields)&&this.addPoints(closePoints,dataItem,this.xOpenField,this.yOpenField,!0)}else{var count=points.length,xAxis=this.xAxis,yAxis=this.yAxis;count>0&&(this.baseAxis==xAxis?(closePoints.push({x:points[count-1].x,y:yAxis.basePoint.y}),closePoints.push({x:points[0].x,y:yAxis.basePoint.y})):(closePoints.push({x:xAxis.basePoint.x,y:points[count-1].y}),closePoints.push({x:xAxis.basePoint.x,y:points[0].y})))}return this.drawSegment(segment,points,closePoints),add&&closeIndex++,closeIndex<this._workingEndIndex-1?{index:closeIndex,axisRange:axisRange}:null},LineSeries.prototype.drawSegment=function(segment,points,closePoints){segment.drawSegment(points,closePoints,this.tensionX,this.tensionY)},LineSeries.prototype.updateSegmentProperties=function(itemProperties,segment,checkOnly){var changed=!1;return Object_each(itemProperties,function(propertyName,value){if(hasValue(value)){var currentValue=segment[propertyName],currentValueStr=void 0;currentValue&&(currentValueStr=currentValue.toString?currentValue.toString():currentValue);var valueStr=void 0;value&&(valueStr=value.toString?value.toString():value),currentValue==value||null!=currentValueStr&&null!=valueStr&&currentValueStr==valueStr||(checkOnly||(segment[propertyName]=value),changed=!0)}}),changed},Object.defineProperty(LineSeries.prototype,\"connect\",{get:function(){return this.getPropertyValue(\"connect\")},set:function(value){this.setPropertyValue(\"connect\",value)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(LineSeries.prototype,\"tensionX\",{get:function(){return this.getPropertyValue(\"tensionX\")},set:function(value){this.setPropertyValue(\"tensionX\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(LineSeries.prototype,\"tensionY\",{get:function(){return this.getPropertyValue(\"tensionY\")},set:function(value){this.setPropertyValue(\"tensionY\",value,!0)},enumerable:!0,configurable:!0}),LineSeries.prototype.createLegendMarker=function(marker){var _this=this,w=marker.pixelWidth,h=marker.pixelHeight;marker.disposeChildren();var line=marker.createChild(Line_Line);if(line.shouldClone=!1,copyProperties(this,line,visualProperties),line.x2=w,line.y=h/2,line.visible=!0,this.fillOpacity>0){var fill=marker.createChild(Rectangle_Rectangle);copyProperties(this,fill,visualProperties),fill.width=w,fill.height=h,fill.y=0,fill.strokeOpacity=0,fill.visible=!0,line.y=0}var legendDataItem=marker.dataItem;legendDataItem.color=this.stroke,legendDataItem.colorOrig=this.fill,Iterator_eachContinue(this.bullets.iterator(),function(bullet){if(bullet instanceof Bullet_Bullet&&!bullet.copyToLegendMarker)return!1;var hasLabels=!1;if(bullet instanceof Container_Container&&Iterator_each(bullet.children.iterator(),function(child){if(child instanceof Label_Label)return hasLabels=!0,!0}),!hasLabels){var clone=bullet.clone();return clone.parent=marker,clone.isMeasured=!0,clone.tooltipText=void 0,clone.x=w/2,clone.y=_this.fillOpacity>0?0:h/2,clone.visible=!0,hasValue(clone.fill)||(clone.fill=_this.fill),hasValue(clone.stroke)||(clone.stroke=_this.stroke),!1}})},LineSeries.prototype.disposeData=function(){_super.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(LineSeries.prototype,\"autoGapCount\",{get:function(){return this.getPropertyValue(\"autoGapCount\")},set:function(value){this.setPropertyValue(\"autoGapCount\",value,!0)},enumerable:!0,configurable:!0}),LineSeries}(XYSeries_XYSeries);Registry_registry.registeredClasses.LineSeries=LineSeries_LineSeries,Registry_registry.registeredClasses.LineSeriesDataItem=LineSeries_LineSeriesDataItem;var RadarSeries_RadarSeriesDataItem=function(_super){function RadarSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"RadarSeriesDataItem\",_this.setLocation(\"dateX\",0,0),_this.setLocation(\"dateY\",0,0),_this.setLocation(\"categoryX\",0,0),_this.setLocation(\"categoryY\",0,0),_this.applyTheme(),_this}return __extends(RadarSeriesDataItem,_super),RadarSeriesDataItem}(LineSeries_LineSeriesDataItem),RadarSeries_RadarSeries=function(_super){function RadarSeries(){var _this=_super.call(this)||this;return _this.className=\"RadarSeries\",_this.connectEnds=!0,_this.applyTheme(),_this}return __extends(RadarSeries,_super),RadarSeries.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),_super.prototype.validate.call(this)},RadarSeries.prototype.createDataItem=function(){return new RadarSeries_RadarSeriesDataItem},RadarSeries.prototype.getPoint=function(dataItem,xKey,yKey,locationX,locationY,stackKeyX,stackKeyY){stackKeyX||(stackKeyX=\"valueX\"),stackKeyY||(stackKeyY=\"valueY\");var radius=getDistance({x:this.yAxis.getX(dataItem,yKey,locationY,stackKeyY),y:this.yAxis.getY(dataItem,yKey,locationY,stackKeyY)});0==radius&&(radius=1e-5);var angle=this.xAxis.getAngle(dataItem,xKey,locationX,stackKeyX);return angle<this.chart.startAngle||angle>this.chart.endAngle?void 0:{x:radius*Math_cos(angle),y:radius*Math_sin(angle)}},RadarSeries.prototype.addPoints=function(points,dataItem,xField,yField,backwards){var point=this.getPoint(dataItem,xField,yField,dataItem.locations[xField],dataItem.locations[yField]);point&&points.push(point)},RadarSeries.prototype.getMaskPath=function(){var renderer=this.yAxis.renderer;return Path_arc(renderer.startAngle,renderer.endAngle-renderer.startAngle,renderer.pixelRadius,renderer.pixelInnerRadius)},RadarSeries.prototype.drawSegment=function(segment,points,closePoints){var renderer=this.yAxis.renderer;this.connectEnds&&360==Math.abs(renderer.endAngle-renderer.startAngle)&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(points.push(points[0]),closePoints.length>0&&closePoints.unshift(closePoints[closePoints.length-1])),_super.prototype.drawSegment.call(this,segment,points,closePoints)},Object.defineProperty(RadarSeries.prototype,\"connectEnds\",{get:function(){return this.getPropertyValue(\"connectEnds\")},set:function(value){this.setPropertyValue(\"connectEnds\",value,!0)},enumerable:!0,configurable:!0}),RadarSeries}(LineSeries_LineSeries);Registry_registry.registeredClasses.RadarSeries=RadarSeries_RadarSeries,Registry_registry.registeredClasses.RadarSeriesDataItem=RadarSeries_RadarSeriesDataItem;var AxisFillCircular_AxisFillCircular=function(_super){function AxisFillCircular(axis){var _this=_super.call(this,axis)||this;return _this.className=\"AxisFillCircular\",_this.element=_this.paper.add(\"path\"),_this.radius=Percent_percent(100),_this.applyTheme(),_this}return __extends(AxisFillCircular,_super),AxisFillCircular.prototype.draw=function(){if(_super.prototype.draw.call(this),!this.__disabled&&!this.disabled&&this.axis){var renderer=this.axis.renderer;this.fillPath=renderer.getPositionRangePath(this.startPosition,this.endPosition,this.radius,hasValue(this.innerRadius)?this.innerRadius:renderer.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(AxisFillCircular.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisFillCircular.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisFillCircular.prototype,\"cornerRadius\",{get:function(){return this.getPropertyValue(\"cornerRadius\")},set:function(value){this.setPropertyValue(\"cornerRadius\",value,!0)},enumerable:!0,configurable:!0}),AxisFillCircular}(AxisFill_AxisFill);Registry_registry.registeredClasses.AxisFillCircular=AxisFillCircular_AxisFillCircular;var GridCircular_GridCircular=function(_super){function GridCircular(){var _this=_super.call(this)||this;return _this.className=\"GridCircular\",_this.pixelPerfect=!1,_this.applyTheme(),_this}return __extends(GridCircular,_super),Object.defineProperty(GridCircular.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(GridCircular.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),GridCircular}(Grid_Grid);Registry_registry.registeredClasses.GridCircular=GridCircular_GridCircular;var AxisLabelCircular_AxisLabelCircular=function(_super){function AxisLabelCircular(){var _this=_super.call(this)||this;return _this.fdx=0,_this.fdy=0,_this.className=\"AxisLabelCircular\",_this.padding(0,0,0,0),_this.location=.5,_this.radius=0,_this.isMeasured=!1,_this.applyTheme(),_this}return __extends(AxisLabelCircular,_super),Object.defineProperty(AxisLabelCircular.prototype,\"relativeRotation\",{get:function(){return this.getPropertyValue(\"relativeRotation\")},set:function(value){if(this.setPropertyValue(\"relativeRotation\",value,!0),!hasValue(value)){this.rotation=void 0;var dataItem=this.dataItem;dataItem&&dataItem.component&&dataItem.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(AxisLabelCircular.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisLabelCircular.prototype,\"bent\",{get:function(){return this.getPropertyValue(\"bent\")},set:function(value){this.setPropertyValue(\"bent\",value,!0),this.setPropertyValue(\"wrap\",!1),this.setPropertyValue(\"horizontalCenter\",\"none\"),this.setPropertyValue(\"verticalCenter\",\"none\"),value&&(this.textAlign=\"middle\")},enumerable:!0,configurable:!0}),AxisLabelCircular.prototype.pixelRadius=function(axisRadius){var sign=1;return this.inside&&(sign=-1),relativeToValue(this.radius,axisRadius)*sign},AxisLabelCircular.prototype.pixelRadiusY=function(axisRadius,axisRadiusY){var sign=1;this.inside&&(sign=-1);var radius=this.radius;return isNumber(radius)?relativeToValue(radius*=axisRadiusY/axisRadius,axisRadius)*sign:relativeToValue(radius,axisRadiusY)*sign},AxisLabelCircular.prototype.fixPosition=function(angle,axisRadius,axisRadiusY,dx,dy){isNumber(axisRadiusY)||(axisRadiusY=axisRadius),isNumber(dx)||(dx=0),isNumber(dy)||(dy=0);var point={x:axisRadius*Math_cos(angle),y:axisRadiusY*Math_sin(angle)};this.invalid&&this.validate();var isNegative=!1,realRadius=this.radius;realRadius instanceof Percent&&realRadius.value<0?isNegative=!0:realRadius<0&&(isNegative=!0);var relativeRotation=this.relativeRotation,labelRadius=this.pixelRadius(axisRadius);if(this.bent){var point_1={x:axisRadius*Math_cos(angle+180),y:axisRadiusY*Math_sin(angle+180)};return this.path=moveTo(point_1)+arcTo(angle+180,360,axisRadius+labelRadius,axisRadiusY+labelRadius*axisRadiusY/axisRadius),void(this.locationOnPath=.5)}if(isNumber(relativeRotation)){this.horizontalCenter=\"none\",this.verticalCenter=\"none\",angle=fitAngleToRange(angle,-180,180);var pixelWidth=this.bbox.width,pixelHeight=this.bbox.height,pixelPaddingBottom=this.pixelPaddingBottom,pixelPaddingTop=this.pixelPaddingTop,pixelPaddingLeft=this.pixelPaddingLeft,pixelPaddingRight=this.pixelPaddingRight;angle>90||angle<-90?-90==relativeRotation&&(relativeRotation=90,pixelWidth=0):(-90==relativeRotation&&(pixelHeight=-pixelHeight),90==relativeRotation&&(relativeRotation=-90,pixelWidth=-pixelPaddingLeft-pixelPaddingRight,pixelHeight=-pixelHeight-pixelPaddingTop-pixelPaddingBottom)),this.rotation=relativeRotation+angle+90;var dH=Math_sin(relativeRotation)/2,dW=Math_cos(relativeRotation)/2,rotation=this.rotation;this.dx=pixelHeight*dH*Math_sin(rotation)-pixelWidth*dW*Math_cos(rotation),this.dy=-pixelHeight*dH*Math_cos(rotation)-pixelWidth*dW*Math_sin(rotation),this.inside?angle>90||angle<-90?labelRadius-=(pixelPaddingBottom+pixelPaddingTop)*Math_cos(relativeRotation)+(pixelPaddingLeft+pixelPaddingRight)*Math_sin(relativeRotation):labelRadius+=(pixelPaddingBottom+this.bbox.height+pixelPaddingTop)*Math_cos(relativeRotation)+(pixelPaddingLeft+pixelPaddingRight+this.bbox.width)*Math_sin(relativeRotation):labelRadius+=(pixelHeight+pixelPaddingBottom+pixelPaddingTop)*Math_cos(relativeRotation)+(pixelWidth+pixelPaddingLeft+pixelPaddingRight)*Math_sin(relativeRotation),point.x+=Math_cos(angle)*labelRadius,point.y+=Math_sin(angle)*labelRadius*axisRadiusY/axisRadius}else this.horizontalCenter=\"middle\",this.verticalCenter=\"middle\",isNegative?(this.dx=0,this.dy=0,point.x=(axisRadius+labelRadius)*Math_cos(angle),point.y=(axisRadiusY+labelRadius*axisRadiusY/axisRadius)*Math_sin(angle)):(this.dy=this._measuredHeight/2*Math_sin(angle),this.dx=this._measuredWidth/2*Math_cos(angle),point.x+=Math_cos(angle)*labelRadius,point.y+=Math_sin(angle)*labelRadius*axisRadiusY/axisRadius);point.x+=dx,point.y+=dy,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(point)},AxisLabelCircular}(AxisLabel_AxisLabel);Registry_registry.registeredClasses.AxisLabelCircular=AxisLabelCircular_AxisLabelCircular;var AxisRendererCircular_AxisRendererCircular=function(_super){function AxisRendererCircular(){var _this=_super.call(this)||this;return _this.pixelRadiusReal=0,_this.layout=\"none\",_this.className=\"AxisRendererCircular\",_this.isMeasured=!1,_this.startAngle=-90,_this.endAngle=270,_this.useChartAngles=!0,_this.radius=Percent_percent(100),_this.isMeasured=!1,_this.grid.template.location=0,_this.labels.template.location=0,_this.labels.template.radius=15,_this.ticks.template.location=0,_this.ticks.template.pixelPerfect=!1,_this.tooltipLocation=0,_this.line.strokeOpacity=0,_this.applyTheme(),_this}return __extends(AxisRendererCircular,_super),AxisRendererCircular.prototype.setAxis=function(axis){var _this=this;_super.prototype.setAxis.call(this,axis),axis.isMeasured=!1;var tooltip=axis.tooltip;tooltip.adapter.add(\"dx\",function(x,target){var point=svgPointToSprite({x:target.pixelX,y:target.pixelY},_this);return _this.pixelRadius*Math.cos(Math.atan2(point.y,point.x))-point.x}),tooltip.adapter.add(\"dy\",function(y,target){var point=svgPointToSprite({x:target.pixelX,y:target.pixelY},_this);return _this.pixelRadius*Math.sin(Math.atan2(point.y,point.x))-point.y})},AxisRendererCircular.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),_super.prototype.validate.call(this)},Object.defineProperty(AxisRendererCircular.prototype,\"axisLength\",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,\"pixelRadius\",{get:function(){return relativeRadiusToValue(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,\"useChartAngles\",{get:function(){return this.getPropertyValue(\"useChartAngles\")},set:function(value){this.setPropertyValue(\"useChartAngles\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,\"pixelInnerRadius\",{get:function(){return relativeRadiusToValue(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),AxisRendererCircular.prototype.positionToPoint=function(position){var coordinate=this.positionToCoordinate(position),angle=this.startAngle+(this.endAngle-this.startAngle)*coordinate/this.axisLength;return{x:this.pixelRadius*Math_cos(angle),y:this.pixelRadius*Math_sin(angle)}},AxisRendererCircular.prototype.positionToAngle=function(position){var axis=this.axis,arc=(this.endAngle-this.startAngle)/(axis.end-axis.start);return Math_round(axis.renderer.inversed?this.startAngle+(axis.end-position)*arc:this.startAngle+(position-axis.start)*arc,3)},AxisRendererCircular.prototype.updateAxisLine=function(){var radius=this.pixelRadius,startAngle=this.startAngle,arc=this.endAngle-startAngle;this.line.path=moveTo({x:radius*Math_cos(startAngle),y:radius*Math_sin(startAngle)})+arcTo(startAngle,arc,radius,radius)},AxisRendererCircular.prototype.updateGridElement=function(grid,position,endPosition){var point=this.positionToPoint(position+=(endPosition-position)*grid.location);if(isNumber(point.x)&&isNumber(point.y)&&grid.element){var angle=DEGREES*Math.atan2(point.y,point.x),radius=relativeRadiusToValue(hasValue(grid.radius)?grid.radius:Percent_percent(100),this.pixelRadius),gridInnerRadius=relativeRadiusToValue(grid.innerRadius,this.pixelRadius);grid.zIndex=0;var innerRadius=relativeRadiusToValue(isNumber(gridInnerRadius)?gridInnerRadius:this.innerRadius,this.pixelRadius,!0);grid.path=moveTo({x:innerRadius*Math_cos(angle),y:innerRadius*Math_sin(angle)})+lineTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)})}this.toggleVisibility(grid,position,0,1)},AxisRendererCircular.prototype.updateTickElement=function(tick,position,endPosition){var point=this.positionToPoint(position+=(endPosition-position)*tick.location);if(tick.element){var radius=this.pixelRadius,angle=DEGREES*Math.atan2(point.y,point.x),tickLength=tick.length;tick.inside&&(tickLength=-tickLength),tick.zIndex=1,tick.path=moveTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)})+lineTo({x:(radius+tickLength)*Math_cos(angle),y:(radius+tickLength)*Math_sin(angle)})}this.toggleVisibility(tick,position,0,1)},AxisRendererCircular.prototype.updateBullet=function(bullet,position,endPosition){var location=.5;bullet instanceof AxisBullet_AxisBullet&&(location=bullet.location);var point=this.positionToPoint(position+=(endPosition-position)*location),radius=this.pixelRadius,angle=DEGREES*Math.atan2(point.y,point.x);point={x:radius*Math_cos(angle),y:radius*Math_sin(angle)},this.positionItem(bullet,point),this.toggleVisibility(bullet,position,0,1)},AxisRendererCircular.prototype.updateLabelElement=function(label,position,endPosition,location){hasValue(location)||(location=label.location),label.fixPosition(this.positionToAngle(position+=(endPosition-position)*location),this.pixelRadius),label.zIndex=2,this.toggleVisibility(label,position,this.minLabelPosition,this.maxLabelPosition)},AxisRendererCircular.prototype.fitsToBounds=function(point){return!0},Object.defineProperty(AxisRendererCircular.prototype,\"startAngle\",{get:function(){return this.getPropertyValue(\"startAngle\")},set:function(value){this.setPropertyValue(\"startAngle\",value)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,\"endAngle\",{get:function(){return this.getPropertyValue(\"endAngle\")},set:function(value){this.setPropertyValue(\"endAngle\",value)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),AxisRendererCircular.prototype.getPositionRangePath=function(startPosition,endPosition,radius,innerRadius,cornerRadius){var path=\"\";if(isNumber(startPosition)&&isNumber(endPosition)){hasValue(radius)||(radius=this.radius),startPosition=Math_max(startPosition,this.axis.start),(endPosition=Math_min(endPosition,this.axis.end))<startPosition&&(endPosition=startPosition);var pixelRadius=relativeRadiusToValue(radius,this.pixelRadius),pixelInnerRadius=relativeRadiusToValue(innerRadius,this.pixelRadius,!0),startAngle=this.positionToAngle(startPosition);path=Path_arc(startAngle,this.positionToAngle(endPosition)-startAngle,pixelRadius,pixelInnerRadius,pixelRadius,cornerRadius)}return path},AxisRendererCircular.prototype.createGrid=function(){return new GridCircular_GridCircular},AxisRendererCircular.prototype.createFill=function(axis){return new AxisFillCircular_AxisFillCircular(axis)},AxisRendererCircular.prototype.createLabel=function(){return new AxisLabelCircular_AxisLabelCircular},AxisRendererCircular.prototype.pointToPosition=function(point){var angle=fitAngleToRange(getAngle(point),this.startAngle,this.endAngle);return this.coordinateToPosition((angle-this.startAngle)/360*this.axisLength)},AxisRendererCircular}(AxisRenderer_AxisRenderer);Registry_registry.registeredClasses.AxisRendererCircular=AxisRendererCircular_AxisRendererCircular;var AxisRendererRadial_AxisRendererRadial=function(_super){function AxisRendererRadial(){var _this=_super.call(this)||this;return _this._chart=new Disposer_MutableValueDisposer,_this.pixelRadiusReal=0,_this.className=\"AxisRendererRadial\",_this.isMeasured=!1,_this.startAngle=-90,_this.endAngle=270,_this.minGridDistance=30,_this.gridType=\"circles\",_this.axisAngle=-90,_this.isMeasured=!1,_this.layout=\"none\",_this.radius=Percent_percent(100),_this.line.strokeOpacity=0,_this.labels.template.horizontalCenter=\"middle\",_this._disposers.push(_this._chart),_this.applyTheme(),_this}return __extends(AxisRendererRadial,_super),AxisRendererRadial.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),_super.prototype.validate.call(this)},Object.defineProperty(AxisRendererRadial.prototype,\"axisLength\",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,\"pixelRadius\",{get:function(){return relativeRadiusToValue(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,\"pixelInnerRadius\",{get:function(){return relativeRadiusToValue(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,\"chart\",{get:function(){return this._chart.get()},set:function(chart){this._chart.set(chart,null)},enumerable:!0,configurable:!0}),AxisRendererRadial.prototype.positionToPoint=function(position){var radius=fitToRange(this.positionToCoordinate(position),0,1/0);return{x:radius*Math_cos(this.axisAngle),y:radius*Math_sin(this.axisAngle)}},AxisRendererRadial.prototype.updateAxisLine=function(){this.line.path=moveTo({x:this.pixelInnerRadius*Math_cos(this.axisAngle),y:this.pixelInnerRadius*Math_sin(this.axisAngle)})+lineTo({x:this.pixelRadius*Math_cos(this.axisAngle),y:this.pixelRadius*Math_sin(this.axisAngle)});var title=this.axis.title;title.valign=\"none\",title.horizontalCenter=\"middle\",title.verticalCenter=\"bottom\",title.y=-this.axisLength/2;var rotation=90;this.opposite?this.inside||(rotation=-90):this.inside&&(rotation=-90),title.rotation=rotation},AxisRendererRadial.prototype.updateGridElement=function(grid,position,endPosition){var path,radius=getDistance(this.positionToPoint(position+=(endPosition-position)*grid.location)),startAngle=this.startAngle,endAngle=this.endAngle;if(isNumber(radius)&&grid.element){var chart=this.chart,xAxis=chart.xAxes.getIndex(0),count=chart.dataItems.length,series=chart.series.getIndex(0);if(\"polygons\"==this.gridType&&count>0&&series&&xAxis&&xAxis instanceof CategoryAxis_CategoryAxis){var gridLocation=xAxis.renderer.grid.template.location,angle=xAxis.getAngle(series.dataItems.getIndex(0),\"categoryX\",gridLocation);path=moveTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)});for(var count_1=chart.dataItems.length,i=1;i<count_1;i++)path+=lineTo({x:radius*Math_cos(angle=xAxis.getAngle(series.dataItems.getIndex(i),\"categoryX\",gridLocation)),y:radius*Math_sin(angle)});path+=lineTo({x:radius*Math_cos(angle=xAxis.getAngle(series.dataItems.getIndex(count_1-1),\"categoryX\",xAxis.renderer.cellEndLocation)),y:radius*Math_sin(angle)})}else path=moveTo({x:radius*Math_cos(startAngle),y:radius*Math_sin(startAngle)})+arcTo(startAngle,endAngle-startAngle,radius,radius);grid.path=path}this.toggleVisibility(grid,position,0,1)},AxisRendererRadial.prototype.updateLabelElement=function(label,position,endPosition,location){hasValue(location)||(location=label.location);var point=this.positionToPoint(position+=(endPosition-position)*location);this.positionItem(label,point),this.toggleVisibility(label,position,this.minLabelPosition,this.maxLabelPosition)},AxisRendererRadial.prototype.updateBaseGridElement=function(){},AxisRendererRadial.prototype.fitsToBounds=function(point){return!0},Object.defineProperty(AxisRendererRadial.prototype,\"startAngle\",{get:function(){return this.getPropertyValue(\"startAngle\")},set:function(value){this.setPropertyValue(\"startAngle\",value)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,\"endAngle\",{get:function(){return this.getPropertyValue(\"endAngle\")},set:function(value){this.setPropertyValue(\"endAngle\",value)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,\"axisAngle\",{get:function(){return this.getPropertyValue(\"axisAngle\")},set:function(value){this.setPropertyValue(\"axisAngle\",normalizeAngle(value)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,\"gridType\",{get:function(){return this.chart.xAxes.getIndex(0)instanceof CategoryAxis_CategoryAxis?this.getPropertyValue(\"gridType\"):\"circles\"},set:function(value){this.setPropertyValue(\"gridType\",value,!0)},enumerable:!0,configurable:!0}),AxisRendererRadial.prototype.getPositionRangePath=function(startPosition,endPosition){var path,pixelInnerRadius=this.pixelInnerRadius,pixelRadius=this.axisLength+pixelInnerRadius,innerRadius=fitToRange(this.positionToCoordinate(startPosition),pixelInnerRadius,pixelRadius),radius=fitToRange(this.positionToCoordinate(endPosition),pixelInnerRadius,pixelRadius),startAngle=this.startAngle,arc=this.endAngle-startAngle,chart=this.chart,xAxis=chart.xAxes.getIndex(0),count=chart.dataItems.length,series=chart.series.getIndex(0);if(\"polygons\"==this.gridType&&count>0&&series&&xAxis&&xAxis instanceof CategoryAxis_CategoryAxis){var gridLocation=xAxis.renderer.grid.template.location,angle=xAxis.getAngle(series.dataItems.getIndex(0),\"categoryX\",gridLocation);path=moveTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)});for(var count_2=chart.dataItems.length,i=1;i<count_2;i++)path+=lineTo({x:radius*Math_cos(angle=xAxis.getAngle(series.dataItems.getIndex(i),\"categoryX\",gridLocation)),y:radius*Math_sin(angle)});for(path+=lineTo({x:radius*Math_cos(angle=xAxis.getAngle(series.dataItems.getIndex(count_2-1),\"categoryX\",xAxis.renderer.cellEndLocation)),y:radius*Math_sin(angle)}),path+=moveTo({x:innerRadius*Math_cos(angle),y:innerRadius*Math_sin(angle)}),i=count_2-1;i>=0;i--)path+=lineTo({x:innerRadius*Math_cos(angle=xAxis.getAngle(series.dataItems.getIndex(i),\"categoryX\",gridLocation)),y:innerRadius*Math_sin(angle)})}else path=Path_arc(startAngle,arc,radius,innerRadius);return path},AxisRendererRadial.prototype.updateBreakElement=function(axisBreak){var endLine=axisBreak.endLine,fillShape=axisBreak.fillShape,startPoint=axisBreak.startPoint,endPoint=axisBreak.endPoint;axisBreak.startLine.radius=Math.abs(startPoint.y),endLine.radius=Math.abs(endPoint.y),fillShape.radius=Math.abs(endPoint.y),fillShape.innerRadius=Math.abs(startPoint.y)},AxisRendererRadial.prototype.createBreakSprites=function(axisBreak){axisBreak.startLine=new WavedCircle_WavedCircle,axisBreak.endLine=new WavedCircle_WavedCircle,axisBreak.fillShape=new WavedCircle_WavedCircle},AxisRendererRadial.prototype.updateTooltip=function(){if(this.axis){var axisAngle=this.axisAngle;axisAngle<0&&(axisAngle+=360);var tooltipOrientation=\"vertical\";(axisAngle>45&&axisAngle<135||axisAngle>225&&axisAngle<315)&&(tooltipOrientation=\"horizontal\"),this.axis.updateTooltip(tooltipOrientation,{x:-4e3,y:-4e3,width:8e3,height:8e3})}},AxisRendererRadial.prototype.updateTickElement=function(tick,position){var point=this.positionToPoint(position);if(tick.element){var angle=normalizeAngle(this.axisAngle+90);tick.pixelPerfect=angle/90==Math.round(angle/90);var tickLength=-tick.length;tick.inside&&(tickLength*=-1),tick.path=moveTo({x:0,y:0})+lineTo({x:tickLength*Math_cos(angle),y:tickLength*Math_sin(angle)})}this.positionItem(tick,point),this.toggleVisibility(tick,position,0,1)},AxisRendererRadial.prototype.updateBullet=function(bullet,position,endPosition){var location=.5;bullet instanceof AxisBullet_AxisBullet&&(location=bullet.location);var point=this.positionToPoint(position+=(endPosition-position)*location);this.positionItem(bullet,point),this.toggleVisibility(bullet,position,0,1)},AxisRendererRadial.prototype.positionToCoordinate=function(position){var axis=this.axis,axisFullLength=axis.axisFullLength,innerRadius=this.pixelInnerRadius;return Math_round(axis.renderer.inversed?(axis.end-position)*axisFullLength+innerRadius:(position-axis.start)*axisFullLength+innerRadius,1)},AxisRendererRadial.prototype.pointToPosition=function(point){var coordinate=getDistance(point)-this.pixelInnerRadius;return this.coordinateToPosition(coordinate)},AxisRendererRadial}(AxisRendererY_AxisRendererY);Registry_registry.registeredClasses.AxisRendererRadial=AxisRendererRadial_AxisRendererRadial;var RadarChart_RadarChartDataItem=function(_super){function RadarChartDataItem(){var _this=_super.call(this)||this;return _this.className=\"RadarChartDataItem\",_this.applyTheme(),_this}return __extends(RadarChartDataItem,_super),RadarChartDataItem}(XYChart_XYChartDataItem),RadarChart_RadarChart=function(_super){function RadarChart(){var _this=_super.call(this)||this;_this._axisRendererX=AxisRendererCircular_AxisRendererCircular,_this._axisRendererY=AxisRendererRadial_AxisRendererRadial,_this.innerRadiusModifyer=1,_this.className=\"RadarChart\",_this.startAngle=-90,_this.endAngle=270,_this.radius=Percent_percent(80),_this.innerRadius=0;var radarContainer=_this.plotContainer.createChild(Container_Container);return radarContainer.shouldClone=!1,radarContainer.layout=\"absolute\",radarContainer.align=\"center\",radarContainer.valign=\"middle\",_this.seriesContainer.parent=radarContainer,_this.radarContainer=radarContainer,_this.bulletsContainer.parent=radarContainer,_this.axisBulletsContainer=radarContainer,_this._cursorContainer=radarContainer,_this._bulletMask=radarContainer.createChild(Circle_Circle),_this._bulletMask.shouldClone=!1,_this._bulletMask.element=_this.paper.add(\"path\"),_this._bulletMask.opacity=0,_this.applyTheme(),_this}return __extends(RadarChart,_super),RadarChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Radar chart\"))},RadarChart.prototype.processAxis=function(axis){_super.prototype.processAxis.call(this,axis);var renderer=axis.renderer;renderer.gridContainer.parent=renderer,renderer.breakContainer.parent=renderer,axis.parent=this.radarContainer,renderer.toBack()},RadarChart.prototype.handleXAxisRangeChange=function(){_super.prototype.handleXAxisRangeChange.call(this),Iterator_each(this.yAxes.iterator(),function(axis){axis.invalidate()})},RadarChart.prototype.handleYAxisRangeChange=function(){_super.prototype.handleYAxisRangeChange.call(this),Iterator_each(this.xAxes.iterator(),function(axis){axis.invalidate()})},RadarChart.prototype.processConfig=function(config){if(config&&(hasValue(config.cursor)&&!hasValue(config.cursor.type)&&(config.cursor.type=\"RadarCursor\"),hasValue(config.series)&&Type_isArray(config.series)))for(var i=0,len=config.series.length;i<len;i++)config.series[i].type=config.series[i].type||\"RadarSeries\";_super.prototype.processConfig.call(this,config)},RadarChart.prototype.beforeDraw=function(){_super.prototype.beforeDraw.call(this);var plotContainer=this.plotContainer,rect=getArcRect(this.startAngle,this.endAngle,1),innerRect={x:0,y:0,width:0,height:0},innerRadius=this.innerRadius;if(innerRadius instanceof Percent){var value=innerRadius.value,mr=Math.min(plotContainer.innerWidth/rect.width,plotContainer.innerHeight/rect.height);value=Math.max(mr*value,mr-Math.min(plotContainer.innerHeight,plotContainer.innerWidth))/mr,innerRect=getArcRect(this.startAngle,this.endAngle,value),this.innerRadiusModifyer=value/innerRadius.value,innerRadius=Percent_percent(100*value)}rect=getCommonRectangle([rect,innerRect]);var maxRadius=Math.min(plotContainer.innerWidth/rect.width,plotContainer.innerHeight/rect.height),diameter=2*relativeRadiusToValue(this.radius,maxRadius)||0,radius=diameter/2,startAngle=this.startAngle,endAngle=this.endAngle;this._pixelInnerRadius=relativeRadiusToValue(innerRadius,radius),this._bulletMask.path=Path_arc(startAngle,endAngle-startAngle,radius,this._pixelInnerRadius),Iterator_each(this.xAxes.iterator(),function(axis){axis.renderer.useChartAngles&&(axis.renderer.startAngle=startAngle,axis.renderer.endAngle=endAngle),axis.width=diameter,axis.height=diameter,axis.renderer.pixelRadiusReal=radius,axis.renderer.innerRadius=innerRadius}),Iterator_each(this.yAxes.iterator(),function(axis){axis.renderer.startAngle=startAngle,axis.renderer.endAngle=endAngle,axis.width=diameter,axis.height=diameter,axis.renderer.pixelRadiusReal=radius,axis.renderer.innerRadius=innerRadius});var cursor=this.cursor;cursor&&(cursor.width=diameter,cursor.height=diameter,cursor.startAngle=startAngle,cursor.endAngle=endAngle),this.radarContainer.definedBBox={x:radius*rect.x,y:radius*rect.y,width:radius*rect.width,height:radius*rect.height},this.radarContainer.validatePosition()},RadarChart.prototype.createSeries=function(){return new RadarSeries_RadarSeries},Object.defineProperty(RadarChart.prototype,\"startAngle\",{get:function(){return this.getPropertyValue(\"startAngle\")},set:function(value){this.setPropertyValue(\"startAngle\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarChart.prototype,\"endAngle\",{get:function(){return this.getPropertyValue(\"endAngle\")},set:function(value){this.setPropertyValue(\"endAngle\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarChart.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarChart.prototype,\"pixelInnerRadius\",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(RadarChart.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),RadarChart.prototype.updateXAxis=function(renderer){renderer&&renderer.processRenderer()},RadarChart.prototype.updateYAxis=function(renderer){renderer&&renderer.processRenderer()},RadarChart}(XYChart_XYChart);Registry_registry.registeredClasses.RadarChart=RadarChart_RadarChart;var _super,ClockHand_ClockHand=function(_super){function ClockHand(){var _this=_super.call(this)||this;_this._axis=new Disposer_MutableValueDisposer,_this.className=\"ClockHand\";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;_this.fill=interfaceColors.getFor(\"alternativeBackground\"),_this.stroke=_this.fill;var pin=new Circle_Circle;pin.radius=5,_this.pin=pin,_this.isMeasured=!1,_this.startWidth=5,_this.endWidth=1,_this.width=Percent_percent(100),_this.height=Percent_percent(100),_this.radius=Percent_percent(100),_this.innerRadius=Percent_percent(0);var hand=new Trapezoid_Trapezoid;return _this.hand=hand,_this._disposers.push(_this._axis),_this.applyTheme(),_this}return __extends(ClockHand,_super),ClockHand.prototype.validate=function(){_super.prototype.validate.call(this);var hand=this.hand;hand.width=this.pixelWidth;var h=Math.max(this.startWidth,this.endWidth);if(hand.height=h,hand.leftSide=Percent_percent(this.startWidth/h*100),hand.rightSide=Percent_percent(this.endWidth/h*100),this.axis){var renderer=this.axis.renderer,x0=relativeRadiusToValue(this.innerRadius,renderer.pixelRadius),x1=relativeRadiusToValue(this.radius,renderer.pixelRadius);hand.x=x0,hand.y=-h/2,hand.width=x1-x0}},Object.defineProperty(ClockHand.prototype,\"pin\",{get:function(){return this._pin},set:function(pin){this._pin&&this.removeDispose(this._pin),pin&&(this._pin=pin,pin.parent=this,this._disposers.push(pin))},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,\"hand\",{get:function(){return this._hand},set:function(hand){this._hand&&this.removeDispose(this._hand),hand&&(this._hand=hand,hand.parent=this,this._disposers.push(hand))},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,\"startWidth\",{get:function(){return this.getPropertyValue(\"startWidth\")},set:function(value){this.setPropertyValue(\"startWidth\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,\"endWidth\",{get:function(){return this.getPropertyValue(\"endWidth\")},set:function(value){this.setPropertyValue(\"endWidth\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,\"rotationDirection\",{get:function(){return this.getPropertyValue(\"rotationDirection\")},set:function(value){this.setPropertyValue(\"rotationDirection\",value)},enumerable:!0,configurable:!0}),ClockHand.prototype.showValue=function(value,duration,easing){if(this._value=value,null!=value&&(isNumber(duration)||(duration=0),this.axis)){var newAngle=this.axis.renderer.positionToAngle(this.axis.anyToPosition(value)),currentAngle=this.rotation;\"clockWise\"==this.rotationDirection&&newAngle<currentAngle&&(this.rotation=currentAngle-360),\"counterClockWise\"==this.rotationDirection&&newAngle>currentAngle&&(this.rotation=currentAngle+360),this.animate({property:\"rotation\",to:newAngle},duration,easing)}},Object.defineProperty(ClockHand.prototype,\"value\",{get:function(){return this._value},set:function(value){this.showValue(value)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,\"axis\",{get:function(){return this._axis.get()},set:function(axis){if(this.axis!=axis&&this._axis.set(axis,new Disposer_MultiDisposer([axis.events.on(\"datavalidated\",this.updateValue,this,!1),axis.events.on(\"datarangechanged\",this.updateValue,this,!1),axis.events.on(\"dataitemsvalidated\",this.updateValue,this,!1),axis.events.on(\"propertychanged\",this.invalidate,this,!1)])),axis){var chart=axis.chart;chart&&(this.rotation=chart.startAngle)}this.parent=axis.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),ClockHand.prototype.updateValue=function(){this.value=this.value},ClockHand.prototype.processConfig=function(config){config&&hasValue(config.axis)&&isString(config.axis)&&this.map.hasKey(config.axis)&&(config.axis=this.map.getKey(config.axis)),_super.prototype.processConfig.call(this,config)},ClockHand}(Container_Container);Registry_registry.registeredClasses.ClockHand=ClockHand_ClockHand,__extends(function(){var _this=_super.call(this)||this;return _this.className=\"GaugeChartDataItem\",_this.applyTheme(),_this},_super=RadarChart_RadarChartDataItem);var GaugeChart_GaugeChart=function(_super){function GaugeChart(){var _this=_super.call(this)||this;return _this.className=\"GaugeChart\",_this.startAngle=180,_this.endAngle=360,_this.hands=new List_ListTemplate(new ClockHand_ClockHand),_this.hands.events.on(\"inserted\",_this.processHand,_this,!1),_this._disposers.push(new List_ListDisposer(_this.hands)),_this._disposers.push(_this.hands.template),_this.applyTheme(),_this}return __extends(GaugeChart,_super),GaugeChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Gauge chart\"))},GaugeChart.prototype.processHand=function(event){var hand=event.newValue;hand.axis||(hand.axis=this.xAxes.getIndex(0))},GaugeChart.prototype.configOrder=function(a,b){return a==b?0:\"hands\"==a?1:\"hands\"==b?-1:_super.prototype.configOrder.call(this,a,b)},GaugeChart}(RadarChart_RadarChart);Registry_registry.registeredClasses.GaugeChart=GaugeChart_GaugeChart;var PercentSeries_PercentSeriesDataItem=function(_super){function PercentSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"PercentSeriesDataItem\",_this.applyTheme(),_this}return __extends(PercentSeriesDataItem,_super),PercentSeriesDataItem.prototype.uidAttr=function(){return this.slice.uidAttr()},PercentSeriesDataItem.prototype.hide=function(duration,delay,toValue,fields){return fields||(fields=[\"value\"]),_super.prototype.hide.call(this,duration,delay,0,fields)},PercentSeriesDataItem.prototype.setVisibility=function(value,noChangeValues){noChangeValues||this.setWorkingValue(\"value\",value?this.values.value.value:0,0,0),_super.prototype.setVisibility.call(this,value,noChangeValues)},PercentSeriesDataItem.prototype.show=function(duration,delay,fields){return fields||(fields=[\"value\"]),_super.prototype.show.call(this,duration,delay,fields)},Object.defineProperty(PercentSeriesDataItem.prototype,\"category\",{get:function(){return this.properties.category},set:function(value){this.setProperty(\"category\",value)},enumerable:!0,configurable:!0}),PercentSeriesDataItem.prototype.createLegendMarker=function(marker){this.component.createLegendMarker(marker,this)},Object.defineProperty(PercentSeriesDataItem.prototype,\"legendDataItem\",{get:function(){return this._legendDataItem},set:function(value){this._legendDataItem=value,value.label&&(value.label.dataItem=this),value.valueLabel&&(value.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeriesDataItem.prototype,\"tick\",{get:function(){var _this=this;if(!this._tick){var tick_1=this.component.ticks.create();this._tick=tick_1,this._disposers.push(tick_1),tick_1.parent=this.component.ticksContainer,this._disposers.push(new Disposer(function(){_this.component&&_this.component.ticks.removeValue(tick_1)})),this.addSprite(tick_1),tick_1.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeriesDataItem.prototype,\"label\",{get:function(){var _this=this;if(!this._label){var label_1=this.component.labels.create();this._label=label_1,this._disposers.push(label_1),label_1.parent=this.component.labelsContainer,this._disposers.push(new Disposer(function(){_this.component&&_this.component.labels.removeValue(label_1)})),this.addSprite(label_1),label_1.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeriesDataItem.prototype,\"slice\",{get:function(){var _this=this;if(!this._slice){var component_1=this.component,slice_1=component_1.slices.create();this._slice=slice_1,this._disposers.push(slice_1),slice_1.parent=component_1.slicesContainer,this._disposers.push(new Disposer(function(){component_1.slices.removeValue(slice_1)})),this.addSprite(slice_1),slice_1.visible=this.visible,component_1.itemsFocusable()?(slice_1.role=\"menuitem\",slice_1.focusable=!0):(slice_1.role=\"listitem\",slice_1.focusable=!1),slice_1.focusable&&(slice_1.events.on(\"focus\",function(ev){slice_1.readerTitle=component_1.populateString(component_1.itemReaderText,_this)},void 0,!1),slice_1.events.on(\"blur\",function(ev){slice_1.readerTitle=\"\"},void 0,!1)),slice_1.hoverable&&(slice_1.events.on(\"over\",function(ev){slice_1.readerTitle=component_1.populateString(component_1.itemReaderText,_this)},void 0,!1),slice_1.events.on(\"out\",function(ev){slice_1.readerTitle=\"\"},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeriesDataItem.prototype,\"hiddenInLegend\",{get:function(){return this.properties.hiddenInLegend},set:function(value){this.setProperty(\"hiddenInLegend\",value)},enumerable:!0,configurable:!0}),PercentSeriesDataItem}(Series_SeriesDataItem),PercentSeries_PercentSeries=function(_super){function PercentSeries(){var _this=_super.call(this)||this;_this.className=\"PercentSeries\",_this._addAllDataItems=!1,_this.colors=new ColorSet_ColorSet,_this.colors.step=1,_this.isMeasured=!0,_this.calculatePercent=!0;var slicesContainer=_this.createChild(Container_Container);slicesContainer.shouldClone=!1,slicesContainer.isMeasured=!1,_this.slicesContainer=slicesContainer;var ticksContainer=_this.createChild(Container_Container);ticksContainer.shouldClone=!1,ticksContainer.isMeasured=!1,ticksContainer.layout=\"none\",_this.ticksContainer=ticksContainer;var labelsContainer=_this.createChild(Container_Container);return labelsContainer.shouldClone=!1,labelsContainer.isMeasured=!1,labelsContainer.layout=\"none\",_this.labelsContainer=labelsContainer,_this.alignLabels=!1,_this.bulletsContainer.toFront(),_this.skipFocusThreshold=50,_this.defaultState.transitionEasing=sinOut,_this.itemReaderText=\"{category}: {value.percent.formatNumber('#.#')}%\",_this.applyTheme(),_this}return __extends(PercentSeries,_super),PercentSeries.prototype.createSlice=function(){return new Sprite_Sprite},PercentSeries.prototype.createTick=function(){return new Tick_Tick},PercentSeries.prototype.createLabel=function(){return new Label_Label},Object.defineProperty(PercentSeries.prototype,\"slices\",{get:function(){if(!this._slices){var slice=this.createSlice();slice.applyOnClones=!0,this._disposers.push(slice),this.initSlice(slice),this._slices=new List_ListTemplate(slice),this._disposers.push(new List_ListDisposer(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeries.prototype,\"ticks\",{get:function(){if(!this._ticks){var tick=this.createTick();tick.applyOnClones=!0,this._disposers.push(tick),this.initTick(tick),this._ticks=new List_ListTemplate(tick),this._disposers.push(new List_ListDisposer(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeries.prototype,\"labels\",{get:function(){if(!this._labels){var label=this.createLabel();label.applyOnClones=!0,this._disposers.push(label),this.initLabel(label),this._labels=new List_ListTemplate(label),this._disposers.push(new List_ListDisposer(this._labels))}return this._labels},enumerable:!0,configurable:!0}),PercentSeries.prototype.createDataItem=function(){return new PercentSeries_PercentSeriesDataItem},PercentSeries.prototype.initSlice=function(slice){},PercentSeries.prototype.initLabel=function(label){label.text=\"{category}: {value.percent.formatNumber('#.0')}%\",label.isMeasured=!1,label.padding(5,5,5,5)},PercentSeries.prototype.initTick=function(label){},PercentSeries.prototype.validateDataItems=function(){this.colors.reset(),_super.prototype.validateDataItems.call(this)},PercentSeries.prototype.validateDataElement=function(dataItem){var slice=dataItem.slice;slice&&(null==slice.fill&&(slice.fill=this.colors.next()),null==slice.stroke&&(slice.stroke=slice.fill)),_super.prototype.validateDataElement.call(this,dataItem),slice&&dataItem.bullets.each(function(key,bullet){null==bullet.fill&&(bullet.fill=slice.fill),null==bullet.stroke&&(bullet.stroke=slice.stroke)}),this.updateLegendValue(dataItem)},PercentSeries.prototype.validateData=function(){_super.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},PercentSeries.prototype.arrangeLabels=function(dataItems){for(var i=0,len=dataItems.length;i<len;i++){var label=dataItems[i].label;if(label){var nextLabel=this.getNextLabel(i+1,dataItems);label.invalid&&label.validate();var lh=label.measuredHeight;label.visible||(lh=0);var bottom=label.pixelY+lh;nextLabel&&nextLabel.y<bottom&&(nextLabel.y=bottom)}}},PercentSeries.prototype.arrangeLabels2=function(dataItems){for(var previousTop=this.maxHeight/2,i=dataItems.length-1;i>=0;i--){var label=dataItems[i].label;if(label){label.invalid&&label.validate();var lh=label.measuredHeight;label.visible||(lh=0),label.pixelY+lh>previousTop&&(label.y=previousTop-lh,previousTop=label.y)}}},PercentSeries.prototype.getNextLabel=function(index,dataItems){if(dataItems.length>=index){var nextDataItem=dataItems[index];if(nextDataItem)return nextDataItem.label&&nextDataItem.visible?nextDataItem.label:this.getNextLabel(index+1,dataItems)}},Object.defineProperty(PercentSeries.prototype,\"colors\",{get:function(){return this.getPropertyValue(\"colors\")},set:function(value){this.setPropertyValue(\"colors\",value,!0)},enumerable:!0,configurable:!0}),PercentSeries.prototype.createLegendMarker=function(marker,dataItem){Iterator_each(marker.children.iterator(),function(child){var slice=dataItem.slice;child.defaultState.properties.fill=slice.fill,child.defaultState.properties.stroke=slice.stroke,child.defaultState.properties.fillOpacity=slice.fillOpacity,child.defaultState.properties.strokeOpacity=slice.strokeOpacity,child.fill=slice.fill,child.stroke=slice.stroke,child.fillOpacity=slice.fillOpacity,child.strokeOpacity=slice.strokeOpacity,null==child.fill&&(child.__disabled=!0);var legendDataItem=marker.dataItem;legendDataItem.color=slice.fill,legendDataItem.colorOrig=slice.fill,child.addDisposer(slice.events.on(\"propertychanged\",function(ev){\"fill\"==ev.property&&(child.__disabled=!1,child.isActive||(child.fill=slice.fill),child.defaultState.properties.fill=slice.fill,legendDataItem.color=slice.fill,legendDataItem.colorOrig=slice.fill),\"stroke\"==ev.property&&(child.isActive||(child.stroke=slice.stroke),child.defaultState.properties.stroke=slice.stroke)},void 0,!1))})},PercentSeries.prototype.handleSliceScale=function(event){var _this=this;Iterator_each(event.target.dataItem.bullets.iterator(),function(a){_this.positionBullet(a[1])})},PercentSeries.prototype.handleSliceMove=function(event){},PercentSeries.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.slices.template.copyFrom(source.slices.template),this.labels.template.copyFrom(source.labels.template),this.ticks.template.copyFrom(source.ticks.template)},Object.defineProperty(PercentSeries.prototype,\"alignLabels\",{get:function(){return this.getPropertyValue(\"alignLabels\")},set:function(value){this.setAlignLabels(value)},enumerable:!0,configurable:!0}),PercentSeries.prototype.setAlignLabels=function(value){this.setPropertyValue(\"alignLabels\",value,!0)},PercentSeries.prototype.updateLegendValue=function(dataItem){if(dataItem){var legendDataItem=dataItem.legendDataItem,legendSettings=dataItem.legendSettings;legendDataItem&&legendSettings&&legendSettings&&(legendSettings.labelText&&(legendDataItem.label.text=legendSettings.labelText),legendSettings.itemLabelText&&(legendDataItem.label.text=legendSettings.itemLabelText),legendSettings.valueText&&(legendDataItem.valueLabel.text=legendSettings.valueText),legendSettings.itemValueText&&(legendDataItem.valueLabel.text=legendSettings.itemValueText))}},PercentSeries}(Series_Series);Registry_registry.registeredClasses.PercentSeries=PercentSeries_PercentSeries,Registry_registry.registeredClasses.PercentSeriesDataItem=PercentSeries_PercentSeriesDataItem,defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(target,stateId){if(target instanceof PercentSeries_PercentSeries){var state=target.states.create(stateId);return target.labels.template.states.create(stateId).properties.disabled=!0,target.ticks.template.states.create(stateId).properties.disabled=!0,state}return null}});var PercentChart_PercentChartDataItem=function(_super){function PercentChartDataItem(){var _this=_super.call(this)||this;return _this.className=\"PercentChartDataItem\",_this.applyTheme(),_this}return __extends(PercentChartDataItem,_super),PercentChartDataItem}(SerialChart_SerialChartDataItem),PercentChart_PercentChart=function(_super){function PercentChart(){var _this=_super.call(this)||this;return _this.className=\"PercentChart\",_this.align=\"none\",_this.valign=\"none\",_this.chartContainer.minHeight=50,_this.chartContainer.minWidth=50,_this.applyTheme(),_this}return __extends(PercentChart,_super),PercentChart.prototype.validateData=function(){_super.prototype.validateData.call(this),this.feedLegend()},PercentChart.prototype.feedLegend=function(){var legend=this.legend;if(legend){var legendData_1=[];Iterator_each(this.series.iterator(),function(series){series.hiddenInLegend||Iterator_each(series.dataItems.iterator(),function(dataItem){dataItem.hiddenInLegend||(legendData_1.push(dataItem),dataItem.legendSettings||(dataItem.legendSettings=series.legendSettings))})}),legend.data=legendData_1,legend.dataFields.name=\"category\"}},PercentChart.prototype.createSeries=function(){return new PercentSeries_PercentSeries},PercentChart.prototype.setLegend=function(legend){_super.prototype.setLegend.call(this,legend),legend&&(legend.labels.template.text=\"{category}\",legend.valueLabels.template.text=\"{value.percent.formatNumber('#.0')}%\",legend.itemContainers.template.events.on(\"over\",function(event){var PercentSeriesDataItem=event.target.dataItem.dataContext;PercentSeriesDataItem.visible&&!PercentSeriesDataItem.isHiding&&(PercentSeriesDataItem.slice.isHover=!0)}),legend.itemContainers.template.events.on(\"out\",function(event){event.target.dataItem.dataContext.slice.isHover=!1}))},PercentChart}(SerialChart_SerialChart);Registry_registry.registeredClasses.PercentChart=PercentChart_PercentChart,Registry_registry.registeredClasses.PercentChartDataItem=PercentChart_PercentChartDataItem;var PieTick_PieTick=function(_super){function PieTick(){var _this=_super.call(this)||this;return _this._label=new Disposer_MutableValueDisposer,_this._slice=new Disposer_MutableValueDisposer,_this.className=\"PieTick\",_this.element=_this.paper.add(\"polyline\"),_this._disposers.push(_this._label),_this._disposers.push(_this._slice),_this.applyTheme(),_this}return __extends(PieTick,_super),PieTick.prototype.draw=function(){_super.prototype.draw.call(this);var slice=this.slice,label=this.label;if(slice&&slice.radius>0&&label&&label.text){var x0=slice.dx+slice.slice.dx+slice.pixelX+slice.ix*slice.radius*slice.scale,y0=slice.dy+slice.slice.dy+slice.pixelY+slice.iy*slice.radiusY*slice.scale,x1=void 0,y1=void 0,x2=void 0,y2=void 0;if(slice.dataItem.component.alignLabels)x1=label.pixelX-this.length,x2=label.pixelX,y2=y1=label.pixelY,\"right\"==label.horizontalCenter&&(x2=(x1+=2*this.length)-this.length);else{var r=label.pixelRadius(slice.radius);x2=x1=x0+r*slice.ix,y2=y1=y0+r*slice.iy}this.element.attr({points:[x0,y0,x1,y1,x2,y2]})}},Object.defineProperty(PieTick.prototype,\"slice\",{get:function(){return this._slice.get()},set:function(slice){this._slice.set(slice,new Disposer_MultiDisposer([slice.events.on(\"transformed\",this.invalidate,this),slice.events.on(\"validated\",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(PieTick.prototype,\"label\",{get:function(){return this._label.get()},set:function(label){this._label.set(label,label.events.on(\"transformed\",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),PieTick}(Tick_Tick);Registry_registry.registeredClasses.PieTick=PieTick_PieTick;var PieSeries_PieSeriesDataItem=function(_super){function PieSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"PieSeriesDataItem\",_this.values.radiusValue={},_this.applyTheme(),_this}return __extends(PieSeriesDataItem,_super),Object.defineProperty(PieSeriesDataItem.prototype,\"radiusValue\",{get:function(){return this.values.radiusValue.value},set:function(value){this.setValue(\"radiusValue\",value)},enumerable:!0,configurable:!0}),PieSeriesDataItem.prototype.hide=function(duration,delay,toValue,fields){return _super.prototype.hide.call(this,duration,delay,0,[\"value\",\"radiusValue\"])},PieSeriesDataItem.prototype.show=function(duration,delay,fields){return _super.prototype.show.call(this,duration,delay,[\"value\",\"radiusValue\"])},PieSeriesDataItem}(PercentSeries_PercentSeriesDataItem),PieSeries_PieSeries=function(_super){function PieSeries(){var _this=_super.call(this)||this;return _this.className=\"PieSeries\",_this.alignLabels=!0,_this.startAngle=-90,_this.endAngle=270,_this.layout=\"none\",_this.labels.template.radius=Percent_percent(5),_this.addDisposer(_this.labels.template.events.on(\"enabled\",_this.invalidate,_this,!1)),_this.applyTheme(),_this}return __extends(PieSeries,_super),PieSeries.prototype.createSlice=function(){return new Slice_Slice},PieSeries.prototype.createTick=function(){return new PieTick_PieTick},PieSeries.prototype.createLabel=function(){return new AxisLabelCircular_AxisLabelCircular},PieSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Pie Slice Series\"))},PieSeries.prototype.createDataItem=function(){return new PieSeries_PieSeriesDataItem},PieSeries.prototype.initSlice=function(slice){slice.isMeasured=!1,slice.defaultState.properties.scale=1,slice.observe(\"scale\",this.handleSliceScale,this),slice.observe([\"dx\",\"dy\",\"x\",\"y\",\"shiftRadius\"],this.handleSliceMove,this),slice.tooltipText=\"{category}: {value.percent.formatNumber('#.#')}% ({value.value})\",slice.states.create(\"hover\").properties.scale=1.05,slice.defaultState.properties.shiftRadius=0,slice.togglable=!0,slice.events.on(\"toggled\",function(event){event.target.hideTooltip()}),slice.states.create(\"active\").properties.shiftRadius=.1},PieSeries.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=getArcRect(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var i=this.startIndex;i<this.endIndex;i++){var radiusValuePercent=this.dataItems.getIndex(i).values.radiusValue.percent;radiusValuePercent>this._maxRadiusPercent&&(this._maxRadiusPercent=radiusValuePercent)}_super.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(a,b){var aAngle=(a.slice.middleAngle+360)%360,bAngle=(b.slice.middleAngle+360)%360;return aAngle>270&&(aAngle-=360),bAngle>270&&(bAngle-=360),aAngle<bAngle?-1:1}),this._leftItems.sort(function(a,b){return(a.slice.middleAngle+360)%360<(b.slice.middleAngle+360)%360?1:-1}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},PieSeries.prototype.validateDataElement=function(dataItem){if(this.pixelRadius>0){var slice=dataItem.slice;if(slice.radius=this.pixelRadius,isNumber(dataItem.radiusValue)&&(slice.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*dataItem.values.radiusValue.percent/this._maxRadiusPercent),slice.innerRadius instanceof Percent||(slice.innerRadius=this.pixelInnerRadius),slice.startAngle=this._currentStartAngle,slice.arc=dataItem.values.value.percent*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var label=dataItem.label,tick=dataItem.tick;tick.slice=slice,tick.label=label;var normalizedMiddleAngle=(slice.middleAngle+360)%360;if(this.alignLabels){var labelRadius=label.pixelRadius(slice.radius),x=tick.length+labelRadius;label.dx=0,label.dy=0,label.verticalCenter=\"middle\";var arcRect=this._arcRect;normalizedMiddleAngle>=270||normalizedMiddleAngle<=90?(x+=(arcRect.width+arcRect.x)*this.pixelRadius,label.horizontalCenter=\"left\",this._rightItems.push(dataItem)):(x-=arcRect.x*this.pixelRadius,label.horizontalCenter=\"right\",this._leftItems.push(dataItem),x*=-1),label.moveTo({x:x,y:slice.iy*(slice.radius+tick.length+labelRadius)})}else{var depth=slice.depth;isNumber(depth)||(depth=0),label.fixPosition(slice.middleAngle,slice.radius,slice.radiusY,0,-depth)}}this._currentStartAngle+=slice.arc,_super.prototype.validateDataElement.call(this,dataItem)}},Object.defineProperty(PieSeries.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries.prototype,\"pixelRadius\",{get:function(){return this._pixelRadius},set:function(value){this._pixelRadius!=value&&(this._pixelRadius=value,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries.prototype,\"pixelInnerRadius\",{get:function(){return this._pixelInnerRadius},set:function(value){this._pixelInnerRadius!=value&&(this._pixelInnerRadius=value,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries.prototype,\"startAngle\",{get:function(){return this.getPropertyValue(\"startAngle\")},set:function(value){this.setPropertyValue(\"startAngle\",normalizeAngle(value),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries.prototype,\"endAngle\",{get:function(){return this.getPropertyValue(\"endAngle\")},set:function(value){this.setPropertyValue(\"endAngle\",value,!0)},enumerable:!0,configurable:!0}),PieSeries.prototype.positionBullet=function(bullet){_super.prototype.positionBullet.call(this,bullet);var slice=bullet.dataItem.slice,locationX=bullet.locationX;isNumber(locationX)||(locationX=.5);var locationY=bullet.locationY;isNumber(locationY)||(locationY=1);var angle=slice.startAngle+slice.arc*locationX;bullet.x=locationY*slice.radius*Math_cos(angle),bullet.y=locationY*slice.radiusY*Math_sin(angle)},PieSeries.prototype.handleSliceMove=function(event){if(!this.alignLabels){var slice=event.target,dataItem=slice.dataItem;if(dataItem){var label=dataItem.label;label&&(label.dx=label.fdx+slice.dx+slice.pixelX,label.dy=label.fdy+slice.dy+slice.pixelY)}}},Object.defineProperty(PieSeries.prototype,\"bbox\",{get:function(){if(this.definedBBox)return this.definedBBox;var chart=this.chart;return chart?getArcRect(chart.startAngle,chart.endAngle,this.pixelRadius):getArcRect(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),PieSeries}(PercentSeries_PercentSeries);Registry_registry.registeredClasses.PieSeries=PieSeries_PieSeries,Registry_registry.registeredClasses.PieSeriesDataItem=PieSeries_PieSeriesDataItem;var PieChart_PieChartDataItem=function(_super){function PieChartDataItem(){var _this=_super.call(this)||this;return _this.className=\"PieChartDataItem\",_this.applyTheme(),_this}return __extends(PieChartDataItem,_super),PieChartDataItem}(PercentChart_PercentChartDataItem),PieChart_PieChart=function(_super){function PieChart(){var _this=_super.call(this)||this;_this.className=\"PieChart\",_this.innerRadius=0,_this.radius=Percent_percent(80),_this.align=\"none\",_this.valign=\"none\",_this.startAngle=-90,_this.endAngle=270;var seriesContainer=_this.seriesContainer;return seriesContainer.isMeasured=!0,seriesContainer.valign=\"middle\",seriesContainer.align=\"center\",seriesContainer.layout=\"absolute\",seriesContainer.width=void 0,seriesContainer.height=void 0,_this.chartContainer.minHeight=50,_this.chartContainer.minWidth=50,_this.chartContainer.events.on(\"maxsizechanged\",_this.updateRadius,_this,!1),_this.applyTheme(),_this}return __extends(PieChart,_super),PieChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Pie chart\"))},PieChart.prototype.validateLayout=function(){_super.prototype.validateLayout.call(this),this.updateRadius()},PieChart.prototype.handleSeriesAdded=function(event){_super.prototype.handleSeriesAdded.call(this,event),this._chartPixelRadius=void 0,this.updateSeriesAngles()},PieChart.prototype.updateSeriesAngles=function(){var _this=this;this.series.each(function(series){series.startAngle=_this.startAngle,series.endAngle=_this.endAngle,series.defaultState.properties.startAngle=_this.startAngle,series.defaultState.properties.endAngle=_this.endAngle})},PieChart.prototype.updateRadius=function(){var chartCont=this.chartContainer,rect=getArcRect(this.startAngle,this.endAngle,1),innerRect={x:0,y:0,width:0,height:0},innerRadius=this.innerRadius;innerRadius instanceof Percent&&(innerRect=getArcRect(this.startAngle,this.endAngle,innerRadius.value)),rect=getCommonRectangle([rect,innerRect]);var maxRadius=Math.min(chartCont.innerWidth/rect.width,chartCont.innerHeight/rect.height);isNumber(maxRadius)||(maxRadius=0);var chartRadius=relativeRadiusToValue(this.radius,maxRadius),chartPixelInnerRadius=relativeRadiusToValue(this.innerRadius,maxRadius),seriesRadius=(chartRadius-chartPixelInnerRadius)/this.series.length;chartRadius==this._chartPixelRadius&&chartPixelInnerRadius==this._chartPixelInnerRadius||(this._chartPixelRadius=chartRadius,this._chartPixelInnerRadius=chartPixelInnerRadius,Iterator_each(indexed(this.series.iterator()),function(a){var i=a[0],series=a[1],radius=chartPixelInnerRadius+relativeRadiusToValue(series.radius,chartRadius-chartPixelInnerRadius),innerRadius=chartPixelInnerRadius+relativeRadiusToValue(series.innerRadius,chartRadius-chartPixelInnerRadius);isNumber(radius)||(radius=chartPixelInnerRadius+seriesRadius*(i+1)),isNumber(innerRadius)||(innerRadius=chartPixelInnerRadius+seriesRadius*i),series.pixelRadius=radius,series.pixelInnerRadius=innerRadius}),this.seriesContainer.definedBBox={x:chartRadius*rect.x,y:chartRadius*rect.y,width:chartRadius*rect.width,height:chartRadius*rect.height},this.seriesContainer.invalidateLayout(),this.bulletsContainer.x=this.seriesContainer.x,this.bulletsContainer.y=this.seriesContainer.y)},Object.defineProperty(PieChart.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(PieChart.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),PieChart.prototype.createSeries=function(){return new PieSeries_PieSeries},Object.defineProperty(PieChart.prototype,\"startAngle\",{get:function(){return this.getPropertyValue(\"startAngle\")},set:function(value){this.setPropertyValue(\"startAngle\",value)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(PieChart.prototype,\"endAngle\",{get:function(){return this.getPropertyValue(\"endAngle\")},set:function(value){this.setPropertyValue(\"endAngle\",value)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),PieChart}(PercentChart_PercentChart);Registry_registry.registeredClasses.PieChart=PieChart_PieChart,Registry_registry.registeredClasses.PieChartDataItem=PieChart_PieChartDataItem;var PieSeries3D_PieSeries3DDataItem=function(_super){function PieSeries3DDataItem(){var _this=_super.call(this)||this;return _this.className=\"PieSeries3DDataItem\",_this.values.depthValue={},_this.applyTheme(),_this}return __extends(PieSeries3DDataItem,_super),Object.defineProperty(PieSeries3DDataItem.prototype,\"depthValue\",{get:function(){return this.values.depthValue.value},set:function(value){this.setValue(\"depthValue\",value)},enumerable:!0,configurable:!0}),PieSeries3DDataItem}(PieSeries_PieSeriesDataItem),PieSeries3D_PieSeries3D=function(_super){function PieSeries3D(){var _this=_super.call(this)||this;return _this.className=\"PieSeries3D\",_this.applyTheme(),_this}return __extends(PieSeries3D,_super),PieSeries3D.prototype.createDataItem=function(){return new PieSeries3D_PieSeries3DDataItem},PieSeries3D.prototype.createSlice=function(){return new Slice3D_Slice3D},PieSeries3D.prototype.validateDataElement=function(dataItem){var slice=dataItem.slice,depth=this.depth;isNumber(depth)||(depth=this.chart.depth);var depthPercent=dataItem.values.depthValue.percent;isNumber(depthPercent)||(depthPercent=100),slice.depth=depthPercent*depth/100;var angle=this.angle;isNumber(angle)||(angle=this.chart.angle),slice.angle=angle,_super.prototype.validateDataElement.call(this,dataItem)},PieSeries3D.prototype.validate=function(){_super.prototype.validate.call(this);for(var i=this._workingStartIndex;i<this._workingEndIndex;i++){var slice=this.dataItems.getIndex(i).slice,startAngle=slice.startAngle;startAngle>=-90&&startAngle<90?slice.toFront():startAngle>=90&&slice.toBack()}},Object.defineProperty(PieSeries3D.prototype,\"depth\",{get:function(){return this.getPropertyValue(\"depth\")},set:function(value){this.setPropertyValue(\"depth\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries3D.prototype,\"angle\",{get:function(){return this.getPropertyValue(\"angle\")},set:function(value){this.setPropertyValue(\"angle\",value)},enumerable:!0,configurable:!0}),PieSeries3D.prototype.positionBullet=function(bullet){_super.prototype.positionBullet.call(this,bullet),bullet.y=bullet.pixelY-bullet.dataItem.slice.depth},PieSeries3D}(PieSeries_PieSeries);Registry_registry.registeredClasses.PieSeries3D=PieSeries3D_PieSeries3D,Registry_registry.registeredClasses.PieSeries3DDataItem=PieSeries3D_PieSeries3DDataItem,function(_super){__extends(function(){var _this=_super.call(this)||this;return _this.className=\"PieChart3DDataItem\",_this.applyTheme(),_this},_super)}(PieChart_PieChartDataItem);var PieChart3D_PieChart3D=function(_super){function PieChart3D(){var _this=_super.call(this)||this;return _this.className=\"PieChart3D\",_this.depth=20,_this.angle=10,_this.applyTheme(),_this}return __extends(PieChart3D,_super),Object.defineProperty(PieChart3D.prototype,\"depth\",{get:function(){return this.getPropertyValue(\"depth\")},set:function(value){this.setPropertyValue(\"depth\",value)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(PieChart3D.prototype,\"angle\",{get:function(){return this.getPropertyValue(\"angle\")},set:function(value){value=fitToRange(value,0,90),this.setPropertyValue(\"angle\",value)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),PieChart3D.prototype.createSeries=function(){return new PieSeries3D_PieSeries3D},PieChart3D}(PieChart_PieChart);Registry_registry.registeredClasses.PieChart3D=PieChart3D_PieChart3D;var SlicedChart_SlicedChartDataItem=function(_super){function SlicedChartDataItem(){var _this=_super.call(this)||this;return _this.className=\"SlicedChartDataItem\",_this.applyTheme(),_this}return __extends(SlicedChartDataItem,_super),SlicedChartDataItem}(PercentChart_PercentChartDataItem),SlicedChart_SlicedChart=function(_super){function SlicedChart(){var _this=_super.call(this)||this;return _this.className=\"SlicedChart\",_this.seriesContainer.layout=\"horizontal\",_this.padding(15,15,15,15),_this.applyTheme(),_this}return __extends(SlicedChart,_super),SlicedChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Sliced chart\"))},SlicedChart.prototype.validate=function(){_super.prototype.validate.call(this)},SlicedChart}(PercentChart_PercentChart);Registry_registry.registeredClasses.SlicedChart=SlicedChart_SlicedChart,Registry_registry.registeredClasses.SlicedChartDataItem=SlicedChart_SlicedChartDataItem;var FlowDiagramNode_FlowDiagramNode=function(_super){function FlowDiagramNode(){var _this=_super.call(this)||this;return _this.legendSettings=new LegendSettings,_this.className=\"FlowDiagramNode\",_this.isMeasured=!1,new InterfaceColorSet_InterfaceColorSet,_this.draggable=!0,_this.inert=!0,_this.setStateOnChildren=!0,_this.events.on(\"positionchanged\",_this.invalidateLinks,_this,!1),_this.events.on(\"sizechanged\",_this.invalidateLinks,_this,!1),_this}return __extends(FlowDiagramNode,_super),FlowDiagramNode.prototype.handleHit=function(event){this.isHidden||this.isHiding?this.show():this.hide()},FlowDiagramNode.prototype.show=function(duration){var animation=_super.prototype.show.call(this,duration);return this.outgoingDataItems.each(function(dataItem){(!dataItem.toNode||dataItem.toNode&&!dataItem.toNode.isHidden)&&dataItem.setWorkingValue(\"value\",dataItem.getValue(\"value\"),duration)}),this.incomingDataItems.each(function(dataItem){(!dataItem.fromNode||dataItem.fromNode&&!dataItem.fromNode.isHidden)&&dataItem.setWorkingValue(\"value\",dataItem.getValue(\"value\"),duration)}),animation},FlowDiagramNode.prototype.hide=function(duration){var animation=_super.prototype.hide.call(this,duration);return this.outgoingDataItems.each(function(dataItem){dataItem.setWorkingValue(\"value\",0,duration)}),this.incomingDataItems.each(function(dataItem){dataItem.setWorkingValue(\"value\",0,duration)}),animation},FlowDiagramNode.prototype.validate=function(){this.isDisposed()||(_super.prototype.validate.call(this),this.invalidateLinks())},FlowDiagramNode.prototype.invalidateLinks=function(){var _this=this;this.outgoingDataItems.each(function(dataItem){var link=dataItem.link;if(\"fromNode\"==link.colorMode&&(link.fill=link.dataItem.fromNode.color),\"gradient\"==link.colorMode){link.fill=link.gradient,link.stroke=link.gradient;var stop_1=link.gradient.stops.getIndex(0);stop_1&&(stop_1.color=_this.color,link.gradient.validate())}}),this.incomingDataItems.each(function(dataItem){var link=dataItem.link;if(\"toNode\"==link.colorMode&&(link.fill=link.dataItem.toNode.color),\"gradient\"==link.colorMode){link.fill=link.gradient,link.stroke=link.gradient;var stop_2=link.gradient.stops.getIndex(1);stop_2&&(stop_2.color=_this.color,link.gradient.validate())}})},Object.defineProperty(FlowDiagramNode.prototype,\"incomingDataItems\",{get:function(){var _this=this;if(!this._incomingDataItems){var incomingDataItems=new List_List;incomingDataItems.events.on(\"inserted\",function(){_this._incomingSorted=\"name\"==_this.chart.sortBy?Iterator_sort(_this._incomingDataItems.iterator(),function(x,y){return order(x.fromName,y.fromName)}):\"value\"==_this.chart.sortBy?Iterator_sort(_this._incomingDataItems.iterator(),function(x,y){return reverse(Number_order(x.value,y.value))}):_this._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=incomingDataItems}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,\"outgoingDataItems\",{get:function(){var _this=this;if(!this._outgoingDataItems){var outgoingDataItems=new List_List;outgoingDataItems.events.on(\"inserted\",function(){_this._outgoingSorted=\"name\"==_this.chart.sortBy?Iterator_sort(_this._outgoingDataItems.iterator(),function(x,y){return order(x.fromName,y.fromName)}):\"value\"==_this.chart.sortBy?Iterator_sort(_this._outgoingDataItems.iterator(),function(x,y){return reverse(Number_order(x.value,y.value))}):_this._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=outgoingDataItems}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,\"name\",{get:function(){return this.getPropertyValue(\"name\")},set:function(value){this.setPropertyValue(\"name\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,\"total\",{get:function(){return this.getPropertyValue(\"total\")},set:function(value){this.setPropertyValue(\"total\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,\"totalIncoming\",{get:function(){return this.getPropertyValue(\"totalIncoming\")},set:function(value){this.setPropertyValue(\"totalIncoming\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,\"totalOutgoing\",{get:function(){return this.getPropertyValue(\"totalOutgoing\")},set:function(value){this.setPropertyValue(\"totalOutgoing\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,\"color\",{get:function(){return this.getPropertyValue(\"color\")},set:function(value){this.setColorProperty(\"color\",value),this._background&&(this._background.fill=value),this.fill=value},enumerable:!0,configurable:!0}),FlowDiagramNode.prototype.createLegendMarker=function(marker){var w=marker.pixelWidth,h=marker.pixelHeight;marker.removeChildren();var column=marker.createChild(RoundedRectangle_RoundedRectangle);column.shouldClone=!1,copyProperties(this,column,visualProperties),column.stroke=this.fill,column.copyFrom(this),column.padding(0,0,0,0),column.width=w,column.height=h;var legendDataItem=marker.dataItem;legendDataItem.color=column.fill,legendDataItem.colorOrig=column.fill},Object.defineProperty(FlowDiagramNode.prototype,\"legendDataItem\",{get:function(){return this._legendDataItem},set:function(value){this._legendDataItem=value,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),FlowDiagramNode}(Container_Container);Registry_registry.registeredClasses.FlowDiagramNode=FlowDiagramNode_FlowDiagramNode;var FlowDiagramLink_FlowDiagramLink=function(_super){function FlowDiagramLink(){var _this=_super.call(this)||this;_this.className=\"FlowDiagramLink\";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.maskBullets=!1,_this.colorMode=\"fromNode\",_this.layout=\"none\",_this.isMeasured=!1,_this.startAngle=0,_this.endAngle=0,_this.strokeOpacity=0,_this.verticalCenter=\"none\",_this.horizontalCenter=\"none\",_this.tooltipText=\"{fromName}→{toName}:{value.value}\",_this.tooltipLocation=.5,_this.link=_this.createChild(Sprite_Sprite),_this.link.shouldClone=!1,_this.link.setElement(_this.paper.add(\"path\")),_this.link.isMeasured=!1,_this.fillOpacity=.2,_this.fill=interfaceColors.getFor(\"alternativeBackground\"),_this.applyTheme(),_this}return __extends(FlowDiagramLink,_super),FlowDiagramLink.prototype.positionBullets=function(){var _this=this;Iterator_each(this.bullets.iterator(),function(bullet){bullet.parent=_this.bulletsContainer,bullet.maxWidth=_this.maxWidth,bullet.maxHeight=_this.maxHeight,_this.positionBullet(bullet)})},Object.defineProperty(FlowDiagramLink.prototype,\"bulletsContainer\",{get:function(){if(!this._bulletsContainer){var bulletsContainer=this.createChild(Container_Container);bulletsContainer.shouldClone=!1,bulletsContainer.layout=\"none\",this._bulletsContainer=bulletsContainer}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramLink.prototype,\"bulletsMask\",{get:function(){if(!this._bulletsMask){var bulletsMask=this.createChild(Sprite_Sprite);bulletsMask.shouldClone=!1,bulletsMask.setElement(this.paper.add(\"path\")),bulletsMask.isMeasured=!1,this._bulletsMask=bulletsMask}return this._bulletsMask},enumerable:!0,configurable:!0}),FlowDiagramLink.prototype.positionBullet=function(bullet){var location=bullet.locationX;isNumber(location)||(location=bullet.locationY),isNumber(location)||(location=.5);var angle,point=this.middleLine.positionToPoint(location);bullet.moveTo(point),bullet.dataItem&&(angle=bullet.dataItem.dataContext[bullet.propertyFields.rotation]),isNumber(angle)||(angle=point.angle),bullet.rotation=angle},Object.defineProperty(FlowDiagramLink.prototype,\"startAngle\",{get:function(){return this.getPropertyValue(\"startAngle\")},set:function(value){this.setPropertyValue(\"startAngle\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramLink.prototype,\"endAngle\",{get:function(){return this.getPropertyValue(\"endAngle\")},set:function(value){this.setPropertyValue(\"endAngle\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramLink.prototype,\"colorMode\",{get:function(){return this.getPropertyValue(\"colorMode\")},set:function(value){if(\"gradient\"==value){var color=this.fill;this.gradient.stops.clear(),color instanceof Color_Color&&(this.gradient.addColor(color),this.gradient.addColor(color)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue(\"colorMode\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramLink.prototype,\"maskBullets\",{get:function(){return this.getPropertyValue(\"maskBullets\")},set:function(value){this.setPropertyValue(\"maskBullets\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramLink.prototype,\"tooltipLocation\",{get:function(){return this.getPropertyValue(\"tooltipLocation\")},set:function(value){this.setPropertyValue(\"tooltipLocation\",value,!0)},enumerable:!0,configurable:!0}),FlowDiagramLink.prototype.setFill=function(value){_super.prototype.setFill.call(this,value);var gradient=this._gradient;gradient&&value instanceof Color_Color&&(gradient.stops.clear(),gradient.addColor(value),gradient.addColor(value))},FlowDiagramLink.prototype.measureElement=function(){},Object.defineProperty(FlowDiagramLink.prototype,\"bullets\",{get:function(){var _this=this;return this._bullets||(this._bullets=new List_ListTemplate(new Bullet_Bullet),this._disposers.push(new List_ListDisposer(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on(\"inserted\",function(event){event.newValue.events.on(\"propertychanged\",function(event){\"locationX\"!=event.property&&\"locationY\"!=event.property||_this.positionBullet(event.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),FlowDiagramLink.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.bullets.copyFrom(source.bullets);var middleLine=this.middleLine;middleLine&&(middleLine instanceof Line_Line&&source.middleLine instanceof Line_Line&&middleLine.copyFrom(source.middleLine),middleLine instanceof Polyline_Polyline&&source.middleLine instanceof Polyline_Polyline&&middleLine.copyFrom(source.middleLine)),this.link.copyFrom(source.link)},FlowDiagramLink.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},FlowDiagramLink.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(FlowDiagramLink.prototype,\"gradient\",{get:function(){return this._gradient||(this._gradient=new LinearGradient_LinearGradient),this._gradient},enumerable:!0,configurable:!0}),FlowDiagramLink}(Container_Container);Registry_registry.registeredClasses.FlowDiagramLink=FlowDiagramLink_FlowDiagramLink;var FlowDiagram_FlowDiagramDataItem=function(_super){function FlowDiagramDataItem(){var _this=_super.call(this)||this;return _this.className=\"FlowDiagramDataItem\",_this.values.value={},_this.applyTheme(),_this}return __extends(FlowDiagramDataItem,_super),Object.defineProperty(FlowDiagramDataItem.prototype,\"fromName\",{get:function(){return this.properties.fromName},set:function(value){this.setProperty(\"fromName\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramDataItem.prototype,\"toName\",{get:function(){return this.properties.toName},set:function(value){this.setProperty(\"toName\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramDataItem.prototype,\"color\",{get:function(){return this.properties.color},set:function(value){this.setProperty(\"color\",toColor(value))},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramDataItem.prototype,\"value\",{get:function(){return this.values.value.value},set:function(value){this.setValue(\"value\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramDataItem.prototype,\"link\",{get:function(){var _this=this;if(!this._link){var link_1=this.component.links.create();this._link=link_1,this.addSprite(link_1),this._disposers.push(new Disposer(function(){_this.component&&_this.component.links.removeValue(link_1)}))}return this._link},enumerable:!0,configurable:!0}),FlowDiagramDataItem}(Chart_ChartDataItem),FlowDiagram_FlowDiagram=function(_super){function FlowDiagram(){var _this=_super.call(this)||this;_this.colors=new ColorSet_ColorSet,_this.className=\"FlowDiagram\",_this.nodePadding=20,_this.sortBy=\"none\",_this.sequencedInterpolation=!0,_this.colors.step=2,_this.minNodeSize=.02;var linksContainer=_this.chartContainer.createChild(Container_Container);linksContainer.shouldClone=!1,linksContainer.layout=\"none\",linksContainer.isMeasured=!1,_this.linksContainer=linksContainer;var nodesContainer=_this.chartContainer.createChild(Container_Container);return nodesContainer.shouldClone=!1,nodesContainer.layout=\"none\",nodesContainer.isMeasured=!1,_this.nodesContainer=nodesContainer,_this.dataItem=_this.createDataItem(),_this.dataItem.component=_this,_this.applyTheme(),_this}return __extends(FlowDiagram,_super),FlowDiagram.prototype.dispose=function(){_super.prototype.dispose.call(this),this.dataItem.dispose()},FlowDiagram.prototype.validateData=function(){var _this=this;0==this._parseDataFrom&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),_super.prototype.validateData.call(this);var low,high,sum=0,count=0;Iterator_each(this.dataItems.iterator(),function(dataItem){var fromName=dataItem.fromName;fromName&&((node=_this.nodes.getKey(fromName))||((node=_this.nodes.create(fromName)).name=fromName,node.chart=_this,node.dataItem=dataItem),dataItem.fromNode=node,dataItem.fromNode.outgoingDataItems.push(dataItem));var node,toName=dataItem.toName;if(toName&&((node=_this.nodes.getKey(toName))||((node=_this.nodes.create(toName)).name=toName,node.chart=_this,node.dataItem=dataItem),dataItem.toNode=node,dataItem.toNode.incomingDataItems.push(dataItem)),!dataItem.fromNode){var strokeModifier=new LinearGradientModifier_LinearGradientModifier;strokeModifier.opacities=[0,1],dataItem.link.strokeModifier=strokeModifier}if(!dataItem.toNode){var fillModifier=new LinearGradientModifier_LinearGradientModifier;fillModifier.opacities=[1,0],dataItem.link.strokeModifier=fillModifier}var value=dataItem.value;isNumber(value)&&(sum+=value,count++,(low>value||!isNumber(low))&&(low=value),(high<value||!isNumber(high))&&(high=value))});var key=\"value\";this.dataItem.setCalculatedValue(key,high,\"high\"),this.dataItem.setCalculatedValue(key,low,\"low\"),this.dataItem.setCalculatedValue(key,sum,\"sum\"),this.dataItem.setCalculatedValue(key,sum/count,\"average\"),this.dataItem.setCalculatedValue(key,count,\"count\"),Iterator_each(this.nodes.iterator(),function(strNode){var node=strNode[1];node.fill instanceof Color_Color&&(node.color=node.fill),null==node.color&&(node.color=_this.colors.next()),null!=node.dataItem.color&&(node.color=node.dataItem.color),node.dataItem.visible||node.hide(0),_this.getNodeValue(node)}),this.sortNodes(),this.feedLegend()},FlowDiagram.prototype.handleDataItemWorkingValueChange=function(dataItem,name){this.invalidate()},FlowDiagram.prototype.sortNodes=function(){this._sorted=\"name\"==this.sortBy?this.nodes.sortedIterator():\"value\"==this.sortBy?Iterator_sort(this.nodes.iterator(),function(x,y){return reverse(Number_order(x[1].total,y[1].total))}):this.nodes.iterator()},FlowDiagram.prototype.getNodeValue=function(node){var incomingTotal=0,outgoingTotal=0;Iterator_each(node.incomingDataItems.iterator(),function(dataItem){var value=dataItem.getWorkingValue(\"value\");isNumber(value)&&(incomingTotal+=value)}),Iterator_each(node.outgoingDataItems.iterator(),function(dataItem){var value=dataItem.getWorkingValue(\"value\");isNumber(value)&&(outgoingTotal+=value)}),node.total=incomingTotal+outgoingTotal,node.totalIncoming=incomingTotal,node.totalOutgoing=outgoingTotal},FlowDiagram.prototype.changeSorting=function(){this.sortNodes()},FlowDiagram.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Flow diagram\"))},FlowDiagram.prototype.createDataItem=function(){return new FlowDiagram_FlowDiagramDataItem},Object.defineProperty(FlowDiagram.prototype,\"nodePadding\",{get:function(){return this.getPropertyValue(\"nodePadding\")},set:function(value){this.setPropertyValue(\"nodePadding\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagram.prototype,\"sortBy\",{get:function(){return this.getPropertyValue(\"sortBy\")},set:function(value){this.setPropertyValue(\"sortBy\",value),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagram.prototype,\"minNodeSize\",{get:function(){return this.getPropertyValue(\"minNodeSize\")},set:function(value){this.setPropertyValue(\"minNodeSize\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagram.prototype,\"nodes\",{get:function(){if(!this._nodes){var template=this.createNode();template.events.on(\"hit\",function(event){event.target.handleHit(event)}),this._nodes=new Dictionary_DictionaryTemplate(template),this._disposers.push(new Dictionary_DictionaryDisposer(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),FlowDiagram.prototype.createNode=function(){var node=new FlowDiagramNode_FlowDiagramNode;return this._disposers.push(node),node},Object.defineProperty(FlowDiagram.prototype,\"links\",{get:function(){return this._links||(this._links=new List_ListTemplate(this.createLink()),this._disposers.push(new List_ListDisposer(this._links))),this._links},enumerable:!0,configurable:!0}),FlowDiagram.prototype.createLink=function(){var link=new FlowDiagramLink_FlowDiagramLink;return this._disposers.push(link),link},FlowDiagram.prototype.feedLegend=function(){var legend=this.legend;if(legend){var legendData_1=[];this.nodes.each(function(key,node){legendData_1.push(node)}),legend.data=legendData_1,legend.dataFields.name=\"name\"}},FlowDiagram.prototype.disposeData=function(){_super.prototype.disposeData.call(this),this.nodes.clear()},FlowDiagram}(Chart_Chart);Registry_registry.registeredClasses.FlowDiagram=FlowDiagram_FlowDiagram;var LabelBullet_LabelBullet=function(_super){function LabelBullet(){var _this=_super.call(this)||this;_this.className=\"LabelBullet\";var label=_this.createChild(Label_Label);return label.shouldClone=!1,label.verticalCenter=\"middle\",label.horizontalCenter=\"middle\",label.truncate=!0,label.hideOversized=!1,label.maxWidth=500,label.maxHeight=500,label.stroke=Color_color(),label.strokeOpacity=0,label.fill=(new InterfaceColorSet_InterfaceColorSet).getFor(\"text\"),_this.events.on(\"maxsizechanged\",_this.handleMaxSize,_this,!1),_this.label=label,_this.applyTheme(),_this}return __extends(LabelBullet,_super),LabelBullet.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},LabelBullet.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.label.copyFrom(source.label)},LabelBullet}(Bullet_Bullet);Registry_registry.registeredClasses.LabelBullet=LabelBullet_LabelBullet;var SankeyNode_SankeyNode=function(_super){function SankeyNode(){var _this=_super.call(this)||this;_this.nextInCoord=0,_this.nextOutCoord=0,_this.className=\"SankeyNode\",_this.width=10,_this.height=10;var nameLabel=_this.createChild(LabelBullet_LabelBullet);nameLabel.shouldClone=!1,nameLabel.locationX=1,nameLabel.locationY=.5,nameLabel.label.text=\"{name}\",nameLabel.width=150,nameLabel.height=150,nameLabel.label.horizontalCenter=\"left\",nameLabel.label.padding(0,5,0,5),_this.nameLabel=nameLabel;var valueLabel=_this.createChild(LabelBullet_LabelBullet);valueLabel.shouldClone=!1,valueLabel.label.hideOversized=!1,valueLabel.locationX=.5,valueLabel.locationY=.5,valueLabel.width=150,valueLabel.height=150,valueLabel.label.horizontalCenter=\"middle\",_this.valueLabel=valueLabel;var hiddenState=_this.hiddenState;return hiddenState.properties.fill=(new InterfaceColorSet_InterfaceColorSet).getFor(\"disabledBackground\"),hiddenState.properties.opacity=.5,hiddenState.properties.visible=!0,_this.background.hiddenState.copyFrom(hiddenState),_this}return __extends(SankeyNode,_super),SankeyNode.prototype.invalidateLinks=function(){var _this=this;_super.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var chart=this.chart;if(chart){var orientation_1=chart.orientation;this._incomingSorted&&Iterator_each(this._incomingSorted,function(dataItem){var link=dataItem.link,value=dataItem.getWorkingValue(\"value\");if(isNumber(value)){link.parent=_this.chart.linksContainer;var x=void 0,y=void 0,angle=void 0;if(\"horizontal\"==orientation_1?(x=_this.pixelX+_this.dx,y=_this.nextInCoord+_this.pixelY+_this.dy,angle=0):(y=_this.pixelY+_this.dy,x=_this.nextInCoord+_this.pixelX+_this.dx,angle=90),link.endX=x,link.endY=y,link.startAngle=angle,link.endAngle=angle,link.gradient.rotation=angle,link.linkWidth=value*chart.valueHeight,!dataItem.fromNode){\"horizontal\"==orientation_1?(link.maxWidth=200,link.startX=_this.pixelX+_this.dx-link.maxWidth,link.startY=link.endY):(link.maxHeight=200,link.startX=link.endX,link.startY=_this.pixelY+_this.dy-link.maxHeight),link.fill=dataItem.toNode.color;var stop_1=link.gradient.stops.getIndex(0);stop_1&&(\"gradient\"==link.colorMode&&(stop_1.color=_this.color),stop_1.opacity=0,link.fill=link.gradient,link.stroke=link.gradient,link.gradient.validate())}_this.nextInCoord+=link.linkWidth}}),this._outgoingSorted&&Iterator_each(this._outgoingSorted,function(dataItem){var link=dataItem.link;link.parent=_this.chart.linksContainer;var value=dataItem.getWorkingValue(\"value\");if(isNumber(value)){var x=void 0,y=void 0,angle=void 0;if(\"horizontal\"==orientation_1?(angle=0,x=_this.pixelX+_this.pixelWidth+_this.dx-1,y=_this.nextOutCoord+_this.pixelY+_this.dy):(angle=90,x=_this.nextOutCoord+_this.pixelX+_this.dx,y=_this.pixelY+_this.pixelHeight+_this.dy-1),link.startX=x,link.startY=y,link.startAngle=angle,link.endAngle=angle,link.gradient.rotation=angle,link.linkWidth=value*_this.chart.valueHeight,!dataItem.toNode){\"horizontal\"==orientation_1?(link.maxWidth=200,link.endX=_this.pixelX+link.maxWidth+_this.dx,link.endY=link.startY):(link.maxHeight=200,link.endX=link.startX,link.endY=_this.pixelY+link.maxHeight+_this.dy),link.opacity=_this.opacity;var stop_2=link.gradient.stops.getIndex(1);stop_2&&(\"gradient\"==link.colorMode&&(stop_2.color=_this.color),stop_2.opacity=0,link.fill=link.gradient,link.stroke=link.gradient,link.gradient.validate())}_this.nextOutCoord+=link.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},SankeyNode.prototype.positionBullet=function(bullet){bullet&&(bullet.x=this.measuredWidth*bullet.locationX,bullet.y=this.measuredHeight*bullet.locationY)},Object.defineProperty(SankeyNode.prototype,\"level\",{get:function(){return this.getPropertyValue(\"level\")},set:function(value){this.setPropertyValue(\"level\",value,!0)},enumerable:!0,configurable:!0}),SankeyNode.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.nameLabel.copyFrom(source.nameLabel),this.valueLabel.copyFrom(source.valueLabel)},SankeyNode}(FlowDiagramNode_FlowDiagramNode);Registry_registry.registeredClasses.SankeyNode=SankeyNode_SankeyNode;var SankeyLink_SankeyLink=function(_super){function SankeyLink(){var _this=_super.call(this)||this;return _this.className=\"SankeyLink\",new InterfaceColorSet_InterfaceColorSet,_this.tension=.8,_this.controlPointDistance=.2,_this.startAngle=0,_this.endAngle=0,_this.linkWidth=0,_this.startX=0,_this.endX=0,_this.startY=0,_this.endY=0,_this.middleLine=_this.createChild(Polyspline_Polyspline),_this.middleLine.shouldClone=!1,_this.middleLine.strokeOpacity=0,_this.applyTheme(),_this}return __extends(SankeyLink,_super),SankeyLink.prototype.validate=function(){if(_super.prototype.validate.call(this),!this.isTemplate){var x0=this.startX,y0=this.startY,x1=this.endX,y1=this.endY;isNumber(x1)||(x1=x0),isNumber(y1)||(y1=y0);var startAngle=this.startAngle,endAngle=this.endAngle,w=this.linkWidth,path=\"\",xt0=x0,yt0=y0,xt1=x1,yt1=y1,xb0=x0+w*Math_sin(startAngle),xb1=x1+w*Math_sin(endAngle),yb0=y0+w*Math_cos(startAngle),yb1=y1+w*Math_cos(endAngle),xm0=x0+w/2*Math_sin(startAngle),xm1=x1+w/2*Math_sin(endAngle),ym0=y0+w/2*Math_cos(startAngle),ym1=y1+w/2*Math_cos(endAngle);this.zIndex=this.zIndex||this.dataItem.index;var tensionX=this.tension+(1-this.tension)*Math_sin(startAngle),tensionY=this.tension+(1-this.tension)*Math_cos(startAngle);if(this.middleLine.tensionX=tensionX,this.middleLine.tensionY=tensionY,isNumber(w)&&isNumber(x0)&&isNumber(x1)&&isNumber(y0)&&isNumber(y1)){Math_round(xt0,3)==Math_round(xt1,3)&&(xt1+=.01),Math_round(yt0,3)==Math_round(yt1,3)&&(yt1+=.01),Math_round(xb0,3)==Math_round(xb1,3)&&(xb1+=.01),Math_round(yb0,3)==Math_round(yb1,3)&&(yb1+=.01);var minX=Math.min(xb0,xb1,xt0,xt1),minY=Math.min(yb0,yb1,yt0,yt1),maxX=Math.max(xb0,xb1,xt0,xt1),maxY=Math.max(yb0,yb1,yt0,yt1);this._bbox={x:minX,y:minY,width:maxX-minX,height:maxY-minY};var cpd=this.controlPointDistance,kxt0=xt0+(xt1-xt0)*cpd*Math_cos(startAngle),kyt0=yt0+(yt1-yt0)*cpd*Math_sin(startAngle),kxt1=xt1-(xt1-xt0)*cpd*Math_cos(endAngle),kyt1=yt1-(yt1-yt0)*cpd*Math_sin(endAngle),kxm0=xm0+(xm1-xm0)*cpd*Math_cos(startAngle),kym0=ym0+(ym1-ym0)*cpd*Math_sin(startAngle),kxm1=xm1-(xm1-xm0)*cpd*Math_cos(endAngle),kym1=ym1-(ym1-ym0)*cpd*Math_sin(endAngle),angle=getAngle({x:kxt0,y:kyt0},{x:kxt1,y:kyt1}),dx=(w/Math_cos(angle)-w)/tan(angle)*Math_cos(startAngle),dy=(w/Math_sin(angle)-w)*tan(angle)*Math_sin(startAngle),kxb0=-dx/2+xb0+(xb1-xb0)*cpd*Math_cos(startAngle),kyb0=-dy/2+yb0+(yb1-yb0)*cpd*Math_sin(startAngle),kxb1=-dx/2+xb1-(xb1-xb0)*cpd*Math_cos(endAngle),kyb1=-dy/2+yb1-(yb1-yb0)*cpd*Math_sin(endAngle);this.middleLine.segments=[[{x:xm0,y:ym0},{x:kxm0,y:kym0},{x:kxm1,y:kym1},{x:xm1,y:ym1}]],kxt0+=dx/2,kyt0+=dy/2,kxt1+=dx/2,kyt1+=dy/2,path+=moveTo({x:xt0,y:yt0}),path+=new Smoothing_Tension(tensionX,tensionY).smooth([{x:xt0,y:yt0},{x:kxt0,y:kyt0},{x:kxt1,y:kyt1},{x:xt1,y:yt1}]),path+=lineTo({x:xb1,y:yb1}),path+=new Smoothing_Tension(tensionX,tensionY).smooth([{x:xb1,y:yb1},{x:kxb1,y:kyb1},{x:kxb0,y:kyb0},{x:xb0,y:yb0}]),path+=\" Z\"}this.link.path=path,this.maskBullets&&(this.bulletsMask.path=path,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(SankeyLink.prototype,\"startX\",{get:function(){return this.getPropertyValue(\"startX\")},set:function(value){this.setPropertyValue(\"startX\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,\"endX\",{get:function(){return this.getPropertyValue(\"endX\")},set:function(value){this.setPropertyValue(\"endX\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,\"startY\",{get:function(){return this.getPropertyValue(\"startY\")},set:function(value){this.setPropertyValue(\"startY\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,\"endY\",{get:function(){return this.getPropertyValue(\"endY\")},set:function(value){this.setPropertyValue(\"endY\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,\"linkWidth\",{get:function(){return this.getPropertyValue(\"linkWidth\")},set:function(value){this.setPropertyValue(\"linkWidth\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,\"controlPointDistance\",{get:function(){return this.getPropertyValue(\"controlPointDistance\")},set:function(value){this.setPropertyValue(\"controlPointDistance\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,\"tension\",{get:function(){return this.getPropertyValue(\"tension\")},set:function(value){this.setPropertyValue(\"tension\",value,!0)},enumerable:!0,configurable:!0}),SankeyLink}(FlowDiagramLink_FlowDiagramLink);Registry_registry.registeredClasses.SankeyLink=SankeyLink_SankeyLink;var SankeyDiagram_SankeyDiagramDataItem=function(_super){function SankeyDiagramDataItem(){var _this=_super.call(this)||this;return _this.className=\"SankeyDiagramDataItem\",_this.applyTheme(),_this}return __extends(SankeyDiagramDataItem,_super),SankeyDiagramDataItem}(FlowDiagram_FlowDiagramDataItem),SankeyDiagram_SankeyDiagram=function(_super){function SankeyDiagram(){var _this=_super.call(this)||this;return _this.className=\"SankeyDiagram\",_this.orientation=\"horizontal\",_this.nodeAlign=\"middle\",_this.nodesContainer.width=Percent_percent(100),_this.nodesContainer.height=Percent_percent(100),_this.linksContainer.width=Percent_percent(100),_this.linksContainer.height=Percent_percent(100),_this.applyTheme(),_this}return __extends(SankeyDiagram,_super),SankeyDiagram.prototype.validateData=function(){var _this=this;_super.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(key,node){node.level=void 0}),this.nodes.each(function(key,node){node.level=_this.getNodeLevel(node,0),_this._levelCount=Math_max(_this._levelCount,node.level)})},SankeyDiagram.prototype.getNodeLevel=function(node,level){var _this=this,levels=[level];return Iterator_each(node.incomingDataItems.iterator(),function(link){link.fromNode&&(isNumber(link.fromNode.level)?levels.push(link.fromNode.level+1):levels.push(_this.getNodeLevel(link.fromNode,level+1)))}),Math.max.apply(Math,__spread(levels))},SankeyDiagram.prototype.calculateValueHeight=function(){var _this=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var availableHeight,maxSumLevel,total=this.dataItem.values.value.sum;Iterator_each(this._sorted,function(strNode){_this.getNodeValue(strNode[1])}),this.nodes.each(function(key,node){var level=node.level,value=Math.max(node.totalIncoming,node.totalOutgoing);value/total<_this.minNodeSize&&(value=total*_this.minNodeSize),isNumber(_this._levelSum[level])?_this._levelSum[level]+=value:_this._levelSum[level]=value,isNumber(_this._levelNodesCount[level])?_this._levelNodesCount[level]++:_this._levelNodesCount[level]=1}),availableHeight=\"horizontal\"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,Object_each(this._levelSum,function(key,value){var realValue=value;_this.maxSum<(value=value*availableHeight/(availableHeight-(_this._levelNodesCount[key]-1)*_this.nodePadding))&&(_this.maxSum=realValue,maxSumLevel=toNumber(key))}),this._maxSumLevel=maxSumLevel;var valueHeight=(availableHeight-(this._levelNodesCount[this._maxSumLevel]-1)*this.nodePadding)/this.maxSum;if(isNumber(this.valueHeight)){var finalHeight=void 0;try{finalHeight=this._heightAnimation.animationOptions[0].to}catch(err){}if(finalHeight!=valueHeight){var duration=this.interpolationDuration;try{duration=this.nodes.template.states.getKey(\"active\").transitionDuration}catch(err){}this._heightAnimation=new Animation_Animation(this,{property:\"valueHeight\",from:this.valueHeight,to:valueHeight},duration,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}else this.valueHeight=valueHeight},SankeyDiagram.prototype.validate=function(){var _this=this;_super.prototype.validate.call(this),this.calculateValueHeight();var container=this.nodesContainer,nextCoordinate={},maxSumLevelNodeCount=this._levelNodesCount[this._maxSumLevel],total=this.dataItem.values.value.sum;Iterator_each(this._sorted,function(strNode){var x,y,node=strNode[1],level=node.level,levelCoordinate=0,nodeCount=_this._levelNodesCount[level];switch(_this.nodeAlign){case\"bottom\":levelCoordinate=(_this.maxSum-_this._levelSum[level])*_this.valueHeight-(nodeCount-maxSumLevelNodeCount)*_this.nodePadding;break;case\"middle\":levelCoordinate=(_this.maxSum-_this._levelSum[level])*_this.valueHeight/2-(nodeCount-maxSumLevelNodeCount)*_this.nodePadding/2}node.parent=container;var value=Math.max(node.totalIncoming,node.totalOutgoing);if(value/total<_this.minNodeSize&&(value=total*_this.minNodeSize),\"horizontal\"==_this.orientation){x=(_this.innerWidth-node.pixelWidth)/_this._levelCount*node.level,y=nextCoordinate[level]||levelCoordinate;var h=value*_this.valueHeight;node.height=h,node.minX=x,node.maxX=x,nextCoordinate[level]=y+h+_this.nodePadding}else{x=nextCoordinate[level]||levelCoordinate,y=(_this.innerHeight-node.pixelHeight)/_this._levelCount*node.level;var w=value*_this.valueHeight;node.width=w,node.minY=y,node.maxY=y,nextCoordinate[level]=x+w+_this.nodePadding}node.x=x,node.y=y})},SankeyDiagram.prototype.showReal=function(duration){var _this=this;if(this.interpolationDuration>0){var container_1=this.nodesContainer,i_1=0;Iterator_each(this.links.iterator(),function(link){link.hide(0)}),Iterator_each(this._sorted,function(strNode){var property,node=strNode[1];\"horizontal\"==_this.orientation?(node.dx=-(container_1.pixelWidth-node.pixelWidth)/_this._levelCount,property=\"dx\"):(node.dy=-(container_1.pixelHeight-node.pixelHeight)/_this._levelCount,property=\"dy\");var iter,sum,delay=0;_this.sequencedInterpolation&&(delay=_this.sequencedInterpolationDelay*i_1+_this.interpolationDuration*i_1/(iter=_this.nodes.iterator(),sum=0,iter(function(_){return++sum,!0}),sum)),node.opacity=0,node.invalidateLinks(),node.animate([{property:\"opacity\",from:0,to:1},{property:property,to:0}],_this.interpolationDuration,_this.interpolationEasing).delay(delay),Iterator_each(node.outgoingDataItems.iterator(),function(dataItem){var animation=dataItem.link.show(_this.interpolationDuration);animation&&!animation.isFinished()&&animation.delay(delay)}),Iterator_each(node.incomingDataItems.iterator(),function(dataItem){if(!dataItem.fromNode){var animation=dataItem.link.show(_this.interpolationDuration);animation&&!animation.isFinished()&&animation.delay(delay)}}),i_1++})}return _super.prototype.showReal.call(this)},SankeyDiagram.prototype.changeSorting=function(){var _this=this;this.sortNodes();var nextCoordinate={};Iterator_each(this._sorted,function(strNode){var property,nodeHeight,node=strNode[1],level=node.level,levelCoordinate=(_this.maxSum-_this._levelSum[level])*_this.valueHeight/2;\"horizontal\"==_this.orientation?(property=\"y\",nodeHeight=node.pixelHeight):(property=\"x\",nodeHeight=node.pixelWidth),node.animate({property:property,to:nextCoordinate[level]||levelCoordinate},_this.interpolationDuration,_this.interpolationEasing),nextCoordinate[level]=(nextCoordinate[level]||levelCoordinate)+nodeHeight+_this.nodePadding,node.invalidateLinks()})},SankeyDiagram.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Sankey diagram\"))},SankeyDiagram.prototype.createDataItem=function(){return new SankeyDiagram_SankeyDiagramDataItem},Object.defineProperty(SankeyDiagram.prototype,\"nodeAlign\",{get:function(){return this.getPropertyValue(\"nodeAlign\")},set:function(value){this.setPropertyValue(\"nodeAlign\",value),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyDiagram.prototype,\"orientation\",{get:function(){return this.getPropertyValue(\"orientation\")},set:function(value){this.setPropertyValue(\"orientation\",value,!0);var nameLabel=this.nodes.template.nameLabel;\"vertical\"==value?(this.nodes.template.width=void 0,nameLabel.label.horizontalCenter=\"middle\",nameLabel.locationX=.5):(this.nodes.template.height=void 0,nameLabel.label.horizontalCenter=\"left\",nameLabel.locationX=1)},enumerable:!0,configurable:!0}),SankeyDiagram.prototype.createNode=function(){var node=new SankeyNode_SankeyNode;return this._disposers.push(node),node},SankeyDiagram.prototype.createLink=function(){var link=new SankeyLink_SankeyLink;return this._disposers.push(link),link},Object.defineProperty(SankeyDiagram.prototype,\"valueHeight\",{get:function(){return this._valueHeight},set:function(value){value!=this._valueHeight&&(this._valueHeight=value,this.invalidate())},enumerable:!0,configurable:!0}),SankeyDiagram.prototype.disposeData=function(){_super.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},SankeyDiagram}(FlowDiagram_FlowDiagram);Registry_registry.registeredClasses.SankeyDiagram=SankeyDiagram_SankeyDiagram;var ChordNode_ChordNode=function(_super){function ChordNode(){var _this=_super.call(this)||this;_this.className=\"ChordNode\";var label=_this.createChild(AxisLabelCircular_AxisLabelCircular);label.location=.5,label.radius=5,label.text=\"{name}\",label.zIndex=1,label.shouldClone=!1,_this.label=label,_this.layout=\"none\",_this.events.on(\"positionchanged\",_this.updateRotation,_this,!1),_this.isMeasured=!1,_this.slice=_this.createChild(Slice_Slice),_this.slice.isMeasured=!1;var hiddenState=_this.hiddenState;return hiddenState.properties.fill=(new InterfaceColorSet_InterfaceColorSet).getFor(\"disabledBackground\"),hiddenState.properties.opacity=.5,hiddenState.properties.visible=!0,_this.setStateOnChildren=!1,_this.slice.hiddenState.properties.visible=!0,_this.adapter.add(\"tooltipX\",function(tooltipX,target){return target.slice.ix*(target.slice.radius-(target.slice.radius-target.slice.pixelInnerRadius)/2)}),_this.adapter.add(\"tooltipY\",function(tooltipY,target){return target.slice.iy*(target.slice.radius-(target.slice.radius-target.slice.pixelInnerRadius)/2)}),_this}return __extends(ChordNode,_super),ChordNode.prototype.invalidateLinks=function(){var _this=this;_super.prototype.invalidateLinks.call(this);var label=this.label,slice=this.slice,chart=this.chart;if(chart&&slice){var sum=this.total,arc_1=slice.arc,sliceStartAngle_1=slice.startAngle;this.children.each(function(child){if(child instanceof Bullet_Bullet){var locationX=child.locationX;isNumber(locationX)||(locationX=.5);var locationY=child.locationY;isNumber(locationY)||(locationY=1);var childAngle=sliceStartAngle_1+arc_1*locationX,childRadius=locationY*slice.radius;child.x=childRadius*Math_cos(childAngle),child.y=childRadius*Math_sin(childAngle)}});var labelAngle=sliceStartAngle_1+arc_1*label.location,startAngle=sliceStartAngle_1+(1-sum/this.adjustedTotal)*arc_1*.5;Type_isNaN(startAngle)&&(startAngle=sliceStartAngle_1),label.fixPosition(labelAngle,slice.radius),this.nextAngle=startAngle,this._outgoingSorted&&Iterator_each(this._outgoingSorted,function(dataItem){var link=dataItem.link;link.parent=_this.chart.linksContainer;var value=dataItem.getWorkingValue(\"value\");if(isNumber(value)){if(chart.nonRibbon){var percentWidth=link.percentWidth;isNumber(percentWidth)||(percentWidth=5),link.startAngle=sliceStartAngle_1+arc_1/2-arc_1/2*(percentWidth/=100),link.arc=arc_1*percentWidth}else link.arc=value*chart.valueAngle,link.startAngle=_this.nextAngle,_this.nextAngle+=link.arc;dataItem.toNode||(link.endAngle=link.startAngle),link.radius=slice.pixelInnerRadius}}),this._incomingSorted&&Iterator_each(this._incomingSorted,function(dataItem){var link=dataItem.link;if(link.radius=slice.pixelInnerRadius,chart.nonRibbon){var percentWidth=link.percentWidth;isNumber(percentWidth)||(percentWidth=5),link.endAngle=sliceStartAngle_1+arc_1/2-arc_1/2*(percentWidth/=100),link.arc=arc_1*percentWidth}else{link.endAngle=_this.nextAngle;var value=dataItem.getWorkingValue(\"value\");isNumber(value)&&(link.arc=value*chart.valueAngle,_this.nextAngle+=link.arc)}dataItem.fromNode||(link.startAngle=link.endAngle)})}},ChordNode.prototype.updateRotation=function(){var slice=this.slice,mAngle=this.trueStartAngle+slice.arc/2,radius=slice.radius,tx=radius*Math_cos(mAngle),ty=radius*Math_sin(mAngle),angle=getAngle({x:tx+this.pixelX,y:ty+this.pixelY});slice.startAngle=this.trueStartAngle+(angle-mAngle),this.dx=-this.pixelX,this.dy=-this.pixelY},ChordNode.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.label.copyFrom(source.label),this.slice.copyFrom(source.slice)},ChordNode}(FlowDiagramNode_FlowDiagramNode);Registry_registry.registeredClasses.ChordNode=ChordNode_ChordNode;var QuadraticCurve_QuadraticCurve=function(_super){function QuadraticCurve(){var _this=_super.call(this)||this;return _this.className=\"QuadraticCurve\",_this.element=_this.paper.add(\"path\"),_this.pixelPerfect=!1,_this.fill=Color_color(),_this.applyTheme(),_this}return __extends(QuadraticCurve,_super),QuadraticCurve.prototype.draw=function(){if(isNumber(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var p2={x:this.x2,y:this.y2},cp={x:this.cpx,y:this.cpy},d=moveTo({x:this.x1,y:this.y1})+quadraticCurveTo(p2,cp);this.path=d}},Object.defineProperty(QuadraticCurve.prototype,\"cpx\",{get:function(){return this.getPropertyValue(\"cpx\")},set:function(value){this.setPropertyValue(\"cpx\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(QuadraticCurve.prototype,\"cpy\",{get:function(){return this.getPropertyValue(\"cpy\")},set:function(value){this.setPropertyValue(\"cpy\",value,!0)},enumerable:!0,configurable:!0}),QuadraticCurve.prototype.positionToPoint=function(position){var p1={x:this.x1,y:this.y1},cp={x:this.cpx,y:this.cpy},p2={x:this.x2,y:this.y2},point1=getPointOnQuadraticCurve(p1,p2,cp,position),point2=getPointOnQuadraticCurve(p1,p2,cp,position+.001);return{x:point1.x,y:point1.y,angle:getAngle(point1,point2)}},QuadraticCurve}(Line_Line),ChordLink_ChordLink=function(_super){function ChordLink(){var _this=_super.call(this)||this;return _this.className=\"ChordLink\",_this.middleLine=_this.createChild(QuadraticCurve_QuadraticCurve),_this.middleLine.shouldClone=!1,_this.middleLine.strokeOpacity=0,_this.applyTheme(),_this}return __extends(ChordLink,_super),ChordLink.prototype.validate=function(){if(_super.prototype.validate.call(this),!this.isTemplate){var startAngle=this.startAngle,endAngle=this.endAngle,arc=this.arc,radius=this.radius,fromNode=this.dataItem.fromNode,toNode=this.dataItem.toNode,fromX=0,fromY=0;fromNode&&(fromX=fromNode.pixelX+fromNode.dx,fromY=fromNode.pixelY+fromNode.dy);var toX=0,toY=0;if(toNode&&(toX=toNode.pixelX+toNode.dx,toY=toNode.pixelY+toNode.dy),radius>0){var x1=radius*Math_cos(startAngle)+fromX,y1=radius*Math_sin(startAngle)+fromY,x2=radius*Math_cos(endAngle)+toX,y2=radius*Math_sin(endAngle)+toY,cp={x:0,y:0},path=moveTo({x:x1,y:y1});path+=arcTo(startAngle,arc,radius),path+=quadraticCurveTo({x:x2,y:y2},cp),path+=arcTo(endAngle,arc,radius),path+=quadraticCurveTo({x:x1,y:y1},cp),this.link.path=arc>0?path:\"\",this.maskBullets&&(this.bulletsMask.path=path,this.bulletsContainer.mask=this.bulletsMask);var mAngle1=startAngle+arc/2,mAngle2=endAngle+arc/2,middleLine=this.middleLine;middleLine.x1=radius*Math_cos(mAngle1)+fromX,middleLine.y1=radius*Math_sin(mAngle1)+fromY,middleLine.x2=radius*Math_cos(mAngle2)+toX,middleLine.y2=radius*Math_sin(mAngle2)+toY,middleLine.cpx=0,middleLine.cpy=0,middleLine.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(ChordLink.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPropertyValue(\"radius\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ChordLink.prototype,\"arc\",{get:function(){return this.getPropertyValue(\"arc\")},set:function(value){this.setPropertyValue(\"arc\",value,!0)},enumerable:!0,configurable:!0}),ChordLink}(FlowDiagramLink_FlowDiagramLink);Registry_registry.registeredClasses.ChordLink=ChordLink_ChordLink;var ChordDiagram_ChordDiagramDataItem=function(_super){function ChordDiagramDataItem(){var _this=_super.call(this)||this;return _this.className=\"ChordDiagramDataItem\",_this.applyTheme(),_this}return __extends(ChordDiagramDataItem,_super),ChordDiagramDataItem}(FlowDiagram_FlowDiagramDataItem),ChordDiagram_ChordDiagram=function(_super){function ChordDiagram(){var _this=_super.call(this)||this;_this.valueAngle=0,_this.className=\"ChordDiagram\",_this.startAngle=-90,_this.endAngle=270,_this.radius=Percent_percent(80),_this.innerRadius=-15,_this.nodePadding=5;var chordContainer=_this.chartContainer.createChild(Container_Container);return chordContainer.align=\"center\",chordContainer.valign=\"middle\",chordContainer.shouldClone=!1,chordContainer.layout=\"absolute\",_this.chordContainer=chordContainer,_this.nodesContainer.parent=chordContainer,_this.linksContainer.parent=chordContainer,_this.chartContainer.events.on(\"maxsizechanged\",_this.invalidate,_this,!1),_this.applyTheme(),_this}return __extends(ChordDiagram,_super),ChordDiagram.prototype.validate=function(){var _this=this,chartContainer=this.chartContainer,endAngle=this.endAngle,startAngle=this.startAngle+this.nodePadding/2,rect=getArcRect(this.startAngle,this.endAngle,1);rect=getCommonRectangle([rect,{x:0,y:0,width:0,height:0}]);var maxRadius=Math.min(chartContainer.innerWidth/rect.width,chartContainer.innerHeight/rect.height);isNumber(maxRadius)||(maxRadius=0);var radius=relativeRadiusToValue(this.radius,maxRadius),pixelInnerRadius=relativeRadiusToValue(this.innerRadius,radius,!0),total=this.dataItem.values.value.sum,count=0,newTotal=0;Iterator_each(this._sorted,function(strNode){var node=strNode[1];_this.getNodeValue(node),count++;var value=node.total;node.total/total<_this.minNodeSize&&(value=total*_this.minNodeSize),newTotal+=value}),this.valueAngle=(endAngle-this.startAngle-this.nodePadding*count)/newTotal,Iterator_each(this._sorted,function(strNode){var node=strNode[1],slice=node.slice;slice.radius=radius,slice.innerRadius=pixelInnerRadius;var arc,value=node.total;node.total/total<_this.minNodeSize&&(value=total*_this.minNodeSize),node.adjustedTotal=value,slice.arc=arc=_this.nonRibbon?(endAngle-_this.startAngle)/count-_this.nodePadding:_this.valueAngle*value,slice.startAngle=startAngle,node.trueStartAngle=startAngle,node.parent=_this.nodesContainer,node.validate(),startAngle+=arc+_this.nodePadding}),this.chordContainer.definedBBox={x:radius*rect.x,y:radius*rect.y,width:radius*rect.width,height:radius*rect.height},this.chordContainer.invalidateLayout(),_super.prototype.validate.call(this)},ChordDiagram.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Chord diagram\"))},ChordDiagram.prototype.createDataItem=function(){return new ChordDiagram_ChordDiagramDataItem},Object.defineProperty(ChordDiagram.prototype,\"startAngle\",{get:function(){return this.getPropertyValue(\"startAngle\")},set:function(value){this.setPropertyValue(\"startAngle\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ChordDiagram.prototype,\"endAngle\",{get:function(){return this.getPropertyValue(\"endAngle\")},set:function(value){this.setPropertyValue(\"endAngle\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ChordDiagram.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(ChordDiagram.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(ChordDiagram.prototype,\"nonRibbon\",{get:function(){return this.getPropertyValue(\"nonRibbon\")},set:function(value){this.setPropertyValue(\"nonRibbon\",value,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),ChordDiagram.prototype.createNode=function(){var node=new ChordNode_ChordNode;return this._disposers.push(node),node},ChordDiagram.prototype.createLink=function(){var link=new ChordLink_ChordLink;return this._disposers.push(link),link},ChordDiagram}(FlowDiagram_FlowDiagram);Registry_registry.registeredClasses.ChordDiagram=ChordDiagram_ChordDiagram;var Column_Column=function(_super){function Column(){var _this=_super.call(this)||this;return _this.className=\"Column\",_this.width=Percent_percent(80),_this.height=Percent_percent(80),_this.applyOnClones=!0,_this.strokeOpacity=1,_this.layout=\"none\",_this.createAssets(),_this.events.on(\"childadded\",_this.handleKidAdded,_this,!1),_this}return __extends(Column,_super),Column.prototype.handleKidAdded=function(){\"none\"==this.layout&&(this.layout=\"absolute\")},Column.prototype.createAssets=function(){this.column=this.createChild(RoundedRectangle_RoundedRectangle),this.column.shouldClone=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},Column.prototype.validate=function(){_super.prototype.validate.call(this);var column=this.column;column&&(column.width=Math_min(this.pixelWidth,this.maxWidth),column.height=Math_min(this.pixelHeight,this.maxHeight),column.invalid&&column.validate())},Column.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.column&&this.column.copyFrom(source.column)},Object.defineProperty(Column.prototype,\"bbox\",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:Math_min(this.pixelWidth,this.maxWidth),height:Math_min(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),Column}(Container_Container);Registry_registry.registeredClasses.Column=Column_Column;var ColumnSeries_ColumnSeriesDataItem=function(_super){function ColumnSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"ColumnSeriesDataItem\",_this.locations.dateX=.5,_this.locations.dateY=.5,_this.locations.categoryX=.5,_this.locations.categoryY=.5,_this.applyTheme(),_this}return __extends(ColumnSeriesDataItem,_super),Object.defineProperty(ColumnSeriesDataItem.prototype,\"column\",{get:function(){return this._column},set:function(column){this.setColumn(column)},enumerable:!0,configurable:!0}),ColumnSeriesDataItem.prototype.setColumn=function(column){var _this=this;if(this._column&&column!=this._column&&Array_remove(this.sprites,this._column),this._column=column,column){var prevDataItem=column.dataItem;prevDataItem&&prevDataItem!=this&&(prevDataItem.column=void 0),this.addSprite(column),this._disposers.push(new Disposer(function(){_this.component&&_this.component.columns.removeValue(column)}))}},Object.defineProperty(ColumnSeriesDataItem.prototype,\"rangesColumns\",{get:function(){return this._rangesColumns||(this._rangesColumns=new Dictionary_Dictionary),this._rangesColumns},enumerable:!0,configurable:!0}),ColumnSeriesDataItem}(XYSeries_XYSeriesDataItem),ColumnSeries_ColumnSeries=function(_super){function ColumnSeries(){var _this=_super.call(this)||this;_this._startLocation=0,_this._endLocation=1,_this.className=\"ColumnSeries\",_this.width=Percent_percent(100),_this.height=Percent_percent(100),_this.strokeOpacity=0,_this.fillOpacity=1,_this.clustered=!0;var columnsContainer=_this.mainContainer.createChild(Container_Container);return columnsContainer.shouldClone=!1,columnsContainer.isMeasured=!1,columnsContainer.layout=\"none\",_this._columnsContainer=columnsContainer,_this.columns.template.pixelPerfect=!1,_this.tooltipColorSource=_this.columns.template,_this.applyTheme(),_this}return __extends(ColumnSeries,_super),Object.defineProperty(ColumnSeries.prototype,\"columnsContainer\",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),ColumnSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Column Series\"))},ColumnSeries.prototype.createDataItem=function(){return new ColumnSeries_ColumnSeriesDataItem},ColumnSeries.prototype.validate=function(){var _this=this,clusterCount=0,index=0;Iterator_each(this.chart.series.iterator(),function(series){series instanceof ColumnSeries&&_this.baseAxis==series.baseAxis&&((!series.stacked&&series.clustered||0===clusterCount)&&clusterCount++,series==_this&&(index=clusterCount-1))});var renderer=this.baseAxis.renderer,cellStartLocation=renderer.cellStartLocation,cellEndLocation=renderer.cellEndLocation;this._startLocation=cellStartLocation+index/clusterCount*(cellEndLocation-cellStartLocation),this._endLocation=cellStartLocation+(index+1)/clusterCount*(cellEndLocation-cellStartLocation),_super.prototype.validate.call(this);for(var i=0;i<this.startIndex;i++){var dataItem=this.dataItems.getIndex(i);this.disableUnusedColumns(dataItem)}for(i=this.dataItems.length-1;i>this.endIndex;i--)dataItem=this.dataItems.getIndex(i),this.disableUnusedColumns(dataItem)},ColumnSeries.prototype.validateDataElement=function(dataItem){this.validateDataElementReal(dataItem),_super.prototype.validateDataElement.call(this,dataItem)},ColumnSeries.prototype.getStartLocation=function(dataItem){return this._startLocation+(this.baseAxis==this.xAxis?dataItem.locations[this.xOpenField]-.5:dataItem.locations[this.yOpenField]-.5)},ColumnSeries.prototype.handleDataItemWorkingValueChange=function(dataItem,name){this.simplifiedProcessing?this.validateDataElement(dataItem):_super.prototype.handleDataItemWorkingValueChange.call(this,dataItem,name)},ColumnSeries.prototype.getEndLocation=function(dataItem){return this._endLocation+(this.baseAxis==this.xAxis?dataItem.locations[this.xField]-.5:dataItem.locations[this.yField]-.5)},ColumnSeries.prototype.validateDataElementReal=function(dataItem){var l,r,t,b,_this=this,startLocation=this.getStartLocation(dataItem),endLocation=this.getEndLocation(dataItem),xField=this.xField,xOpenField=this.xOpenField,yField=this.yField,yOpenField=this.yOpenField,template=this.columns.template,percentWidth=template.percentWidth,percentHeight=template.percentHeight,pixelWidth=template.pixelWidth,pixelHeight=template.pixelHeight,maxWidth=template.maxWidth,maxHeight=template.maxHeight,paddingLeft=template.pixelPaddingLeft,paddingRight=template.pixelPaddingRight,paddingTop=template.pixelPaddingTop,paddingBottom=template.pixelPaddingBottom,outOfBounds=!1;if(this.xAxis instanceof CategoryAxis_CategoryAxis&&this.yAxis instanceof CategoryAxis_CategoryAxis){if(!dataItem.hasValue(this._xValueFields)||!dataItem.hasValue(this._yValueFields))return;startLocation=0,endLocation=1,Type_isNaN(percentWidth)||(startLocation+=offset=Math_round((endLocation-startLocation)*(1-percentWidth/100)/2,5),endLocation-=offset),l=this.xAxis.getX(dataItem,xOpenField,startLocation),r=this.xAxis.getX(dataItem,xField,endLocation),Type_isNaN(percentWidth)&&(l+=offset=(r-l-pixelWidth)/2,r-=offset),!Type_isNaN(maxWidth)&&maxWidth<Math.abs(r-l)&&(l+=offset=(r-l-maxWidth)/2,r-=offset),startLocation=0,endLocation=1,Type_isNaN(percentHeight)||(startLocation+=offset=Math_round((1-percentHeight/100)/2,5),endLocation-=offset),t=this.yAxis.getY(dataItem,yOpenField,startLocation),b=this.yAxis.getY(dataItem,yField,endLocation),Type_isNaN(percentHeight)&&(b+=offset=(b-t-pixelHeight)/2,t-=offset),!Type_isNaN(maxHeight)&&maxHeight<Math.abs(b-t)&&(b+=offset=(b-t-maxHeight)/2,t-=offset),r=this.fixHorizontalCoordinate(r),l=this.fixHorizontalCoordinate(l),t=this.fixVerticalCoordinate(t),b=this.fixVerticalCoordinate(b)}else if(this.baseAxis==this.xAxis){if(!dataItem.hasValue(this._yValueFields))return;Type_isNaN(percentWidth)||(startLocation+=offset=Math_round((endLocation-startLocation)*(1-percentWidth/100)/2,5),endLocation-=offset),l=this.xAxis.getX(dataItem,xOpenField,startLocation),r=this.xAxis.getX(dataItem,xField,endLocation),Type_isNaN(percentWidth)&&(l+=offset=(r-l-pixelWidth)/2,r-=offset),!Type_isNaN(maxWidth)&&maxWidth<Math.abs(r-l)&&(l+=offset=(r-l-maxWidth)/2,r-=offset);var bottomLocation=dataItem.locations[yOpenField],topLocation=dataItem.locations[yField];this.yAxis instanceof ValueAxis_ValueAxis&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(bottomLocation=0,topLocation=0),b=this.yAxis.getY(dataItem,yOpenField,bottomLocation),t=this.yAxis.getY(dataItem,yField,topLocation);var axisLenght=Math.ceil(this.yAxis.axisLength);(t<0&&b<0||t>axisLenght&&b>axisLenght)&&(outOfBounds=!0),t=this.fixVerticalCoordinate(t),b=this.fixVerticalCoordinate(b),Math.abs(r-l)-paddingLeft-paddingRight==0&&(outOfBounds=!0)}else{if(!dataItem.hasValue(this._xValueFields))return;var offset;Type_isNaN(percentHeight)||(startLocation+=offset=Math_round((endLocation-startLocation)*(1-percentHeight/100)/2,5),endLocation-=offset),t=this.yAxis.getY(dataItem,yOpenField,startLocation),b=this.yAxis.getY(dataItem,yField,endLocation),Type_isNaN(percentHeight)&&(b-=offset=(b-t-pixelHeight)/2,t+=offset),!Type_isNaN(maxHeight)&&maxHeight<Math.abs(b-t)&&(b-=offset=(b-t-maxHeight)/2,t+=offset,console.log(maxHeight,Math.abs(b-t)));var rightLocation=dataItem.locations[xField],leftLocation=dataItem.locations[xOpenField];this.xAxis instanceof ValueAxis_ValueAxis&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(rightLocation=0,leftLocation=0),r=this.xAxis.getX(dataItem,xField,rightLocation),l=this.xAxis.getX(dataItem,xOpenField,leftLocation),axisLenght=Math.ceil(this.xAxis.axisLength),(r<0&&l<0||r>axisLenght&&l>axisLenght)&&(outOfBounds=!0),r=this.fixHorizontalCoordinate(r),l=this.fixHorizontalCoordinate(l),Math.abs(t-b)-paddingTop-paddingBottom==0&&(outOfBounds=!0)}var column_1,w=Math.abs(r-l),h=Math.abs(b-t),x=Math.min(l,r),y=Math.min(t,b);outOfBounds?this.disableUnusedColumns(dataItem):(dataItem.column?column_1=dataItem.column:(copyProperties(this,column_1=this.columns.create(),visualProperties),copyProperties(this.columns.template,column_1,visualProperties),dataItem.addSprite(column_1),dataItem.column=column_1,column_1.paper=this.paper,this.itemsFocusable()?(column_1.role=\"menuitem\",column_1.focusable=!0):(column_1.role=\"listitem\",column_1.focusable=!1),column_1.focusable&&(column_1.events.on(\"focus\",function(ev){column_1.readerTitle=_this.populateString(_this.itemReaderText,dataItem)},void 0,!1),column_1.events.on(\"blur\",function(ev){column_1.readerTitle=\"\"},void 0,!1)),column_1.hoverable&&(column_1.events.on(\"over\",function(ev){column_1.readerTitle=_this.populateString(_this.itemReaderText,dataItem)},void 0,!1),column_1.events.on(\"out\",function(ev){column_1.readerTitle=\"\"},void 0,!1))),column_1.width=w,column_1.height=h,column_1.x=x,column_1.y=y,column_1.realX=l,column_1.realY=t,column_1.realWidth=r-l,column_1.realHeight=b-t,column_1.parent=this.columnsContainer,column_1.virtualParent=this,this.setColumnStates(column_1),column_1.invalid&&column_1.validate(),column_1.__disabled=!1,Iterator_each(this.axisRanges.iterator(),function(axisRange){var rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);rangeColumn||(rangeColumn=_this.columns.create(),copyProperties(axisRange.contents,rangeColumn,visualProperties),dataItem.addSprite(rangeColumn),dataItem.rangesColumns.setKey(axisRange.uid,rangeColumn),rangeColumn.paper=_this.paper),rangeColumn.parent=axisRange.contents,rangeColumn.width=w,rangeColumn.height=h,rangeColumn.x=x,rangeColumn.y=y,_this.setColumnStates(rangeColumn),rangeColumn.invalid&&rangeColumn.validate(),rangeColumn.__disabled=!1})),dataItem.itemWidth=w,dataItem.itemHeight=h},ColumnSeries.prototype.disableUnusedColumns=function(dataItem){dataItem&&(dataItem.column&&(dataItem.column.width=0,dataItem.column.height=0,dataItem.column.__disabled=!0),Iterator_each(this.axisRanges.iterator(),function(axisRange){var rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);rangeColumn&&(rangeColumn.width=0,rangeColumn.height=0,rangeColumn.__disabled=!0)}))},ColumnSeries.prototype.setColumnStates=function(sprite){var dataItem=sprite.dataItem;if(this.xAxis instanceof ValueAxis_ValueAxis||this.yAxis instanceof ValueAxis_ValueAxis){var open_1,value=void 0,change=void 0;this.baseAxis==this.yAxis?this.xOpenField&&this.xField&&this.xAxis instanceof ValueAxis_ValueAxis&&(open_1=dataItem.getValue(this.xOpenField),value=dataItem.getValue(this.xField),change=dataItem.getValue(this.xAxis.axisFieldName+\"X\",\"previousChange\")):this.yOpenField&&this.yField&&this.yAxis instanceof ValueAxis_ValueAxis&&(open_1=dataItem.getValue(this.yOpenField),value=dataItem.getValue(this.yField),change=dataItem.getValue(this.yAxis.axisFieldName+\"Y\",\"previousChange\")),value<open_1?(dataItem.droppedFromOpen=!0,sprite.defaultState.copyFrom(this._dropFromOpenState),sprite.setState(this._dropFromOpenState,0)):(dataItem.droppedFromOpen=!1,sprite.defaultState.copyFrom(this._riseFromOpenState),sprite.setState(this._riseFromOpenState,0)),change<0?(dataItem.droppedFromPrevious=!0,sprite.defaultState.copyFrom(this._dropFromPreviousState),sprite.setState(this._dropFromPreviousState,0)):(dataItem.droppedFromPrevious=!1,sprite.defaultState.copyFrom(this._riseFromPreviousState),sprite.setState(this._riseFromPreviousState,0))}},Object.defineProperty(ColumnSeries.prototype,\"columns\",{get:function(){return this._columns||(this._columns=new List_ListTemplate(this.createColumnTemplate()),this._disposers.push(new List_ListDisposer(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),ColumnSeries.prototype.createColumnTemplate=function(){return new Column_Column},Object.defineProperty(ColumnSeries.prototype,\"clustered\",{get:function(){return this.getPropertyValue(\"clustered\")},set:function(value){this.setPropertyValue(\"clustered\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeries.prototype,\"dropFromOpenState\",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create(\"dropFromOpenState\")),this._dropFromOpenState},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeries.prototype,\"dropFromPreviousState\",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create(\"dropFromPreviousState\")),this._dropFromPreviousState},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeries.prototype,\"riseFromOpenState\",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create(\"riseFromOpenState\")),this._riseFromOpenState},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeries.prototype,\"riseFromPreviousState\",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create(\"riseFromPreviousState\")),this._riseFromPreviousState},enumerable:!0,configurable:!0}),ColumnSeries.prototype.updateLegendValue=function(dataItem,notRange){var fromOpenState_1,fromPreviousState_1,_this=this;_super.prototype.updateLegendValue.call(this,dataItem,notRange),this.legendDataItem&&(dataItem&&(fromOpenState_1=dataItem.droppedFromOpen?this._dropFromOpenState:this._riseFromOpenState,fromPreviousState_1=dataItem.droppedFromPrevious?this._dropFromPreviousState:this._riseFromPreviousState),Iterator_each(this.legendDataItem.marker.children.iterator(),function(child){dataItem?(child.setState(fromPreviousState_1),child.setState(fromOpenState_1)):(child.setState(_this._riseFromPreviousState),child.setState(_this._riseFromOpenState))}))},ColumnSeries.prototype.createLegendMarker=function(marker){var w=marker.pixelWidth,h=marker.pixelHeight;marker.removeChildren();var column=marker.createChild(RoundedRectangle_RoundedRectangle);column.shouldClone=!1,copyProperties(this,column,visualProperties),column.copyFrom(this.columns.template),column.padding(0,0,0,0),column.width=w,column.height=h;var legendDataItem=marker.dataItem;legendDataItem.color=this.fill,legendDataItem.colorOrig=this.fill},ColumnSeries.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.columns.template.copyFrom(source.columns.template)},ColumnSeries.prototype.getBulletLocationX=function(bullet,field){if(this.baseAxis==this.xAxis){var bulletLocationX=bullet.locationX;return isNumber(bulletLocationX)||(bulletLocationX=.5),this._endLocation-(this._endLocation-this._startLocation)*bulletLocationX}return _super.prototype.getBulletLocationX.call(this,bullet,field)},ColumnSeries.prototype.getBulletLocationY=function(bullet,field){if(this.baseAxis==this.yAxis){var bulletLocationY=bullet.locationY;return isNumber(bulletLocationY)||(bulletLocationY=.5),this._endLocation-(this._endLocation-this._startLocation)*bulletLocationY}return _super.prototype.getBulletLocationY.call(this,bullet,field)},ColumnSeries.prototype.getAdjustedXLocation=function(dataItem,field){if(this.baseAxis==this.xAxis){var bulletLocationX=.5;return dataItem&&(bulletLocationX=dataItem.locations[field]),isNumber(bulletLocationX)||(bulletLocationX=.5),this._endLocation-(this._endLocation-this._startLocation)*bulletLocationX}return _super.prototype.getAdjustedXLocation.call(this,dataItem,field)},ColumnSeries.prototype.getAdjustedYLocation=function(dataItem,field){if(this.baseAxis==this.yAxis){var bulletLocationY=.5;return dataItem&&(bulletLocationY=dataItem.locations[field]),isNumber(bulletLocationY)||(bulletLocationY=.5),this._endLocation-(this._endLocation-this._startLocation)*bulletLocationY}return _super.prototype.getAdjustedXLocation.call(this,dataItem,field)},ColumnSeries.prototype.fixVerticalCoordinate=function(coordinate){return fitToRange(coordinate,-this.columns.template.pixelPaddingTop,this.yAxis.axisLength+this.columns.template.pixelPaddingBottom)},ColumnSeries.prototype.fixHorizontalCoordinate=function(coordinate){return fitToRange(coordinate,-this.columns.template.pixelPaddingLeft,this.xAxis.axisLength+this.columns.template.pixelPaddingRight)},ColumnSeries.prototype.disposeData=function(){_super.prototype.disposeData.call(this),this.columns.clear()},ColumnSeries}(XYSeries_XYSeries);Registry_registry.registeredClasses.ColumnSeries=ColumnSeries_ColumnSeries,Registry_registry.registeredClasses.ColumnSeriesDataItem=ColumnSeries_ColumnSeriesDataItem;var TreeMapSeries_TreeMapSeriesDataItem=function(_super){function TreeMapSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"TreeMapSeriesDataItem\",_this.applyTheme(),_this}return __extends(TreeMapSeriesDataItem,_super),Object.defineProperty(TreeMapSeriesDataItem.prototype,\"parentName\",{get:function(){var treeMapDataItem=this.treeMapDataItem;if(treeMapDataItem&&treeMapDataItem.parent)return treeMapDataItem.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapSeriesDataItem.prototype,\"value\",{get:function(){var treeMapDataItem=this.treeMapDataItem;if(treeMapDataItem)return treeMapDataItem.value},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapSeriesDataItem.prototype,\"treeMapDataItem\",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),TreeMapSeriesDataItem.prototype.hide=function(duration,delay,toValue,fields){var treeMapDataItem=this.treeMapDataItem;return treeMapDataItem&&treeMapDataItem.hide(duration),_super.prototype.hide.call(this,duration,delay,toValue,fields)},TreeMapSeriesDataItem.prototype.show=function(duration,delay,fields){var treeMapDataItem=this.treeMapDataItem;return treeMapDataItem&&treeMapDataItem.show(duration,delay,fields),_super.prototype.show.call(this,duration,delay,fields)},TreeMapSeriesDataItem}(ColumnSeries_ColumnSeriesDataItem),TreeMapSeries_TreeMapSeries=function(_super){function TreeMapSeries(){var _this=_super.call(this)||this;_this.className=\"TreeMapSeries\",_this.applyTheme(),_this.fillOpacity=1,_this.strokeOpacity=1,_this.minBulletDistance=0,_this.columns.template.tooltipText=\"{parentName} {name}: {value}\",_this.columns.template.configField=\"config\";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.stroke=interfaceColors.getFor(\"background\"),_this.dataFields.openValueX=\"x0\",_this.dataFields.valueX=\"x1\",_this.dataFields.openValueY=\"y0\",_this.dataFields.valueY=\"y1\",_this.sequencedInterpolation=!1,_this.showOnInit=!1,_this.columns.template.pixelPerfect=!1,_this}return __extends(TreeMapSeries,_super),TreeMapSeries.prototype.processDataItem=function(dataItem,dataContext){dataContext.seriesDataItem=dataItem,_super.prototype.processDataItem.call(this,dataItem,dataContext)},TreeMapSeries.prototype.createDataItem=function(){return new TreeMapSeries_TreeMapSeriesDataItem},TreeMapSeries.prototype.show=function(duration){var interpolationDuration=this.defaultState.transitionDuration;return isNumber(duration)&&(interpolationDuration=duration),this.dataItems.each(function(dataItem){dataItem.show(duration)}),_super.prototype.showReal.call(this,interpolationDuration)},TreeMapSeries.prototype.hide=function(duration){var interpolationDuration=this.defaultState.transitionDuration;isNumber(duration)&&(interpolationDuration=duration);var animation=_super.prototype.hideReal.call(this,interpolationDuration);return this.dataItems.each(function(dataItem){dataItem.hide(duration)}),animation},TreeMapSeries.prototype.processValues=function(){},TreeMapSeries.prototype.dataChangeUpdate=function(){},TreeMapSeries.prototype.processConfig=function(config){config&&(hasValue(config.dataFields)&&Type_isObject(config.dataFields)||(config.dataFields={})),_super.prototype.processConfig.call(this,config)},TreeMapSeries.prototype.createLegendMarker=function(marker){var w=marker.pixelWidth,h=marker.pixelHeight;marker.removeChildren();var column=marker.createChild(RoundedRectangle_RoundedRectangle);column.shouldClone=!1,copyProperties(this,column,visualProperties),column.padding(0,0,0,0),column.width=w,column.height=h;var legendDataItem=marker.dataItem;legendDataItem.color=column.fill,legendDataItem.colorOrig=column.fill},TreeMapSeries}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.TreeMapSeries=TreeMapSeries_TreeMapSeries,Registry_registry.registeredClasses.TreeMapSeriesDataItem=TreeMapSeries_TreeMapSeriesDataItem;var TreeMap_TreeMapDataItem=function(_super){function TreeMapDataItem(){var _this=_super.call(this)||this;return _this.rows=[],_this.className=\"TreeMapDataItem\",_this.values.value={},_this.values.x0={},_this.values.y0={},_this.values.x1={},_this.values.y1={},_this.hasChildren.children=!0,_this.applyTheme(),_this}return __extends(TreeMapDataItem,_super),Object.defineProperty(TreeMapDataItem.prototype,\"legendDataItem\",{get:function(){return this._legendDataItem},set:function(value){this._legendDataItem=value,value.label&&(value.label.dataItem=this),value.valueLabel&&(value.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),TreeMapDataItem.prototype.getDuration=function(){return 0},Object.defineProperty(TreeMapDataItem.prototype,\"value\",{get:function(){var value=0;return this.children&&0!=this.children.length?Iterator_each(this.children.iterator(),function(child){var childValue=child.value;isNumber(childValue)&&(value+=childValue)}):value=this.values.value.workingValue,value},set:function(value){this.setValue(\"value\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"percent\",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"x0\",{get:function(){return this.values.x0.value},set:function(value){this.setValue(\"x0\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"x1\",{get:function(){return this.values.x1.value},set:function(value){this.setValue(\"x1\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"y0\",{get:function(){return this.values.y0.value},set:function(value){this.setValue(\"y0\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"y1\",{get:function(){return this.values.y1.value},set:function(value){this.setValue(\"y1\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"name\",{get:function(){return this.properties.name},set:function(name){this.setProperty(\"name\",name)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"children\",{get:function(){return this.properties.children},set:function(children){this.setProperty(\"children\",children)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"level\",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"color\",{get:function(){var color=this.properties.color;return null==color&&this.parent&&(color=this.parent.color),null==color&&this.component&&(color=this.component.colors.getIndex(this.component.colors.step*this.index)),color},set:function(value){this.setProperty(\"color\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"fill\",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,\"series\",{get:function(){return this._series},set:function(series){series!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=series,this._disposers.push(series))},enumerable:!0,configurable:!0}),TreeMapDataItem.prototype.hide=function(duration,delay,toValue,fields){return this.setWorkingValue(\"value\",0),this.children&&this.children.each(function(child){child.hide(duration,delay,toValue,fields)}),_super.prototype.hide.call(this,duration,delay,toValue,fields)},TreeMapDataItem.prototype.show=function(duration,delay,fields){return this.setWorkingValue(\"value\",this.values.value.value),this.children&&this.children.each(function(child){child.show(duration,delay,fields)}),_super.prototype.show.call(this,duration,delay,fields)},TreeMapDataItem}(XYChart_XYChartDataItem),TreeMap_TreeMap=function(_super){function TreeMap(){var _this=_super.call(this)||this;_this.layoutAlgorithm=_this.squarify,_this.zoomable=!0,_this.className=\"TreeMap\",_this.maxLevels=2,_this.currentLevel=0,_this.colors=new ColorSet_ColorSet,_this.sorting=\"descending\";var xAxis=_this.xAxes.push(new ValueAxis_ValueAxis);xAxis.title.disabled=!0,xAxis.strictMinMax=!0;var xRenderer=xAxis.renderer;xRenderer.inside=!0,xRenderer.labels.template.disabled=!0,xRenderer.ticks.template.disabled=!0,xRenderer.grid.template.disabled=!0,xRenderer.axisFills.template.disabled=!0,xRenderer.minGridDistance=100,xRenderer.line.disabled=!0,xRenderer.baseGrid.disabled=!0;var yAxis=_this.yAxes.push(new ValueAxis_ValueAxis);yAxis.title.disabled=!0,yAxis.strictMinMax=!0;var yRenderer=yAxis.renderer;yRenderer.inside=!0,yRenderer.labels.template.disabled=!0,yRenderer.ticks.template.disabled=!0,yRenderer.grid.template.disabled=!0,yRenderer.axisFills.template.disabled=!0,yRenderer.minGridDistance=100,yRenderer.line.disabled=!0,yRenderer.baseGrid.disabled=!0,yRenderer.inversed=!0,_this.xAxis=xAxis,_this.yAxis=yAxis;var template=new TreeMapSeries_TreeMapSeries;return _this.seriesTemplates=new Dictionary_DictionaryTemplate(template),_this._disposers.push(new Dictionary_DictionaryDisposer(_this.seriesTemplates)),_this._disposers.push(template),_this.zoomOutButton.events.on(\"hit\",function(){_this.zoomToChartDataItem(_this._homeDataItem)},void 0,!1),_this.seriesTemplates.events.on(\"insertKey\",function(event){event.newValue.isTemplate=!0},void 0,!1),_this.applyTheme(),_this}return __extends(TreeMap,_super),Object.defineProperty(TreeMap.prototype,\"navigationBar\",{get:function(){return this._navigationBar},set:function(navigationBar){var _this=this;this._navigationBar!=navigationBar&&(this._navigationBar=navigationBar,navigationBar.parent=this,navigationBar.toBack(),navigationBar.links.template.events.on(\"hit\",function(event){var dataItem=event.target.dataItem.dataContext;dataItem.isDisposed()||(_this.zoomToChartDataItem(dataItem),_this.createTreeSeries(dataItem))},void 0,!0),this._disposers.push(navigationBar))},enumerable:!0,configurable:!0}),TreeMap.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],_super.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var homeDataItem=this.dataItems.template.clone();this._homeDataItem=homeDataItem,Iterator_each(this.dataItems.iterator(),function(dataItem){dataItem.parent=homeDataItem}),homeDataItem.children=this.dataItems,homeDataItem.x0=0,homeDataItem.y0=0,homeDataItem.name=this._homeText;var maxY=10*Math.round(1e3*this.pixelHeight/this.pixelWidth/10)||1e3;homeDataItem.x1=1e3,homeDataItem.y1=maxY,this.xAxis.min=0,this.xAxis.max=1e3,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=maxY,this.yAxis.getMinMax(),this.layoutItems(homeDataItem),this.createTreeSeries(homeDataItem)},TreeMap.prototype.layoutItems=function(parent,sorting){if(parent){var children=parent.children;sorting||(sorting=this.sorting),\"ascending\"==sorting&&children.values.sort(function(a,b){return a.value-b.value}),\"descending\"==sorting&&children.values.sort(function(a,b){return b.value-a.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(parent);for(var i=0,len=children.length;i<len;i++){var node=children.getIndex(i);node.children&&this.layoutItems(node)}}},TreeMap.prototype.createTreeSeries=function(dataItem){var _this=this;this._tempSeries=[];for(var navigationData=[dataItem],parentDataItem=dataItem.parent;null!=parentDataItem;)this.initSeries(parentDataItem),navigationData.push(parentDataItem),parentDataItem=parentDataItem.parent;navigationData.reverse(),this.navigationBar&&(this.navigationBar.data=navigationData),this.createTreeSeriesReal(dataItem),each(this._tempSeries,function(series){-1==_this.series.indexOf(series)&&_this.series.push(series),series.zIndex=series.level})},TreeMap.prototype.createTreeSeriesReal=function(dataItem){if(dataItem.children&&dataItem.level<this.currentLevel+this.maxLevels){this.initSeries(dataItem);for(var i=0;i<dataItem.children.length;i++){var child=dataItem.children.getIndex(i);child.children&&this.createTreeSeriesReal(child)}}},TreeMap.prototype.setData=function(value){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,_super.prototype.setData.call(this,value)},TreeMap.prototype.seriesAppeared=function(){return!0},TreeMap.prototype.initSeries=function(dataItem){var _this=this;if(!dataItem.series){var series=void 0,template=this.seriesTemplates.getKey(dataItem.level.toString());(series=template?template.clone():this.series.create()).dataItem.dataContext=dataItem,series.name=dataItem.name,series.parentDataItem=dataItem,dataItem.series=series,series.level=dataItem.level;var dataContext=dataItem.dataContext;dataContext&&(series.config=dataContext.config),this.dataUsers.removeValue(series),series.data=dataItem.children.values,series.fill=dataItem.color,series.columnsContainer.hide(0),series.bulletsContainer.hide(0),series.columns.template.adapter.add(\"fill\",function(fill,target){var dataItem=target.dataItem;if(dataItem){var treeMapDataItem=dataItem.treeMapDataItem;if(treeMapDataItem)return target.fill=treeMapDataItem.color,target.adapter.remove(\"fill\"),treeMapDataItem.color}}),this.zoomable&&(dataItem.level>this.currentLevel||dataItem.children&&dataItem.children.length>0)&&(series.columns.template.cursorOverStyle=MouseCursorStyle.pointer,this.zoomable&&series.columns.template.events.on(\"hit\",function(event){var seriesDataItem=event.target.dataItem;dataItem.level>_this.currentLevel?_this.zoomToChartDataItem(seriesDataItem.treeMapDataItem.parent):_this.zoomToSeriesDataItem(seriesDataItem)},this,void 0))}this._tempSeries.push(dataItem.series)},TreeMap.prototype.toggleBullets=function(duration){var _this=this;Iterator_each(this.series.iterator(),function(series){-1==_this._tempSeries.indexOf(series)?(series.columnsContainer.hide(),series.bulletsContainer.hide(duration)):(series.columnsContainer.show(),series.bulletsContainer.show(duration),series.dataItems.each(function(dataItem){dataItem.bullets.each(function(key,bullet){bullet.show()})}),series.level<_this.currentLevel?series.bulletsContainer.hide(duration):series.level==_this.currentLevel&&_this.maxLevels>1&&series.dataItems.each(function(dataItem){dataItem.treeMapDataItem.children&&dataItem.bullets.each(function(key,bullet){bullet.hide()})}))})},TreeMap.prototype.zoomToSeriesDataItem=function(dataItem){this.zoomToChartDataItem(dataItem.treeMapDataItem)},TreeMap.prototype.zoomToChartDataItem=function(dataItem){var _this=this,zoomOutButton=this.zoomOutButton;if(zoomOutButton&&(dataItem!=this._homeDataItem?zoomOutButton.show():zoomOutButton.hide()),dataItem&&dataItem.children){this.xAxis.zoomToValues(dataItem.x0,dataItem.x1),this.yAxis.zoomToValues(dataItem.y0,dataItem.y1),this.currentLevel=dataItem.level,this.currentlyZoomed=dataItem,this.createTreeSeries(dataItem);var rangeChangeAnimation=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;!rangeChangeAnimation||rangeChangeAnimation.isDisposed()||rangeChangeAnimation.isFinished()?this.toggleBullets():(this._dataDisposers.push(rangeChangeAnimation),rangeChangeAnimation.events.once(\"animationended\",function(){_this.toggleBullets()}))}},TreeMap.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"TreeMap chart\"))},TreeMap.prototype.createDataItem=function(){return new TreeMap_TreeMapDataItem},Object.defineProperty(TreeMap.prototype,\"maxLevels\",{get:function(){return this.getPropertyValue(\"maxLevels\")},set:function(value){this.setPropertyValue(\"maxLevels\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMap.prototype,\"currentLevel\",{get:function(){return this.getPropertyValue(\"currentLevel\")},set:function(value){this.setPropertyValue(\"currentLevel\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMap.prototype,\"sorting\",{get:function(){return this.getPropertyValue(\"sorting\")},set:function(value){this.setPropertyValue(\"sorting\",value,!0)},enumerable:!0,configurable:!0}),TreeMap.prototype.createSeries=function(){return new TreeMapSeries_TreeMapSeries},Object.defineProperty(TreeMap.prototype,\"homeText\",{get:function(){return this._homeText},set:function(value){this._homeText=value,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),TreeMap.prototype.processConfig=function(config){if(config){if(hasValue(config.layoutAlgorithm)&&isString(config.layoutAlgorithm))switch(config.layoutAlgorithm){case\"squarify\":config.layoutAlgorithm=this.squarify;break;case\"binaryTree\":config.layoutAlgorithm=this.binaryTree;break;case\"slice\":config.layoutAlgorithm=this.slice;break;case\"dice\":config.layoutAlgorithm=this.dice;break;case\"sliceDice\":config.layoutAlgorithm=this.sliceDice;break;default:delete config.layoutAlgorithm}hasValue(config.navigationBar)&&!hasValue(config.navigationBar.type)&&(config.navigationBar.type=\"NavigationBar\"),_super.prototype.processConfig.call(this,config)}},TreeMap.prototype.validateLayout=function(){_super.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},TreeMap.prototype.validateDataItems=function(){_super.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),Iterator_each(this.series.iterator(),function(series){series.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},TreeMap.prototype.binaryTree=function(parent){var i,sum,nodes=parent.children,n=nodes.length,sums=new Array(n+1);for(sums[0]=sum=i=0;i<n;++i)sums[i+1]=sum+=nodes.getIndex(i).value;!function partition(i,j,value,x0,y0,x1,y1){if(i>=j-1){var node=nodes.getIndex(i);return node.x0=x0,node.y0=y0,node.x1=x1,void(node.y1=y1)}for(var valueOffset=sums[i],valueTarget=value/2+valueOffset,k=i+1,hi=j-1;k<hi;){var mid=k+hi>>>1;sums[mid]<valueTarget?k=mid+1:hi=mid}valueTarget-sums[k-1]<sums[k]-valueTarget&&i+1<k&&--k;var valueLeft=sums[k]-valueOffset,valueRight=value-valueLeft;if(x1-x0>y1-y0){var xk=(x0*valueRight+x1*valueLeft)/value;partition(i,k,valueLeft,x0,y0,xk,y1),partition(k,j,valueRight,xk,y0,x1,y1)}else{var yk=(y0*valueRight+y1*valueLeft)/value;partition(i,k,valueLeft,x0,y0,x1,yk),partition(k,j,valueRight,x0,yk,x1,y1)}}(0,n,parent.value,parent.x0,parent.y0,parent.x1,parent.y1)},TreeMap.prototype.slice=function(parent){for(var node,x0=parent.x0,x1=parent.x1,y0=parent.y0,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(parent.y1-y0)/parent.value;++i<n;)(node=nodes.getIndex(i)).x0=x0,node.x1=x1,node.y0=y0,node.y1=y0+=node.value*k},TreeMap.prototype.dice=function(parent){for(var node,x0=parent.x0,y0=parent.y0,y1=parent.y1,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(parent.x1-x0)/parent.value;++i<n;)(node=nodes.getIndex(i)).y0=y0,node.y1=y1,node.x0=x0,node.x1=x0+=node.value*k},TreeMap.prototype.sliceDice=function(parent){1&parent.level?this.slice(parent):this.dice(parent)},TreeMap.prototype.squarify=function(parent){for(var nodeValue,dx,dy,sumValue,minValue,maxValue,newRatio,minRatio,alpha,beta,ratio=(1+Math.sqrt(5))/2,x0=parent.x0,x1=parent.x1,y0=parent.y0,y1=parent.y1,nodes=parent.children,i0=0,i1=0,n=nodes.length,value=parent.value;i0<n;){dx=x1-x0,dy=y1-y0;do{sumValue=nodes.getIndex(i1++).value}while(!sumValue&&i1<n);for(minValue=maxValue=sumValue,beta=sumValue*sumValue*(alpha=Math.max(dy/dx,dx/dy)/(value*ratio)),minRatio=Math.max(maxValue/beta,beta/minValue);i1<n;++i1){if(sumValue+=nodeValue=nodes.getIndex(i1).value,nodeValue<minValue&&(minValue=nodeValue),nodeValue>maxValue&&(maxValue=nodeValue),beta=sumValue*sumValue*alpha,(newRatio=Math.max(maxValue/beta,beta/minValue))>minRatio){sumValue-=nodeValue;break}minRatio=newRatio}var row=this.dataItems.template.clone();row.value=sumValue,row.dice=dx<dy,row.children=nodes.slice(i0,i1),row.x0=x0,row.y0=y0,row.x1=x1,row.y1=y1,row.dice?(row.y1=value?y0+=dy*sumValue/value:y1,this.dice(row)):(row.x1=value?x0+=dx*sumValue/value:x1,this.slice(row)),value-=sumValue,i0=i1}},TreeMap.prototype.handleSeriesAdded2=function(){},TreeMap.prototype.handleDataItemValueChange=function(dataItem,name){\"value\"==name&&this.invalidateDataItems()},TreeMap.prototype.handleDataItemWorkingValueChange=function(dataItem,name){\"value\"==name&&this.invalidateDataItems()},TreeMap.prototype.getLegendLevel=function(dataItem){if(dataItem&&dataItem.children)return dataItem.children.length>1?dataItem:1==dataItem.children.length?this.getLegendLevel(dataItem.children.getIndex(0)):dataItem},TreeMap.prototype.feedLegend=function(){var legend=this.legend;if(legend){legend.dataFields.name=\"name\";var legendParent=this.getLegendLevel(this._homeDataItem);if(legendParent){var legendData_1=[];legendParent.children.each(function(dataItem){legendData_1.push(dataItem)}),legend.data=legendData_1}}},TreeMap.prototype.disposeData=function(){_super.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},TreeMap.prototype.getExporting=function(){var _this=this,exporting=_super.prototype.getExporting.call(this);return exporting.adapter.add(\"formatDataFields\",function(info){return\"csv\"!=info.format&&\"xlsx\"!=info.format||hasValue(_this.dataFields.children)&&delete info.dataFields[_this.dataFields.children],info}),exporting},TreeMap}(XYChart_XYChart);Registry_registry.registeredClasses.TreeMap=TreeMap_TreeMap;var AxisRendererX3D_AxisRendererX3D=function(_super){function AxisRendererX3D(){var _this=_super.call(this)||this;return _this._chart=new Disposer_MutableValueDisposer,_this.className=\"AxisRendererX3D\",_this._disposers.push(_this._chart),_this.applyTheme(),_this}return __extends(AxisRendererX3D,_super),AxisRendererX3D.prototype.updateGridElement=function(grid,position,endPosition){var point=this.positionToPoint(position+=(endPosition-position)*grid.location);if(grid.element){var dx=this.chart.dx3D||0,dy=this.chart.dy3D||0,h=this.getHeight();grid.path=moveTo({x:dx,y:dy})+lineTo({x:dx,y:h+dy})+lineTo({x:0,y:h})}this.positionItem(grid,point),this.toggleVisibility(grid,position,0,1)},AxisRendererX3D.prototype.updateBaseGridElement=function(){_super.prototype.updateBaseGridElement.call(this);var h=this.getHeight();this.baseGrid.path=moveTo({x:this.chart.dx3D||0,y:this.chart.dy3D||0})+lineTo({x:0,y:0})+lineTo({x:0,y:h})},Object.defineProperty(AxisRendererX3D.prototype,\"chart\",{get:function(){return this._chart.get()},set:function(chart){chart&&this._chart.set(chart,chart.events.on(\"propertychanged\",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),AxisRendererX3D.prototype.handle3DChanged=function(event){\"depth\"!=event.property&&\"angle\"!=event.property||this.invalidate()},AxisRendererX3D}(AxisRendererX_AxisRendererX);Registry_registry.registeredClasses.AxisRendererX3D=AxisRendererX3D_AxisRendererX3D;var AxisRendererY3D_AxisRendererY3D=function(_super){function AxisRendererY3D(){var _this=_super.call(this)||this;return _this._chart=new Disposer_MutableValueDisposer,_this.className=\"AxisRendererY3D\",_this._disposers.push(_this._chart),_this.applyTheme(),_this}return __extends(AxisRendererY3D,_super),AxisRendererY3D.prototype.updateGridElement=function(grid,position,endPosition){var point=this.positionToPoint(position+=(endPosition-position)*grid.location);if(grid.element){var dx=this.chart.dx3D||0,dy=this.chart.dy3D||0,w=this.getWidth();grid.path=moveTo({x:0,y:0})+lineTo({x:dx,y:dy})+lineTo({x:w+dx,y:dy})}this.positionItem(grid,point),this.toggleVisibility(grid,position,0,1)},AxisRendererY3D.prototype.updateBaseGridElement=function(){_super.prototype.updateBaseGridElement.call(this);var dx=this.chart.dx3D||0,dy=this.chart.dy3D||0,w=this.getWidth();this.baseGrid.path=moveTo({x:0,y:0})+lineTo({x:w,y:0})+lineTo({x:w+dx,y:dy})},Object.defineProperty(AxisRendererY3D.prototype,\"chart\",{get:function(){return this._chart.get()},set:function(chart){chart&&this._chart.set(chart,chart.events.on(\"propertychanged\",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),AxisRendererY3D.prototype.handle3DChanged=function(event){\"depth\"!=event.property&&\"angle\"!=event.property||this.invalidate()},AxisRendererY3D}(AxisRendererY_AxisRendererY),Column3D_Column3D=function(_super){function Column3D(){var _this=_super.call(this)||this;return _this.className=\"Column3D\",_this}return __extends(Column3D,_super),Column3D.prototype.createAssets=function(){this.column3D=this.createChild(Rectangle3D_Rectangle3D),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},Column3D.prototype.validate=function(){_super.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},Column3D.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.column3D&&this.column3D.copyFrom(source.column3D)},Column3D.prototype.setFill=function(value){_super.prototype.setFill.call(this,value),this.column.fill=value},Column3D}(Column_Column);Registry_registry.registeredClasses.Column3D=Column3D_Column3D;var ColumnSeries3D_ColumnSeries3DDataItem=function(_super){function ColumnSeries3DDataItem(){var _this=_super.call(this)||this;return _this.className=\"ColumnSeries3DDataItem\",_this.applyTheme(),_this}return __extends(ColumnSeries3DDataItem,_super),ColumnSeries3DDataItem}(ColumnSeries_ColumnSeriesDataItem),ColumnSeries3D_ColumnSeries3D=function(_super){function ColumnSeries3D(){var _this=_super.call(this)||this;return _this.className=\"ColumnSeries3D\",_this.columns.template.column3D.applyOnClones=!0,_this.columns.template.hiddenState.properties.visible=!0,_this.applyTheme(),_this}return __extends(ColumnSeries3D,_super),Object.defineProperty(ColumnSeries3D.prototype,\"columnsContainer\",{get:function(){return this.chart&&this.chart.columnsContainer?this.chart.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),ColumnSeries3D.prototype.validateDataElementReal=function(dataItem){_super.prototype.validateDataElementReal.call(this,dataItem),dataItem.column&&(dataItem.column.dx=this.dx,dataItem.column.dy=this.dy)},ColumnSeries3D.prototype.validateDataElements=function(){_super.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},ColumnSeries3D.prototype.createColumnTemplate=function(){return new Column3D_Column3D},Object.defineProperty(ColumnSeries3D.prototype,\"depth\",{get:function(){return this.getPropertyValue(\"depth\")},set:function(value){this.setPropertyValue(\"depth\",value,!0),this.columns.template.column3D.depth=value},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeries3D.prototype,\"angle\",{get:function(){return this.getPropertyValue(\"angle\")},set:function(value){this.setPropertyValue(\"angle\",value),this.columns.template.column3D.angle=value},enumerable:!0,configurable:!0}),ColumnSeries3D}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.ColumnSeries3D=ColumnSeries3D_ColumnSeries3D,Registry_registry.registeredClasses.ColumnSeries3DDataItem=ColumnSeries3D_ColumnSeries3DDataItem,function(_super){__extends(function(){var _this=_super.call(this)||this;return _this.className=\"XYChart3DDataItem\",_this.applyTheme(),_this},_super)}(XYChart_XYChartDataItem);var XYChart3D_XYChart3D=function(_super){function XYChart3D(){var _this=_super.call(this)||this;_this._axisRendererX=AxisRendererX3D_AxisRendererX3D,_this._axisRendererY=AxisRendererY3D_AxisRendererY3D,_this.className=\"XYChart3D\",_this.depth=30,_this.angle=30;var columnsContainer=_this.seriesContainer.createChild(Container_Container);return columnsContainer.shouldClone=!1,columnsContainer.isMeasured=!1,columnsContainer.layout=\"none\",_this.columnsContainer=columnsContainer,_this.columnsContainer.mask=_this.createChild(Sprite_Sprite),_this.applyTheme(),_this}return __extends(XYChart3D,_super),XYChart3D.prototype.updateSeriesMasks=function(){if(_super.prototype.updateSeriesMasks.call(this),isIE()){var columnsContainer=this.columnsContainer,mask=columnsContainer.mask;columnsContainer.mask=void 0,columnsContainer.mask=mask}},Object.defineProperty(XYChart3D.prototype,\"depth\",{get:function(){return this.getPropertyValue(\"depth\")},set:function(value){this.setPropertyValue(\"depth\",value),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart3D.prototype,\"angle\",{get:function(){return this.getPropertyValue(\"angle\")},set:function(value){this.setPropertyValue(\"angle\",value),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart3D.prototype,\"dx3D\",{get:function(){return Math_cos(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart3D.prototype,\"dy3D\",{get:function(){return-Math_sin(this.angle)*this.depth},enumerable:!0,configurable:!0}),XYChart3D.prototype.validateLayout=function(){_super.prototype.validateLayout.call(this),this.fixColumns()},XYChart3D.prototype.fixLayout=function(){this.chartContainer.marginTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),_super.prototype.fixLayout.call(this)},XYChart3D.prototype.fixColumns=function(){var _this=this,count=1,i=0;Iterator_each(this.series.iterator(),function(series){series instanceof ColumnSeries3D_ColumnSeries3D&&(!series.clustered&&i>0&&count++,series.depthIndex=count-1,i++)});var s=0;Iterator_each(this.series.iterator(),function(series){if(series instanceof ColumnSeries3D_ColumnSeries3D){series.depth=_this.depth/count,series.angle=_this.angle,series.dx=_this.depth/count*Math_cos(_this.angle)*series.depthIndex,series.dy=-_this.depth/count*Math_sin(_this.angle)*series.depthIndex;var inversed_1=!1;(series.baseAxis==series.xAxis&&series.xAxis.renderer.inversed||series.baseAxis==series.yAxis&&series.yAxis.renderer.inversed)&&(inversed_1=!0);var i_1=1;series.columns.each(function(column){column.zIndex=inversed_1?1e3*(1e3-i_1)+s-100*series.depthIndex:1e3*i_1+s-100*series.depthIndex,i_1++}),inversed_1?s--:s++}}),this.maskColumns()},XYChart3D.prototype.processConfig=function(config){if(config&&hasValue(config.series)&&Type_isArray(config.series))for(var i=0,len=config.series.length;i<len;i++)config.series[i].type=config.series[i].type||\"ColumnSeries3D\";_super.prototype.processConfig.call(this,config)},XYChart3D.prototype.maskColumns=function(){var w=this.plotContainer.pixelWidth,h=this.plotContainer.pixelHeight,dx=this.dx3D,dy=this.dy3D,path=moveTo({x:0,y:0})+lineTo({x:dx,y:dy})+lineTo({x:w+dx,y:dy})+lineTo({x:w+dx,y:h+dy})+lineTo({x:w,y:h})+lineTo({x:w,y:h})+lineTo({x:0,y:h})+\" Z\",columnsContainer=this.columnsContainer;columnsContainer&&columnsContainer.mask&&(columnsContainer.mask.path=path)},XYChart3D}(XYChart_XYChart);Registry_registry.registeredClasses.XYChart3D=XYChart3D_XYChart3D;var HeatLegend_HeatLegend=function(_super){function HeatLegend(){var _this=_super.call(this)||this;_this.className=\"HeatLegend\",_this.markerContainer=_this.createChild(Container_Container),_this.markerContainer.shouldClone=!1,_this.markerCount=1;var marker=new RoundedRectangle_RoundedRectangle;return marker.minHeight=20,marker.minWidth=20,marker.interactionsEnabled=!1,marker.fillOpacity=1,marker.cornerRadius(0,0,0,0),_this.markerContainer.minHeight=20,_this.markerContainer.minWidth=20,_this.orientation=\"horizontal\",_this.markers=new List_ListTemplate(marker),_this._disposers.push(new List_ListDisposer(_this.markers)),_this._disposers.push(_this.markers.template),_this.applyTheme(),_this}return __extends(HeatLegend,_super),HeatLegend.prototype.getMinFromRules=function(property){var minValue_1,series=this.series;if(series)return Iterator_eachContinue(series.heatRules.iterator(),function(heatRule){return heatRule.property!=property||(minValue_1=heatRule.min,!1)}),minValue_1},HeatLegend.prototype.getMaxFromRules=function(property){var maxValue_1,series=this.series;if(series)return Iterator_each(series.heatRules.iterator(),function(heatRule){return heatRule.property!=property||(maxValue_1=heatRule.max,!1)}),maxValue_1},HeatLegend.prototype.validate=function(){_super.prototype.validate.call(this);var series=this.series,minColor=this.minColor,maxColor=this.maxColor;if(hasValue(minColor)||(minColor=toColor(this.getMinFromRules(\"fill\"))),hasValue(maxColor)||(maxColor=toColor(this.getMaxFromRules(\"fill\"))),series){var seriesFill=series.fill;!hasValue(minColor)&&seriesFill instanceof Color_Color&&(minColor=seriesFill),!hasValue(maxColor)&&seriesFill instanceof Color_Color&&(maxColor=seriesFill)}hasValue(maxColor)||(maxColor=toColor(this.getMaxFromRules(\"fill\")));var minOpacity=toNumber(this.getMinFromRules(\"fillOpacity\"));isNumber(minOpacity)||(minOpacity=1);var maxOpacity=toNumber(this.getMaxFromRules(\"fillOpacity\"));isNumber(maxOpacity)||(maxOpacity=1);var minStrokeOpacity=toNumber(this.getMinFromRules(\"strokeOpacity\"));isNumber(minStrokeOpacity)||(minStrokeOpacity=1);var maxStrokeOpacity=toNumber(this.getMaxFromRules(\"strokeOpacity\"));isNumber(maxStrokeOpacity)||(maxStrokeOpacity=1);for(var minStroke=toColor(this.getMinFromRules(\"stroke\")),maxStroke=toColor(this.getMaxFromRules(\"stroke\")),i=0;i<this.markerCount;i++){var marker=this.markers.getIndex(i);if(marker||((marker=this.markers.create()).parent=this.markerContainer,marker.height=Percent_percent(100),marker.width=Percent_percent(100)),1==this.markerCount){var gradient=new LinearGradient_LinearGradient;if(gradient.addColor(minColor,minOpacity),gradient.addColor(maxColor,maxOpacity),\"vertical\"==this.orientation&&(gradient.rotation=-90),marker.fill=gradient,hasValue(minStroke)&&hasValue(maxStroke)){var strokeGradient=new LinearGradient_LinearGradient;strokeGradient.addColor(minStroke,minStrokeOpacity),strokeGradient.addColor(maxStroke,maxStrokeOpacity),\"vertical\"==this.orientation&&(strokeGradient.rotation=-90),marker.stroke=strokeGradient}}else{var color=new Color_Color(Colors_interpolate(minColor.rgb,maxColor.rgb,i/this.markerCount));if(marker.fill=color,marker.fillOpacity=minOpacity+(maxOpacity-minOpacity)*i/this.markerCount,hasValue(minStroke)&&hasValue(maxStroke)){var color_1=new Color_Color(Colors_interpolate(minStroke.rgb,maxStroke.rgb,i/this.markerCount));marker.stroke=color_1,marker.strokeOpacity=minStrokeOpacity+(maxStrokeOpacity-minStrokeOpacity)*i/this.markerCount}}}this.markerCount>1&&(this.valueAxis.renderer.minGridDistance=\"horizontal\"==this.orientation?this.measuredWidth/this.markerCount:this.measuredHeight/this.markerCount),this.valueAxis.invalidate(),i=this.markerCount;for(var len=this.markers.length;i<len;i++)this.markers.getIndex(i).parent=void 0},Object.defineProperty(HeatLegend.prototype,\"minColor\",{get:function(){return this.getPropertyValue(\"minColor\")},set:function(value){value instanceof Color_Color||(value=toColor(value)),this.setColorProperty(\"minColor\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,\"maxColor\",{get:function(){return this.getPropertyValue(\"maxColor\")},set:function(value){Type_isObject(value)||(value=toColor(value)),this.setColorProperty(\"maxColor\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,\"markerCount\",{get:function(){return this.getPropertyValue(\"markerCount\")},set:function(value){this.setPropertyValue(\"markerCount\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,\"minValue\",{get:function(){return this.getPropertyValue(\"minValue\")},set:function(value){this.setPropertyValue(\"minValue\",value),this.valueAxis.min=value},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,\"maxValue\",{get:function(){return this.getPropertyValue(\"maxValue\")},set:function(value){this.setPropertyValue(\"maxValue\",value),this.valueAxis.max=value},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,\"orientation\",{get:function(){return this.getPropertyValue(\"orientation\")},set:function(value){this.setPropertyValue(\"orientation\",value,!0);var markerContainer=this.markerContainer,valueAxis=this.valueAxis;\"horizontal\"==value?(hasValue(this.width)||(this.width=200),this.height=void 0,valueAxis.width=Percent_percent(100),valueAxis.height=void 0,valueAxis.tooltip.pointerOrientation=\"vertical\",this.layout=\"vertical\",markerContainer.width=Percent_percent(100),markerContainer.height=void 0,valueAxis.renderer instanceof AxisRendererX_AxisRendererX||(valueAxis.renderer=new AxisRendererX_AxisRendererX)):(hasValue(this.height)||(this.height=200),this.width=void 0,this.layout=\"horizontal\",markerContainer.width=void 0,markerContainer.height=Percent_percent(100),valueAxis.height=Percent_percent(100),valueAxis.width=void 0,valueAxis.tooltip.pointerOrientation=\"horizontal\",valueAxis.renderer instanceof AxisRendererY_AxisRendererY||(valueAxis.renderer=new AxisRendererY_AxisRendererY),valueAxis.renderer.inside=!0,valueAxis.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var renderer=valueAxis.renderer;renderer.grid.template.disabled=!0,renderer.axisFills.template.disabled=!0,renderer.baseGrid.disabled=!0,renderer.labels.template.padding(2,3,2,3),renderer.minHeight=void 0,renderer.minWidth=void 0,this.markerContainer.layout=value},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,\"valueAxis\",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(ValueAxis_ValueAxis),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(valueAxis){this._valueAxis=valueAxis,valueAxis.parent=this,valueAxis.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,\"series\",{get:function(){return this._series},set:function(series){var _this=this;this._series=series;var dataField=\"value\";try{var dataFieldDefined=series.heatRules.getIndex(0).dataField;dataFieldDefined&&(dataField=dataFieldDefined)}catch(err){}this.updateMinMax(series.dataItem.values[dataField].low,series.dataItem.values[dataField].high),series.dataItem.events.on(\"calculatedvaluechanged\",function(event){_this.updateMinMax(series.dataItem.values[dataField].low,series.dataItem.values[dataField].high)},void 0,!1),series.heatRules.events.on(\"inserted\",this.invalidate,this,!1),series.heatRules.events.on(\"removed\",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),HeatLegend.prototype.updateMinMax=function(min,max){var valueAxis=this.valueAxis;isNumber(this.minValue)||(valueAxis.min=min,valueAxis.invalidate()),isNumber(this.maxValue)||(valueAxis.max=max,valueAxis.invalidate())},HeatLegend.prototype.processConfig=function(config){if(config&&hasValue(config.series)&&isString(config.series)&&isString(config.series))if(this.map.hasKey(config.series))config.series=this.map.getKey(config.series);else{var seriesId_1=config.series,disposer_1=this.map.events.on(\"insertKey\",function(ev){ev.key==seriesId_1&&(this.series=ev.newValue,disposer_1.dispose())},this);this._disposers.push(disposer_1),delete config.series}_super.prototype.processConfig.call(this,config)},HeatLegend}(Container_Container);Registry_registry.registeredClasses.HeatLegend=HeatLegend_HeatLegend;var Candlestick_Candlestick=function(_super){function Candlestick(){var _this=_super.call(this)||this;return _this.className=\"Candlestick\",_this.layout=\"none\",_this}return __extends(Candlestick,_super),Candlestick.prototype.createAssets=function(){_super.prototype.createAssets.call(this),this.lowLine=this.createChild(Line_Line),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Line_Line),this.highLine.shouldClone=!1},Candlestick.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.lowLine&&this.lowLine.copyFrom(source.lowLine),this.highLine&&this.highLine.copyFrom(source.highLine)},Candlestick}(Column_Column);Registry_registry.registeredClasses.Candlestick=Candlestick_Candlestick;var CandlestickSeries_CandlestickSeriesDataItem=function(_super){function CandlestickSeriesDataItem(){var _this=_super.call(this)||this;return _this.values.lowValueX={},_this.values.lowValueY={},_this.values.highValueX={},_this.values.highValueY={},_this.className=\"CandlestickSeriesDataItem\",_this.applyTheme(),_this}return __extends(CandlestickSeriesDataItem,_super),Object.defineProperty(CandlestickSeriesDataItem.prototype,\"lowValueX\",{get:function(){return this.values.lowValueX.value},set:function(value){this.setValue(\"lowValueX\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeriesDataItem.prototype,\"lowValueY\",{get:function(){return this.values.lowValueY.value},set:function(value){this.setValue(\"lowValueY\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeriesDataItem.prototype,\"highValueX\",{get:function(){return this.values.highValueX.value},set:function(value){this.setValue(\"highValueX\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeriesDataItem.prototype,\"highValueY\",{get:function(){return this.values.highValueY.value},set:function(value){this.setValue(\"highValueY\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeriesDataItem.prototype,\"closeValueX\",{get:function(){return this.values.valueX.value},set:function(value){this.setValue(\"valueX\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeriesDataItem.prototype,\"closeValueY\",{get:function(){return this.values.valueY.value},set:function(value){this.setValue(\"valueY\",value)},enumerable:!0,configurable:!0}),CandlestickSeriesDataItem}(ColumnSeries_ColumnSeriesDataItem),CandlestickSeries_CandlestickSeries=function(_super){function CandlestickSeries(){var _this=_super.call(this)||this;_this.className=\"CandlestickSeries\",_this.strokeOpacity=1;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,positiveColor=interfaceColors.getFor(\"positive\"),negativeColor=interfaceColors.getFor(\"negative\");return _this.dropFromOpenState.properties.fill=negativeColor,_this.dropFromOpenState.properties.stroke=negativeColor,_this.riseFromOpenState.properties.fill=positiveColor,_this.riseFromOpenState.properties.stroke=positiveColor,_this.applyTheme(),_this}return __extends(CandlestickSeries,_super),CandlestickSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Candlestick Series\"))},CandlestickSeries.prototype.createDataItem=function(){return new CandlestickSeries_CandlestickSeriesDataItem},CandlestickSeries.prototype.validateDataElementReal=function(dataItem){_super.prototype.validateDataElementReal.call(this,dataItem),this.validateCandlestick(dataItem)},CandlestickSeries.prototype.validateCandlestick=function(dataItem){var column=dataItem.column;if(column){var lowLine_1=column.lowLine,highLine_1=column.highLine;if(this.baseAxis==this.xAxis){var x=column.pixelWidth/2;lowLine_1.x=x,highLine_1.x=x;var open_1=dataItem.getWorkingValue(this.yOpenField),close_1=dataItem.getWorkingValue(this.yField),yOpen=this.yAxis.getY(dataItem,this.yOpenField),yClose=this.yAxis.getY(dataItem,this.yField),yLow=this.yAxis.getY(dataItem,this.yLowField),yHigh=this.yAxis.getY(dataItem,this.yHighField),pixelY=column.pixelY;lowLine_1.y1=yLow-pixelY,highLine_1.y1=yHigh-pixelY,open_1<close_1?(lowLine_1.y2=yOpen-pixelY,highLine_1.y2=yClose-pixelY):(lowLine_1.y2=yClose-pixelY,highLine_1.y2=yOpen-pixelY)}if(this.baseAxis==this.yAxis){var y=column.pixelHeight/2;lowLine_1.y=y,highLine_1.y=y;var open_2=dataItem.getWorkingValue(this.xOpenField),close_2=dataItem.getWorkingValue(this.xField),xOpen=this.xAxis.getX(dataItem,this.xOpenField),xClose=this.xAxis.getX(dataItem,this.xField),xLow=this.xAxis.getX(dataItem,this.xLowField),xHigh=this.xAxis.getX(dataItem,this.xHighField),pixelX=column.pixelX;lowLine_1.x1=xLow-pixelX,highLine_1.x1=xHigh-pixelX,open_2<close_2?(lowLine_1.x2=xOpen-pixelX,highLine_1.x2=xClose-pixelX):(lowLine_1.x2=xClose-pixelX,highLine_1.x2=xOpen-pixelX)}Iterator_each(this.axisRanges.iterator(),function(axisRange){var rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);if(rangeColumn){var rangeLowLine=rangeColumn.lowLine;rangeLowLine.x=lowLine_1.x,rangeLowLine.y=lowLine_1.y,rangeLowLine.x1=lowLine_1.x1,rangeLowLine.x2=lowLine_1.x2,rangeLowLine.y1=lowLine_1.y1,rangeLowLine.y2=lowLine_1.y2;var rangehighLine=rangeColumn.highLine;rangehighLine.x=highLine_1.x,rangehighLine.y=highLine_1.y,rangehighLine.x1=highLine_1.x1,rangehighLine.x2=highLine_1.x2,rangehighLine.y1=highLine_1.y1,rangehighLine.y2=highLine_1.y2}})}},Object.defineProperty(CandlestickSeries.prototype,\"xLowField\",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeries.prototype,\"yLowField\",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeries.prototype,\"xHighField\",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeries.prototype,\"yHighField\",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),CandlestickSeries.prototype.defineFields=function(){if(_super.prototype.defineFields.call(this),this.baseAxis==this.xAxis){var yAxisFieldName=capitalize(this.yAxis.axisFieldName);this._yLowField=\"low\"+yAxisFieldName+\"Y\",this._yHighField=\"high\"+yAxisFieldName+\"Y\"}if(this.baseAxis==this.yAxis){var xAxisFieldName=capitalize(this.xAxis.axisFieldName);this._xLowField=\"low\"+xAxisFieldName+\"X\",this._xHighField=\"high\"+xAxisFieldName+\"X\"}this.addValueField(this.xAxis,this._xValueFields,this._xLowField),this.addValueField(this.xAxis,this._xValueFields,this._xHighField),this.addValueField(this.yAxis,this._yValueFields,this._yLowField),this.addValueField(this.yAxis,this._yValueFields,this._yHighField)},CandlestickSeries.prototype.createLegendMarker=function(marker){var w=marker.pixelWidth,h=marker.pixelHeight;marker.removeChildren();var cw,ch,column=marker.createChild(Candlestick_Candlestick);column.shouldClone=!1,column.copyFrom(this.columns.template);var highLine=column.lowLine,lowLine=column.highLine;this.baseAxis==this.yAxis?(cw=w/3,ch=h,highLine.y=h/2,lowLine.y=h/2,highLine.x2=w/3,lowLine.x2=w/3,lowLine.x=w/3*2,column.column.x=w/3):(cw=w,ch=h/3,highLine.x=w/2,lowLine.x=w/2,highLine.y2=h/3,lowLine.y2=h/3,lowLine.y=h/3*2,column.column.y=h/3),column.width=cw,column.height=ch,copyProperties(this,marker,visualProperties),copyProperties(this.columns.template,column,visualProperties),column.stroke=this.riseFromOpenState.properties.stroke,column.fill=column.stroke;var legendDataItem=marker.dataItem;legendDataItem.color=column.fill,legendDataItem.colorOrig=column.fill},CandlestickSeries.prototype.createColumnTemplate=function(){return new Candlestick_Candlestick},CandlestickSeries}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.CandlestickSeries=CandlestickSeries_CandlestickSeries,Registry_registry.registeredClasses.CandlestickSeriesDataItem=CandlestickSeries_CandlestickSeriesDataItem;var OHLC_OHLC=function(_super){function OHLC(){var _this=_super.call(this)||this;return _this.className=\"OHLC\",_this.layout=\"none\",_this}return __extends(OHLC,_super),OHLC.prototype.createAssets=function(){this.openLine=this.createChild(Line_Line),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Line_Line),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Line_Line),this.closeLine.shouldClone=!1},OHLC.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.openLine&&this.openLine.copyFrom(source.openLine),this.highLowLine&&this.highLowLine.copyFrom(source.highLowLine),this.closeLine&&this.closeLine.copyFrom(source.closeLine)},OHLC}(Candlestick_Candlestick);Registry_registry.registeredClasses.OHLC=OHLC_OHLC;var OHLCSeries_OHLCSeriesDataItem=function(_super){function OHLCSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"OHLCSeriesDataItem\",_this.applyTheme(),_this}return __extends(OHLCSeriesDataItem,_super),OHLCSeriesDataItem}(CandlestickSeries_CandlestickSeriesDataItem),OHLCSeries_OHLCSeries=function(_super){function OHLCSeries(){var _this=_super.call(this)||this;return _this.className=\"OHLCSeries\",_this.applyTheme(),_this}return __extends(OHLCSeries,_super),OHLCSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"OHLC Series\"))},OHLCSeries.prototype.createDataItem=function(){return new OHLCSeries_OHLCSeriesDataItem},OHLCSeries.prototype.validateCandlestick=function(dataItem){var column=dataItem.column;if(column){var openLine_1=column.openLine,highLowLine_1=column.highLowLine,closeLine_1=column.closeLine;if(this.baseAxis==this.xAxis){var x=column.pixelWidth/2;highLowLine_1.x=x,dataItem.getWorkingValue(this.yOpenField),dataItem.getWorkingValue(this.yField);var yOpen=this.yAxis.getY(dataItem,this.yOpenField),yClose=this.yAxis.getY(dataItem,this.yField),yLow=this.yAxis.getY(dataItem,this.yLowField),yHigh=this.yAxis.getY(dataItem,this.yHighField),pixelY=column.pixelY;openLine_1.y1=yOpen-pixelY,openLine_1.y2=yOpen-pixelY,openLine_1.x1=0,openLine_1.x2=x,closeLine_1.y1=yClose-pixelY,closeLine_1.y2=yClose-pixelY,closeLine_1.x1=x,closeLine_1.x2=2*x,highLowLine_1.y1=yHigh-pixelY,highLowLine_1.y2=yLow-pixelY}if(this.baseAxis==this.yAxis){var y=column.pixelHeight/2;highLowLine_1.y=y,dataItem.getWorkingValue(this.xOpenField),dataItem.getWorkingValue(this.xField);var xOpen=this.xAxis.getX(dataItem,this.xOpenField),xClose=this.xAxis.getX(dataItem,this.xField),xLow=this.xAxis.getX(dataItem,this.xLowField),xHigh=this.xAxis.getX(dataItem,this.xHighField),pixelX=column.pixelX;openLine_1.x1=xOpen-pixelX,openLine_1.x2=xOpen-pixelX,openLine_1.y1=y,openLine_1.y2=2*y,closeLine_1.x1=xClose-pixelX,closeLine_1.x2=xClose-pixelX,closeLine_1.y1=0,closeLine_1.y2=y,highLowLine_1.x1=xHigh-pixelX,highLowLine_1.x2=xLow-pixelX}Iterator_each(this.axisRanges.iterator(),function(axisRange){var rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);if(rangeColumn){var rangeOpenLine=rangeColumn.openLine;rangeOpenLine.x=openLine_1.x,rangeOpenLine.y=openLine_1.y,rangeOpenLine.x1=openLine_1.x1,rangeOpenLine.x2=openLine_1.x2,rangeOpenLine.y1=openLine_1.y1,rangeOpenLine.y2=openLine_1.y2;var rangeCloseLine=rangeColumn.closeLine;rangeCloseLine.x=closeLine_1.x,rangeCloseLine.y=closeLine_1.y,rangeCloseLine.x1=closeLine_1.x1,rangeCloseLine.x2=closeLine_1.x2,rangeCloseLine.y1=closeLine_1.y1,rangeCloseLine.y2=closeLine_1.y2;var rangeHighLowLine=rangeColumn.highLowLine;rangeHighLowLine.x=highLowLine_1.x,rangeHighLowLine.y=highLowLine_1.y,rangeHighLowLine.x1=highLowLine_1.x1,rangeHighLowLine.x2=highLowLine_1.x2,rangeHighLowLine.y1=highLowLine_1.y1,rangeHighLowLine.y2=highLowLine_1.y2}})}},OHLCSeries.prototype.createLegendMarker=function(marker){var w=marker.pixelWidth,h=marker.pixelHeight;marker.removeChildren();var cw,ch,column=marker.createChild(OHLC_OHLC);column.shouldClone=!1,column.copyFrom(this.columns.template);var openLine=column.openLine,closeLine=column.closeLine,highLowLine=column.highLowLine;this.baseAxis==this.yAxis?(cw=w/3,ch=h,highLowLine.y=h/2,highLowLine.x2=w,openLine.x=w/3*2,openLine.y2=h/2,closeLine.x=w/3,closeLine.y2=h,closeLine.y1=h/2):(cw=w,ch=h/3,highLowLine.x=w/2,highLowLine.y2=h,openLine.y=h/3*2,openLine.x2=w/2,closeLine.y=h/3,closeLine.x2=w,closeLine.x1=w/2),column.width=cw,column.height=ch,copyProperties(this,marker,visualProperties),copyProperties(this.columns.template,column,visualProperties),column.stroke=this.riseFromOpenState.properties.stroke;var legendDataItem=marker.dataItem;legendDataItem.color=column.stroke,legendDataItem.colorOrig=column.stroke},OHLCSeries.prototype.createColumnTemplate=function(){return new OHLC_OHLC},OHLCSeries}(CandlestickSeries_CandlestickSeries);Registry_registry.registeredClasses.OHLCSeries=OHLCSeries_OHLCSeries,Registry_registry.registeredClasses.OHLCSeriesDataItem=OHLCSeries_OHLCSeriesDataItem;var StepLineSeriesSegment_StepLineSeriesSegment=function(_super){function StepLineSeriesSegment(){var _this=_super.call(this)||this;return _this.className=\"StepLineSeriesSegment\",_this}return __extends(StepLineSeriesSegment,_super),StepLineSeriesSegment.prototype.drawSegment=function(points,closePoints,smoothnessX,smoothnessY,noRisers,vertical){if(points.length>0&&closePoints.length>0)if(noRisers){var path=moveTo(points[0]);if(points.length>0)for(var i=1;i<points.length;i++){var point=points[i];i/2==Math.round(i/2)?path+=moveTo(point):path+=lineTo(point)}this.strokeSprite.path=path,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(path=moveTo(points[0])+polyline(points),path+=lineTo(closePoints[0])+polyline(closePoints),path+=lineTo(points[0]),this.fillSprite.path=path+=\" Z\")}else path=moveTo(points[0])+polyline(points),this.strokeSprite.path=path,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(path+=lineTo(closePoints[0])+polyline(closePoints),path+=lineTo(points[0]),this.fillSprite.path=path+=\" Z\")},StepLineSeriesSegment}(LineSeriesSegment_LineSeriesSegment);Registry_registry.registeredClasses.StepLineSeriesSegment=StepLineSeriesSegment_StepLineSeriesSegment;var StepLineSeries_StepLineSeriesDataItem=function(_super){function StepLineSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"StepLineSeriesDataItem\",_this.applyTheme(),_this}return __extends(StepLineSeriesDataItem,_super),StepLineSeriesDataItem}(LineSeries_LineSeriesDataItem),StepLineSeries_StepLineSeries=function(_super){function StepLineSeries(){var _this=_super.call(this)||this;return _this.className=\"StepLineSeries\",_this.applyTheme(),_this.startLocation=0,_this.endLocation=1,_this}return __extends(StepLineSeries,_super),StepLineSeries.prototype.createDataItem=function(){return new StepLineSeries_StepLineSeriesDataItem},StepLineSeries.prototype.addPoints=function(points,dataItem,xField,yField,backwards){var startLocationX,endLocationX,startLocationY,endLocationY;this.baseAxis==this.xAxis&&(startLocationX=this.startLocation,endLocationX=this.endLocation,startLocationY=this.getAdjustedXLocation(dataItem,this.yOpenField),endLocationY=this.getAdjustedXLocation(dataItem,this.yField)),this.baseAxis==this.yAxis&&(startLocationY=this.startLocation,endLocationY=this.endLocation,startLocationX=this.getAdjustedXLocation(dataItem,this.xOpenField),endLocationX=this.getAdjustedXLocation(dataItem,this.xField));var x0=this.xAxis.getX(dataItem,xField,startLocationX),y0=this.yAxis.getY(dataItem,yField,startLocationY),x1=this.xAxis.getX(dataItem,xField,endLocationX),y1=this.yAxis.getY(dataItem,yField,endLocationY);if(x0=fitToRange(x0,-1e5,1e5),y0=fitToRange(y0,-1e5,1e5),x1=fitToRange(x1,-1e5,1e5),y1=fitToRange(y1,-1e5,1e5),!this.noRisers&&points.length>1){var prevPoint=points[points.length-1];this.baseAxis==this.xAxis&&points.push(backwards?{x:prevPoint.x,y:y1}:{x:x0,y:prevPoint.y}),this.baseAxis==this.yAxis&&points.push(backwards?{x:x1,y:prevPoint.y}:{x:prevPoint.x,y:y0})}var point0={x:x0,y:y0},point1={x:x1,y:y1};backwards?points.push(point1,point0):points.push(point0,point1)},StepLineSeries.prototype.drawSegment=function(segment,points,closePoints){var vertical=!1;this.yAxis==this.baseAxis&&(vertical=!0),segment.drawSegment(points,closePoints,this.tensionX,this.tensionY,this.noRisers,vertical)},StepLineSeries.prototype.createSegment=function(){return new StepLineSeriesSegment_StepLineSeriesSegment},Object.defineProperty(StepLineSeries.prototype,\"noRisers\",{get:function(){return this.getPropertyValue(\"noRisers\")},set:function(value){this.setPropertyValue(\"noRisers\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(StepLineSeries.prototype,\"startLocation\",{get:function(){return this.getPropertyValue(\"startLocation\")},set:function(value){this.setPropertyValue(\"startLocation\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(StepLineSeries.prototype,\"endLocation\",{get:function(){return this.getPropertyValue(\"endLocation\")},set:function(value){this.setPropertyValue(\"endLocation\",value,!0)},enumerable:!0,configurable:!0}),StepLineSeries}(LineSeries_LineSeries);Registry_registry.registeredClasses.StepLineSeries=StepLineSeries_StepLineSeries,Registry_registry.registeredClasses.StepLineSeriesDataItem=StepLineSeries_StepLineSeriesDataItem;var RadarColumn_RadarColumn=function(_super){function RadarColumn(){var _this=_super.call(this)||this;return _this.className=\"RadarColumn\",_this}return __extends(RadarColumn,_super),RadarColumn.prototype.createAssets=function(){this.radarColumn=this.createChild(Slice_Slice),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},RadarColumn.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.radarColumn&&this.radarColumn.copyFrom(source.radarColumn)},RadarColumn.prototype.getTooltipX=function(){var value=this.getPropertyValue(\"tooltipX\");return isNumber(value)||(value=this.radarColumn.tooltipX),value},RadarColumn.prototype.getTooltipY=function(){var value=this.getPropertyValue(\"tooltipX\");return isNumber(value)||(value=this.radarColumn.tooltipY),value},RadarColumn}(Column_Column);Registry_registry.registeredClasses.RadarColumn=RadarColumn_RadarColumn;var RadarColumnSeries_RadarColumnSeriesDataItem=function(_super){function RadarColumnSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"ColumnSeriesDataItem\",_this.applyTheme(),_this}return __extends(RadarColumnSeriesDataItem,_super),RadarColumnSeriesDataItem}(ColumnSeries_ColumnSeriesDataItem),RadarColumnSeries_RadarColumnSeries=function(_super){function RadarColumnSeries(){var _this=_super.call(this)||this;return _this.className=\"RadarColumnSeries\",_this.applyTheme(),_this}return __extends(RadarColumnSeries,_super),RadarColumnSeries.prototype.createColumnTemplate=function(){return new RadarColumn_RadarColumn},RadarColumnSeries.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),_super.prototype.validate.call(this)},RadarColumnSeries.prototype.validateDataElementReal=function(dataItem){var lAngle,rAngle,tRadius,bRadius,_this=this,startAngle=this.chart.startAngle,endAngle=this.chart.endAngle,yField=this.yField,yOpenField=this.yOpenField,xField=this.xField,xOpenField=this.xOpenField,startLocation=this.getStartLocation(dataItem),endLocation=this.getEndLocation(dataItem),cellAngle=(endAngle-startAngle)/(this.dataItems.length*(this.end-this.start)),percentWidth=this.columns.template.percentWidth;Type_isNaN(percentWidth)&&(percentWidth=100);var offset=Math_round((endLocation-startLocation)*(1-percentWidth/100)/2,5);if(startLocation+=offset,endLocation-=offset,this.baseAxis==this.xAxis?(tRadius=getDistance({x:this.yAxis.getX(dataItem,yField,dataItem.locations[yField],\"valueY\"),y:this.yAxis.getY(dataItem,yField,dataItem.locations[yField],\"valueY\")}),bRadius=getDistance({x:this.yAxis.getX(dataItem,yOpenField,dataItem.locations[yOpenField],\"valueY\"),y:this.yAxis.getY(dataItem,yOpenField,dataItem.locations[yOpenField],\"valueY\")}),lAngle=this.xAxis.getAngle(dataItem,xOpenField,startLocation,\"valueX\"),rAngle=this.xAxis.getAngle(dataItem,xField,endLocation,\"valueX\"),startAngle+=startLocation*cellAngle,endAngle-=(1-endLocation)*cellAngle):(tRadius=getDistance({x:this.yAxis.getX(dataItem,yField,startLocation,\"valueY\"),y:this.yAxis.getY(dataItem,yField,startLocation,\"valueY\")}),bRadius=getDistance({x:this.yAxis.getX(dataItem,yOpenField,endLocation,\"valueY\"),y:this.yAxis.getY(dataItem,yOpenField,endLocation,\"valueY\")}),lAngle=this.xAxis.getAngle(dataItem,xField,dataItem.locations[xField],\"valueX\"),rAngle=this.xAxis.getAngle(dataItem,xOpenField,dataItem.locations[xOpenField],\"valueX\")),rAngle<lAngle){var temp=rAngle;rAngle=lAngle,lAngle=temp}lAngle=fitToRange(lAngle,startAngle,endAngle),rAngle=fitToRange(rAngle,startAngle,endAngle);var radarColumn=dataItem.column;radarColumn||(radarColumn=this.columns.create(),dataItem.column=radarColumn,forceCopyProperties(this.columns.template,radarColumn,visualProperties),dataItem.addSprite(radarColumn),radarColumn.paper=this.paper,this.setColumnStates(radarColumn));var slice=radarColumn.radarColumn;slice.startAngle=lAngle;var arc=rAngle-lAngle;arc>0?(slice.arc=arc,slice.radius=tRadius,slice.innerRadius=bRadius,radarColumn.__disabled=!1,radarColumn.parent=this.columnsContainer,Iterator_each(this.axisRanges.iterator(),function(axisRange){var rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);rangeColumn||(rangeColumn=_this.columns.create(),forceCopyProperties(_this.columns.template,rangeColumn,visualProperties),copyProperties(axisRange.contents,rangeColumn,visualProperties),rangeColumn.dataItem&&Array_remove(rangeColumn.dataItem.sprites,rangeColumn),dataItem.addSprite(rangeColumn),rangeColumn.paper=_this.paper,_this.setColumnStates(rangeColumn),dataItem.rangesColumns.setKey(axisRange.uid,rangeColumn));var slice=rangeColumn.radarColumn;slice.startAngle=lAngle,slice.arc=arc,slice.radius=tRadius,slice.innerRadius=bRadius,slice.invalid&&(slice.paper=_this.paper,slice.validate()),rangeColumn.__disabled=!1,rangeColumn.parent=axisRange.contents})):this.disableUnusedColumns(dataItem)},RadarColumnSeries.prototype.getPoint=function(dataItem,xKey,yKey,locationX,locationY,stackKeyX,stackKeyY){stackKeyX||(stackKeyX=\"valueX\"),stackKeyY||(stackKeyY=\"valueY\");var radius=getDistance({x:this.yAxis.getX(dataItem,yKey,locationY,stackKeyY),y:this.yAxis.getY(dataItem,yKey,locationY,stackKeyY)});0==radius&&(radius=1e-5);var angle=this.xAxis.getAngle(dataItem,xKey,locationX,stackKeyX);return{x:radius*Math_cos(angle),y:radius*Math_sin(angle)}},RadarColumnSeries.prototype.getMaskPath=function(){var renderer=this.yAxis.renderer;return Path_arc(renderer.startAngle,renderer.endAngle-renderer.startAngle,renderer.pixelRadius,renderer.pixelInnerRadius)},RadarColumnSeries}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.RadarColumnSeries=RadarColumnSeries_RadarColumnSeries,Registry_registry.registeredClasses.RadarColumnSeriesDataItem=RadarColumnSeries_RadarColumnSeriesDataItem;var FunnelSlice_FunnelSlice=function(_super){function FunnelSlice(){var _this=_super.call(this)||this;return _this.slice=_this.createChild(Sprite_Sprite),_this.slice.shouldClone=!1,_this.slice.setElement(_this.paper.add(\"path\")),_this.slice.isMeasured=!1,_this.orientation=\"vertical\",_this.bottomWidth=Percent_percent(100),_this.topWidth=Percent_percent(100),_this.isMeasured=!1,_this.width=10,_this.height=10,_this.expandDistance=0,_this.className=\"FunnelSlice\",_this.applyTheme(),_this}return __extends(FunnelSlice,_super),FunnelSlice.prototype.draw=function(){_super.prototype.draw.call(this);var pt=this.pixelPaddingTop,pl=this.pixelPaddingLeft,w=this.pixelWidth-this.pixelPaddingRight-pl,h=this.pixelHeight-pt-this.pixelPaddingBottom,ed=this.expandDistance,path=\"\";if(\"vertical\"==this.orientation){var tl={x:(w-(tw=relativeToValue(this.topWidth,w)))/2+pl,y:pt},tr={x:(w+tw)/2+pl,y:pt},br={x:(w+(bw=relativeToValue(this.bottomWidth,w)))/2+pl,y:pt+h},bl={x:(w-bw)/2+pl,y:pt+h},cpr={x:tr.x+(br.x-tr.x)/2+ed*h,y:tr.y+.5*h},cpl={x:tl.x+(bl.x-tl.x)/2-ed*h,y:tl.y+.5*h},qp1=lineTo(br),qp2=\"\";0!=ed&&(qp1=quadraticCurveTo(br,cpr),qp2=quadraticCurveTo(tl,cpl)),path=moveTo(tl)+lineTo(tr)+qp1+lineTo(bl)+qp2,this.tickPoint={x:tr.x+(br.x-tr.x)/2,y:tr.y+(br.y-tr.y)/2}}else{var tw,bw,tt={x:pl,y:(h-(tw=relativeToValue(this.topWidth,h)))/2+pt},tb={x:pl,y:(h+tw)/2+pt},bt={x:pl+w,y:(h-(bw=relativeToValue(this.bottomWidth,h)))/2+pt},bb={x:pl+w,y:(h+bw)/2+pt};cpr={y:tt.y+(bt.y-tt.y)/2-ed*w,x:tt.x+.5*w},cpl={y:tb.y+(bb.y-tb.y)/2+ed*w,x:tb.x+.5*w},qp1=lineTo(bt),qp2=\"\",0!=ed&&(qp1=quadraticCurveTo(bt,cpr),qp2=quadraticCurveTo(tb,cpl)),path=moveTo(tb)+lineTo(tt)+qp1+lineTo(bb)+qp2,this.tickPoint={y:tb.y+(bb.y-tb.y)/2,x:tb.x+(bb.x-tb.x)/2}}this.slice.path=path,this.invalidateLayout()},FunnelSlice.prototype.getPoint=function(locationX,locationY){var pt=this.pixelPaddingTop,pl=this.pixelPaddingLeft,w=this.pixelWidth-this.pixelPaddingRight-pl,h=this.pixelHeight-pt-this.pixelPaddingBottom;if(\"vertical\"==this.orientation){var tl={x:(w-(tw=relativeToValue(this.topWidth,w)))/2+pl,y:pt},tr={x:(w+tw)/2+pl,y:pt},br={x:(w+(bw=relativeToValue(this.bottomWidth,w)))/2+pl,y:pt+h},mlx=tl.x+((w-bw)/2+pl-tl.x)*locationY;return{x:mlx+(tr.x+(br.x-tr.x)*locationY-mlx)*locationX,y:tr.y+(br.y-tr.y)*locationY}}var tw,bw,tt_x=pl,tt_y=(h-(tw=relativeToValue(this.topWidth,h)))/2+pt,tb_y=(h+tw)/2+pt,bt_x=pl+w,mty=tt_y+((h-(bw=relativeToValue(this.bottomWidth,h)))/2+pt-tt_y)*locationX;return{y:mty+(tb_y+((h+bw)/2+pt-tb_y)*locationX-mty)*locationY,x:tt_x+(bt_x-tt_x)*locationX}},Object.defineProperty(FunnelSlice.prototype,\"bottomWidth\",{get:function(){return this.getPropertyValue(\"bottomWidth\")},set:function(value){this.setPercentProperty(\"bottomWidth\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelSlice.prototype,\"topWidth\",{get:function(){return this.getPropertyValue(\"topWidth\")},set:function(value){this.setPercentProperty(\"topWidth\",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelSlice.prototype,\"orientation\",{get:function(){return this.getPropertyValue(\"orientation\")},set:function(value){this.setPropertyValue(\"orientation\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelSlice.prototype,\"expandDistance\",{get:function(){return this.getPropertyValue(\"expandDistance\")},set:function(value){this.setPropertyValue(\"expandDistance\",value,!0)},enumerable:!0,configurable:!0}),FunnelSlice.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.slice&&this.slice.copyFrom(source.slice)},FunnelSlice}(Container_Container);Registry_registry.registeredClasses.FunnelSlice=FunnelSlice_FunnelSlice;var FunnelTick_FunnelTick=function(_super){function FunnelTick(){var _this=_super.call(this)||this;return _this._label=new Disposer_MutableValueDisposer,_this._slice=new Disposer_MutableValueDisposer,_this.className=\"FunnelTick\",_this.element=_this.paper.add(\"path\"),_this._disposers.push(_this._label),_this._disposers.push(_this._slice),_this.setPropertyValue(\"locationX\",0),_this.setPropertyValue(\"locationY\",0),_this.applyTheme(),_this}return __extends(FunnelTick,_super),FunnelTick.prototype.draw=function(){_super.prototype.draw.call(this);var slice=this.slice,point=slice.getPoint(this.locationX,this.locationY);if(point){var label=this.label,series=slice.dataItem.component;if(\"vertical\"==series.orientation){var x1=label.pixelX,y1=label.pixelY;series.labelsOpposite||(x1+=label.maxRight);var p0=spritePointToSprite(point,slice,this.parent),p1=spritePointToSprite({x:x1,y:y1},label.parent,this.parent);this.path=moveTo(p0)+lineTo(p1)}else x1=label.pixelX,y1=label.pixelY,series.labelsOpposite||(y1+=label.maxBottom),p0=spritePointToSprite(point,slice,this.parent),p1=spritePointToSprite({x:x1,y:y1},label.parent,this.parent),this.path=moveTo(p0)+lineTo(p1)}},Object.defineProperty(FunnelTick.prototype,\"slice\",{get:function(){return this._slice.get()},set:function(slice){this._slice.set(slice,new Disposer_MultiDisposer([slice.events.on(\"transformed\",this.invalidate,this,!1),slice.events.on(\"validated\",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelTick.prototype,\"label\",{get:function(){return this._label.get()},set:function(label){this._label.set(label,label.events.on(\"transformed\",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelTick.prototype,\"locationX\",{get:function(){return this.getPropertyValue(\"locationX\")},set:function(value){this.setPropertyValue(\"locationX\",value,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelTick.prototype,\"locationY\",{get:function(){return this.getPropertyValue(\"locationY\")},set:function(value){this.setPropertyValue(\"locationY\",value,!1,!0)},enumerable:!0,configurable:!0}),FunnelTick}(Tick_Tick);Registry_registry.registeredClasses.FunnelTick=FunnelTick_FunnelTick;var FunnelSeries_FunnelSeriesDataItem=function(_super){function FunnelSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"FunnelSeriesDataItem\",_this.applyTheme(),_this}return __extends(FunnelSeriesDataItem,_super),Object.defineProperty(FunnelSeriesDataItem.prototype,\"sliceLink\",{get:function(){var _this=this;if(!this._sliceLink){var sliceLink_1=this.component.sliceLinks.create();this._sliceLink=sliceLink_1,this._disposers.push(sliceLink_1),sliceLink_1.parent=this.component.slicesContainer,this._disposers.push(new Disposer(function(){_this.component&&_this.component.sliceLinks.removeValue(sliceLink_1)})),this.addSprite(sliceLink_1),sliceLink_1.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),FunnelSeriesDataItem}(PercentSeries_PercentSeriesDataItem),FunnelSeries_FunnelSeries=function(_super){function FunnelSeries(){var _this=_super.call(this)||this;return _this._nextY=0,_this.className=\"FunnelSeries\",_this.orientation=\"vertical\",_this.width=Percent_percent(100),_this.height=Percent_percent(100),_this.slicesContainer.width=Percent_percent(100),_this.slicesContainer.height=Percent_percent(100),_this._disposers.push(_this.slicesContainer.events.on(\"maxsizechanged\",_this.invalidateDataItems,_this,!1)),_this.labelsOpposite=!0,_this.labelsContainer.layout=\"absolute\",_this.bottomRatio=0,_this.applyTheme(),_this}return __extends(FunnelSeries,_super),FunnelSeries.prototype.createSlice=function(){return new FunnelSlice_FunnelSlice},FunnelSeries.prototype.createTick=function(){return new FunnelTick_FunnelTick},FunnelSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Funnel Series\"))},FunnelSeries.prototype.createDataItem=function(){return new FunnelSeries_FunnelSeriesDataItem},FunnelSeries.prototype.initSlice=function(slice){slice.isMeasured=!1,slice.defaultState.properties.scale=1,slice.observe(\"scale\",this.handleSliceScale,this),slice.observe([\"dx\",\"dy\",\"x\",\"y\"],this.handleSliceMove,this),slice.tooltipText=\"{category}: {value.percent.formatNumber('#.#')}% ({value.value})\",slice.states.create(\"hover\").properties.expandDistance=.2},FunnelSeries.prototype.initLabel=function(label){_super.prototype.initLabel.call(this,label),label.verticalCenter=\"middle\",label.horizontalCenter=\"middle\",label.isMeasured=!0,label.padding(5,5,5,5)},FunnelSeries.prototype.validate=function(){_super.prototype.validate.call(this),this._nextY=0},FunnelSeries.prototype.validateDataElements=function(){var slicesContainer=this.slicesContainer,labelsContainer=this.labelsContainer,labelTemplate=this.labels.template;this.alignLabels?(labelTemplate.interactionsEnabled=!0,slicesContainer.isMeasured=!0,labelsContainer.isMeasured=!0):(labelTemplate.interactionsEnabled=!1,slicesContainer.isMeasured=!1,labelsContainer.isMeasured=!1);var total=0,count=0;this.dataItems.each(function(dItem){hasValue(dItem.value)&&(count++,total+=dItem.value>0?dItem.getWorkingValue(\"value\")/dItem.value:1)}),this._total=1/count*total,this._count=count,_super.prototype.validateDataElements.call(this),this.arrangeLabels()},FunnelSeries.prototype.getNextValue=function(dataItem){var index=dataItem.index,nextValue=dataItem.getWorkingValue(\"value\");if(index<this.dataItems.length-1){var nextItem=this.dataItems.getIndex(index+1);if(nextValue=nextItem.getWorkingValue(\"value\"),!nextItem.visible||nextItem.isHiding)return this.getNextValue(nextItem)}return nextValue},FunnelSeries.prototype.formDataElement=function(){},FunnelSeries.prototype.validateDataElement=function(dataItem){if(hasValue(dataItem.value)){var slice=dataItem.slice;slice.orientation=this.orientation;var sliceLink=dataItem.sliceLink;sliceLink.orientation=this.orientation;var tick=dataItem.tick,label=dataItem.label;tick.slice=slice,tick.label=label,this.decorateSlice(dataItem),sliceLink.fill=slice.fill,dataItem.index==this.dataItems.length-1&&(sliceLink.disabled=!0),_super.prototype.validateDataElement.call(this,dataItem)}},FunnelSeries.prototype.decorateSlice=function(dataItem){var slice=dataItem.slice,sliceLink=dataItem.sliceLink,label=dataItem.label,tick=dataItem.tick,maxWidth=this.slicesContainer.innerWidth,maxHeight=this.slicesContainer.innerHeight,nextValue=this.getNextValue(dataItem),workingValue=dataItem.getWorkingValue(\"value\"),bottomRatio=this.bottomRatio,d=1;if(dataItem.value>0&&(d=workingValue/dataItem.value),\"vertical\"==this.orientation){var linkHeight=sliceLink.pixelHeight*d;maxHeight+=linkHeight,slice.topWidth=workingValue/this.dataItem.values.value.high*maxWidth,slice.bottomWidth=(workingValue-(workingValue-nextValue)*bottomRatio)/this.dataItem.values.value.high*maxWidth,sliceLink.topWidth=slice.bottomWidth,sliceLink.bottomWidth=(workingValue-(workingValue-nextValue))/this.dataItem.values.value.high*maxWidth,slice.y=this._nextY,slice.height=Math_max(0,maxHeight/this._count*d/this._total-linkHeight),slice.x=maxWidth/2,label.x=this.alignLabels?void 0:slice.x,label.y=slice.pixelY+slice.pixelHeight*tick.locationY,this._nextY+=slice.pixelHeight+linkHeight,sliceLink.y=this._nextY-linkHeight,sliceLink.x=slice.x}else{var linkWidth=sliceLink.pixelWidth*d;maxWidth+=linkWidth,slice.topWidth=workingValue/this.dataItem.values.value.high*maxHeight,slice.bottomWidth=(workingValue-(workingValue-nextValue)*bottomRatio)/this.dataItem.values.value.high*maxHeight,sliceLink.topWidth=slice.bottomWidth,sliceLink.bottomWidth=(workingValue-(workingValue-nextValue))/this.dataItem.values.value.high*maxHeight,slice.x=this._nextY,slice.width=maxWidth/this._count*d*1/this._total-linkWidth,slice.y=maxHeight/2,label.y=this.alignLabels?this.labelsContainer.measuredHeight:slice.y,label.x=slice.pixelX+slice.pixelWidth*tick.locationX,this._nextY+=slice.pixelWidth+linkWidth,sliceLink.x=this._nextY-linkWidth,sliceLink.y=slice.y}},FunnelSeries.prototype.arrangeLabels=function(){if(this.alignLabels){var count=this.labels.length;if(count>1){var lastLabel=this.labels.getIndex(count-1),lastY=lastLabel.pixelY,lastX=lastLabel.pixelX;if(count>1){for(var i=count-2;i>=0;i--)(label=this.labels.getIndex(i)).visible&&(label.invalid&&label.validate(),\"vertical\"==this.orientation?label.pixelY+label.measuredHeight>lastY&&(label.y=lastY-label.measuredHeight):label.pixelX+label.measuredWidth>lastX&&(label.x=lastX-label.measuredWidth),lastY=label.pixelY,lastX=label.pixelX);for(lastY=0,lastX=0,i=0;i<count;i++){var label;(label=this.labels.getIndex(i)).visible&&(label.invalid&&label.validate(),\"vertical\"==this.orientation?label.pixelY<lastY&&(label.y=lastY):label.pixelX<lastX&&(label.x=lastX),lastY+=label.measuredHeight,lastX+=label.measuredWidth)}}}}},FunnelSeries.prototype.positionBullet=function(bullet){_super.prototype.positionBullet.call(this,bullet);var slice=bullet.dataItem.slice,locationX=bullet.locationX;isNumber(locationX)||(locationX=.5);var locationY=bullet.locationY;isNumber(locationY)||(locationY=1),bullet.x=slice.pixelX+slice.measuredWidth*locationX,bullet.y=slice.pixelY+slice.measuredHeight*locationY},Object.defineProperty(FunnelSeries.prototype,\"orientation\",{get:function(){return this.getPropertyValue(\"orientation\")},set:function(value){this.setPropertyValue(\"orientation\",value)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),\"vertical\"==value?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout=\"horizontal\"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout=\"vertical\"))},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelSeries.prototype,\"bottomRatio\",{get:function(){return this.getPropertyValue(\"bottomRatio\")},set:function(value){this.setPropertyValue(\"bottomRatio\",value)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelSeries.prototype,\"sliceLinks\",{get:function(){if(!this._sliceLinks){var sliceLink=new FunnelSlice_FunnelSlice;sliceLink.applyOnClones=!0,sliceLink.fillOpacity=.5,sliceLink.expandDistance=-.3,sliceLink.hiddenState.properties.opacity=0,this._disposers.push(sliceLink),this._sliceLinks=new List_ListTemplate(sliceLink),this._disposers.push(new List_ListDisposer(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),FunnelSeries.prototype.show=function(duration){var _this=this,startIndex=this.startIndex,endIndex=this.endIndex,interpolationDuration=this.defaultState.transitionDuration;isNumber(duration)&&(interpolationDuration=duration);var delay=0;return Iterator_each(indexed(this.dataItems.iterator()),function(a){var i=a[0];_this.sequencedInterpolation&&(delay=_this.sequencedInterpolationDelay*i+interpolationDuration*(i-startIndex)/(endIndex-startIndex)),a[1].show(interpolationDuration,delay,[\"value\"])}),_super.prototype.show.call(this,duration)},FunnelSeries.prototype.hide=function(duration){var _this=this,fields=[\"value\"],startIndex=this.startIndex,endIndex=this.endIndex,delay=0,interpolationDuration=this.hiddenState.transitionDuration;isNumber(duration)&&(interpolationDuration=duration),Iterator_each(indexed(this.dataItems.iterator()),function(a){var i=a[0];_this.sequencedInterpolation&&(delay=_this.sequencedInterpolationDelay*i+interpolationDuration*(i-startIndex)/(endIndex-startIndex)),a[1].hide(interpolationDuration,delay,0,fields)});var animation=_super.prototype.hide.call(this,duration);return animation&&!animation.isFinished()&&animation.delay(delay),animation},FunnelSeries.prototype.setAlignLabels=function(value){_super.prototype.setAlignLabels.call(this,value),this.ticks.template.disabled=!value;var labelsContainer=this.labelsContainer;labelsContainer&&(value?(labelsContainer.height=void 0,labelsContainer.width=void 0,labelsContainer.margin(10,10,10,10)):(labelsContainer.width=Percent_percent(100),labelsContainer.height=Percent_percent(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(FunnelSeries.prototype,\"labelsOpposite\",{get:function(){return this.getPropertyValue(\"labelsOpposite\")},set:function(value){this.setPropertyValue(\"labelsOpposite\",value);var labelTemplate=this.labels.template,labelAlign=\"none\",labelValign=\"none\";this.alignLabels?value?(this.labelsContainer.toFront(),\"vertical\"==this.orientation?(this.ticks.template.locationX=1,labelTemplate.horizontalCenter=\"left\",labelAlign=\"right\"):(this.ticks.template.locationY=1,labelTemplate.horizontalCenter=\"right\",labelValign=\"bottom\")):(this.labelsContainer.toBack(),\"vertical\"==this.orientation?(this.ticks.template.locationX=0,labelAlign=\"left\"):(labelValign=\"top\",this.ticks.template.locationY=0)):\"vertical\"==this.orientation?labelAlign=\"center\":labelValign=\"middle\",labelTemplate.align=labelAlign,labelTemplate.valign=labelValign,this.validateLayout(),this.ticks.each(function(tick){tick.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),FunnelSeries}(PercentSeries_PercentSeries);Registry_registry.registeredClasses.FunnelSeries=FunnelSeries_FunnelSeries,Registry_registry.registeredClasses.FunnelSeriesDataItem=FunnelSeries_FunnelSeriesDataItem;var PyramidSeries_PyramidSeriesDataItem=function(_super){function PyramidSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"PyramidSeriesDataItem\",_this.applyTheme(),_this}return __extends(PyramidSeriesDataItem,_super),PyramidSeriesDataItem}(FunnelSeries_FunnelSeriesDataItem),PyramidSeries_PyramidSeries=function(_super){function PyramidSeries(){var _this=_super.call(this)||this;return _this.className=\"PyramidSeries\",_this.topWidth=Percent_percent(0),_this.bottomWidth=Percent_percent(100),_this.pyramidHeight=Percent_percent(100),_this.valueIs=\"area\",_this.sliceLinks.template.width=0,_this.sliceLinks.template.height=0,_this.applyTheme(),_this}return __extends(PyramidSeries,_super),PyramidSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Pyramid Series\"))},PyramidSeries.prototype.createDataItem=function(){return new PyramidSeries_PyramidSeriesDataItem},PyramidSeries.prototype.validate=function(){_super.prototype.validate.call(this),this._nextWidth=void 0},PyramidSeries.prototype.getNextValue=function(dataItem){var index=dataItem.index,nextValue=dataItem.getWorkingValue(\"value\");return index<this.dataItems.length-1&&(nextValue=this.dataItems.getIndex(index+1).getWorkingValue(\"value\")),0==nextValue&&(nextValue=1e-6),nextValue},PyramidSeries.prototype.validateDataElements=function(){var _this=this,maxWidth=this.slicesContainer.innerWidth,maxHeight=this.slicesContainer.innerHeight;if(this.dataItems.each(function(dataItem){var relValue=dataItem.getWorkingValue(\"value\")/dataItem.value,sliceLink=dataItem.sliceLink;\"vertical\"==_this.orientation?maxHeight-=sliceLink.pixelHeight*relValue:maxWidth-=sliceLink.pixelWidth*relValue}),this._pyramidHeight=relativeToValue(this.pyramidHeight,maxHeight),this._pyramidWidth=relativeToValue(this.pyramidHeight,maxWidth),\"vertical\"==this.orientation){var y=(maxHeight-this._pyramidHeight)/2;this.slicesContainer.y=y,this.labelsContainer.y=y,this.ticksContainer.y=y}else{var x=(maxWidth-this._pyramidWidth)/2;this.slicesContainer.x=x,this.labelsContainer.x=x,this.ticksContainer.x=x}_super.prototype.validateDataElements.call(this)},PyramidSeries.prototype.decorateSlice=function(dataItem){var sum=this.dataItem.values.value.sum;if(0!=sum){var slice=dataItem.slice,sliceLink=dataItem.sliceLink,label=dataItem.label,tick=dataItem.tick;this.getNextValue(dataItem);var workingValue=dataItem.getWorkingValue(\"value\");0==workingValue&&(workingValue=1e-6);var pyramidWidth=this._pyramidWidth,pyramidHeight=this._pyramidHeight,maxWidth=this.slicesContainer.innerWidth,maxHeight=this.slicesContainer.innerHeight,linkWidth=sliceLink.pixelWidth,linkHeight=sliceLink.pixelHeight;if(\"vertical\"==this.orientation){var topWidth=relativeToValue(this.topWidth,maxWidth);isNumber(this._nextWidth)||(this._nextWidth=topWidth);var bottomWidth=relativeToValue(this.bottomWidth,maxWidth),sliceTopWidth=this._nextWidth,angle=Math.atan2(pyramidHeight,topWidth-bottomWidth);0==(c=Math.tan(Math.PI/2-angle))&&(c=1e-8);var sliceHeight=void 0,sliceBottomWidth=void 0;if(\"area\"==this.valueIs){var square=(topWidth+bottomWidth)/2*pyramidHeight*workingValue/sum,s=Math.abs(sliceTopWidth*sliceTopWidth-2*square*c);sliceBottomWidth=(2*square-(sliceHeight=(sliceTopWidth-Math.sqrt(s))/c)*sliceTopWidth)/sliceHeight}else sliceBottomWidth=sliceTopWidth-(sliceHeight=pyramidHeight*workingValue/this.dataItem.values.value.sum)*c;slice.height=sliceHeight,slice.width=maxWidth,slice.bottomWidth=sliceBottomWidth,slice.topWidth=sliceTopWidth,sliceLink.topWidth=slice.bottomWidth,sliceLink.bottomWidth=slice.bottomWidth,slice.y=this._nextY,label.x=this.alignLabels?0:maxWidth/2,label.y=slice.pixelY+slice.pixelHeight*tick.locationY+slice.dy,this._nextY+=slice.pixelHeight+linkHeight*workingValue/dataItem.value,sliceLink.y=this._nextY-linkHeight,sliceLink.x=maxWidth/2}else{var c;topWidth=relativeToValue(this.topWidth,maxHeight),isNumber(this._nextWidth)||(this._nextWidth=topWidth),bottomWidth=relativeToValue(this.bottomWidth,maxHeight),sliceTopWidth=this._nextWidth,angle=Math.atan2(pyramidWidth,topWidth-bottomWidth),0==(c=Math.tan(Math.PI/2-angle))&&(c=1e-8);var sliceWidth=void 0;sliceBottomWidth=void 0,sliceBottomWidth=\"area\"==this.valueIs?(2*(square=(topWidth+bottomWidth)/2*pyramidWidth*workingValue/this.dataItem.values.value.sum)-(sliceWidth=(sliceTopWidth-Math.sqrt(sliceTopWidth*sliceTopWidth-2*square*c))/c)*sliceTopWidth)/sliceWidth:sliceTopWidth-(sliceWidth=pyramidWidth*workingValue/this.dataItem.values.value.sum)*c,slice.width=sliceWidth,slice.height=maxHeight,slice.bottomWidth=sliceBottomWidth,slice.topWidth=sliceTopWidth,sliceLink.topWidth=slice.bottomWidth,sliceLink.bottomWidth=slice.bottomWidth,slice.x=this._nextY,label.y=this.alignLabels?this.labelsContainer.measuredHeight:maxHeight/2,label.x=slice.pixelX+slice.pixelWidth*tick.locationX+slice.dx,this._nextY+=slice.pixelWidth+linkWidth*workingValue/dataItem.value,sliceLink.x=this._nextY-linkWidth,sliceLink.y=maxHeight/2}this._nextWidth=slice.bottomWidth}},Object.defineProperty(PyramidSeries.prototype,\"topWidth\",{get:function(){return this.getPropertyValue(\"topWidth\")},set:function(value){this.setPercentProperty(\"topWidth\",value,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(PyramidSeries.prototype,\"pyramidHeight\",{get:function(){return this.getPropertyValue(\"pyramidHeight\")},set:function(value){this.setPercentProperty(\"pyramidHeight\",value,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(PyramidSeries.prototype,\"bottomWidth\",{get:function(){return this.getPropertyValue(\"bottomWidth\")},set:function(value){this.setPercentProperty(\"bottomWidth\",value,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(PyramidSeries.prototype,\"valueIs\",{get:function(){return this.getPropertyValue(\"valueIs\")},set:function(value){this.setPropertyValue(\"valueIs\",value)&&this.invalidate()},enumerable:!0,configurable:!0}),PyramidSeries}(FunnelSeries_FunnelSeries);Registry_registry.registeredClasses.PyramidSeries=PyramidSeries_PyramidSeries,Registry_registry.registeredClasses.PyramidSeriesDataItem=PyramidSeries_PyramidSeriesDataItem;var PictorialStackedSeries_PictorialStackedSeriesDataItem=function(_super){function PictorialStackedSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"PictorialStackedSeriesDataItem\",_this.applyTheme(),_this}return __extends(PictorialStackedSeriesDataItem,_super),PictorialStackedSeriesDataItem}(PyramidSeries_PyramidSeriesDataItem),PictorialStackedSeries_PictorialStackedSeries=function(_super){function PictorialStackedSeries(){var _this=_super.call(this)||this;return _this.className=\"PictorialStackedSeries\",_this.topWidth=Percent_percent(100),_this.bottomWidth=Percent_percent(100),_this.valueIs=\"height\",_this.applyTheme(),_this.startLocation=0,_this.endLocation=1,_this._maskSprite=_this.slicesContainer.createChild(Sprite_Sprite),_this._maskSprite.visible=!1,_this._maskSprite.zIndex=100,_this._maskSprite.shouldClone=!1,_this}return __extends(PictorialStackedSeries,_super),PictorialStackedSeries.prototype.validateDataElements=function(){var maxWidth=this.slicesContainer.maxWidth,maxHeight=this.slicesContainer.maxHeight,maskSprite=this._maskSprite,pictureWidth=maskSprite.measuredWidth/maskSprite.scale,pictureHeight=maskSprite.measuredHeight/maskSprite.scale,scale=Math_min(maxHeight/pictureHeight,maxWidth/pictureWidth);scale==1/0&&(scale=1),scale=Math_max(.001,scale);var startLocation=this.startLocation,endLocation=this.endLocation,newWidth=Math_min(maxWidth,pictureWidth*scale),newHeight=Math_min(maxHeight,pictureHeight*scale);if(maskSprite.scale=scale,\"vertical\"==this.orientation?(this.topWidth=newWidth+4,this.bottomWidth=newWidth+4,this.pyramidHeight=newHeight*(endLocation-startLocation),maskSprite.x=maxWidth/2,maskSprite.y=newHeight/2):(this.topWidth=newHeight+4,this.bottomWidth=newHeight+4,this.pyramidHeight=newWidth*(endLocation-startLocation),maskSprite.valign=\"middle\",maskSprite.x=newWidth/2,maskSprite.y=maxHeight/2),maskSprite.verticalCenter=\"middle\",maskSprite.horizontalCenter=\"middle\",_super.prototype.validateDataElements.call(this),\"vertical\"==this.orientation){var y=(maxHeight-newHeight)/2;this.slicesContainer.y=y,this.labelsContainer.y=y,this.ticksContainer.y=y,this.slices.template.dy=startLocation*newHeight}else{var x=(maxWidth-newWidth)/2;this.slicesContainer.x=x,this.labelsContainer.x=x,this.ticksContainer.x=x,this.slices.template.dx=startLocation*newWidth}newWidth>0&&newHeight>0&&(this.slicesContainer.mask=this._maskSprite)},PictorialStackedSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate(\"Pyramid Series\"))},PictorialStackedSeries.prototype.createDataItem=function(){return new PictorialStackedSeries_PictorialStackedSeriesDataItem},Object.defineProperty(PictorialStackedSeries.prototype,\"maskSprite\",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),PictorialStackedSeries.prototype.initSlice=function(slice){_super.prototype.initSlice.call(this,slice);var hs=slice.states.getKey(\"hover\");hs&&(hs.properties.expandDistance=0)},Object.defineProperty(PictorialStackedSeries.prototype,\"startLocation\",{get:function(){return this.getPropertyValue(\"startLocation\")},set:function(value){this.setPropertyValue(\"startLocation\",value)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(PictorialStackedSeries.prototype,\"endLocation\",{get:function(){return this.getPropertyValue(\"endLocation\")},set:function(value){this.setPropertyValue(\"endLocation\",value)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),PictorialStackedSeries}(PyramidSeries_PyramidSeries);Registry_registry.registeredClasses.PictorialStackedSeries=PictorialStackedSeries_PictorialStackedSeries,Registry_registry.registeredClasses.PictorialStackedSeriesDataItem=PictorialStackedSeries_PictorialStackedSeriesDataItem;var ConeColumn_ConeColumn=function(_super){function ConeColumn(){var _this=_super.call(this)||this;return _this.className=\"ConeColumn\",_this}return __extends(ConeColumn,_super),ConeColumn.prototype.createAssets=function(){this.coneColumn=this.createChild(Cone_Cone),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},ConeColumn.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.coneColumn&&this.coneColumn.copyFrom(source.coneColumn)},ConeColumn}(Column_Column);Registry_registry.registeredClasses.ConeColumn=ConeColumn_ConeColumn;var ConeSeries_ConeSeriesDataItem=function(_super){function ConeSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"ConeSeriesDataItem\",_this.applyTheme(),_this}return __extends(ConeSeriesDataItem,_super),ConeSeriesDataItem}(ColumnSeries_ColumnSeriesDataItem),ConeSeries_ConeSeries=function(_super){function ConeSeries(){var _this=_super.call(this)||this;return _this.className=\"ConeSeries\",_this.applyTheme(),_this}return __extends(ConeSeries,_super),ConeSeries.prototype.createColumnTemplate=function(){return new ConeColumn_ConeColumn},ConeSeries.prototype.getMaskPath=function(){var dx=0,dy=0,column=this.columns.getIndex(0);if(column)return this.baseAxis==this.xAxis?dy=column.coneColumn.bottom.radiusY+1:dx=column.coneColumn.bottom.radiusY+1,rectToPath({x:-dx,y:0,width:this.xAxis.axisLength+dx,height:this.yAxis.axisLength+dy})},ConeSeries.prototype.validateDataElementReal=function(dataItem){if(_super.prototype.validateDataElementReal.call(this,dataItem),dataItem.column){var coneColumn=dataItem.column.coneColumn;coneColumn.fill=dataItem.column.fill,coneColumn.orientation=this.baseAxis==this.yAxis?\"horizontal\":\"vertical\"}},ConeSeries}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.ConeSeries=ConeSeries_ConeSeries,Registry_registry.registeredClasses.ConeSeriesDataItem=ConeSeries_ConeSeriesDataItem;var CurvedColumn_CurvedColumn=function(_super){function CurvedColumn(){var _this=_super.call(this)||this;return _this.className=\"CurvedColumn\",_this}return __extends(CurvedColumn,_super),CurvedColumn.prototype.createAssets=function(){this.curvedColumn=this.createChild(Sprite_Sprite),this.curvedColumn.shouldClone=!1,this.setPropertyValue(\"tension\",.7),this.width=Percent_percent(120),this.height=Percent_percent(120),this.column=this.curvedColumn},CurvedColumn.prototype.draw=function(){_super.prototype.draw.call(this);var points,w=this.realWidth,h=this.realHeight,x=this.realX-this.pixelX,y=this.realY-this.pixelY,tensionX=1,tensionY=1;\"vertical\"==this.orientation?(tensionX=this.tension,points=[{x:0,y:h+y},{x:w/2,y:y},{x:w,y:h+y}]):(tensionY=this.tension,points=[{x:x,y:0},{x:x+w,y:h/2},{x:x,y:h}]);var path=moveTo(points[0])+new Smoothing_Tension(tensionX,tensionY).smooth(points);this.column.path=path},CurvedColumn.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.curvedColumn&&this.curvedColumn.copyFrom(source.curvedColumn)},Object.defineProperty(CurvedColumn.prototype,\"tension\",{get:function(){return this.getPropertyValue(\"tension\")},set:function(value){this.setPropertyValue(\"tension\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(CurvedColumn.prototype,\"orientation\",{get:function(){return this.getPropertyValue(\"orientation\")},set:function(value){this.setPropertyValue(\"orientation\",value,!0)},enumerable:!0,configurable:!0}),CurvedColumn}(Column_Column);Registry_registry.registeredClasses.CurvedColumn=CurvedColumn_CurvedColumn;var CurvedColumnSeries_CurvedColumnSeriesDataItem=function(_super){function CurvedColumnSeriesDataItem(){var _this=_super.call(this)||this;return _this.className=\"CurvedColumnSeriesDataItem\",_this.applyTheme(),_this}return __extends(CurvedColumnSeriesDataItem,_super),CurvedColumnSeriesDataItem}(ColumnSeries_ColumnSeriesDataItem),CurvedColumnSeries_CurvedColumnSeries=function(_super){function CurvedColumnSeries(){var _this=_super.call(this)||this;return _this.className=\"CurvedColumnSeries\",_this.applyTheme(),_this}return __extends(CurvedColumnSeries,_super),CurvedColumnSeries.prototype.createColumnTemplate=function(){return new CurvedColumn_CurvedColumn},CurvedColumnSeries.prototype.validateDataElementReal=function(dataItem){_super.prototype.validateDataElementReal.call(this,dataItem);var column=dataItem.column;(column=dataItem.column)&&(dataItem.column.curvedColumn.fill=dataItem.column.fill,column.orientation=this.baseAxis==this.yAxis?\"horizontal\":\"vertical\")},CurvedColumnSeries}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.CurvedColumnSeries=CurvedColumnSeries_CurvedColumnSeries,Registry_registry.registeredClasses.CurvedColumnSeriesDataItem=CurvedColumnSeries_CurvedColumnSeriesDataItem;var DurationAxis_DurationAxisDataItem=function(_super){function DurationAxisDataItem(){var _this=_super.call(this)||this;return _this.className=\"DurationAxisDataItem\",_this.applyTheme(),_this}return __extends(DurationAxisDataItem,_super),DurationAxisDataItem}(ValueAxis_ValueAxisDataItem),DurationAxis_DurationAxis=function(_super){function DurationAxis(){var _this=_super.call(this)||this;return _this._baseUnit=\"second\",_this.className=\"DurationAxis\",_this.setPropertyValue(\"maxZoomFactor\",1e6),_this.applyTheme(),_this}return __extends(DurationAxis,_super),DurationAxis.prototype.formatLabel=function(value,format){return this.durationFormatter.format(value,format||this.axisDurationFormat)},DurationAxis.prototype.adjustMinMax=function(min,max,difference,gridCount,strictMode){var minMaxStep,referenceValue,e_1,_a,timeUnit=this.baseUnit;if(this.setPropertyValue(\"maxPrecision\",0),\"millisecond\"==timeUnit||\"second\"==timeUnit||\"minute\"==timeUnit||\"hour\"==timeUnit){gridCount<=1&&(gridCount=1),gridCount=Math.round(gridCount);var initialMin=min,initialMax=max;0===difference&&(difference=Math.abs(max));var step,divisors=[60,30,20,15,10,2,1],realDivisor=1;\"hour\"==timeUnit&&(divisors=[24,12,6,4,2,1]);try{for(var divisors_1=__values(divisors),divisors_1_1=divisors_1.next();!divisors_1_1.done;divisors_1_1=divisors_1.next()){var divisor=divisors_1_1.value;if(difference/divisor>gridCount){realDivisor=divisor;break}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{divisors_1_1&&!divisors_1_1.done&&(_a=divisors_1.return)&&_a.call(divisors_1)}finally{if(e_1)throw e_1.error}}var count=Math.ceil((max-min)/realDivisor/gridCount),exponent=Math.log(Math.abs(count))*Math.LOG10E,power=Math.pow(10,Math.floor(exponent))/10,closest=(referenceValue=count/power,divisors.reduce(function(prev,curr){return Math.abs(curr-referenceValue)<Math.abs(prev-referenceValue)?curr:prev}));this.durationFormatter.getValueUnit(step=realDivisor*(count=closest*power),this.baseUnit),min=Math.floor(min/step)*step,max=Math.ceil(max/step)*step,strictMode&&((min-=step)<0&&initialMin>=0&&(min=0),(max+=step)>0&&initialMax<=0&&(max=0)),minMaxStep={min:min,max:max,step:step}}else minMaxStep=_super.prototype.adjustMinMax.call(this,min,max,difference,gridCount,strictMode);return this.axisDurationFormat=this.durationFormatter.getFormat(minMaxStep.step,minMaxStep.max,this.baseUnit),minMaxStep},Object.defineProperty(DurationAxis.prototype,\"tooltipDurationFormat\",{get:function(){return this._tooltipDurationFormat},set:function(value){this._tooltipDurationFormat=value},enumerable:!0,configurable:!0}),DurationAxis.prototype.getTooltipText=function(position){var value=Math_round(this.positionToValue(position),this._stepDecimalPlaces);return this.adapter.apply(\"getTooltipText\",this.formatLabel(value,this.tooltipDurationFormat))},Object.defineProperty(DurationAxis.prototype,\"baseUnit\",{get:function(){return this._baseUnit},set:function(timeUnit){this._baseUnit!=timeUnit&&(this._baseUnit=timeUnit,this.durationFormatter.baseUnit=timeUnit,this.invalidate())},enumerable:!0,configurable:!0}),DurationAxis.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.baseUnit=source.baseUnit},DurationAxis}(ValueAxis_ValueAxis);Registry_registry.registeredClasses.DurationAxis=DurationAxis_DurationAxis,Registry_registry.registeredClasses.DurationAxisDataItem=DurationAxis_DurationAxisDataItem;var CircleBullet_CircleBullet=function(_super){function CircleBullet(){var _this=_super.call(this)||this;_this.className=\"CircleBullet\";var circle=_this.createChild(Circle_Circle);return circle.shouldClone=!1,circle.radius=5,circle.isMeasured=!1,_this.circle=circle,_this.applyTheme(),_this}return __extends(CircleBullet,_super),CircleBullet.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.circle.copyFrom(source.circle)},CircleBullet}(Bullet_Bullet);Registry_registry.registeredClasses.CircleBullet=CircleBullet_CircleBullet;var ErrorBullet_ErrorBullet=function(_super){function ErrorBullet(){var _this=_super.call(this)||this;return _this.className=\"ErrorBullet\",_this.errorLine=_this.createChild(Sprite_Sprite),_this.errorLine.shouldClone=!1,_this.width=20,_this.height=20,_this.strokeOpacity=1,_this.isDynamic=!0,_this}return __extends(ErrorBullet,_super),ErrorBullet.prototype.validatePosition=function(){_super.prototype.validatePosition.call(this);var w=this.pixelWidth/2,h=this.pixelHeight/2;this.errorLine.path=moveTo({x:-w,y:-h})+lineTo({x:w,y:-h})+moveTo({x:0,y:-h})+lineTo({x:0,y:h})+moveTo({x:-w,y:h})+lineTo({x:w,y:h})},ErrorBullet.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.errorLine.copyFrom(source.errorLine)},ErrorBullet}(Bullet_Bullet);Registry_registry.registeredClasses.ErrorBullet=ErrorBullet_ErrorBullet;var NavigationBar_NavigationBarDataItem=function(_super){function NavigationBarDataItem(){var _this=_super.call(this)||this;return _this.className=\"NavigationBarDataItem\",_this.applyTheme(),_this}return __extends(NavigationBarDataItem,_super),Object.defineProperty(NavigationBarDataItem.prototype,\"name\",{get:function(){return this.properties.name},set:function(value){this.setProperty(\"name\",value)},enumerable:!0,configurable:!0}),NavigationBarDataItem}(DataItem_DataItem),NavigationBar_NavigationBar=function(_super){function NavigationBar(){var _this=_super.call(this)||this;_this.className=\"NavigationBar\";var interfaceColors=new InterfaceColorSet_InterfaceColorSet,textLink=new TextLink_TextLink;textLink.valign=\"middle\",textLink.paddingTop=8,textLink.paddingBottom=8,_this.paddingBottom=2,_this.links=new List_ListTemplate(textLink),_this._disposers.push(new List_ListDisposer(_this.links)),_this._disposers.push(textLink),_this._linksIterator=new Iterator_ListIterator(_this.links,function(){return _this.links.create()}),_this._linksIterator.createNewItems=!0;var triangle=new Triangle_Triangle;triangle.direction=\"right\",triangle.width=8,triangle.height=12,triangle.fill=interfaceColors.getFor(\"alternativeBackground\"),triangle.fillOpacity=.5,triangle.valign=\"middle\",triangle.marginLeft=10,triangle.marginRight=10,_this.separators=new List_ListTemplate(triangle),_this._disposers.push(new List_ListDisposer(_this.separators)),_this._disposers.push(triangle);var activeLink=new TextLink_TextLink;return _this.activeLink=activeLink,activeLink.copyFrom(textLink),activeLink.valign=\"middle\",activeLink.fontWeight=\"bold\",_this.width=Percent_percent(100),_this.layout=\"grid\",_this.dataFields.name=\"name\",_this.applyTheme(),_this}return __extends(NavigationBar,_super),NavigationBar.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),_super.prototype.validateDataElements.call(this)},NavigationBar.prototype.validateDataElement=function(dataItem){var textLink;if(_super.prototype.validateDataElement.call(this,dataItem),dataItem.index<this.dataItems.length-1){(textLink=this._linksIterator.getLast()).parent=this;var separator=this.separators.create();separator.parent=this,separator.valign=\"middle\"}else(textLink=this.activeLink).events.copyFrom(this.links.template.events),textLink.hide(0),textLink.show(),textLink.parent=this;textLink.dataItem=dataItem,textLink.text=dataItem.name,textLink.validate()},NavigationBar}(Component_Component);Registry_registry.registeredClasses.NavigationBar=NavigationBar_NavigationBar,Registry_registry.registeredClasses.NavigationBarDataItem=NavigationBar_NavigationBarDataItem;var Cursor_Cursor=function(_super){function Cursor(){var _this=_super.call(this)||this;_this.point={x:0,y:0},_this._stick=\"none\",_this.className=\"Cursor\",_this.width=Percent_percent(100),_this.height=Percent_percent(100),_this.shouldClone=!1,_this.hide(0),_this.trackable=!0,_this.clickable=!0,_this.isMeasured=!1;var interaction=getInteraction();return _this._disposers.push(interaction.body.events.on(\"down\",_this.handleCursorDown,_this)),_this._disposers.push(interaction.body.events.on(\"up\",_this.handleCursorUp,_this)),_this._disposers.push(interaction.body.events.on(\"track\",_this.handleCursorMove,_this)),_this.applyTheme(),_this}return __extends(Cursor,_super),Cursor.prototype.handleCursorMove=function(event){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&event.touch)){if((\"zoom\"==this._generalBehavior||\"pan\"==this._generalBehavior)&&this.downPoint||getInteraction().isLocalElement(event.pointer,this.paper.svg,this.uid)){var local=documentPointToSprite(event.pointer.point,this);return\"hard\"==this._stick&&this._stickPoint&&(local=this._stickPoint),\"soft\"==this._stick&&this._stickPoint&&(this.fitsToBounds(local)||(local=this._stickPoint)),this.triggerMove(local),local}this.isHidden&&this.isHiding||this.hide()}},Cursor.prototype.hideReal=function(duration){if(\"hard\"!=this._stick&&\"soft\"!=this._stick||!this._stickPoint)return _super.prototype.hideReal.call(this,duration)},Cursor.prototype.triggerMove=function(point,stick){point.x=Math_round(point.x,1),point.y=Math_round(point.y,1),stick&&(this._stick=stick),\"hard\"!=stick&&\"soft\"!=stick||(this._stickPoint=point),this.triggerMoveReal(point)},Cursor.prototype.triggerMoveReal=function(point){this.point.x==point.x&&this.point.y==point.y||(this.point=point,this.invalidatePosition(),this.fitsToBounds(point)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch(\"cursorpositionchanged\")))},Cursor.prototype.triggerDown=function(point){this.triggerDownReal(point)},Cursor.prototype.triggerDownReal=function(point){switch(this._generalBehavior){case\"zoom\":this.dispatchImmediately(\"zoomstarted\");break;case\"select\":this.dispatchImmediately(\"selectstarted\");break;case\"pan\":this.dispatchImmediately(\"panstarted\"),getInteraction().setGlobalStyle(MouseCursorStyle.grabbing)}},Cursor.prototype.triggerUp=function(point){this.triggerUpReal(point)},Cursor.prototype.triggerUpReal=function(point){this.updatePoint(this.upPoint);var interaction=getInteraction();if(getDistance(this._upPointOrig,this._downPointOrig)>interaction.getHitOption(this.interactions,\"hitTolerance\")){switch(this._generalBehavior){case\"zoom\":this.dispatchImmediately(\"zoomended\");break;case\"select\":this.dispatchImmediately(\"selectended\");break;case\"pan\":this.dispatchImmediately(\"panended\"),interaction.setGlobalStyle(MouseCursorStyle.default)}this.downPoint=void 0,this.updateSelection()}else\"select\"==this._generalBehavior&&this.dispatchImmediately(\"selectended\"),this.dispatchImmediately(\"behaviorcanceled\"),interaction.setGlobalStyle(MouseCursorStyle.default),this.downPoint=void 0},Cursor.prototype.updateSelection=function(){},Cursor.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},Cursor.prototype.handleCursorDown=function(event){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&event.touch)&&getInteraction().isLocalElement(event.pointer,this.paper.svg,this.uid)){var local=documentPointToSprite(event.pointer.point,this);this._downPointOrig={x:local.x,y:local.y},event.event.cancelable&&this.shouldPreventGestures(event.touch)&&this.fitsToBounds(local)&&event.event.preventDefault(),this.triggerMove(local),this.triggerDown(local)}},Cursor.prototype.shouldPreventGestures=function(touch){return!0},Cursor.prototype.updatePoint=function(point){},Cursor.prototype.handleCursorUp=function(event){if(this.interactionsEnabled&&((\"zoom\"==this._generalBehavior||\"pan\"==this._generalBehavior)&&this.downPoint||getInteraction().isLocalElement(event.pointer,this.paper.svg,this.uid))){var local=documentPointToSprite(event.pointer.point,this);this._upPointOrig={x:local.x,y:local.y},this.triggerMove(local),this.triggerUp(local)}},Object.defineProperty(Cursor.prototype,\"chart\",{get:function(){return this._chart},set:function(value){this._chart=value,hasValue(this._chart.plotContainer)&&getInteraction().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),Cursor}(Container_Container);Registry_registry.registeredClasses.Cursor=Cursor_Cursor;var XYCursor_XYCursor=function(_super){function XYCursor(){var _this=_super.call(this)||this;_this._lineX=new Disposer_MutableValueDisposer,_this._lineY=new Disposer_MutableValueDisposer,_this._xAxis=new Disposer_MutableValueDisposer,_this._yAxis=new Disposer_MutableValueDisposer,_this.className=\"XYCursor\",_this.behavior=\"zoomX\",_this.maxPanOut=.1;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,selection=_this.createChild(Sprite_Sprite);selection.shouldClone=!1,selection.fillOpacity=.2,selection.fill=interfaceColors.getFor(\"alternativeBackground\"),selection.isMeasured=!1,selection.visible=!1,selection.interactionsEnabled=!1,_this.selection=selection,_this._disposers.push(_this.selection);var lineX=_this.createChild(Sprite_Sprite);lineX.shouldClone=!1,lineX.stroke=interfaceColors.getFor(\"grid\"),lineX.fill=Color_color(),lineX.strokeDasharray=\"3,3\",lineX.isMeasured=!1,lineX.strokeOpacity=.4,lineX.interactionsEnabled=!1,lineX.y=0,_this.lineX=lineX,_this._disposers.push(_this.lineX);var lineY=_this.createChild(Sprite_Sprite);return lineY.shouldClone=!1,lineY.stroke=interfaceColors.getFor(\"grid\"),lineY.fill=Color_color(),lineY.strokeDasharray=\"3,3\",lineY.isMeasured=!1,lineY.strokeOpacity=.4,lineY.interactionsEnabled=!1,lineY.x=0,_this.lineY=lineY,_this._disposers.push(_this.lineY),_this.events.on(\"sizechanged\",_this.updateSize,_this,!1),_this._disposers.push(_this._lineX),_this._disposers.push(_this._lineY),_this._disposers.push(_this._xAxis),_this._disposers.push(_this._yAxis),_this.mask=_this,_this.hideSeriesTooltipsOnSelection=!0,_this.applyTheme(),_this}return __extends(XYCursor,_super),XYCursor.prototype.updateSize=function(){this.lineX&&(this.lineX.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=moveTo({x:0,y:0})+lineTo({x:this.innerWidth,y:0}))},XYCursor.prototype.updateSelection=function(){if(this._usesSelection){var downPoint=this.downPoint,behavior=this.behavior;if(downPoint){var point=this.point;this.lineX&&(point.x=this.lineX.pixelX),this.lineY&&(point.y=this.lineY.pixelY);var selection=this.selection,x=Math.min(point.x,downPoint.x),y=Math.min(point.y,downPoint.y),w=Math_round(Math.abs(downPoint.x-point.x),this._positionPrecision),h=Math_round(Math.abs(downPoint.y-point.y),this._positionPrecision);switch(behavior){case\"zoomX\":y=0,h=this.pixelHeight;break;case\"zoomY\":x=0,w=this.pixelWidth;break;case\"selectX\":y=0,h=this.pixelHeight;break;case\"selectY\":x=0,w=this.pixelWidth}selection.x=x,selection.y=y,selection.path=Path_rectangle(w,h),selection.validatePosition()}else\"select\"!=this._generalBehavior&&this.selection.hide()}},XYCursor.prototype.fixPoint=function(point){return point.x=Math.max(0,point.x),point.y=Math.max(0,point.y),point.x=Math.min(this.pixelWidth,point.x),point.y=Math.min(this.pixelHeight,point.y),point},XYCursor.prototype.triggerMoveReal=function(point){_super.prototype.triggerMoveReal.call(this,point),this.snapToSeries&&!this.snapToSeries.isHidden||this.updateLinePositions(point),this.downPoint&&getDistance(this.downPoint,point)>3&&\"pan\"==this._generalBehavior&&(this.getPanningRanges(),this.dispatch(\"panning\"))},XYCursor.prototype.updateLinePositions=function(point){point=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=point.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=point.y),this.updateSelection()},XYCursor.prototype.triggerDownReal=function(point){if(this.visible&&!this.isHiding)if(\"select\"==this._generalBehavior&&(this.selection.parent=this.parent),this.fitsToBounds(point)){this.downPoint={x:point.x,y:point.y},this.updatePoint(point),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var selection=this.selection,selectionY=this.downPoint.y;this._usesSelection&&(selection.x=this.downPoint.x,selection.y=selectionY,selection.path=\"\",selection.show()),_super.prototype.triggerDownReal.call(this,point)}else this.downPoint=void 0;else this.downPoint=void 0},XYCursor.prototype.updatePoint=function(point){this.lineX&&(point.x=this.lineX.pixelX),this.lineY&&(point.y=this.lineY.pixelY)},XYCursor.prototype.triggerUpReal=function(point){getDistance(this._upPointOrig,this._downPointOrig)>getInteraction().getHitOption(this.interactions,\"hitTolerance\")?this.downPoint&&(this.upPoint=point,this.updatePoint(this.upPoint),this.getRanges(),\"select\"!=this._generalBehavior&&this.selection.hide(),_super.prototype.triggerUpReal.call(this,point)):(\"select\"!=this._generalBehavior&&this.selection.hide(0),\"pan\"==this._generalBehavior&&getInteraction().setGlobalStyle(MouseCursorStyle.default)),this.downPoint=void 0,this.dispatch(\"cursorpositionchanged\")},XYCursor.prototype.getPanningRanges=function(){var startX=Math_round(this.downPoint.x/this.innerWidth,5),startY=Math_round(this.downPoint.y/this.innerHeight,5),deltaX=startX-Math_round(this.point.x/this.innerWidth,5),deltaY=-startY+Math_round(this.point.y/this.innerHeight,5);this.xRange={start:deltaX,end:1+deltaX},this.yRange={start:deltaY,end:1+deltaY},\"panX\"==this.behavior&&(this.yRange.start=0,this.yRange.end=1),\"panY\"==this.behavior&&(this.xRange.start=0,this.xRange.end=1)},XYCursor.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY);var startX=Math_round(this.downPoint.x/this.innerWidth,5),endX=Math_round(this.upPoint.x/this.innerWidth,5),startY=Math_round(this.downPoint.y/this.innerHeight,5),endY=Math_round(this.upPoint.y/this.innerHeight,5);this.xRange={start:Math_min(startX,endX),end:Math_max(startX,endX)},this.yRange={start:Math_min(startY,endY),end:Math_max(startY,endY)}},Object.defineProperty(XYCursor.prototype,\"behavior\",{get:function(){return this.getPropertyValue(\"behavior\")},set:function(value){this.setPropertyValue(\"behavior\",value,!0),this._usesSelection=!1,-1!=value.indexOf(\"zoom\")&&(this._generalBehavior=\"zoom\",this._usesSelection=!0),-1!=value.indexOf(\"select\")&&(this._generalBehavior=\"select\",this._usesSelection=!0),-1!=value.indexOf(\"pan\")&&(this._generalBehavior=\"pan\",this._usesSelection=!1)},enumerable:!0,configurable:!0}),XYCursor.prototype.shouldPreventGestures=function(touch){return!(this.interactions.isTouchProtected&&touch||\"none\"==this.behavior)},Object.defineProperty(XYCursor.prototype,\"fullWidthLineX\",{get:function(){return this.getPropertyValue(\"fullWidthLineX\")},set:function(value){this.setPropertyValue(\"fullWidthLineX\",value),value||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,\"fullWidthLineY\",{get:function(){return this.getPropertyValue(\"fullWidthLineY\")},set:function(value){this.setPropertyValue(\"fullWidthLineY\",value),value||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,\"hideSeriesTooltipsOnSelection\",{get:function(){return this.getPropertyValue(\"hideSeriesTooltipsOnSelection\")},set:function(value){this.setPropertyValue(\"hideSeriesTooltipsOnSelection\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,\"maxPanOut\",{get:function(){return this.getPropertyValue(\"maxPanOut\")},set:function(value){this.setPropertyValue(\"maxPanOut\",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,\"xAxis\",{get:function(){return this._xAxis.get()},set:function(axis){this._xAxis.get()!=axis&&this._xAxis.set(axis,new Disposer_MultiDisposer([axis.tooltip.events.on(\"positionchanged\",this.handleXTooltipPosition,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,\"yAxis\",{get:function(){return this._yAxis.get()},set:function(axis){this._yAxis.get()!=axis&&this._yAxis.set(axis,new Disposer_MultiDisposer([axis.tooltip.events.on(\"positionchanged\",this.handleYTooltipPosition,this,!1)]))},enumerable:!0,configurable:!0}),XYCursor.prototype.handleXTooltipPosition=function(event){var tooltip=this.xAxis.tooltip,point=svgPointToSprite({x:tooltip.pixelX,y:tooltip.pixelY},this),x=point.x;if(this.lineX&&(this.lineX.x=x,this.fitsToBounds(point)||this.hide()),this.xAxis&&this.fullWidthLineX){var startPoint=this.xAxis.currentItemStartPoint,endPoint=this.xAxis.currentItemEndPoint;if(startPoint&&endPoint){this.lineX.x=x;var width=endPoint.x-startPoint.x;this.lineX.path=Path_rectangle(width,this.innerHeight,-width/2)}}},XYCursor.prototype.handleYTooltipPosition=function(event){var tooltip=this.yAxis.tooltip,point=svgPointToSprite({x:tooltip.pixelX,y:tooltip.pixelY},this),y=point.y;if(this.lineY&&(this.lineY.y=y,this.fitsToBounds(point)||this.hide()),this.yAxis&&this.fullWidthLineY){var startPoint=this.yAxis.currentItemStartPoint,endPoint=this.yAxis.currentItemEndPoint;if(startPoint&&endPoint){this.lineY.y=y;var height=endPoint.y-startPoint.y;this.lineY.path=Path_rectangle(this.innerWidth,height,0,-height/2)}}},Object.defineProperty(XYCursor.prototype,\"lineX\",{get:function(){return this._lineX.get()},set:function(lineX){lineX?(lineX.setElement(this.paper.add(\"path\")),this._lineX.set(lineX,lineX.events.on(\"positionchanged\",this.updateSelection,this,!1)),lineX.interactionsEnabled=!1,lineX.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,\"lineY\",{get:function(){return this._lineY.get()},set:function(lineY){lineY?(lineY.setElement(this.paper.add(\"path\")),this._lineY.set(lineY,lineY.events.on(\"positionchanged\",this.updateSelection,this,!1)),lineY.parent=this,lineY.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,\"selection\",{get:function(){return this._selection},set:function(selection){this._selection=selection,selection&&(selection.element=this.paper.add(\"path\"),selection.parent=this)},enumerable:!0,configurable:!0}),XYCursor.prototype.processConfig=function(config){config&&(hasValue(config.xAxis)&&isString(config.xAxis)&&(this.map.hasKey(config.xAxis)?config.xAxis=this.map.getKey(config.xAxis):(this.processingErrors.push('[XYCursor] No axis with id \"'+config.xAxis+'\" found for `xAxis`'),delete config.xAxis)),hasValue(config.yAxis)&&isString(config.yAxis)&&(this.map.hasKey(config.yAxis)?config.yAxis=this.map.getKey(config.yAxis):(this.processingErrors.push('[XYCursor] No axis with id \"'+config.yAxis+'\" found for `yAxis`'),delete config.yAxis)),hasValue(config.snapToSeries)&&isString(config.snapToSeries)&&(this.map.hasKey(config.snapToSeries)?config.snapToSeries=this.map.getKey(config.snapToSeries):(this.processingErrors.push('[XYCursor] No series with id \"'+config.snapToSeries+'\" found for `series`'),delete config.snapToSeries))),_super.prototype.processConfig.call(this,config)},Object.defineProperty(XYCursor.prototype,\"snapToSeries\",{get:function(){return this.getPropertyValue(\"snapToSeries\")},set:function(series){this.setPropertyValue(\"snapToSeries\",series)&&(this._snapToDisposer&&this._snapToDisposer.dispose(),series&&(this._snapToDisposer=series.events.on(\"tooltipshownat\",this.handleSnap,this,!1)))},enumerable:!0,configurable:!0}),XYCursor.prototype.handleSnap=function(){var series=this.snapToSeries,y=series.tooltipY,x=series.tooltipX;this.xAxis&&this.xAxis.renderer.opposite&&(y-=this.pixelHeight),this.point={x:x,y:y},this.getPositions();var xx=x,yy=y;x-=this.pixelWidth,this.yAxis&&this.yAxis.renderer.opposite&&(x+=this.pixelWidth);var tooltip=series.tooltip,duration=tooltip.animationDuration,easing=tooltip.animationEasing;series.baseAxis==series.xAxis&&series.yAxis.showTooltipAtPosition(this.yPosition),series.baseAxis==series.yAxis&&series.xAxis.showTooltipAtPosition(this.xPosition),this.lineX.animate([{property:\"y\",to:y}],duration,easing),this.lineY.animate([{property:\"x\",to:x}],duration,easing),this.xAxis||this.lineX.animate([{property:\"x\",to:xx}],duration,easing),this.yAxis||this.lineY.animate([{property:\"y\",to:yy}],duration,easing)},XYCursor.prototype.dispose=function(){this.hide(0),_super.prototype.dispose.call(this)},XYCursor}(Cursor_Cursor);Registry_registry.registeredClasses.XYCursor=XYCursor_XYCursor;var value,RadarCursor_RadarCursor=function(_super){function RadarCursor(){var _this=_super.call(this)||this;return _this.className=\"RadarCursor\",_this.radius=Percent_percent(100),_this.innerRadius=Percent_percent(0),_this.applyTheme(),_this.mask=void 0,_this}return __extends(RadarCursor,_super),RadarCursor.prototype.fitsToBounds=function(point){var radius=getDistance(point);return radius<this.truePixelRadius+1&&radius>this.pixelInnerRadius-1},Object.defineProperty(RadarCursor.prototype,\"startAngle\",{get:function(){return this.getPropertyValue(\"startAngle\")},set:function(value){this.setPropertyValue(\"startAngle\",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarCursor.prototype,\"endAngle\",{get:function(){return this.getPropertyValue(\"endAngle\")},set:function(value){this.setPropertyValue(\"endAngle\",value,!0)},enumerable:!0,configurable:!0}),RadarCursor.prototype.triggerMoveReal=function(point){this.xAxis&&(!this.xAxis||this.xAxis.cursorTooltipEnabled&&!this.xAxis.tooltip.disabled)||this.updateLineX(this.point),this.yAxis&&(!this.yAxis||this.yAxis.cursorTooltipEnabled&&!this.yAxis.tooltip.disabled)||this.updateLineY(this.point),this.updateSelection(),_super.prototype.triggerMoveReal.call(this,point)},RadarCursor.prototype.updateLineX=function(point){var radius=this.pixelRadius,startAngle=this.startAngle,endAngle=this.endAngle,innerRadius=this.pixelInnerRadius;if(radius>0&&isNumber(startAngle)&&isNumber(endAngle)&&isNumber(innerRadius)){var angle=fitAngleToRange(getAngle(point),startAngle,endAngle),path=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var startPoint=this.xAxis.currentItemStartPoint,endPoint=this.xAxis.currentItemEndPoint;if(startPoint&&endPoint){var fillStartAngle=fitAngleToRange(getAngle(startPoint),startAngle,endAngle),arc=fitAngleToRange(getAngle(endPoint),startAngle,endAngle)-fillStartAngle;startAngle<endAngle?arc<0&&(arc+=360):arc>0&&(arc-=360),path=moveTo({x:innerRadius*Math_cos(angle-=arc/2),y:innerRadius*Math_sin(angle)})+lineTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)})+arcTo(angle,arc,radius)+lineTo({x:innerRadius*Math_cos(angle+arc),y:innerRadius*Math_sin(angle+arc)})+arcTo(angle+arc,-arc,innerRadius)}}path||(path=moveTo({x:innerRadius*Math_cos(angle),y:innerRadius*Math_sin(angle)})+lineTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)})),this.lineX.path=path}}},RadarCursor.prototype.updateLineY=function(point){if(this.lineY&&this.lineY.visible){var startAngle=this.startAngle,endAngle=this.endAngle,truePixelRadius=this.truePixelRadius,radius=fitToRange(getDistance(point),0,this.truePixelRadius);if(isNumber(radius)&&isNumber(startAngle)){this.lineY.moveTo({x:0,y:0});var path=void 0,arc=endAngle-startAngle;if(this.yAxis&&this.fullWidthLineY){var startPoint=this.yAxis.currentItemStartPoint,endPoint=this.yAxis.currentItemEndPoint;if(startPoint&&endPoint){var innerRadius=fitToRange(getDistance(startPoint),0,truePixelRadius);path=moveTo({x:(radius=fitToRange(getDistance(endPoint),0,truePixelRadius))*Math_cos(startAngle),y:radius*Math_sin(startAngle)})+arcTo(startAngle,arc,radius),path+=moveTo({x:innerRadius*Math_cos(endAngle),y:innerRadius*Math_sin(endAngle)})+arcTo(endAngle,-arc,innerRadius)}}path||(path=moveTo({x:radius*Math_cos(startAngle),y:radius*Math_sin(startAngle)})+arcTo(startAngle,endAngle-startAngle,radius)),this.lineY.path=path}}},RadarCursor.prototype.updateSelection=function(){if(this._usesSelection){var downPoint=this.downPoint;if(downPoint){var point=this.point,radius=this.pixelRadius,truePixelRadius=this.truePixelRadius,innerRadius=this.pixelInnerRadius,startAngle=Math.min(this.startAngle,this.endAngle),endAngle=Math.max(this.startAngle,this.endAngle),downAngle=fitAngleToRange(getAngle(downPoint),startAngle,endAngle),angle=fitAngleToRange(getAngle(point),startAngle,endAngle),downRadius=getDistance(downPoint);if(downRadius<truePixelRadius){var currentRadius=fitToRange(getDistance(point),0,truePixelRadius);this._prevAngle=angle;var path=moveTo({x:0,y:0}),downSin=Math_sin(downAngle),downCos=Math_cos(downAngle),sin=Math_sin(angle),cos=Math_cos(angle),behavior=this.behavior;\"zoomX\"==behavior||\"selectX\"==behavior?path+=lineTo({x:radius*downCos,y:radius*downSin})+arcTo(downAngle,angle-downAngle,radius)+lineTo({x:innerRadius*cos,y:innerRadius*sin})+arcTo(angle,downAngle-angle,innerRadius):\"zoomY\"==behavior||\"selectY\"==behavior?path=moveTo({x:currentRadius*Math_cos(startAngle),y:currentRadius*Math_sin(startAngle)})+arcTo(startAngle,endAngle-startAngle,currentRadius)+lineTo({x:downRadius*Math_cos(endAngle),y:downRadius*Math_sin(endAngle)})+arcTo(endAngle,startAngle-endAngle,downRadius)+\" Z\":\"zoomXY\"==behavior&&(path=moveTo({x:currentRadius*Math_cos(downAngle),y:currentRadius*Math_sin(downAngle)})+arcTo(downAngle,angle-downAngle,currentRadius)+lineTo({x:downRadius*Math_cos(angle),y:downRadius*Math_sin(angle)})+arcTo(angle,downAngle-angle,downRadius)+\" Z\"),this.selection.path=path}this.selection.moveTo({x:0,y:0})}}},RadarCursor.prototype.getPositions=function(){if(this.chart){var innerRadius=this.pixelInnerRadius,radius=this.truePixelRadius-innerRadius,startAngle=this.startAngle,endAngle=this.endAngle,angle=fitAngleToRange(getAngle(this.point),startAngle,endAngle);this.xPosition=(angle-startAngle)/(endAngle-startAngle),this.yPosition=fitToRange((getDistance(this.point)-innerRadius)/radius,0,1)}},RadarCursor.prototype.updatePoint=function(point){},RadarCursor.prototype.handleXTooltipPosition=function(event){if(this.xAxis.cursorTooltipEnabled){var tooltip=this.xAxis.tooltip;this.updateLineX(svgPointToSprite({x:tooltip.pixelX,y:tooltip.pixelY},this))}},RadarCursor.prototype.handleYTooltipPosition=function(event){if(this.yAxis.cursorTooltipEnabled){var tooltip=this.yAxis.tooltip;this.updateLineY(svgPointToSprite({x:tooltip.pixelX,y:tooltip.pixelY},this))}},RadarCursor.prototype.updateLinePositions=function(point){},RadarCursor.prototype.getRanges=function(){var downPoint=this.downPoint;if(downPoint){var upPoint=this.upPoint;if(this.chart){var radius=this.pixelRadius,startAngle=this.startAngle,endAngle=this.endAngle,downAngle=fitAngleToRange(getAngle(downPoint),this.startAngle,this.endAngle),upAngle=fitAngleToRange(getAngle(upPoint),this.startAngle,this.endAngle),downRadius=fitToRange(getDistance(downPoint),0,radius),upRadius=fitToRange(getDistance(upPoint),0,radius),startX=0,endX=1,startY=0,endY=1,behavior=this.behavior;if(\"zoomX\"==behavior||\"selectX\"==behavior||\"zoomXY\"==behavior||\"selectXY\"==behavior){var arc=endAngle-startAngle;startX=Math_round((downAngle-startAngle)/arc,5),endX=Math_round((upAngle-startAngle)/arc,5)}\"zoomY\"!=behavior&&\"selectY\"!=behavior&&\"zoomXY\"!=behavior&&\"selectXY\"!=behavior||(startY=Math_round(downRadius/radius,5),endY=Math_round(upRadius/radius,5)),this.xRange={start:Math.min(startX,endX),end:Math.max(startX,endX)},this.yRange={start:Math.min(startY,endY),end:Math.max(startY,endY)},\"selectX\"==this.behavior||\"selectY\"==this.behavior||\"selectXY\"==this.behavior||this.selection.hide()}}},RadarCursor.prototype.updateSize=function(){},Object.defineProperty(RadarCursor.prototype,\"radius\",{get:function(){return this.getPropertyValue(\"radius\")},set:function(value){this.setPercentProperty(\"radius\",value,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarCursor.prototype,\"pixelRadius\",{get:function(){return relativeRadiusToValue(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarCursor.prototype,\"truePixelRadius\",{get:function(){return relativeToValue(Percent_percent(100),Math_min(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(RadarCursor.prototype,\"innerRadius\",{get:function(){return this.getPropertyValue(\"innerRadius\")},set:function(value){this.setPercentProperty(\"innerRadius\",value,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarCursor.prototype,\"pixelInnerRadius\",{get:function(){var innerRadius=this.innerRadius;return innerRadius instanceof Percent&&(innerRadius=Percent_percent(100*innerRadius.value*this.chart.innerRadiusModifyer)),relativeRadiusToValue(innerRadius,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),RadarCursor.prototype.fixPoint=function(point){return point},RadarCursor}(XYCursor_XYCursor);function is(object,name){var x=Registry_registry.registeredClasses[name];return null!=x&&object instanceof x}Registry_registry.registeredClasses.RadarCursor=RadarCursor_RadarCursor,-1===Registry_registry.themes.indexOf(value=function(object){is(object,\"SpriteState\")&&(object.transitionDuration=400),is(object,\"Component\")&&(object.rangeChangeDuration=700,object.interpolationDuration=700,object.sequencedInterpolation=!1,is(object,\"SankeyDiagram\")&&(object.sequencedInterpolation=!0),is(object,\"FunnelSeries\")&&(object.sequencedInterpolation=!0)),is(object,\"Chart\")&&(object.defaultState.transitionDuration=2e3,object.hiddenState.transitionDuration=1e3),is(object,\"Tooltip\")&&(object.animationDuration=400,object.defaultState.transitionDuration=400,object.hiddenState.transitionDuration=400),is(object,\"Scrollbar\")&&(object.animationDuration=700),is(object,\"Series\")&&(object.defaultState.transitionDuration=1e3,object.hiddenState.transitionDuration=700,object.hiddenState.properties.opacity=1,object.showOnInit=!0),is(object,\"MapSeries\")&&(object.hiddenState.properties.opacity=0),is(object,\"PercentSeries\")&&(object.hiddenState.properties.opacity=0),is(object,\"FunnelSlice\")&&(object.defaultState.transitionDuration=800,object.hiddenState.transitionDuration=1e3,object.hiddenState.properties.opacity=1),is(object,\"Slice\")&&(object.defaultState.transitionDuration=700,object.hiddenState.transitionDuration=1e3,object.hiddenState.properties.opacity=1),is(object,\"Preloader\")&&(object.hiddenState.transitionDuration=2e3),is(object,\"Column\")&&(object.defaultState.transitionDuration=700,object.hiddenState.transitionDuration=1e3,object.hiddenState.properties.opacity=1),is(object,\"Column3D\")&&(object.hiddenState.properties.opacity=0)})&&Registry_registry.themes.push(value);class app_component_AppComponent{constructor(){this.title=\"AmChartsPoc\"}ngAfterViewInit(){this.getPieData(),this.getBarData(),this.getLineData()}getPieData(){return __awaiter(this,void 0,void 0,function*(){let chart1=create(\"chartpiediv\",PieChart_PieChart);chart1.data=[{country:\"Lithuania\",litres:501.9},{country:\"Czechia\",litres:301.9},{country:\"Ireland\",litres:201.1},{country:\"Germany\",litres:165.8},{country:\"Australia\",litres:139.9},{country:\"Austria\",litres:128.3},{country:\"UK\",litres:99},{country:\"Belgium\",litres:60},{country:\"The Netherlands\",litres:50}];let pieSeries=chart1.series.push(new PieSeries_PieSeries);pieSeries.dataFields.value=\"litres\",pieSeries.dataFields.category=\"country\",pieSeries.slices.template.stroke=Color_color(\"#fff\"),pieSeries.slices.template.strokeWidth=2,pieSeries.slices.template.strokeOpacity=1,pieSeries.hiddenState.properties.opacity=1,pieSeries.hiddenState.properties.endAngle=-90,pieSeries.hiddenState.properties.startAngle=-90})}getBarData(){return __awaiter(this,void 0,void 0,function*(){let chart=create(\"chartdiv\",XYChart_XYChart);chart.scrollbarX=new Scrollbar_Scrollbar,chart.data=[{country:\"USA\",visits:3025},{country:\"China\",visits:1882},{country:\"Japan\",visits:1809},{country:\"Germany\",visits:1322},{country:\"UK\",visits:1122},{country:\"France\",visits:1114},{country:\"India\",visits:984},{country:\"Spain\",visits:711},{country:\"Netherlands\",visits:665},{country:\"Russia\",visits:580},{country:\"South Korea\",visits:443},{country:\"Canada\",visits:441}];let categoryAxis=chart.xAxes.push(new CategoryAxis_CategoryAxis);categoryAxis.dataFields.category=\"country\",categoryAxis.renderer.grid.template.location=0,categoryAxis.renderer.minGridDistance=30,categoryAxis.renderer.labels.template.horizontalCenter=\"right\",categoryAxis.renderer.labels.template.verticalCenter=\"middle\",categoryAxis.renderer.labels.template.rotation=270,categoryAxis.tooltip.disabled=!0,categoryAxis.renderer.minHeight=110,chart.yAxes.push(new ValueAxis_ValueAxis).renderer.minWidth=50;let series=chart.series.push(new ColumnSeries_ColumnSeries);series.sequencedInterpolation=!0,series.dataFields.valueY=\"visits\",series.dataFields.categoryX=\"country\",series.tooltipText=\"[{categoryX}: bold]{valueY}[/]\",series.columns.template.strokeWidth=0,series.tooltip.pointerOrientation=\"vertical\",series.columns.template.column.cornerRadiusTopLeft=10,series.columns.template.column.cornerRadiusTopRight=10,series.columns.template.column.fillOpacity=.8;let hoverState=series.columns.template.column.states.create(\"hover\");hoverState.properties.cornerRadiusTopLeft=0,hoverState.properties.cornerRadiusTopRight=0,hoverState.properties.fillOpacity=1,series.columns.template.adapter.add(\"fill\",function(fill,target){return chart.colors.getIndex(target.dataItem.index)}),chart.cursor=new XYCursor_XYCursor})}getLineData(){return __awaiter(this,void 0,void 0,function*(){let chartline=create(\"chartLinediv\",XYChart_XYChart);chartline.data=[{date:new Date(2018,3,20),value:90},{date:new Date(2018,3,21),value:102},{date:new Date(2018,3,22),value:65},{date:new Date(2018,3,23),value:62},{date:new Date(2018,3,24),value:55},{date:new Date(2018,3,25),value:81}],chartline.xAxes.push(new DateAxis_DateAxis),chartline.yAxes.push(new ValueAxis_ValueAxis);let lineSeries=chartline.series.push(new LineSeries_LineSeries);lineSeries.dataFields.valueY=\"value\",lineSeries.dataFields.dateX=\"date\",lineSeries.name=\"Sales\",lineSeries.strokeWidth=3;let image=lineSeries.bullets.push(new Bullet_Bullet).createChild(Image_Image);image.href=\"https://www.amcharts.com/lib/images/star.svg\",image.width=30,image.height=30,image.horizontalCenter=\"middle\",image.verticalCenter=\"middle\"})}}class PlatformLocation{}const LOCATION_INITIALIZED=new InjectionToken(\"Location Initialized\");class LocationStrategy{}const APP_BASE_HREF=new InjectionToken(\"appBaseHref\");class common_Location{constructor(platformStrategy,platformLocation){this._subject=new core_EventEmitter,this._urlChangeListeners=[],this._platformStrategy=platformStrategy;const browserBaseHref=this._platformStrategy.getBaseHref();this._platformLocation=platformLocation,this._baseHref=common_Location.stripTrailingSlash(_stripIndexHtml(browserBaseHref)),this._platformStrategy.onPopState(ev=>{this._subject.emit({url:this.path(!0),pop:!0,state:ev.state,type:ev.type})})}path(includeHash=!1){return this.normalize(this._platformStrategy.path(includeHash))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(path,query=\"\"){return this.path()==this.normalize(path+common_Location.normalizeQueryParams(query))}normalize(url){return common_Location.stripTrailingSlash(function(baseHref,url){return baseHref&&url.startsWith(baseHref)?url.substring(baseHref.length):url}(this._baseHref,_stripIndexHtml(url)))}prepareExternalUrl(url){return url&&\"/\"!==url[0]&&(url=\"/\"+url),this._platformStrategy.prepareExternalUrl(url)}go(path,query=\"\",state=null){this._platformStrategy.pushState(state,\"\",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+common_Location.normalizeQueryParams(query)),state)}replaceState(path,query=\"\",state=null){this._platformStrategy.replaceState(state,\"\",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+common_Location.normalizeQueryParams(query)),state)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(fn){this._urlChangeListeners.push(fn),this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)})}_notifyUrlChangeListeners(url=\"\",state){this._urlChangeListeners.forEach(fn=>fn(url,state))}subscribe(onNext,onThrow,onReturn){return this._subject.subscribe({next:onNext,error:onThrow,complete:onReturn})}static normalizeQueryParams(params){return params&&\"?\"!==params[0]?\"?\"+params:params}static joinWithSlash(start,end){if(0==start.length)return end;if(0==end.length)return start;let slashes=0;return start.endsWith(\"/\")&&slashes++,end.startsWith(\"/\")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+\"/\"+end}static stripTrailingSlash(url){const match=url.match(/#|\\?|$/),pathEndIdx=match&&match.index||url.length;return url.slice(0,pathEndIdx-(\"/\"===url[pathEndIdx-1]?1:0))+url.slice(pathEndIdx)}}function _stripIndexHtml(url){return url.replace(/\\/index.html$/,\"\")}class HashLocationStrategy extends LocationStrategy{constructor(_platformLocation,_baseHref){super(),this._platformLocation=_platformLocation,this._baseHref=\"\",null!=_baseHref&&(this._baseHref=_baseHref)}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}path(includeHash=!1){let path=this._platformLocation.hash;return null==path&&(path=\"#\"),path.length>0?path.substring(1):path}prepareExternalUrl(internal){const url=common_Location.joinWithSlash(this._baseHref,internal);return url.length>0?\"#\"+url:url}pushState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+common_Location.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)}replaceState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+common_Location.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class PathLocationStrategy extends LocationStrategy{constructor(_platformLocation,href){if(super(),this._platformLocation=_platformLocation,null==href&&(href=this._platformLocation.getBaseHrefFromDOM()),null==href)throw new Error(\"No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.\");this._baseHref=href}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}prepareExternalUrl(internal){return common_Location.joinWithSlash(this._baseHref,internal)}path(includeHash=!1){const pathname=this._platformLocation.pathname+common_Location.normalizeQueryParams(this._platformLocation.search),hash=this._platformLocation.hash;return hash&&includeHash?`${pathname}${hash}`:pathname}pushState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+common_Location.normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)}replaceState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+common_Location.normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const Plural=function(){var Plural={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return Plural[Plural.Zero]=\"Zero\",Plural[Plural.One]=\"One\",Plural[Plural.Two]=\"Two\",Plural[Plural.Few]=\"Few\",Plural[Plural.Many]=\"Many\",Plural[Plural.Other]=\"Other\",Plural}(),common_getLocalePluralCase=function(locale){return function(locale){const normalizedLocale=locale.toLowerCase().replace(/_/g,\"-\");let match=LOCALE_DATA[normalizedLocale];if(match)return match;const parentLocale=normalizedLocale.split(\"-\")[0];if(match=LOCALE_DATA[parentLocale])return match;if(\"en\"===parentLocale)return localeEn;throw new Error(`Missing locale data for the locale \"${locale}\".`)}(locale)[LocaleDataIndex.PluralCase]},DEPRECATED_PLURAL_FN=new InjectionToken(\"UseV4Plurals\");class NgLocalization{}class NgLocaleLocalization extends NgLocalization{constructor(locale,deprecatedPluralFn){super(),this.locale=locale,this.deprecatedPluralFn=deprecatedPluralFn}getPluralCategory(value,locale){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(locale||this.locale,value):common_getLocalePluralCase(locale||this.locale)(value)){case Plural.Zero:return\"zero\";case Plural.One:return\"one\";case Plural.Two:return\"two\";case Plural.Few:return\"few\";case Plural.Many:return\"many\";default:return\"other\"}}}class CommonModule{}const DOCUMENT=new InjectionToken(\"DocumentToken\"),PLATFORM_SERVER_ID=\"server\";let common_ViewportScroller=(()=>{class ViewportScroller{}return ViewportScroller.ngInjectableDef=ɵɵdefineInjectable({token:ViewportScroller,providedIn:\"root\",factory:()=>new BrowserViewportScroller(ɵɵinject(DOCUMENT),window,ɵɵinject(ErrorHandler))}),ViewportScroller})();class BrowserViewportScroller{constructor(document,window,errorHandler){this.document=document,this.window=window,this.errorHandler=errorHandler,this.offset=()=>[0,0]}setOffset(offset){this.offset=Array.isArray(offset)?()=>offset:offset}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(position){this.supportScrollRestoration()&&this.window.scrollTo(position[0],position[1])}scrollToAnchor(anchor){if(this.supportScrollRestoration()){anchor=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(anchor):anchor.replace(/(\\\"|\\'\\ |:|\\.|\\[|\\]|,|=)/g,\"\\\\$1\");try{const elSelectedById=this.document.querySelector(`#${anchor}`);if(elSelectedById)return void this.scrollToElement(elSelectedById);const elSelectedByName=this.document.querySelector(`[name='${anchor}']`);if(elSelectedByName)return void this.scrollToElement(elSelectedByName)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(scrollRestoration){if(this.supportScrollRestoration()){const history=this.window.history;history&&history.scrollRestoration&&(history.scrollRestoration=scrollRestoration)}}scrollToElement(el){const rect=el.getBoundingClientRect(),left=rect.left+this.window.pageXOffset,top=rect.top+this.window.pageYOffset,offset=this.offset();this.window.scrollTo(left-offset[0],top-offset[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(_a){return!1}}}const empty_EMPTY=new Observable_Observable(subscriber=>subscriber.complete());function empty_empty(scheduler){return scheduler?function(scheduler){return new Observable_Observable(subscriber=>scheduler.schedule(()=>subscriber.complete()))}(scheduler):empty_EMPTY}function scalar(value){const result=new Observable_Observable(subscriber=>{subscriber.next(value),subscriber.complete()});return result._isScalar=!0,result.value=value,result}function of(...args){let scheduler=args[args.length-1];switch(isScheduler(scheduler)?args.pop():scheduler=void 0,args.length){case 0:return empty_empty(scheduler);case 1:return scheduler?fromArray(args,scheduler):scalar(args[0]);default:return fromArray(args,scheduler)}}class BehaviorSubject_BehaviorSubject extends Subject_Subject{constructor(_value){super(),this._value=_value}get value(){return this.getValue()}_subscribe(subscriber){const subscription=super._subscribe(subscriber);return subscription&&!subscription.closed&&subscriber.next(this._value),subscription}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value}next(value){super.next(this._value=value)}}function EmptyErrorImpl(){return Error.call(this),this.message=\"no elements in sequence\",this.name=\"EmptyError\",this}EmptyErrorImpl.prototype=Object.create(Error.prototype);const EmptyError=EmptyErrorImpl,NONE={};class CombineLatestOperator{constructor(resultSelector){this.resultSelector=resultSelector}call(subscriber,source){return source.subscribe(new combineLatest_CombineLatestSubscriber(subscriber,this.resultSelector))}}class combineLatest_CombineLatestSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,resultSelector){super(destination),this.resultSelector=resultSelector,this.active=0,this.values=[],this.observables=[]}_next(observable){this.values.push(NONE),this.observables.push(observable)}_complete(){const observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len,this.toRespond=len;for(let i=0;i<len;i++){const observable=observables[i];this.add(subscribeToResult(this,observable,observable,i))}}}notifyComplete(unused){0==(this.active-=1)&&this.destination.complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){const values=this.values,toRespond=this.toRespond?values[outerIndex]===NONE?--this.toRespond:this.toRespond:0;values[outerIndex]=innerValue,0===toRespond&&(this.resultSelector?this._tryResultSelector(values):this.destination.next(values.slice()))}_tryResultSelector(values){let result;try{result=this.resultSelector.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}function defer(observableFactory){return new Observable_Observable(subscriber=>{let input;try{input=observableFactory()}catch(err){return void subscriber.error(err)}return(input?from_from(input):empty_empty()).subscribe(subscriber)})}function concatAll(){return mergeAll(1)}function filter_filter(predicate,thisArg){return function(source){return source.lift(new FilterOperator(predicate,thisArg))}}class FilterOperator{constructor(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new filter_FilterSubscriber(subscriber,this.predicate,this.thisArg))}}class filter_FilterSubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.count=0}_next(value){let result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)}}function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message=\"argument out of range\",this.name=\"ArgumentOutOfRangeError\",this}ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype);const ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl;function takeLast(count){return function(source){return 0===count?empty_empty():source.lift(new takeLast_TakeLastOperator(count))}}class takeLast_TakeLastOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new takeLast_TakeLastSubscriber(subscriber,this.total))}}class takeLast_TakeLastSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.ring=new Array,this.count=0}_next(value){const ring=this.ring,total=this.total,count=this.count++;ring.length<total?ring.push(value):ring[count%total]=value}_complete(){const destination=this.destination;let count=this.count;if(count>0){const total=this.count>=this.total?this.total:this.count,ring=this.ring;for(let i=0;i<total;i++){const idx=count++%total;destination.next(ring[idx])}}destination.complete()}}function tap(nextOrObserver,error,complete){return function(source){return source.lift(new DoOperator(nextOrObserver,error,complete))}}class DoOperator{constructor(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}call(subscriber,source){return source.subscribe(new tap_TapSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))}}class tap_TapSubscriber extends Subscriber_Subscriber{constructor(destination,observerOrNext,error,complete){super(destination),this._tapNext=noop,this._tapError=noop,this._tapComplete=noop,this._tapError=error||noop,this._tapComplete=complete||noop,isFunction(observerOrNext)?(this._context=this,this._tapNext=observerOrNext):observerOrNext&&(this._context=observerOrNext,this._tapNext=observerOrNext.next||noop,this._tapError=observerOrNext.error||noop,this._tapComplete=observerOrNext.complete||noop)}_next(value){try{this._tapNext.call(this._context,value)}catch(err){return void this.destination.error(err)}this.destination.next(value)}_error(err){try{this._tapError.call(this._context,err)}catch(err){return void this.destination.error(err)}this.destination.error(err)}_complete(){try{this._tapComplete.call(this._context)}catch(err){return void this.destination.error(err)}return this.destination.complete()}}const throwIfEmpty=(errorFactory=function(){return new EmptyError})=>tap({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw errorFactory()}});function defaultIfEmpty(defaultValue=null){return source=>source.lift(new DefaultIfEmptyOperator(defaultValue))}class DefaultIfEmptyOperator{constructor(defaultValue){this.defaultValue=defaultValue}call(subscriber,source){return source.subscribe(new defaultIfEmpty_DefaultIfEmptySubscriber(subscriber,this.defaultValue))}}class defaultIfEmpty_DefaultIfEmptySubscriber extends Subscriber_Subscriber{constructor(destination,defaultValue){super(destination),this.defaultValue=defaultValue,this.isEmpty=!0}_next(value){this.isEmpty=!1,this.destination.next(value)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function last_last(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter_filter((v,i)=>predicate(v,i,source)):identity,takeLast(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}function catchError(selector){return function(source){const operator=new CatchOperator(selector),caught=source.lift(operator);return operator.caught=caught}}class CatchOperator{constructor(selector){this.selector=selector}call(subscriber,source){return source.subscribe(new catchError_CatchSubscriber(subscriber,this.selector,this.caught))}}class catchError_CatchSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,selector,caught){super(destination),this.selector=selector,this.caught=caught}error(err){if(!this.isStopped){let result;try{result=this.selector(err,this.caught)}catch(err2){return void super.error(err2)}this._unsubscribeAndRecycle();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.add(innerSubscriber),subscribeToResult(this,result,void 0,void 0,innerSubscriber)}}}function take(count){return source=>0===count?empty_empty():source.lift(new take_TakeOperator(count))}class take_TakeOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new take_TakeSubscriber(subscriber,this.total))}}class take_TakeSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.count=0}_next(value){const total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))}}function first_first(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter_filter((v,i)=>predicate(v,i,source)):identity,take(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}class EveryOperator{constructor(predicate,thisArg,source){this.predicate=predicate,this.thisArg=thisArg,this.source=source}call(observer,source){return source.subscribe(new every_EverySubscriber(observer,this.predicate,this.thisArg,this.source))}}class every_EverySubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg,source){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.source=source,this.index=0,this.thisArg=thisArg||this}notifyComplete(everyValueMatch){this.destination.next(everyValueMatch),this.destination.complete()}_next(value){let result=!1;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function switchMap(project,resultSelector){return\"function\"==typeof resultSelector?source=>source.pipe(switchMap((a,i)=>from_from(project(a,i)).pipe(map((b,ii)=>resultSelector(a,b,i,ii))))):source=>source.lift(new SwitchMapOperator(project))}class SwitchMapOperator{constructor(project){this.project=project}call(subscriber,source){return source.subscribe(new switchMap_SwitchMapSubscriber(subscriber,this.project))}}class switchMap_SwitchMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project){super(destination),this.project=project,this.index=0}_next(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)}_innerSub(result,value,index){const innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),this.innerSubscription=subscribeToResult(this,result,value,index,innerSubscriber)}_complete(){const{innerSubscription:innerSubscription}=this;innerSubscription&&!innerSubscription.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(innerSub){this.destination.remove(innerSub),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}}function scan(accumulator,seed){let hasSeed=!1;return arguments.length>=2&&(hasSeed=!0),function(source){return source.lift(new ScanOperator(accumulator,seed,hasSeed))}}class ScanOperator{constructor(accumulator,seed,hasSeed=!1){this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}call(subscriber,source){return source.subscribe(new scan_ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))}}class scan_ScanSubscriber extends Subscriber_Subscriber{constructor(destination,accumulator,_seed,hasSeed){super(destination),this.accumulator=accumulator,this._seed=_seed,this.hasSeed=hasSeed,this.index=0}get seed(){return this._seed}set seed(value){this.hasSeed=!0,this._seed=value}_next(value){if(this.hasSeed)return this._tryNext(value);this.seed=value,this.destination.next(value)}_tryNext(value){const index=this.index++;let result;try{result=this.accumulator(this.seed,value,index)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)}}function concatMap(project,resultSelector){return mergeMap(project,resultSelector,1)}class FinallyOperator{constructor(callback){this.callback=callback}call(subscriber,source){return source.subscribe(new finalize_FinallySubscriber(subscriber,this.callback))}}class finalize_FinallySubscriber extends Subscriber_Subscriber{constructor(destination,callback){super(destination),this.add(new Subscription_Subscription(callback))}}let _DOM=null;function getDOM(){return _DOM}class DomAdapter{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(value){this._attrToPropMap=value}}class GenericBrowserDomAdapter extends DomAdapter{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const element=this.createElement(\"div\",document);if(null!=this.getStyle(element,\"animationName\"))this._animationPrefix=\"\";else{const domPrefixes=[\"Webkit\",\"Moz\",\"O\",\"ms\"];for(let i=0;i<domPrefixes.length;i++)if(null!=this.getStyle(element,domPrefixes[i]+\"AnimationName\")){this._animationPrefix=\"-\"+domPrefixes[i].toLowerCase()+\"-\";break}}const transEndEventNames={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};Object.keys(transEndEventNames).forEach(key=>{null!=this.getStyle(element,key)&&(this._transitionEnd=transEndEventNames[key])})}catch(_a){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(el){return el.getDistributedNodes()}resolveAndSetHref(el,baseUrl,href){el.href=null==href?baseUrl:baseUrl+\"/../\"+href}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return\"function\"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:\"\"}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:\"\"}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const _attrToPropMap={class:\"className\",innerHtml:\"innerHTML\",readonly:\"readOnly\",tabindex:\"tabIndex\"},DOM_KEY_LOCATION_NUMPAD=3,_keyMap={\"\\b\":\"Backspace\",\"\\t\":\"Tab\",\"\":\"Delete\",\"\u001b\":\"Escape\",Del:\"Delete\",Esc:\"Escape\",Left:\"ArrowLeft\",Right:\"ArrowRight\",Up:\"ArrowUp\",Down:\"ArrowDown\",Menu:\"ContextMenu\",Scroll:\"ScrollLock\",Win:\"OS\"},_chromeNumKeyPadMap={A:\"1\",B:\"2\",C:\"3\",D:\"4\",E:\"5\",F:\"6\",G:\"7\",H:\"8\",I:\"9\",J:\"*\",K:\"+\",M:\"-\",N:\".\",O:\"/\",\"`\":\"0\",\"\":\"NumLock\"},nodeContains=(()=>{if(_global.Node)return _global.Node.prototype.contains||function(node){return!!(16&this.compareDocumentPosition(node))}})();class platform_browser_BrowserDomAdapter extends GenericBrowserDomAdapter{parse(templateHtml){throw new Error(\"parse not implemented\")}static makeCurrent(){var adapter;adapter=new platform_browser_BrowserDomAdapter,_DOM||(_DOM=adapter)}hasProperty(element,name){return name in element}setProperty(el,name,value){el[name]=value}getProperty(el,name){return el[name]}invoke(el,methodName,args){el[methodName](...args)}logError(error){window.console&&(console.error?console.error(error):console.log(error))}log(error){window.console&&window.console.log&&window.console.log(error)}logGroup(error){window.console&&window.console.group&&window.console.group(error)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return _attrToPropMap}contains(nodeA,nodeB){return nodeContains.call(nodeA,nodeB)}querySelector(el,selector){return el.querySelector(selector)}querySelectorAll(el,selector){return el.querySelectorAll(selector)}on(el,evt,listener){el.addEventListener(evt,listener,!1)}onAndCancel(el,evt,listener){return el.addEventListener(evt,listener,!1),()=>{el.removeEventListener(evt,listener,!1)}}dispatchEvent(el,evt){el.dispatchEvent(evt)}createMouseEvent(eventType){const evt=this.getDefaultDocument().createEvent(\"MouseEvent\");return evt.initEvent(eventType,!0,!0),evt}createEvent(eventType){const evt=this.getDefaultDocument().createEvent(\"Event\");return evt.initEvent(eventType,!0,!0),evt}preventDefault(evt){evt.preventDefault(),evt.returnValue=!1}isPrevented(evt){return evt.defaultPrevented||null!=evt.returnValue&&!evt.returnValue}getInnerHTML(el){return el.innerHTML}getTemplateContent(el){return\"content\"in el&&this.isTemplateElement(el)?el.content:null}getOuterHTML(el){return el.outerHTML}nodeName(node){return node.nodeName}nodeValue(node){return node.nodeValue}type(node){return node.type}content(node){return this.hasProperty(node,\"content\")?node.content:node}firstChild(el){return el.firstChild}nextSibling(el){return el.nextSibling}parentElement(el){return el.parentNode}childNodes(el){return el.childNodes}childNodesAsList(el){const childNodes=el.childNodes,res=new Array(childNodes.length);for(let i=0;i<childNodes.length;i++)res[i]=childNodes[i];return res}clearNodes(el){for(;el.firstChild;)el.removeChild(el.firstChild)}appendChild(el,node){el.appendChild(node)}removeChild(el,node){el.removeChild(node)}replaceChild(el,newChild,oldChild){el.replaceChild(newChild,oldChild)}remove(node){return node.parentNode&&node.parentNode.removeChild(node),node}insertBefore(parent,ref,node){parent.insertBefore(node,ref)}insertAllBefore(parent,ref,nodes){nodes.forEach(n=>parent.insertBefore(n,ref))}insertAfter(parent,ref,node){parent.insertBefore(node,ref.nextSibling)}setInnerHTML(el,value){el.innerHTML=value}getText(el){return el.textContent}setText(el,value){el.textContent=value}getValue(el){return el.value}setValue(el,value){el.value=value}getChecked(el){return el.checked}setChecked(el,value){el.checked=value}createComment(text){return this.getDefaultDocument().createComment(text)}createTemplate(html){const t=this.getDefaultDocument().createElement(\"template\");return t.innerHTML=html,t}createElement(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)}createElementNS(ns,tagName,doc){return(doc=doc||this.getDefaultDocument()).createElementNS(ns,tagName)}createTextNode(text,doc){return(doc=doc||this.getDefaultDocument()).createTextNode(text)}createScriptTag(attrName,attrValue,doc){const el=(doc=doc||this.getDefaultDocument()).createElement(\"SCRIPT\");return el.setAttribute(attrName,attrValue),el}createStyleElement(css,doc){const style=(doc=doc||this.getDefaultDocument()).createElement(\"style\");return this.appendChild(style,this.createTextNode(css,doc)),style}createShadowRoot(el){return el.createShadowRoot()}getShadowRoot(el){return el.shadowRoot}getHost(el){return el.host}clone(node){return node.cloneNode(!0)}getElementsByClassName(element,name){return element.getElementsByClassName(name)}getElementsByTagName(element,name){return element.getElementsByTagName(name)}classList(element){return Array.prototype.slice.call(element.classList,0)}addClass(element,className){element.classList.add(className)}removeClass(element,className){element.classList.remove(className)}hasClass(element,className){return element.classList.contains(className)}setStyle(element,styleName,styleValue){element.style[styleName]=styleValue}removeStyle(element,stylename){element.style[stylename]=\"\"}getStyle(element,stylename){return element.style[stylename]}hasStyle(element,styleName,styleValue){const value=this.getStyle(element,styleName)||\"\";return styleValue?value==styleValue:value.length>0}tagName(element){return element.tagName}attributeMap(element){const res=new Map,elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const attrib=elAttrs.item(i);res.set(attrib.name,attrib.value)}return res}hasAttribute(element,attribute){return element.hasAttribute(attribute)}hasAttributeNS(element,ns,attribute){return element.hasAttributeNS(ns,attribute)}getAttribute(element,attribute){return element.getAttribute(attribute)}getAttributeNS(element,ns,name){return element.getAttributeNS(ns,name)}setAttribute(element,name,value){element.setAttribute(name,value)}setAttributeNS(element,ns,name,value){element.setAttributeNS(ns,name,value)}removeAttribute(element,attribute){element.removeAttribute(attribute)}removeAttributeNS(element,ns,name){element.removeAttributeNS(ns,name)}templateAwareRoot(el){return this.isTemplateElement(el)?this.content(el):el}createHtmlDocument(){return document.implementation.createHTMLDocument(\"fakeTitle\")}getDefaultDocument(){return document}getBoundingClientRect(el){try{return el.getBoundingClientRect()}catch(_a){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(doc){return doc.title}setTitle(doc,newTitle){doc.title=newTitle||\"\"}elementMatches(n,selector){return!!this.isElementNode(n)&&(n.matches&&n.matches(selector)||n.msMatchesSelector&&n.msMatchesSelector(selector)||n.webkitMatchesSelector&&n.webkitMatchesSelector(selector))}isTemplateElement(el){return this.isElementNode(el)&&\"TEMPLATE\"===el.nodeName}isTextNode(node){return node.nodeType===Node.TEXT_NODE}isCommentNode(node){return node.nodeType===Node.COMMENT_NODE}isElementNode(node){return node.nodeType===Node.ELEMENT_NODE}hasShadowRoot(node){return null!=node.shadowRoot&&node instanceof HTMLElement}isShadowRoot(node){return node instanceof DocumentFragment}importIntoDoc(node){return document.importNode(this.templateAwareRoot(node),!0)}adoptNode(node){return document.adoptNode(node)}getHref(el){return el.getAttribute(\"href\")}getEventKey(event){let key=event.key;if(null==key){if(null==(key=event.keyIdentifier))return\"Unidentified\";key.startsWith(\"U+\")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),event.location===DOM_KEY_LOCATION_NUMPAD&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key}getGlobalEventTarget(doc,target){return\"window\"===target?window:\"document\"===target?doc:\"body\"===target?doc.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(doc){const href=baseElement||(baseElement=document.querySelector(\"base\"))?baseElement.getAttribute(\"href\"):null;return null==href?null:(url=href,urlParsingNode||(urlParsingNode=document.createElement(\"a\")),urlParsingNode.setAttribute(\"href\",url),\"/\"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:\"/\"+urlParsingNode.pathname);var url}resetBaseElement(){baseElement=null}getUserAgent(){return window.navigator.userAgent}setData(element,name,value){this.setAttribute(element,\"data-\"+name,value)}getData(element,name){return this.getAttribute(element,\"data-\"+name)}getComputedStyle(element){return getComputedStyle(element)}supportsWebAnimation(){return\"function\"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(name){return function(cookieStr,name){name=encodeURIComponent(name);for(const cookie of cookieStr.split(\";\")){const eqIndex=cookie.indexOf(\"=\"),[cookieName,cookieValue]=-1==eqIndex?[cookie,\"\"]:[cookie.slice(0,eqIndex),cookie.slice(eqIndex+1)];if(cookieName.trim()===name)return decodeURIComponent(cookieValue)}return null}(document.cookie,name)}setCookie(name,value){document.cookie=encodeURIComponent(name)+\"=\"+encodeURIComponent(value)}}let urlParsingNode,baseElement=null;function supportsState(){return!!window.history.pushState}const TRANSITION_ID=new InjectionToken(\"TRANSITION_ID\"),SERVER_TRANSITION_PROVIDERS=[{provide:APP_INITIALIZER,useFactory:function(transitionId,document,injector){return()=>{injector.get(ApplicationInitStatus).donePromise.then(()=>{const dom=getDOM();Array.prototype.slice.apply(dom.querySelectorAll(document,\"style[ng-transition]\")).filter(el=>dom.getAttribute(el,\"ng-transition\")===transitionId).forEach(el=>dom.remove(el))})}},deps:[TRANSITION_ID,DOCUMENT,Injector],multi:!0}];class platform_browser_BrowserGetTestability{static init(){var getter;getter=new platform_browser_BrowserGetTestability,_testabilityGetter=getter}addToWindow(registry){_global.getAngularTestability=(elem,findInAncestors=!0)=>{const testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error(\"Could not find testability for element.\");return testability},_global.getAllAngularTestabilities=()=>registry.getAllTestabilities(),_global.getAllAngularRootElements=()=>registry.getAllRootElements(),_global.frameworkStabilizers||(_global.frameworkStabilizers=[]),_global.frameworkStabilizers.push(callback=>{const testabilities=_global.getAllAngularTestabilities();let count=testabilities.length,didWork=!1;const decrement=function(didWork_){didWork=didWork||didWork_,0==--count&&callback(didWork)};testabilities.forEach(function(testability){testability.whenStable(decrement)})})}findTestabilityInTree(registry,elem,findInAncestors){if(null==elem)return null;const t=registry.getTestability(elem);return null!=t?t:findInAncestors?getDOM().isShadowRoot(elem)?this.findTestabilityInTree(registry,getDOM().getHost(elem),!0):this.findTestabilityInTree(registry,getDOM().parentElement(elem),!0):null}}function exportNgVar(name,value){\"undefined\"!=typeof COMPILED&&COMPILED||((_global.ng=_global.ng||{})[name]=value)}const CORE_TOKENS=(()=>({ApplicationRef:core_ApplicationRef,NgZone:NgZone}))();function inspectNativeElement(element){return getDebugNode(element)}const EVENT_MANAGER_PLUGINS=new InjectionToken(\"EventManagerPlugins\");class EventManager{constructor(plugins,_zone){this._zone=_zone,this._eventNameToPlugin=new Map,plugins.forEach(p=>p.manager=this),this._plugins=plugins.slice().reverse()}addEventListener(element,eventName,handler){return this._findPluginFor(eventName).addEventListener(element,eventName,handler)}addGlobalEventListener(target,eventName,handler){return this._findPluginFor(eventName).addGlobalEventListener(target,eventName,handler)}getZone(){return this._zone}_findPluginFor(eventName){const plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;const plugins=this._plugins;for(let i=0;i<plugins.length;i++){const plugin=plugins[i];if(plugin.supports(eventName))return this._eventNameToPlugin.set(eventName,plugin),plugin}throw new Error(`No event manager plugin found for event ${eventName}`)}}class EventManagerPlugin{constructor(_doc){this._doc=_doc}addGlobalEventListener(element,eventName,handler){const target=getDOM().getGlobalEventTarget(this._doc,element);if(!target)throw new Error(`Unsupported event target ${target} for event ${eventName}`);return this.addEventListener(target,eventName,handler)}}class SharedStylesHost{constructor(){this._stylesSet=new Set}addStyles(styles){const additions=new Set;styles.forEach(style=>{this._stylesSet.has(style)||(this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)}onStylesAdded(additions){}getAllStyles(){return Array.from(this._stylesSet)}}class DomSharedStylesHost extends SharedStylesHost{constructor(_doc){super(),this._doc=_doc,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(_doc.head)}_addStylesToHost(styles,host){styles.forEach(style=>{const styleEl=this._doc.createElement(\"style\");styleEl.textContent=style,this._styleNodes.add(host.appendChild(styleEl))})}addHost(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)}removeHost(hostNode){this._hostNodes.delete(hostNode)}onStylesAdded(additions){this._hostNodes.forEach(hostNode=>this._addStylesToHost(additions,hostNode))}ngOnDestroy(){this._styleNodes.forEach(styleNode=>getDOM().remove(styleNode))}}const NAMESPACE_URIS={svg:\"http://www.w3.org/2000/svg\",xhtml:\"http://www.w3.org/1999/xhtml\",xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},COMPONENT_REGEX=/%COMP%/g,HOST_ATTR=\"_nghost-%COMP%\",CONTENT_ATTR=\"_ngcontent-%COMP%\";function flattenStyles(compId,styles,target){for(let i=0;i<styles.length;i++){let style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return event=>{!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}class platform_browser_DomRendererFactory2{constructor(eventManager,sharedStylesHost,appId){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.rendererByCompId=new Map,this.defaultRenderer=new platform_browser_DefaultDomRenderer2(eventManager)}createRenderer(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case ViewEncapsulation.Emulated:{let renderer=this.rendererByCompId.get(type.id);return renderer||(renderer=new EmulatedEncapsulationDomRenderer2(this.eventManager,this.sharedStylesHost,type,this.appId),this.rendererByCompId.set(type.id,renderer)),renderer.applyToHost(element),renderer}case ViewEncapsulation.Native:case ViewEncapsulation.ShadowDom:return new platform_browser_ShadowDomRenderer(this.eventManager,this.sharedStylesHost,element,type);default:if(!this.rendererByCompId.has(type.id)){const styles=flattenStyles(type.id,type.styles,[]);this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class platform_browser_DefaultDomRenderer2{constructor(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}destroy(){}createElement(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace]||namespace,name):document.createElement(name)}createComment(value){return document.createComment(value)}createText(value){return document.createTextNode(value)}appendChild(parent,newChild){parent.appendChild(newChild)}insertBefore(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)}removeChild(parent,oldChild){parent&&parent.removeChild(oldChild)}selectRootElement(selectorOrNode,preserveContent){let el=\"string\"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);return preserveContent||(el.textContent=\"\"),el}parentNode(node){return node.parentNode}nextSibling(node){return node.nextSibling}setAttribute(el,name,value,namespace){if(namespace){name=namespace+\":\"+name;const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)}else el.setAttribute(name,value)}removeAttribute(el,name,namespace){if(namespace){const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(`${namespace}:${name}`)}else el.removeAttribute(name)}addClass(el,name){el.classList.add(name)}removeClass(el,name){el.classList.remove(name)}setStyle(el,style,value,flags){flags&RendererStyleFlags2.DashCase?el.style.setProperty(style,value,flags&RendererStyleFlags2.Important?\"important\":\"\"):el.style[style]=value}removeStyle(el,style,flags){flags&RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=\"\"}setProperty(el,name,value){checkNoSyntheticProp(name,\"property\"),el[name]=value}setValue(node,value){node.nodeValue=value}listen(target,event,callback){return checkNoSyntheticProp(event,\"listener\"),\"string\"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))}}const AT_CHARCODE=(()=>\"@\".charCodeAt(0))();function checkNoSyntheticProp(name,nameKind){if(name.charCodeAt(0)===AT_CHARCODE)throw new Error(`Found the synthetic ${nameKind} ${name}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`)}class EmulatedEncapsulationDomRenderer2 extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,component,appId){super(eventManager),this.component=component;const styles=flattenStyles(appId+\"-\"+component.id,component.styles,[]);sharedStylesHost.addStyles(styles),this.contentAttr=CONTENT_ATTR.replace(COMPONENT_REGEX,appId+\"-\"+component.id),this.hostAttr=HOST_ATTR.replace(COMPONENT_REGEX,appId+\"-\"+component.id)}applyToHost(element){super.setAttribute(element,this.hostAttr,\"\")}createElement(parent,name){const el=super.createElement(parent,name);return super.setAttribute(el,this.contentAttr,\"\"),el}}class platform_browser_ShadowDomRenderer extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,hostEl,component){super(eventManager),this.sharedStylesHost=sharedStylesHost,this.hostEl=hostEl,this.component=component,this.shadowRoot=component.encapsulation===ViewEncapsulation.ShadowDom?hostEl.attachShadow({mode:\"open\"}):hostEl.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const styles=flattenStyles(component.id,component.styles,[]);for(let i=0;i<styles.length;i++){const styleEl=document.createElement(\"style\");styleEl.textContent=styles[i],this.shadowRoot.appendChild(styleEl)}}nodeOrShadowRoot(node){return node===this.hostEl?this.shadowRoot:node}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(parent,newChild){return super.appendChild(this.nodeOrShadowRoot(parent),newChild)}insertBefore(parent,newChild,refChild){return super.insertBefore(this.nodeOrShadowRoot(parent),newChild,refChild)}removeChild(parent,oldChild){return super.removeChild(this.nodeOrShadowRoot(parent),oldChild)}parentNode(node){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)))}}const __symbol__=(()=>\"undefined\"!=typeof Zone&&Zone.__symbol__||function(v){return\"__zone_symbol__\"+v})(),ADD_EVENT_LISTENER=__symbol__(\"addEventListener\"),REMOVE_EVENT_LISTENER=__symbol__(\"removeEventListener\"),symbolNames={},FALSE=\"FALSE\",ANGULAR=\"ANGULAR\",NATIVE_ADD_LISTENER=\"addEventListener\",NATIVE_REMOVE_LISTENER=\"removeEventListener\",stopSymbol=\"__zone_symbol__propagationStopped\",stopMethodSymbol=\"__zone_symbol__stopImmediatePropagation\",blackListedMap=(()=>{const blackListedEvents=\"undefined\"!=typeof Zone&&Zone[__symbol__(\"BLACK_LISTED_EVENTS\")];if(blackListedEvents){const res={};return blackListedEvents.forEach(eventName=>{res[eventName]=eventName}),res}})(),isBlackListedEvent=function(eventName){return!!blackListedMap&&blackListedMap.hasOwnProperty(eventName)},globalListener=function(event){const symbolName=symbolNames[event.type];if(!symbolName)return;const taskDatas=this[symbolName];if(!taskDatas)return;const args=[event];if(1===taskDatas.length){const taskData=taskDatas[0];return taskData.zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args)}{const copiedTasks=taskDatas.slice();for(let i=0;i<copiedTasks.length&&!0!==event[stopSymbol];i++){const taskData=copiedTasks[i];taskData.zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args)}}};class platform_browser_DomEventsPlugin extends EventManagerPlugin{constructor(doc,ngZone,platformId){super(doc),this.ngZone=ngZone,platformId&&function(platformId){return platformId===PLATFORM_SERVER_ID}(platformId)||this.patchEvent()}patchEvent(){if(\"undefined\"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[stopMethodSymbol])return;const delegate=Event.prototype[stopMethodSymbol]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[stopSymbol]=!0),delegate&&delegate.apply(this,arguments)}}supports(eventName){return!0}addEventListener(element,eventName,handler){let callback=handler;if(!element[ADD_EVENT_LISTENER]||NgZone.isInAngularZone()&&!isBlackListedEvent(eventName))element[NATIVE_ADD_LISTENER](eventName,callback,!1);else{let symbolName=symbolNames[eventName];symbolName||(symbolName=symbolNames[eventName]=__symbol__(ANGULAR+eventName+FALSE));let taskDatas=element[symbolName];const globalListenerRegistered=taskDatas&&taskDatas.length>0;taskDatas||(taskDatas=element[symbolName]=[]);const zone=isBlackListedEvent(eventName)?Zone.root:Zone.current;if(0===taskDatas.length)taskDatas.push({zone:zone,handler:callback});else{let callbackRegistered=!1;for(let i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){callbackRegistered=!0;break}callbackRegistered||taskDatas.push({zone:zone,handler:callback})}globalListenerRegistered||element[ADD_EVENT_LISTENER](eventName,globalListener,!1)}return()=>this.removeEventListener(element,eventName,callback)}removeEventListener(target,eventName,callback){let underlyingRemove=target[REMOVE_EVENT_LISTENER];if(!underlyingRemove)return target[NATIVE_REMOVE_LISTENER].apply(target,[eventName,callback,!1]);let symbolName=symbolNames[eventName],taskDatas=symbolName&&target[symbolName];if(!taskDatas)return target[NATIVE_REMOVE_LISTENER].apply(target,[eventName,callback,!1]);let found=!1;for(let i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){found=!0,taskDatas.splice(i,1);break}found?0===taskDatas.length&&underlyingRemove.apply(target,[eventName,globalListener,!1]):target[NATIVE_REMOVE_LISTENER].apply(target,[eventName,callback,!1])}}const EVENT_NAMES={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HAMMER_GESTURE_CONFIG=new InjectionToken(\"HammerGestureConfig\"),HAMMER_LOADER=new InjectionToken(\"HammerLoader\");class HammerGestureConfig{constructor(){this.events=[],this.overrides={}}buildHammer(element){const mc=new Hammer(element,this.options);mc.get(\"pinch\").set({enable:!0}),mc.get(\"rotate\").set({enable:!0});for(const eventName in this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc}}class HammerGesturesPlugin extends EventManagerPlugin{constructor(doc,_config,console,loader){super(doc),this._config=_config,this.console=console,this.loader=loader}supports(eventName){return!(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName)||!window.Hammer&&!this.loader&&(this.console.warn(`The \"${eventName}\" event cannot be bound because Hammer.JS is not `+\"loaded and no custom loader has been specified.\"),1))}addEventListener(element,eventName,handler){const zone=this.manager.getZone();if(eventName=eventName.toLowerCase(),!window.Hammer&&this.loader){let cancelRegistration=!1,deregister=()=>{cancelRegistration=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn(\"The custom HAMMER_LOADER completed, but Hammer.JS is not present.\"),void(deregister=()=>{});cancelRegistration||(deregister=this.addEventListener(element,eventName,handler))}).catch(()=>{this.console.warn(`The \"${eventName}\" event cannot be bound because the custom `+\"Hammer.JS loader failed.\"),deregister=()=>{}}),()=>{deregister()}}return zone.runOutsideAngular(()=>{const mc=this._config.buildHammer(element),callback=function(eventObj){zone.runGuarded(function(){handler(eventObj)})};return mc.on(eventName,callback),()=>{mc.off(eventName,callback),\"function\"==typeof mc.destroy&&mc.destroy()}})}isCustomEvent(eventName){return this._config.events.indexOf(eventName)>-1}}const MODIFIER_KEYS=[\"alt\",\"control\",\"meta\",\"shift\"],MODIFIER_KEY_GETTERS={alt:event=>event.altKey,control:event=>event.ctrlKey,meta:event=>event.metaKey,shift:event=>event.shiftKey};class KeyEventsPlugin extends EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return null!=KeyEventsPlugin.parseEventName(eventName)}addEventListener(element,eventName,handler){const parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>getDOM().onAndCancel(element,parsedEvent.domEventName,outsideHandler))}static parseEventName(eventName){const parts=eventName.toLowerCase().split(\".\"),domEventName=parts.shift();if(0===parts.length||\"keydown\"!==domEventName&&\"keyup\"!==domEventName)return null;const key=KeyEventsPlugin._normalizeKey(parts.pop());let fullKey=\"\";if(MODIFIER_KEYS.forEach(modifierName=>{const index=parts.indexOf(modifierName);index>-1&&(parts.splice(index,1),fullKey+=modifierName+\".\")}),fullKey+=key,0!=parts.length||0===key.length)return null;const result={};return result.domEventName=domEventName,result.fullKey=fullKey,result}static getEventFullKey(event){let fullKey=\"\",key=getDOM().getEventKey(event);return\" \"===(key=key.toLowerCase())?key=\"space\":\".\"===key&&(key=\"dot\"),MODIFIER_KEYS.forEach(modifierName=>{modifierName!=key&&(0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+\".\")}),fullKey+=key}static eventCallback(fullKey,handler,zone){return event=>{KeyEventsPlugin.getEventFullKey(event)===fullKey&&zone.runGuarded(()=>handler(event))}}static _normalizeKey(keyName){switch(keyName){case\"esc\":return\"escape\";default:return keyName}}}class DomSanitizer{}class platform_browser_DomSanitizerImpl extends DomSanitizer{constructor(_doc){super(),this._doc=_doc}sanitize(ctx,value){if(null==value)return null;switch(ctx){case SecurityContext.NONE:return value;case SecurityContext.HTML:return value instanceof SafeHtmlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,\"HTML\"),function(defaultDoc,unsafeHtmlInput){let inertBodyElement=null;try{inertBodyHelper=inertBodyHelper||new InertBodyHelper(defaultDoc);let unsafeHtml=unsafeHtmlInput?String(unsafeHtmlInput):\"\";inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml);let mXSSAttempts=5,parsedHtml=unsafeHtml;do{if(0===mXSSAttempts)throw new Error(\"Failed to sanitize html because the input is unstable\");mXSSAttempts--,unsafeHtml=parsedHtml,parsedHtml=inertBodyElement.innerHTML,inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml)}while(unsafeHtml!==parsedHtml);const sanitizer=new SanitizingHtmlSerializer,safeHtml=sanitizer.sanitizeChildren(getTemplateContent(inertBodyElement)||inertBodyElement);return isDevMode()&&sanitizer.sanitizedSomething&&console.warn(\"WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss\"),safeHtml}finally{if(inertBodyElement){const parent=getTemplateContent(inertBodyElement)||inertBodyElement;for(;parent.firstChild;)parent.removeChild(parent.firstChild)}}}(this._doc,String(value)));case SecurityContext.STYLE:return value instanceof SafeStyleImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,\"Style\"),function(value){if(!(value=String(value).trim()))return\"\";const urlMatch=value.match(URL_RE);return urlMatch&&_sanitizeUrl(urlMatch[1])===urlMatch[1]||value.match(SAFE_STYLE_VALUE)&&function(value){let outsideSingle=!0,outsideDouble=!0;for(let i=0;i<value.length;i++){const c=value.charAt(i);\"'\"===c&&outsideDouble?outsideSingle=!outsideSingle:'\"'===c&&outsideSingle&&(outsideDouble=!outsideDouble)}return outsideSingle&&outsideDouble}(value)?value:(isDevMode()&&console.warn(`WARNING: sanitizing unsafe style value ${value} (see http://g.co/ng/security#xss).`),\"unsafe\")}(value));case SecurityContext.SCRIPT:if(value instanceof SafeScriptImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,\"Script\"),new Error(\"unsafe value used in a script context\");case SecurityContext.URL:return value instanceof SafeResourceUrlImpl||value instanceof SafeUrlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,\"URL\"),_sanitizeUrl(String(value)));case SecurityContext.RESOURCE_URL:if(value instanceof SafeResourceUrlImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,\"ResourceURL\"),new Error(\"unsafe value used in a resource URL context (see http://g.co/ng/security#xss)\");default:throw new Error(`Unexpected SecurityContext ${ctx} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(value,expectedType){if(value instanceof SafeValueImpl)throw new Error(`Required a safe ${expectedType}, got a ${value.getTypeName()} `+\"(see http://g.co/ng/security#xss)\")}bypassSecurityTrustHtml(value){return new SafeHtmlImpl(value)}bypassSecurityTrustStyle(value){return new SafeStyleImpl(value)}bypassSecurityTrustScript(value){return new SafeScriptImpl(value)}bypassSecurityTrustUrl(value){return new SafeUrlImpl(value)}bypassSecurityTrustResourceUrl(value){return new SafeResourceUrlImpl(value)}}class SafeValueImpl{constructor(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+\" (see http://g.co/ng/security#xss)\"}}class SafeHtmlImpl extends SafeValueImpl{getTypeName(){return\"HTML\"}}class SafeStyleImpl extends SafeValueImpl{getTypeName(){return\"Style\"}}class SafeScriptImpl extends SafeValueImpl{getTypeName(){return\"Script\"}}class SafeUrlImpl extends SafeValueImpl{getTypeName(){return\"URL\"}}class SafeResourceUrlImpl extends SafeValueImpl{getTypeName(){return\"ResourceURL\"}}const platformBrowser=createPlatformFactory(platformCore,\"browser\",[{provide:PLATFORM_ID,useValue:\"browser\"},{provide:PLATFORM_INITIALIZER,useValue:function(){platform_browser_BrowserDomAdapter.makeCurrent(),platform_browser_BrowserGetTestability.init()},multi:!0},{provide:PlatformLocation,useClass:class extends PlatformLocation{constructor(_doc){super(),this._doc=_doc,this._init()}_init(){this.location=getDOM().getLocation(),this._history=getDOM().getHistory()}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(fn){getDOM().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"popstate\",fn,!1)}onHashChange(fn){getDOM().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"hashchange\",fn,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(newPath){this.location.pathname=newPath}pushState(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url}replaceState(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[DOCUMENT]},{provide:DOCUMENT,useFactory:function(){return document},deps:[]}]);function errorHandler(){return new ErrorHandler}class platform_browser_BrowserModule{constructor(parentModule){if(parentModule)throw new Error(\"BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.\")}static withServerTransition(params){return{ngModule:platform_browser_BrowserModule,providers:[{provide:APP_ID,useValue:params.appId},{provide:TRANSITION_ID,useExisting:APP_ID},SERVER_TRANSITION_PROVIDERS]}}}\"undefined\"!=typeof window&&window;class RouterEvent{constructor(id,url){this.id=id,this.url=url}}class NavigationStart extends RouterEvent{constructor(id,url,navigationTrigger=\"imperative\",restoredState=null){super(id,url),this.navigationTrigger=navigationTrigger,this.restoredState=restoredState}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class NavigationEnd extends RouterEvent{constructor(id,url,urlAfterRedirects){super(id,url),this.urlAfterRedirects=urlAfterRedirects}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NavigationCancel extends RouterEvent{constructor(id,url,reason){super(id,url),this.reason=reason}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NavigationError extends RouterEvent{constructor(id,url,error){super(id,url),this.error=error}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RoutesRecognized extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state,shouldActivate){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.shouldActivate=shouldActivate}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ResolveStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ResolveEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RouteConfigLoadStart{constructor(route){this.route=route}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RouteConfigLoadEnd{constructor(route){this.route=route}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ChildActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class ChildActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class ActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class ActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class Scroll{constructor(routerEvent,position,anchor){this.routerEvent=routerEvent,this.position=position,this.anchor=anchor}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ɵEmptyOutletComponent{}const PRIMARY_OUTLET=\"primary\";class ParamsAsMap{constructor(params){this.params=params||{}}has(name){return this.params.hasOwnProperty(name)}get(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v[0]:v}return null}getAll(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function convertToParamMap(params){return new ParamsAsMap(params)}const NAVIGATION_CANCELING_ERROR=\"ngNavigationCancelingError\";function navigationCancelingError(message){const error=Error(\"NavigationCancelingError: \"+message);return error[NAVIGATION_CANCELING_ERROR]=!0,error}function defaultUrlMatcher(segments,segmentGroup,route){const parts=route.path.split(\"/\");if(parts.length>segments.length)return null;if(\"full\"===route.pathMatch&&(segmentGroup.hasChildren()||parts.length<segments.length))return null;const posParams={};for(let index=0;index<parts.length;index++){const part=parts[index],segment=segments[index];if(part.startsWith(\":\"))posParams[part.substring(1)]=segment;else if(part!==segment.path)return null}return{consumed:segments.slice(0,parts.length),posParams:posParams}}class LoadedRouterConfig{constructor(routes,module){this.routes=routes,this.module=module}}function validateConfig(config,parentPath=\"\"){for(let i=0;i<config.length;i++){const route=config[i];router_validateNode(route,getFullPath(parentPath,route))}}function router_validateNode(route,fullPath){if(!route)throw new Error(`\\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\\n      The reason might be an extra comma.\\n\\n      Example:\\n      const routes: Routes = [\\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\\n        { path: 'detail/:id', component: HeroDetailComponent }\\n      ];\\n    `);if(Array.isArray(route))throw new Error(`Invalid configuration of route '${fullPath}': Array cannot be specified`);if(!route.component&&!route.children&&!route.loadChildren&&route.outlet&&route.outlet!==PRIMARY_OUTLET)throw new Error(`Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);if(route.redirectTo&&route.children)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);if(route.redirectTo&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);if(route.children&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);if(route.redirectTo&&route.component)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and component cannot be used together`);if(route.path&&route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);if(void 0===route.redirectTo&&!route.component&&!route.children&&!route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===route.path&&void 0===route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);if(\"string\"==typeof route.path&&\"/\"===route.path.charAt(0))throw new Error(`Invalid configuration of route '${fullPath}': path cannot start with a slash`);if(\"\"===route.path&&void 0!==route.redirectTo&&void 0===route.pathMatch)throw new Error(`Invalid configuration of route '{path: \"${fullPath}\", redirectTo: \"${route.redirectTo}\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==route.pathMatch&&\"full\"!==route.pathMatch&&\"prefix\"!==route.pathMatch)throw new Error(`Invalid configuration of route '${fullPath}': pathMatch can only be set to 'prefix' or 'full'`);route.children&&validateConfig(route.children,fullPath)}function getFullPath(parentPath,currentRoute){return currentRoute?parentPath||currentRoute.path?parentPath&&!currentRoute.path?`${parentPath}/`:!parentPath&&currentRoute.path?currentRoute.path:`${parentPath}/${currentRoute.path}`:\"\":parentPath}function standardizeConfig(r){const children=r.children&&r.children.map(standardizeConfig),c=children?Object.assign({},r,{children:children}):Object.assign({},r);return!c.component&&(children||c.loadChildren)&&c.outlet&&c.outlet!==PRIMARY_OUTLET&&(c.component=ɵEmptyOutletComponent),c}function shallowEqual(a,b){const k1=Object.keys(a),k2=Object.keys(b);if(!k1||!k2||k1.length!=k2.length)return!1;let key;for(let i=0;i<k1.length;i++)if(a[key=k1[i]]!==b[key])return!1;return!0}function router_flatten(arr){return Array.prototype.concat.apply([],arr)}function router_last(a){return a.length>0?a[a.length-1]:null}function forEach(map,callback){for(const prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)}function wrapIntoObservable(value){return isObservable(value)?value:core_isPromise(value)?from_from(Promise.resolve(value)):of(value)}function containsTree(container,containee,exact){return exact?function(container,containee){return shallowEqual(container,containee)}(container.queryParams,containee.queryParams)&&function equalSegmentGroups(container,containee){if(!equalPath(container.segments,containee.segments))return!1;if(container.numberOfChildren!==containee.numberOfChildren)return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!equalSegmentGroups(container.children[c],containee.children[c]))return!1}return!0}(container.root,containee.root):function(container,containee){return Object.keys(containee).length<=Object.keys(container).length&&Object.keys(containee).every(key=>containee[key]===container[key])}(container.queryParams,containee.queryParams)&&function containsSegmentGroup(container,containee){return function containsSegmentGroupHelper(container,containee,containeePaths){if(container.segments.length>containeePaths.length){return!!equalPath(container.segments.slice(0,containeePaths.length),containeePaths)&&!containee.hasChildren()}if(container.segments.length===containeePaths.length){if(!equalPath(container.segments,containeePaths))return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!containsSegmentGroup(container.children[c],containee.children[c]))return!1}return!0}{const current=containeePaths.slice(0,container.segments.length),next=containeePaths.slice(container.segments.length);return!!equalPath(container.segments,current)&&!!container.children[PRIMARY_OUTLET]&&containsSegmentGroupHelper(container.children[PRIMARY_OUTLET],containee,next)}}(container,containee,containee.segments)}(container.root,containee.root)}class UrlTree{constructor(root,queryParams,fragment){this.root=root,this.queryParams=queryParams,this.fragment=fragment}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return DEFAULT_SERIALIZER.serialize(this)}}class UrlSegmentGroup{constructor(segments,children){this.segments=segments,this.children=children,this.parent=null,forEach(children,(v,k)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return serializePaths(this)}}class UrlSegment{constructor(path,parameters){this.path=path,this.parameters=parameters}get parameterMap(){return this._parameterMap||(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap}toString(){return serializePath(this)}}function equalPath(as,bs){return as.length===bs.length&&as.every((a,i)=>a.path===bs[i].path)}function mapChildrenIntoArray(segment,fn){let res=[];return forEach(segment.children,(child,childOutlet)=>{childOutlet===PRIMARY_OUTLET&&(res=res.concat(fn(child,childOutlet)))}),forEach(segment.children,(child,childOutlet)=>{childOutlet!==PRIMARY_OUTLET&&(res=res.concat(fn(child,childOutlet)))}),res}class UrlSerializer{}class DefaultUrlSerializer{parse(url){const p=new UrlParser(url);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(tree){var s;return`${`/${function serializeSegment(segment,root){if(!segment.hasChildren())return serializePaths(segment);if(root){const primary=segment.children[PRIMARY_OUTLET]?serializeSegment(segment.children[PRIMARY_OUTLET],!1):\"\",children=[];return forEach(segment.children,(v,k)=>{k!==PRIMARY_OUTLET&&children.push(`${k}:${serializeSegment(v,!1)}`)}),children.length>0?`${primary}(${children.join(\"//\")})`:primary}{const children=mapChildrenIntoArray(segment,(v,k)=>k===PRIMARY_OUTLET?[serializeSegment(segment.children[PRIMARY_OUTLET],!1)]:[`${k}:${serializeSegment(v,!1)}`]);return`${serializePaths(segment)}/(${children.join(\"//\")})`}}(tree.root,!0)}`}${function(params){const strParams=Object.keys(params).map(name=>{const value=params[name];return Array.isArray(value)?value.map(v=>`${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join(\"&\"):`${encodeUriQuery(name)}=${encodeUriQuery(value)}`});return strParams.length?`?${strParams.join(\"&\")}`:\"\"}(tree.queryParams)}${\"string\"==typeof tree.fragment?`#${s=tree.fragment,encodeURI(s)}`:\"\"}`}}const DEFAULT_SERIALIZER=new DefaultUrlSerializer;function serializePaths(segment){return segment.segments.map(p=>serializePath(p)).join(\"/\")}function encodeUriString(s){return encodeURIComponent(s).replace(/%40/g,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\")}function encodeUriQuery(s){return encodeUriString(s).replace(/%3B/gi,\";\")}function encodeUriSegment(s){return encodeUriString(s).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\").replace(/%26/gi,\"&\")}function decode(s){return decodeURIComponent(s)}function decodeQuery(s){return decode(s.replace(/\\+/g,\"%20\"))}function serializePath(path){return`${encodeUriSegment(path.path)}${params=path.parameters,Object.keys(params).map(key=>`;${encodeUriSegment(key)}=${encodeUriSegment(params[key])}`).join(\"\")}`;var params}const SEGMENT_RE=/^[^\\/()?;=#]+/;function matchSegments(str){const match=str.match(SEGMENT_RE);return match?match[0]:\"\"}const QUERY_PARAM_RE=/^[^=?&#]+/,QUERY_PARAM_VALUE_RE=/^[^?&#]+/;class UrlParser{constructor(url){this.url=url,this.remaining=url}parseRootSegment(){return this.consumeOptional(\"/\"),\"\"===this.remaining||this.peekStartsWith(\"?\")||this.peekStartsWith(\"#\")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())}parseQueryParams(){const params={};if(this.consumeOptional(\"?\"))do{this.parseQueryParam(params)}while(this.consumeOptional(\"&\"));return params}parseFragment(){return this.consumeOptional(\"#\")?decodeURIComponent(this.remaining):null}parseChildren(){if(\"\"===this.remaining)return{};this.consumeOptional(\"/\");const segments=[];for(this.peekStartsWith(\"(\")||segments.push(this.parseSegment());this.peekStartsWith(\"/\")&&!this.peekStartsWith(\"//\")&&!this.peekStartsWith(\"/(\");)this.capture(\"/\"),segments.push(this.parseSegment());let children={};this.peekStartsWith(\"/(\")&&(this.capture(\"/\"),children=this.parseParens(!0));let res={};return this.peekStartsWith(\"(\")&&(res=this.parseParens(!1)),(segments.length>0||Object.keys(children).length>0)&&(res[PRIMARY_OUTLET]=new UrlSegmentGroup(segments,children)),res}parseSegment(){const path=matchSegments(this.remaining);if(\"\"===path&&this.peekStartsWith(\";\"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(path),new UrlSegment(decode(path),this.parseMatrixParams())}parseMatrixParams(){const params={};for(;this.consumeOptional(\";\");)this.parseParam(params);return params}parseParam(params){const key=matchSegments(this.remaining);if(!key)return;this.capture(key);let value=\"\";if(this.consumeOptional(\"=\")){const valueMatch=matchSegments(this.remaining);valueMatch&&this.capture(value=valueMatch)}params[decode(key)]=decode(value)}parseQueryParam(params){const key=function(str){const match=str.match(QUERY_PARAM_RE);return match?match[0]:\"\"}(this.remaining);if(!key)return;this.capture(key);let value=\"\";if(this.consumeOptional(\"=\")){const valueMatch=function(str){const match=str.match(QUERY_PARAM_VALUE_RE);return match?match[0]:\"\"}(this.remaining);valueMatch&&this.capture(value=valueMatch)}const decodedKey=decodeQuery(key),decodedVal=decodeQuery(value);if(params.hasOwnProperty(decodedKey)){let currentVal=params[decodedKey];Array.isArray(currentVal)||(params[decodedKey]=currentVal=[currentVal]),currentVal.push(decodedVal)}else params[decodedKey]=decodedVal}parseParens(allowPrimary){const segments={};for(this.capture(\"(\");!this.consumeOptional(\")\")&&this.remaining.length>0;){const path=matchSegments(this.remaining),next=this.remaining[path.length];if(\"/\"!==next&&\")\"!==next&&\";\"!==next)throw new Error(`Cannot parse url '${this.url}'`);let outletName=void 0;path.indexOf(\":\")>-1?(outletName=path.substr(0,path.indexOf(\":\")),this.capture(outletName),this.capture(\":\")):allowPrimary&&(outletName=PRIMARY_OUTLET);const children=this.parseChildren();segments[outletName]=1===Object.keys(children).length?children[PRIMARY_OUTLET]:new UrlSegmentGroup([],children),this.consumeOptional(\"//\")}return segments}peekStartsWith(str){return this.remaining.startsWith(str)}consumeOptional(str){return!!this.peekStartsWith(str)&&(this.remaining=this.remaining.substring(str.length),!0)}capture(str){if(!this.consumeOptional(str))throw new Error(`Expected \"${str}\".`)}}class Tree{constructor(root){this._root=root}get root(){return this._root.value}parent(t){const p=this.pathFromRoot(t);return p.length>1?p[p.length-2]:null}children(t){const n=findNode(t,this._root);return n?n.children.map(t=>t.value):[]}firstChild(t){const n=findNode(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const p=findPath(t,this._root);return p.length<2?[]:p[p.length-2].children.map(c=>c.value).filter(cc=>cc!==t)}pathFromRoot(t){return findPath(t,this._root).map(s=>s.value)}}function findNode(value,node){if(value===node.value)return node;for(const child of node.children){const node=findNode(value,child);if(node)return node}return null}function findPath(value,node){if(value===node.value)return[node];for(const child of node.children){const path=findPath(value,child);if(path.length)return path.unshift(node),path}return[]}class TreeNode{constructor(value,children){this.value=value,this.children=children}toString(){return`TreeNode(${this.value})`}}function nodeChildrenAsMap(node){const map={};return node&&node.children.forEach(child=>map[child.value.outlet]=child),map}class RouterState extends Tree{constructor(root,snapshot){super(root),this.snapshot=snapshot,setRouterState(this,root)}toString(){return this.snapshot.toString()}}function createEmptyState(urlTree,rootComponent){const snapshot=function(urlTree,rootComponent){const activated=new ActivatedRouteSnapshot([],{},{},\"\",{},PRIMARY_OUTLET,rootComponent,null,urlTree.root,-1,{});return new RouterStateSnapshot(\"\",new TreeNode(activated,[]))}(urlTree,rootComponent),emptyUrl=new BehaviorSubject_BehaviorSubject([new UrlSegment(\"\",{})]),emptyParams=new BehaviorSubject_BehaviorSubject({}),emptyData=new BehaviorSubject_BehaviorSubject({}),emptyQueryParams=new BehaviorSubject_BehaviorSubject({}),fragment=new BehaviorSubject_BehaviorSubject(\"\"),activated=new router_ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,PRIMARY_OUTLET,rootComponent,snapshot.root);return activated.snapshot=snapshot.root,new RouterState(new TreeNode(activated,[]),snapshot)}class router_ActivatedRoute{constructor(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this._futureSnapshot=futureSnapshot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(map(p=>convertToParamMap(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(map(p=>convertToParamMap(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function inheritedParamsDataResolve(route,paramsInheritanceStrategy=\"emptyOnly\"){const pathFromRoot=route.pathFromRoot;let inheritingStartingFrom=0;if(\"always\"!==paramsInheritanceStrategy)for(inheritingStartingFrom=pathFromRoot.length-1;inheritingStartingFrom>=1;){const current=pathFromRoot[inheritingStartingFrom],parent=pathFromRoot[inheritingStartingFrom-1];if(current.routeConfig&&\"\"===current.routeConfig.path)inheritingStartingFrom--;else{if(parent.component)break;inheritingStartingFrom--}}return function(pathFromRoot){return pathFromRoot.reduce((res,curr)=>({params:Object.assign({},res.params,curr.params),data:Object.assign({},res.data,curr.data),resolve:Object.assign({},res.resolve,curr._resolvedData)}),{params:{},data:{},resolve:{}})}(pathFromRoot.slice(inheritingStartingFrom))}class ActivatedRouteSnapshot{constructor(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.routeConfig=routeConfig,this._urlSegment=urlSegment,this._lastPathIndex=lastPathIndex,this._resolve=resolve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=convertToParamMap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(segment=>segment.toString()).join(\"/\")}', path:'${this.routeConfig?this.routeConfig.path:\"\"}')`}}class RouterStateSnapshot extends Tree{constructor(url,root){super(root),this.url=url,setRouterState(this,root)}toString(){return serializeNode(this._root)}}function setRouterState(state,node){node.value._routerState=state,node.children.forEach(c=>setRouterState(state,c))}function serializeNode(node){const c=node.children.length>0?` { ${node.children.map(serializeNode).join(\", \")} } `:\"\";return`${node.value}${c}`}function advanceActivatedRoute(route){if(route.snapshot){const currentSnapshot=route.snapshot,nextSnapshot=route._futureSnapshot;route.snapshot=nextSnapshot,shallowEqual(currentSnapshot.queryParams,nextSnapshot.queryParams)||route.queryParams.next(nextSnapshot.queryParams),currentSnapshot.fragment!==nextSnapshot.fragment&&route.fragment.next(nextSnapshot.fragment),shallowEqual(currentSnapshot.params,nextSnapshot.params)||route.params.next(nextSnapshot.params),function(a,b){if(a.length!==b.length)return!1;for(let i=0;i<a.length;++i)if(!shallowEqual(a[i],b[i]))return!1;return!0}(currentSnapshot.url,nextSnapshot.url)||route.url.next(nextSnapshot.url),shallowEqual(currentSnapshot.data,nextSnapshot.data)||route.data.next(nextSnapshot.data)}else route.snapshot=route._futureSnapshot,route.data.next(route._futureSnapshot.data)}function equalParamsAndUrlSegments(a,b){var as,bs;return shallowEqual(a.params,b.params)&&equalPath(as=a.url,bs=b.url)&&as.every((a,i)=>shallowEqual(a.parameters,bs[i].parameters))&&!(!a.parent!=!b.parent)&&(!a.parent||equalParamsAndUrlSegments(a.parent,b.parent))}function isMatrixParams(command){return\"object\"==typeof command&&null!=command&&!command.outlets&&!command.segmentPath}function router_tree(oldSegmentGroup,newSegmentGroup,urlTree,queryParams,fragment){let qp={};return queryParams&&forEach(queryParams,(value,name)=>{qp[name]=Array.isArray(value)?value.map(v=>`${v}`):`${value}`}),new UrlTree(urlTree.root===oldSegmentGroup?newSegmentGroup:function replaceSegment(current,oldSegment,newSegment){const children={};return forEach(current.children,(c,outletName)=>{children[outletName]=c===oldSegment?newSegment:replaceSegment(c,oldSegment,newSegment)}),new UrlSegmentGroup(current.segments,children)}(urlTree.root,oldSegmentGroup,newSegmentGroup),qp,fragment)}class Navigation{constructor(isAbsolute,numberOfDoubleDots,commands){if(this.isAbsolute=isAbsolute,this.numberOfDoubleDots=numberOfDoubleDots,this.commands=commands,isAbsolute&&commands.length>0&&isMatrixParams(commands[0]))throw new Error(\"Root segment cannot have matrix parameters\");const cmdWithOutlet=commands.find(c=>\"object\"==typeof c&&null!=c&&c.outlets);if(cmdWithOutlet&&cmdWithOutlet!==router_last(commands))throw new Error(\"{outlets:{}} has to be the last command\")}toRoot(){return this.isAbsolute&&1===this.commands.length&&\"/\"==this.commands[0]}}class Position{constructor(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup,this.processChildren=processChildren,this.index=index}}function getPath(command){return\"object\"==typeof command&&null!=command&&command.outlets?command.outlets[PRIMARY_OUTLET]:`${command}`}function updateSegmentGroup(segmentGroup,startIndex,commands){if(segmentGroup||(segmentGroup=new UrlSegmentGroup([],{})),0===segmentGroup.segments.length&&segmentGroup.hasChildren())return updateSegmentGroupChildren(segmentGroup,startIndex,commands);const m=function(segmentGroup,startIndex,commands){let currentCommandIndex=0,currentPathIndex=startIndex;const noMatch={match:!1,pathIndex:0,commandIndex:0};for(;currentPathIndex<segmentGroup.segments.length;){if(currentCommandIndex>=commands.length)return noMatch;const path=segmentGroup.segments[currentPathIndex],curr=getPath(commands[currentCommandIndex]),next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(currentPathIndex>0&&void 0===curr)break;if(curr&&next&&\"object\"==typeof next&&void 0===next.outlets){if(!compare(curr,next,path))return noMatch;currentCommandIndex+=2}else{if(!compare(curr,{},path))return noMatch;currentCommandIndex++}currentPathIndex++}return{match:!0,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}(segmentGroup,startIndex,commands),slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){const g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});return g.children[PRIMARY_OUTLET]=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children),updateSegmentGroupChildren(g,0,slicedCommands)}return m.match&&0===slicedCommands.length?new UrlSegmentGroup(segmentGroup.segments,{}):m.match&&!segmentGroup.hasChildren()?createNewSegmentGroup(segmentGroup,startIndex,commands):m.match?updateSegmentGroupChildren(segmentGroup,0,slicedCommands):createNewSegmentGroup(segmentGroup,startIndex,commands)}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(0===commands.length)return new UrlSegmentGroup(segmentGroup.segments,{});{const outlets=function(commands){return\"object\"!=typeof commands[0]?{[PRIMARY_OUTLET]:commands}:void 0===commands[0].outlets?{[PRIMARY_OUTLET]:commands}:commands[0].outlets}(commands),children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands))}),forEach(segmentGroup.children,(child,childOutlet)=>{void 0===outlets[childOutlet]&&(children[childOutlet]=child)}),new UrlSegmentGroup(segmentGroup.segments,children)}}function createNewSegmentGroup(segmentGroup,startIndex,commands){const paths=segmentGroup.segments.slice(0,startIndex);let i=0;for(;i<commands.length;){if(\"object\"==typeof commands[i]&&void 0!==commands[i].outlets){const children=createNewSegmentChildren(commands[i].outlets);return new UrlSegmentGroup(paths,children)}if(0===i&&isMatrixParams(commands[0])){paths.push(new UrlSegment(segmentGroup.segments[startIndex].path,commands[0])),i++;continue}const curr=getPath(commands[i]),next=i<commands.length-1?commands[i+1]:null;curr&&next&&isMatrixParams(next)?(paths.push(new UrlSegment(curr,router_stringify(next))),i+=2):(paths.push(new UrlSegment(curr,{})),i++)}return new UrlSegmentGroup(paths,{})}function createNewSegmentChildren(outlets){const children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands))}),children}function router_stringify(params){const res={};return forEach(params,(v,k)=>res[k]=`${v}`),res}function compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}const activateRoutes=(rootContexts,routeReuseStrategy,forwardEvent)=>map(t=>(new ActivateRoutes(routeReuseStrategy,t.targetRouterState,t.currentRouterState,forwardEvent).activate(rootContexts),t));class ActivateRoutes{constructor(routeReuseStrategy,futureState,currState,forwardEvent){this.routeReuseStrategy=routeReuseStrategy,this.futureState=futureState,this.currState=currState,this.forwardEvent=forwardEvent}activate(parentContexts){const futureRoot=this.futureState._root,currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentContexts),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(futureRoot,currRoot,parentContexts)}deactivateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(futureChild=>{const childOutletName=futureChild.value.outlet;this.deactivateRoutes(futureChild,children[childOutletName],contexts),delete children[childOutletName]}),forEach(children,(v,childName)=>{this.deactivateRouteAndItsChildren(v,contexts)})}deactivateRoutes(futureNode,currNode,parentContext){const future=futureNode.value,curr=currNode?currNode.value:null;if(future===curr)if(future.component){const context=parentContext.getContext(future.outlet);context&&this.deactivateChildRoutes(futureNode,currNode,context.children)}else this.deactivateChildRoutes(futureNode,currNode,parentContext);else curr&&this.deactivateRouteAndItsChildren(currNode,parentContext)}deactivateRouteAndItsChildren(route,parentContexts){this.routeReuseStrategy.shouldDetach(route.value.snapshot)?this.detachAndStoreRouteSubtree(route,parentContexts):this.deactivateRouteAndOutlet(route,parentContexts)}detachAndStoreRouteSubtree(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context&&context.outlet){const componentRef=context.outlet.detach(),contexts=context.children.onOutletDeactivated();this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route,contexts:contexts})}}deactivateRouteAndOutlet(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context){const children=nodeChildrenAsMap(route),contexts=route.value.component?context.children:parentContexts;forEach(children,(v,k)=>this.deactivateRouteAndItsChildren(v,contexts)),context.outlet&&(context.outlet.deactivate(),context.children.onOutletDeactivated())}}activateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(c=>{this.activateRoutes(c,children[c.value.outlet],contexts),this.forwardEvent(new ActivationEnd(c.value.snapshot))}),futureNode.children.length&&this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot))}activateRoutes(futureNode,currNode,parentContexts){const future=futureNode.value,curr=currNode?currNode.value:null;if(advanceActivatedRoute(future),future===curr)if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);this.activateChildRoutes(futureNode,currNode,context.children)}else this.activateChildRoutes(futureNode,currNode,parentContexts);else if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);if(this.routeReuseStrategy.shouldAttach(future.snapshot)){const stored=this.routeReuseStrategy.retrieve(future.snapshot);this.routeReuseStrategy.store(future.snapshot,null),context.children.onOutletReAttached(stored.contexts),context.attachRef=stored.componentRef,context.route=stored.route.value,context.outlet&&context.outlet.attach(stored.componentRef,stored.route.value),advanceActivatedRouteNodeAndItsChildren(stored.route)}else{const config=function(snapshot){for(let s=future.snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig;if(route&&route.component)return null}return null}(),cmpFactoryResolver=config?config.module.componentFactoryResolver:null;context.attachRef=null,context.route=future,context.resolver=cmpFactoryResolver,context.outlet&&context.outlet.activateWith(future,cmpFactoryResolver),this.activateChildRoutes(futureNode,null,context.children)}}else this.activateChildRoutes(futureNode,null,parentContexts)}}function advanceActivatedRouteNodeAndItsChildren(node){advanceActivatedRoute(node.value),node.children.forEach(advanceActivatedRouteNodeAndItsChildren)}function router_isFunction(v){return\"function\"==typeof v}function isUrlTree(v){return v instanceof UrlTree}class NoMatch{constructor(segmentGroup){this.segmentGroup=segmentGroup||null}}class AbsoluteRedirect{constructor(urlTree){this.urlTree=urlTree}}function noMatch(segmentGroup){return new Observable_Observable(obs=>obs.error(new NoMatch(segmentGroup)))}function absoluteRedirect(newTree){return new Observable_Observable(obs=>obs.error(new AbsoluteRedirect(newTree)))}function namedOutletsRedirect(redirectTo){return new Observable_Observable(obs=>obs.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`)))}class router_ApplyRedirects{constructor(moduleInjector,configLoader,urlSerializer,urlTree,config){this.configLoader=configLoader,this.urlSerializer=urlSerializer,this.urlTree=urlTree,this.config=config,this.allowRedirects=!0,this.ngModule=moduleInjector.get(NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,PRIMARY_OUTLET).pipe(map(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,this.urlTree.queryParams,this.urlTree.fragment))).pipe(catchError(e=>{if(e instanceof AbsoluteRedirect)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}match(tree){return this.expandSegmentGroup(this.ngModule,this.config,tree.root,PRIMARY_OUTLET).pipe(map(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,tree.queryParams,tree.fragment))).pipe(catchError(e=>{if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(rootCandidate,queryParams,fragment){const root=rootCandidate.segments.length>0?new UrlSegmentGroup([],{[PRIMARY_OUTLET]:rootCandidate}):rootCandidate;return new UrlTree(root,queryParams,fragment)}expandSegmentGroup(ngModule,routes,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.expandChildren(ngModule,routes,segmentGroup).pipe(map(children=>new UrlSegmentGroup([],children))):this.expandSegment(ngModule,segmentGroup,routes,segmentGroup.segments,outlet,!0)}expandChildren(ngModule,routes,segmentGroup){return function(obj,fn){if(0===Object.keys(obj).length)return of({});const waitHead=[],waitTail=[],res={};return forEach(obj,(a,k)=>{const mapped=fn(k,a).pipe(map(r=>res[k]=r));k===PRIMARY_OUTLET?waitHead.push(mapped):waitTail.push(mapped)}),of.apply(null,waitHead.concat(waitTail)).pipe(concatAll(),last_last(),map(()=>res))}(segmentGroup.children,(childOutlet,child)=>this.expandSegmentGroup(ngModule,routes,child,childOutlet))}expandSegment(ngModule,segmentGroup,routes,segments,outlet,allowRedirects){return of(...routes).pipe(map(r=>this.expandSegmentAgainstRoute(ngModule,segmentGroup,routes,r,segments,outlet,allowRedirects).pipe(catchError(e=>{if(e instanceof NoMatch)return of(null);throw e}))),concatAll(),first_first(s=>!!s),catchError((e,_)=>{if(e instanceof EmptyError||\"EmptyError\"===e.name){if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return of(new UrlSegmentGroup([],{}));throw new NoMatch(segmentGroup)}throw e}))}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}expandSegmentAgainstRoute(ngModule,segmentGroup,routes,route,paths,outlet,allowRedirects){return getOutlet(route)!==outlet?noMatch(segmentGroup):void 0===route.redirectTo?this.matchSegmentAgainstRoute(ngModule,segmentGroup,route,paths):allowRedirects&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,paths,outlet):noMatch(segmentGroup)}expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){return\"**\"===route.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet):this.expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet)}expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet){const newTree=this.applyRedirectCommands([],route.redirectTo,{});return route.redirectTo.startsWith(\"/\")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>{const group=new UrlSegmentGroup(newSegments,{});return this.expandSegment(ngModule,group,routes,newSegments,outlet,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild,positionalParamSegments:positionalParamSegments}=router_match(segmentGroup,route,segments);if(!matched)return noMatch(segmentGroup);const newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,positionalParamSegments);return route.redirectTo.startsWith(\"/\")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>this.expandSegment(ngModule,segmentGroup,routes,newSegments.concat(segments.slice(lastChild)),outlet,!1)))}matchSegmentAgainstRoute(ngModule,rawSegmentGroup,route,segments){if(\"**\"===route.path)return route.loadChildren?this.configLoader.load(ngModule.injector,route).pipe(map(cfg=>(route._loadedConfig=cfg,new UrlSegmentGroup(segments,{})))):of(new UrlSegmentGroup(segments,{}));const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild}=router_match(rawSegmentGroup,route,segments);if(!matched)return noMatch(rawSegmentGroup);const rawSlicedSegments=segments.slice(lastChild);return this.getChildConfig(ngModule,route,segments).pipe(mergeMap(routerConfig=>{const childModule=routerConfig.module,childConfig=routerConfig.routes,{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=function(segmentGroup,consumedSegments,slicedSegments,config){return slicedSegments.length>0&&function(segmentGroup,segments,routes){return config.some(r=>isEmptyPathRedirect(segmentGroup,segments,r)&&getOutlet(r)!==PRIMARY_OUTLET)}(segmentGroup,slicedSegments)?{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(consumedSegments,function(routes,primarySegmentGroup){const res={};res[PRIMARY_OUTLET]=primarySegmentGroup;for(const r of routes)\"\"===r.path&&getOutlet(r)!==PRIMARY_OUTLET&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return res}(config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)))),slicedSegments:[]}:0===slicedSegments.length&&function(segmentGroup,segments,routes){return config.some(r=>isEmptyPathRedirect(segmentGroup,segments,r))}(segmentGroup,slicedSegments)?{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,slicedSegments,routes,children){const res={};for(const r of routes)isEmptyPathRedirect(segmentGroup,slicedSegments,r)&&!children[getOutlet(r)]&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return Object.assign({},children,res)}(segmentGroup,slicedSegments,config,segmentGroup.children))),slicedSegments:slicedSegments}:{segmentGroup:segmentGroup,slicedSegments:slicedSegments}}(rawSegmentGroup,consumedSegments,rawSlicedSegments,childConfig);return 0===slicedSegments.length&&segmentGroup.hasChildren()?this.expandChildren(childModule,childConfig,segmentGroup).pipe(map(children=>new UrlSegmentGroup(consumedSegments,children))):0===childConfig.length&&0===slicedSegments.length?of(new UrlSegmentGroup(consumedSegments,{})):this.expandSegment(childModule,segmentGroup,childConfig,slicedSegments,PRIMARY_OUTLET,!0).pipe(map(cs=>new UrlSegmentGroup(consumedSegments.concat(cs.segments),cs.children)))}))}getChildConfig(ngModule,route,segments){return route.children?of(new LoadedRouterConfig(route.children,ngModule)):route.loadChildren?void 0!==route._loadedConfig?of(route._loadedConfig):function(moduleInjector,route,segments){const canLoad=route.canLoad;return canLoad&&0!==canLoad.length?from_from(canLoad).pipe(map(injectionToken=>{const guard=moduleInjector.get(injectionToken);let guardVal;if(function(guard){return guard&&router_isFunction(guard.canLoad)}(guard))guardVal=guard.canLoad(route,segments);else{if(!router_isFunction(guard))throw new Error(\"Invalid CanLoad guard\");guardVal=guard(route,segments)}return wrapIntoObservable(guardVal)})).pipe(concatAll(),(predicate=result=>!0===result,source=>source.lift(new EveryOperator(predicate,void 0,source)))):of(!0);var predicate}(ngModule.injector,route,segments).pipe(mergeMap(shouldLoad=>shouldLoad?this.configLoader.load(ngModule.injector,route).pipe(map(cfg=>(route._loadedConfig=cfg,cfg))):function(route){return new Observable_Observable(obs=>obs.error(navigationCancelingError(`Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`)))}(route))):of(new LoadedRouterConfig([],ngModule))}lineralizeSegments(route,urlTree){let res=[],c=urlTree.root;for(;;){if(res=res.concat(c.segments),0===c.numberOfChildren)return of(res);if(c.numberOfChildren>1||!c.children[PRIMARY_OUTLET])return namedOutletsRedirect(route.redirectTo);c=c.children[PRIMARY_OUTLET]}}applyRedirectCommands(segments,redirectTo,posParams){return this.applyRedirectCreatreUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)}applyRedirectCreatreUrlTree(redirectTo,urlTree,segments,posParams){const newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,posParams);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)}createQueryParams(redirectToParams,actualParams){const res={};return forEach(redirectToParams,(v,k)=>{if(\"string\"==typeof v&&v.startsWith(\":\")){const sourceName=v.substring(1);res[k]=actualParams[sourceName]}else res[k]=v}),res}createSegmentGroup(redirectTo,group,segments,posParams){const updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams);let children={};return forEach(group.children,(child,name)=>{children[name]=this.createSegmentGroup(redirectTo,child,segments,posParams)}),new UrlSegmentGroup(updatedSegments,children)}createSegments(redirectTo,redirectToSegments,actualSegments,posParams){return redirectToSegments.map(s=>s.path.startsWith(\":\")?this.findPosParam(redirectTo,s,posParams):this.findOrReturn(s,actualSegments))}findPosParam(redirectTo,redirectToUrlSegment,posParams){const pos=posParams[redirectToUrlSegment.path.substring(1)];if(!pos)throw new Error(`Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);return pos}findOrReturn(redirectToUrlSegment,actualSegments){let idx=0;for(const s of actualSegments){if(s.path===redirectToUrlSegment.path)return actualSegments.splice(idx),s;idx++}return redirectToUrlSegment}}function router_match(segmentGroup,route,segments){if(\"\"===route.path)return\"full\"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);return res?{matched:!0,consumedSegments:res.consumed,lastChild:res.consumed.length,positionalParamSegments:res.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mergeTrivialChildren(s){if(1===s.numberOfChildren&&s.children[PRIMARY_OUTLET]){const c=s.children[PRIMARY_OUTLET];return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}return s}function isEmptyPathRedirect(segmentGroup,segments,r){return(!(segmentGroup.hasChildren()||segments.length>0)||\"full\"!==r.pathMatch)&&\"\"===r.path&&void 0!==r.redirectTo}function getOutlet(route){return route.outlet||PRIMARY_OUTLET}class CanActivate{constructor(path){this.path=path,this.route=this.path[this.path.length-1]}}class CanDeactivate{constructor(component,route){this.component=component,this.route=route}}function getAllRouteGuards(future,curr,parentContexts){const futureRoot=future._root;return function getChildRouteGuards(futureNode,currNode,contexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const prevChildren=nodeChildrenAsMap(currNode);return futureNode.children.forEach(c=>{!function(futureNode,currNode,parentContexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const future=futureNode.value,curr=currNode?currNode.value:null,context=parentContexts?parentContexts.getContext(futureNode.value.outlet):null;if(curr&&future.routeConfig===curr.routeConfig){const shouldRun=function(curr,future,mode){if(\"function\"==typeof mode)return mode(curr,future);switch(mode){case\"pathParamsChange\":return!equalPath(curr.url,future.url);case\"pathParamsOrQueryParamsChange\":return!equalPath(curr.url,future.url)||!shallowEqual(curr.queryParams,future.queryParams);case\"always\":return!0;case\"paramsOrQueryParamsChange\":return!equalParamsAndUrlSegments(curr,future)||!shallowEqual(curr.queryParams,future.queryParams);case\"paramsChange\":default:return!equalParamsAndUrlSegments(curr,future)}}(curr,future,future.routeConfig.runGuardsAndResolvers);shouldRun?checks.canActivateChecks.push(new CanActivate(futurePath)):(future.data=curr.data,future._resolvedData=curr._resolvedData),getChildRouteGuards(futureNode,currNode,future.component?context?context.children:null:parentContexts,futurePath,checks),shouldRun&&checks.canDeactivateChecks.push(new CanDeactivate(context&&context.outlet&&context.outlet.component||null,curr))}else curr&&deactivateRouteAndItsChildren(currNode,context,checks),checks.canActivateChecks.push(new CanActivate(futurePath)),getChildRouteGuards(futureNode,null,future.component?context?context.children:null:parentContexts,futurePath,checks)}(c,prevChildren[c.value.outlet],contexts,futurePath.concat([c.value]),checks),delete prevChildren[c.value.outlet]}),forEach(prevChildren,(v,k)=>deactivateRouteAndItsChildren(v,contexts.getContext(k),checks)),checks}(futureRoot,curr?curr._root:null,parentContexts,[futureRoot.value])}function getToken(token,snapshot,moduleInjector){const config=function(snapshot){if(!snapshot)return null;for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig}return null}(snapshot);return(config?config.module.injector:moduleInjector).get(token)}function deactivateRouteAndItsChildren(route,context,checks){const children=nodeChildrenAsMap(route),r=route.value;forEach(children,(node,childName)=>{deactivateRouteAndItsChildren(node,r.component?context?context.children.getContext(childName):null:context,checks)}),checks.canDeactivateChecks.push(new CanDeactivate(r.component&&context&&context.outlet&&context.outlet.isActivated?context.outlet.component:null,r))}const INITIAL_VALUE=Symbol(\"INITIAL_VALUE\");function prioritizedGuardValue(){return switchMap(obs=>(function(...observables){let resultSelector=null,scheduler=null;return isScheduler(observables[observables.length-1])&&(scheduler=observables.pop()),\"function\"==typeof observables[observables.length-1]&&(resultSelector=observables.pop()),1===observables.length&&isArray(observables[0])&&(observables=observables[0]),fromArray(observables,scheduler).lift(new CombineLatestOperator(resultSelector))})(...obs.map(o=>o.pipe(take(1),function(...array){return source=>{let scheduler=array[array.length-1];isScheduler(scheduler)?array.pop():scheduler=null;const len=array.length;return function(...observables){return concatAll()(of(...observables))}(1!==len||scheduler?len>0?fromArray(array,scheduler):empty_empty(scheduler):scalar(array[0]),source)}}(INITIAL_VALUE)))).pipe(scan((acc,list)=>{let isPending=!1;return list.reduce((innerAcc,val,i)=>{if(innerAcc!==INITIAL_VALUE)return innerAcc;if(val===INITIAL_VALUE&&(isPending=!0),!isPending){if(!1===val)return val;if(i===list.length-1||isUrlTree(val))return val}return innerAcc},acc)},INITIAL_VALUE),filter_filter(item=>item!==INITIAL_VALUE),map(item=>isUrlTree(item)?item:!0===item),take(1)))}function fireActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ActivationStart(snapshot)),of(!0)}function fireChildActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ChildActivationStart(snapshot)),of(!0)}function runCanActivate(futureRSS,futureARS,moduleInjector){const canActivate=futureARS.routeConfig?futureARS.routeConfig.canActivate:null;return canActivate&&0!==canActivate.length?of(canActivate.map(c=>defer(()=>{const guard=getToken(c,futureARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivate)}(guard))observable=wrapIntoObservable(guard.canActivate(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error(\"Invalid CanActivate guard\");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first_first())}))).pipe(prioritizedGuardValue()):of(!0)}function runCanActivateChild(futureRSS,path,moduleInjector){const futureARS=path[path.length-1],canActivateChildGuardsMapped=path.slice(0,path.length-1).reverse().map(p=>(function(p){const canActivateChild=p.routeConfig?p.routeConfig.canActivateChild:null;return canActivateChild&&0!==canActivateChild.length?{node:p,guards:canActivateChild}:null})(p)).filter(_=>null!==_).map(d=>defer(()=>of(d.guards.map(c=>{const guard=getToken(c,d.node,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivateChild)}(guard))observable=wrapIntoObservable(guard.canActivateChild(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error(\"Invalid CanActivateChild guard\");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first_first())})).pipe(prioritizedGuardValue())));return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue())}class NoMatch$1{}class router_Recognizer{constructor(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){this.rootComponentType=rootComponentType,this.config=config,this.urlTree=urlTree,this.url=url,this.paramsInheritanceStrategy=paramsInheritanceStrategy,this.relativeLinkResolution=relativeLinkResolution}recognize(){try{const rootSegmentGroup=split$1(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,children=this.processSegmentGroup(this.config,rootSegmentGroup,PRIMARY_OUTLET),root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},PRIMARY_OUTLET,this.rootComponentType,null,this.urlTree.root,-1,{}),rootNode=new TreeNode(root,children),routeState=new RouterStateSnapshot(this.url,rootNode);return this.inheritParamsAndData(routeState._root),of(routeState)}catch(e){return new Observable_Observable(obs=>obs.error(e))}}inheritParamsAndData(routeNode){const route=routeNode.value,i=inheritedParamsDataResolve(route,this.paramsInheritanceStrategy);route.params=Object.freeze(i.params),route.data=Object.freeze(i.data),routeNode.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(config,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.processChildren(config,segmentGroup):this.processSegment(config,segmentGroup,segmentGroup.segments,outlet)}processChildren(config,segmentGroup){const children=mapChildrenIntoArray(segmentGroup,(child,childOutlet)=>this.processSegmentGroup(config,child,childOutlet));return function(nodes){const names={};children.forEach(n=>{const routeWithSameOutletName=names[n.value.outlet];if(routeWithSameOutletName){const p=routeWithSameOutletName.url.map(s=>s.toString()).join(\"/\"),c=n.value.url.map(s=>s.toString()).join(\"/\");throw new Error(`Two segments cannot have the same outlet name: '${p}' and '${c}'.`)}names[n.value.outlet]=n.value})}(),children.sort((a,b)=>a.value.outlet===PRIMARY_OUTLET?-1:b.value.outlet===PRIMARY_OUTLET?1:a.value.outlet.localeCompare(b.value.outlet)),children}processSegment(config,segmentGroup,segments,outlet){for(const r of config)try{return this.processSegmentAgainstRoute(r,segmentGroup,segments,outlet)}catch(e){if(!(e instanceof NoMatch$1))throw e}if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return[];throw new NoMatch$1}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}processSegmentAgainstRoute(route,rawSegment,segments,outlet){if(route.redirectTo)throw new NoMatch$1;if((route.outlet||PRIMARY_OUTLET)!==outlet)throw new NoMatch$1;let snapshot,consumedSegments=[],rawSlicedSegments=[];if(\"**\"===route.path){const params=segments.length>0?router_last(segments).parameters:{};snapshot=new ActivatedRouteSnapshot(segments,params,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+segments.length,getResolve(route))}else{const result=function(segmentGroup,route,segments){if(\"\"===route.path){if(\"full\"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0))throw new NoMatch$1;return{consumedSegments:[],lastChild:0,parameters:{}}}const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);if(!res)throw new NoMatch$1;const posParams={};forEach(res.posParams,(v,k)=>{posParams[k]=v.path});const parameters=res.consumed.length>0?Object.assign({},posParams,res.consumed[res.consumed.length-1].parameters):posParams;return{consumedSegments:res.consumed,lastChild:res.consumed.length,parameters:parameters}}(rawSegment,route,segments);consumedSegments=result.consumedSegments,rawSlicedSegments=segments.slice(result.lastChild),snapshot=new ActivatedRouteSnapshot(consumedSegments,result.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+consumedSegments.length,getResolve(route))}const childConfig=function(route){return route.children?route.children:route.loadChildren?route._loadedConfig.routes:[]}(route),{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=split$1(rawSegment,consumedSegments,rawSlicedSegments,childConfig,this.relativeLinkResolution);if(0===slicedSegments.length&&segmentGroup.hasChildren()){const children=this.processChildren(childConfig,segmentGroup);return[new TreeNode(snapshot,children)]}if(0===childConfig.length&&0===slicedSegments.length)return[new TreeNode(snapshot,[])];const children=this.processSegment(childConfig,segmentGroup,slicedSegments,PRIMARY_OUTLET);return[new TreeNode(snapshot,children)]}}function getSourceSegmentGroup(segmentGroup){let s=segmentGroup;for(;s._sourceSegment;)s=s._sourceSegment;return s}function getPathIndexShift(segmentGroup){let s=segmentGroup,res=s._segmentIndexShift?s._segmentIndexShift:0;for(;s._sourceSegment;)res+=(s=s._sourceSegment)._segmentIndexShift?s._segmentIndexShift:0;return res-1}function split$1(segmentGroup,consumedSegments,slicedSegments,config,relativeLinkResolution){if(slicedSegments.length>0&&function(segmentGroup,slicedSegments,routes){return config.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r)&&getOutlet$1(r)!==PRIMARY_OUTLET)}(segmentGroup,slicedSegments)){const s=new UrlSegmentGroup(consumedSegments,function(segmentGroup,consumedSegments,routes,primarySegment){const res={};res[PRIMARY_OUTLET]=primarySegment,primarySegment._sourceSegment=segmentGroup,primarySegment._segmentIndexShift=consumedSegments.length;for(const r of routes)if(\"\"===r.path&&getOutlet$1(r)!==PRIMARY_OUTLET){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,res[getOutlet$1(r)]=s}return res}(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:[]}}if(0===slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return config.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r))}(segmentGroup,slicedSegments)){const s=new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,consumedSegments,slicedSegments,routes,children,relativeLinkResolution){const res={};for(const r of routes)if(emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet$1(r)]){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=\"legacy\"===relativeLinkResolution?segmentGroup.segments.length:consumedSegments.length,res[getOutlet$1(r)]=s}return Object.assign({},children,res)}(segmentGroup,consumedSegments,slicedSegments,config,segmentGroup.children,relativeLinkResolution));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}const s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}function emptyPathMatch(segmentGroup,slicedSegments,r){return(!(segmentGroup.hasChildren()||slicedSegments.length>0)||\"full\"!==r.pathMatch)&&\"\"===r.path&&void 0===r.redirectTo}function getOutlet$1(route){return route.outlet||PRIMARY_OUTLET}function getData(route){return route.data||{}}function getResolve(route){return route.resolve||{}}function getResolver(injectionToken,futureARS,futureRSS,moduleInjector){const resolver=getToken(injectionToken,futureARS,moduleInjector);return wrapIntoObservable(resolver.resolve?resolver.resolve(futureARS,futureRSS):resolver(futureARS,futureRSS))}function switchTap(next){return function(source){return source.pipe(switchMap(v=>{const nextResult=next(v);return nextResult?from_from(nextResult).pipe(map(()=>v)):from_from([v])}))}}class RouteReuseStrategy{}class DefaultRouteReuseStrategy{shouldDetach(route){return!1}store(route,detachedTree){}shouldAttach(route){return!1}retrieve(route){return null}shouldReuseRoute(future,curr){return future.routeConfig===curr.routeConfig}}const ROUTES=new InjectionToken(\"ROUTES\");class router_RouterConfigLoader{constructor(loader,compiler,onLoadStartListener,onLoadEndListener){this.loader=loader,this.compiler=compiler,this.onLoadStartListener=onLoadStartListener,this.onLoadEndListener=onLoadEndListener}load(parentInjector,route){return this.onLoadStartListener&&this.onLoadStartListener(route),this.loadModuleFactory(route.loadChildren).pipe(map(factory=>{this.onLoadEndListener&&this.onLoadEndListener(route);const module=factory.create(parentInjector);return new LoadedRouterConfig(router_flatten(module.injector.get(ROUTES)).map(standardizeConfig),module)}))}loadModuleFactory(loadChildren){return\"string\"==typeof loadChildren?from_from(this.loader.load(loadChildren)):wrapIntoObservable(loadChildren()).pipe(mergeMap(t=>t instanceof NgModuleFactory?of(t):from_from(this.compiler.compileModuleAsync(t))))}}class UrlHandlingStrategy{}class DefaultUrlHandlingStrategy{shouldProcessUrl(url){return!0}extract(url){return url}merge(newUrlPart,wholeUrl){return newUrlPart}}function defaultErrorHandler(error){throw error}function defaultMalformedUriErrorHandler(error,urlSerializer,url){return urlSerializer.parse(\"/\")}function defaultRouterHook(snapshot,runExtras){return of(null)}class router_Router{constructor(rootComponentType,urlSerializer,rootContexts,location,injector,loader,compiler,config){this.rootComponentType=rootComponentType,this.urlSerializer=urlSerializer,this.rootContexts=rootContexts,this.location=location,this.config=config,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Subject_Subject,this.errorHandler=defaultErrorHandler,this.malformedUriErrorHandler=defaultMalformedUriErrorHandler,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:defaultRouterHook,afterPreactivation:defaultRouterHook},this.urlHandlingStrategy=new DefaultUrlHandlingStrategy,this.routeReuseStrategy=new DefaultRouteReuseStrategy,this.onSameUrlNavigation=\"ignore\",this.paramsInheritanceStrategy=\"emptyOnly\",this.urlUpdateStrategy=\"deferred\",this.relativeLinkResolution=\"legacy\",this.ngModule=injector.get(NgModuleRef),this.console=injector.get(Console);const ngZone=injector.get(NgZone);this.isNgZoneEnabled=ngZone instanceof NgZone,this.resetConfig(config),this.currentUrlTree=new UrlTree(new UrlSegmentGroup([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new router_RouterConfigLoader(loader,compiler,r=>this.triggerEvent(new RouteConfigLoadStart(r)),r=>this.triggerEvent(new RouteConfigLoadEnd(r))),this.routerState=createEmptyState(this.currentUrlTree,this.rootComponentType),this.transitions=new BehaviorSubject_BehaviorSubject({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:\"imperative\",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(transitions){const eventsSubject=this.events;return transitions.pipe(filter_filter(t=>0!==t.id),map(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),switchMap(t=>{let completed=!1,errored=!1;return of(t).pipe(tap(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),switchMap(t=>{const urlTransition=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if((\"reload\"===this.onSameUrlNavigation||urlTransition)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return of(t).pipe(switchMap(t=>{const transition=this.transitions.getValue();return eventsSubject.next(new NavigationStart(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),transition!==this.transitions.getValue()?empty_EMPTY:[t]}),switchMap(t=>Promise.resolve(t)),function(moduleInjector,configLoader,urlSerializer,config){return function(source){return source.pipe(switchMap(t=>(function(moduleInjector,configLoader,urlSerializer,urlTree,config){return new router_ApplyRedirects(moduleInjector,configLoader,urlSerializer,t.extractedUrl,config).apply()})(moduleInjector,configLoader,urlSerializer,0,config).pipe(map(urlAfterRedirects=>Object.assign({},t,{urlAfterRedirects:urlAfterRedirects})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),tap(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(rootComponentType,config,serializer,paramsInheritanceStrategy,relativeLinkResolution){return function(source){return source.pipe(mergeMap(t=>(function(rootComponentType,config,urlTree,url,paramsInheritanceStrategy=\"emptyOnly\",relativeLinkResolution=\"legacy\"){return new router_Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution).recognize()})(rootComponentType,config,t.urlAfterRedirects,serializer(t.urlAfterRedirects),paramsInheritanceStrategy,relativeLinkResolution).pipe(map(targetSnapshot=>Object.assign({},t,{targetSnapshot:targetSnapshot})))))}}(this.rootComponentType,this.config,url=>this.serializeUrl(url),this.paramsInheritanceStrategy,this.relativeLinkResolution),tap(t=>{\"eager\"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),tap(t=>{const routesRecognized=new RoutesRecognized(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);eventsSubject.next(routesRecognized)}));if(urlTransition&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:id,extractedUrl:extractedUrl,source:source,restoredState:restoredState,extras:extras}=t,navStart=new NavigationStart(id,this.serializeUrl(extractedUrl),source,restoredState);eventsSubject.next(navStart);const targetSnapshot=createEmptyState(extractedUrl,this.rootComponentType).snapshot;return of(Object.assign({},t,{targetSnapshot:targetSnapshot,urlAfterRedirects:extractedUrl,extras:Object.assign({},extras,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),empty_EMPTY}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.beforePreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),tap(t=>{const guardsStart=new GuardsCheckStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(guardsStart)}),map(t=>Object.assign({},t,{guards:getAllRouteGuards(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(moduleInjector,forwardEvent){return function(source){return source.pipe(mergeMap(t=>{const{targetSnapshot:targetSnapshot,currentSnapshot:currentSnapshot,guards:{canActivateChecks:canActivateChecks,canDeactivateChecks:canDeactivateChecks}}=t;return 0===canDeactivateChecks.length&&0===canActivateChecks.length?of(Object.assign({},t,{guardsResult:!0})):function(checks,futureRSS,currRSS,moduleInjector){return from_from(canDeactivateChecks).pipe(mergeMap(check=>(function(component,currARS,currRSS,futureRSS,moduleInjector){const canDeactivate=currARS&&currARS.routeConfig?currARS.routeConfig.canDeactivate:null;return canDeactivate&&0!==canDeactivate.length?of(canDeactivate.map(c=>{const guard=getToken(c,currARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canDeactivate)}(guard))observable=wrapIntoObservable(guard.canDeactivate(component,currARS,currRSS,futureRSS));else{if(!router_isFunction(guard))throw new Error(\"Invalid CanDeactivate guard\");observable=wrapIntoObservable(guard(component,currARS,currRSS,futureRSS))}return observable.pipe(first_first())})).pipe(prioritizedGuardValue()):of(!0)})(check.component,check.route,currRSS,futureRSS,moduleInjector)),first_first(result=>!0!==result,!0))}(0,targetSnapshot,currentSnapshot,moduleInjector).pipe(mergeMap(canDeactivate=>canDeactivate&&function(v){return\"boolean\"==typeof canDeactivate}()?function(futureSnapshot,checks,moduleInjector,forwardEvent){return from_from(canActivateChecks).pipe(concatMap(check=>from_from([fireChildActivationStart(check.route.parent,forwardEvent),fireActivationStart(check.route,forwardEvent),runCanActivateChild(futureSnapshot,check.path,moduleInjector),runCanActivate(futureSnapshot,check.route,moduleInjector)]).pipe(concatAll(),first_first(result=>!0!==result,!0))),first_first(result=>!0!==result,!0))}(targetSnapshot,0,moduleInjector,forwardEvent):of(canDeactivate)),map(guardsResult=>Object.assign({},t,{guardsResult:guardsResult})))}))}}(this.ngModule.injector,evt=>this.triggerEvent(evt)),tap(t=>{if(isUrlTree(t.guardsResult)){const error=navigationCancelingError(`Redirecting to \"${this.serializeUrl(t.guardsResult)}\"`);throw error.url=t.guardsResult,error}}),tap(t=>{const guardsEnd=new GuardsCheckEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(guardsEnd)}),filter_filter(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),\"\");return eventsSubject.next(navCancel),t.resolve(!1),!1}return!0}),switchTap(t=>{if(t.guards.canActivateChecks.length)return of(t).pipe(tap(t=>{const resolveStart=new ResolveStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveStart)}),function(paramsInheritanceStrategy,moduleInjector){return function(source){return source.pipe(mergeMap(t=>{const{targetSnapshot:targetSnapshot,guards:{canActivateChecks:canActivateChecks}}=t;return canActivateChecks.length?from_from(canActivateChecks).pipe(concatMap(check=>(function(futureARS,futureRSS,paramsInheritanceStrategy,moduleInjector){return function(resolve,futureARS,futureRSS,moduleInjector){const keys=Object.keys(resolve);if(0===keys.length)return of({});if(1===keys.length){const key=keys[0];return getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(map(value=>({[key]:value})))}const data={};return from_from(keys).pipe(mergeMap(key=>getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(map(value=>(data[key]=value,value))))).pipe(last_last(),map(()=>data))}(futureARS._resolve,futureARS,targetSnapshot,moduleInjector).pipe(map(resolvedData=>(futureARS._resolvedData=resolvedData,futureARS.data=Object.assign({},futureARS.data,inheritedParamsDataResolve(futureARS,paramsInheritanceStrategy).resolve),null)))})(check.route,0,paramsInheritanceStrategy,moduleInjector)),function(accumulator,seed){return arguments.length>=2?function(source){return pipe(scan(accumulator,seed),takeLast(1),defaultIfEmpty(seed))(source)}:function(source){return pipe(scan((acc,value,index)=>accumulator(acc,value,index+1)),takeLast(1))(source)}}((_,__)=>_),map(_=>t)):of(t)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),tap(t=>{const resolveEnd=new ResolveEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveEnd)}))}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.afterPreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),map(t=>{const targetRouterState=function(routeReuseStrategy,curr,prevState){const root=function createNode(routeReuseStrategy,curr,prevState){if(prevState&&routeReuseStrategy.shouldReuseRoute(curr.value,prevState.value.snapshot)){const value=prevState.value;value._futureSnapshot=curr.value;const children=function(routeReuseStrategy,curr,prevState){return curr.children.map(child=>{for(const p of prevState.children)if(routeReuseStrategy.shouldReuseRoute(p.value.snapshot,child.value))return createNode(routeReuseStrategy,child,p);return createNode(routeReuseStrategy,child)})}(routeReuseStrategy,curr,prevState);return new TreeNode(value,children)}{const detachedRouteHandle=routeReuseStrategy.retrieve(curr.value);if(detachedRouteHandle){const tree=detachedRouteHandle.route;return function setFutureSnapshotsOfActivatedRoutes(curr,result){if(curr.value.routeConfig!==result.value.routeConfig)throw new Error(\"Cannot reattach ActivatedRouteSnapshot created from a different route\");if(curr.children.length!==result.children.length)throw new Error(\"Cannot reattach ActivatedRouteSnapshot with a different number of children\");result.value._futureSnapshot=curr.value;for(let i=0;i<curr.children.length;++i)setFutureSnapshotsOfActivatedRoutes(curr.children[i],result.children[i])}(curr,tree),tree}{const value=new router_ActivatedRoute(new BehaviorSubject_BehaviorSubject((c=curr.value).url),new BehaviorSubject_BehaviorSubject(c.params),new BehaviorSubject_BehaviorSubject(c.queryParams),new BehaviorSubject_BehaviorSubject(c.fragment),new BehaviorSubject_BehaviorSubject(c.data),c.outlet,c.component,c),children=curr.children.map(c=>createNode(routeReuseStrategy,c));return new TreeNode(value,children)}}var c}(routeReuseStrategy,curr._root,prevState?prevState._root:void 0);return new RouterState(root,curr)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:targetRouterState})}),tap(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,\"deferred\"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),activateRoutes(this.rootContexts,this.routeReuseStrategy,evt=>this.triggerEvent(evt)),tap({next(){completed=!0},complete(){completed=!0}}),function(callback){return source=>source.lift(new FinallyOperator(callback))}(()=>{if(!completed&&!errored){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);eventsSubject.next(navCancel),t.resolve(!1)}this.currentNavigation=null}),catchError(e=>{if(errored=!0,function(error){return e&&e[NAVIGATION_CANCELING_ERROR]}()){const redirecting=isUrlTree(e.url);redirecting||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),e.message);eventsSubject.next(navCancel),t.resolve(!1),redirecting&&this.navigateByUrl(e.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const navError=new NavigationError(t.id,this.serializeUrl(t.extractedUrl),e);eventsSubject.next(navError);try{t.resolve(this.errorHandler(e))}catch(ee){t.reject(ee)}}return empty_EMPTY}))}))}resetRootComponentType(rootComponentType){this.rootComponentType=rootComponentType,this.routerState.root.component=this.rootComponentType}getTransition(){const transition=this.transitions.value;return transition.urlAfterRedirects=this.browserUrlTree,transition}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(change=>{let rawUrlTree=this.parseUrl(change.url);const source=\"popstate\"===change.type?\"popstate\":\"hashchange\",state=change.state&&change.state.navigationId?change.state:null;setTimeout(()=>{this.scheduleNavigation(rawUrlTree,source,state,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(event){this.events.next(event)}resetConfig(config){validateConfig(config),this.config=config.map(standardizeConfig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(commands,navigationExtras={}){const{relativeTo:relativeTo,queryParams:queryParams,fragment:fragment,preserveQueryParams:preserveQueryParams,queryParamsHandling:queryParamsHandling,preserveFragment:preserveFragment}=navigationExtras;isDevMode()&&preserveQueryParams&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated, use queryParamsHandling instead.\");const a=relativeTo||this.routerState.root,f=preserveFragment?this.currentUrlTree.fragment:fragment;let q=null;if(queryParamsHandling)switch(queryParamsHandling){case\"merge\":q=Object.assign({},this.currentUrlTree.queryParams,queryParams);break;case\"preserve\":q=this.currentUrlTree.queryParams;break;default:q=queryParams||null}else q=preserveQueryParams?this.currentUrlTree.queryParams:queryParams||null;return null!==q&&(q=this.removeEmptyProps(q)),function(route,urlTree,commands,queryParams,fragment){if(0===commands.length)return router_tree(urlTree.root,urlTree.root,urlTree,queryParams,fragment);const nav=function(commands){if(\"string\"==typeof commands[0]&&1===commands.length&&\"/\"===commands[0])return new Navigation(!0,0,commands);let numberOfDoubleDots=0,isAbsolute=!1;const res=commands.reduce((res,cmd,cmdIdx)=>{if(\"object\"==typeof cmd&&null!=cmd){if(cmd.outlets){const outlets={};return forEach(cmd.outlets,(commands,name)=>{outlets[name]=\"string\"==typeof commands?commands.split(\"/\"):commands}),[...res,{outlets:outlets}]}if(cmd.segmentPath)return[...res,cmd.segmentPath]}return\"string\"!=typeof cmd?[...res,cmd]:0===cmdIdx?(cmd.split(\"/\").forEach((urlPart,partIndex)=>{0==partIndex&&\".\"===urlPart||(0==partIndex&&\"\"===urlPart?isAbsolute=!0:\"..\"===urlPart?numberOfDoubleDots++:\"\"!=urlPart&&res.push(urlPart))}),res):[...res,cmd]},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}(commands);if(nav.toRoot())return router_tree(urlTree.root,new UrlSegmentGroup([],{}),urlTree,queryParams,fragment);const startingPosition=function(nav,tree,route){if(nav.isAbsolute)return new Position(urlTree.root,!0,0);if(-1===route.snapshot._lastPathIndex)return new Position(route.snapshot._urlSegment,!0,0);const modifier=isMatrixParams(nav.commands[0])?0:1;return function(group,index,numberOfDoubleDots){let g=route.snapshot._urlSegment,ci=route.snapshot._lastPathIndex+modifier,dd=nav.numberOfDoubleDots;for(;dd>ci;){if(dd-=ci,!(g=g.parent))throw new Error(\"Invalid number of '../'\");ci=g.segments.length}return new Position(g,!1,ci-dd)}()}(nav,0,route),segmentGroup=startingPosition.processChildren?updateSegmentGroupChildren(startingPosition.segmentGroup,startingPosition.index,nav.commands):updateSegmentGroup(startingPosition.segmentGroup,startingPosition.index,nav.commands);return router_tree(startingPosition.segmentGroup,segmentGroup,urlTree,queryParams,fragment)}(a,this.currentUrlTree,commands,q,f)}navigateByUrl(url,extras={skipLocationChange:!1}){isDevMode()&&this.isNgZoneEnabled&&!NgZone.isInAngularZone()&&this.console.warn(\"Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?\");const urlTree=isUrlTree(url)?url:this.parseUrl(url),mergedTree=this.urlHandlingStrategy.merge(urlTree,this.rawUrlTree);return this.scheduleNavigation(mergedTree,\"imperative\",null,extras)}navigate(commands,extras={skipLocationChange:!1}){return function(commands){for(let i=0;i<commands.length;i++){const cmd=commands[i];if(null==cmd)throw new Error(`The requested path contains ${cmd} segment at index ${i}`)}}(commands),this.navigateByUrl(this.createUrlTree(commands,extras),extras)}serializeUrl(url){return this.urlSerializer.serialize(url)}parseUrl(url){let urlTree;try{urlTree=this.urlSerializer.parse(url)}catch(e){urlTree=this.malformedUriErrorHandler(e,this.urlSerializer,url)}return urlTree}isActive(url,exact){if(isUrlTree(url))return containsTree(this.currentUrlTree,url,exact);const urlTree=this.parseUrl(url);return containsTree(this.currentUrlTree,urlTree,exact)}removeEmptyProps(params){return Object.keys(params).reduce((result,key)=>{const value=params[key];return null!=value&&(result[key]=value),result},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new NavigationEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},e=>{this.console.warn(\"Unhandled Navigation Error: \")})}scheduleNavigation(rawUrl,source,restoredState,extras){const lastNavigation=this.getTransition();if(lastNavigation&&\"imperative\"!==source&&\"imperative\"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&\"hashchange\"==source&&\"popstate\"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&\"popstate\"==source&&\"hashchange\"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);let resolve=null,reject=null;const promise=new Promise((res,rej)=>{resolve=res,reject=rej}),id=++this.navigationId;return this.setTransition({id:id,source:source,restoredState:restoredState,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),promise.catch(e=>Promise.reject(e))}setBrowserUrl(url,replaceUrl,id,state){const path=this.urlSerializer.serialize(url);state=state||{},this.location.isCurrentPathEqualTo(path)||replaceUrl?this.location.replaceState(path,\"\",Object.assign({},state,{navigationId:id})):this.location.go(path,\"\",Object.assign({},state,{navigationId:id}))}resetStateAndUrl(storedState,storedUrl,rawUrl){this.routerState=storedState,this.currentUrlTree=storedUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,rawUrl),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),\"\",{navigationId:this.lastSuccessfulId})}}class OutletContext{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ChildrenOutletContexts,this.attachRef=null}}class ChildrenOutletContexts{constructor(){this.contexts=new Map}onChildOutletCreated(childName,outlet){const context=this.getOrCreateContext(childName);context.outlet=outlet,this.contexts.set(childName,context)}onChildOutletDestroyed(childName){const context=this.getContext(childName);context&&(context.outlet=null)}onOutletDeactivated(){const contexts=this.contexts;return this.contexts=new Map,contexts}onOutletReAttached(contexts){this.contexts=contexts}getOrCreateContext(childName){let context=this.getContext(childName);return context||(context=new OutletContext,this.contexts.set(childName,context)),context}getContext(childName){return this.contexts.get(childName)||null}}class router_RouterOutlet{constructor(parentContexts,location,resolver,name,changeDetector){this.parentContexts=parentContexts,this.location=location,this.resolver=resolver,this.changeDetector=changeDetector,this.activated=null,this._activatedRoute=null,this.activateEvents=new core_EventEmitter,this.deactivateEvents=new core_EventEmitter,this.name=name||PRIMARY_OUTLET,parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const context=this.parentContexts.getContext(this.name);context&&context.route&&(context.attachRef?this.attach(context.attachRef,context.route):this.activateWith(context.route,context.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error(\"Outlet is not activated\");this.location.detach();const cmp=this.activated;return this.activated=null,this._activatedRoute=null,cmp}attach(ref,activatedRoute){this.activated=ref,this._activatedRoute=activatedRoute,this.location.insert(ref.hostView)}deactivate(){if(this.activated){const c=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c)}}activateWith(activatedRoute,resolver){if(this.isActivated)throw new Error(\"Cannot activate an already activated outlet\");this._activatedRoute=activatedRoute;const factory=(resolver=resolver||this.resolver).resolveComponentFactory(activatedRoute._futureSnapshot.routeConfig.component),childContexts=this.parentContexts.getOrCreateContext(this.name).children,injector=new OutletInjector(activatedRoute,childContexts,this.location.injector);this.activated=this.location.createComponent(factory,this.location.length,injector),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class OutletInjector{constructor(route,childContexts,parent){this.route=route,this.childContexts=childContexts,this.parent=parent}get(token,notFoundValue){return token===router_ActivatedRoute?this.route:token===ChildrenOutletContexts?this.childContexts:this.parent.get(token,notFoundValue)}}class PreloadingStrategy{}class router_PreloadAllModules{preload(route,fn){return fn().pipe(catchError(()=>of(null)))}}class router_NoPreloading{preload(route,fn){return of(null)}}class router_RouterPreloader{constructor(router,moduleLoader,compiler,injector,preloadingStrategy){this.router=router,this.injector=injector,this.preloadingStrategy=preloadingStrategy,this.loader=new router_RouterConfigLoader(moduleLoader,compiler,r=>router.triggerEvent(new RouteConfigLoadStart(r)),r=>router.triggerEvent(new RouteConfigLoadEnd(r)))}setUpPreloading(){this.subscription=this.router.events.pipe(filter_filter(e=>e instanceof NavigationEnd),concatMap(()=>this.preload())).subscribe(()=>{})}preload(){const ngModule=this.injector.get(NgModuleRef);return this.processRoutes(ngModule,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(ngModule,routes){const res=[];for(const route of routes)if(route.loadChildren&&!route.canLoad&&route._loadedConfig){const childConfig=route._loadedConfig;res.push(this.processRoutes(childConfig.module,childConfig.routes))}else route.loadChildren&&!route.canLoad?res.push(this.preloadConfig(ngModule,route)):route.children&&res.push(this.processRoutes(ngModule,route.children));return from_from(res).pipe(mergeAll(),map(_=>void 0))}preloadConfig(ngModule,route){return this.preloadingStrategy.preload(route,()=>this.loader.load(ngModule.injector,route).pipe(mergeMap(config=>(route._loadedConfig=config,this.processRoutes(config.module,config.routes)))))}}class RouterScroller{constructor(router,viewportScroller,options={}){this.router=router,this.viewportScroller=viewportScroller,this.options=options,this.lastId=0,this.lastSource=\"imperative\",this.restoredId=0,this.store={},options.scrollPositionRestoration=options.scrollPositionRestoration||\"disabled\",options.anchorScrolling=options.anchorScrolling||\"disabled\"}init(){\"disabled\"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration(\"manual\"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof NavigationStart?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Scroll&&(e.position?\"top\"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):\"enabled\"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&\"enabled\"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):\"disabled\"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(routerEvent,anchor){this.router.triggerEvent(new Scroll(routerEvent,\"popstate\"===this.lastSource?this.store[this.restoredId]:null,anchor))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const ROUTER_CONFIGURATION=new InjectionToken(\"ROUTER_CONFIGURATION\"),ROUTER_FORROOT_GUARD=new InjectionToken(\"ROUTER_FORROOT_GUARD\"),ROUTER_PROVIDERS=[common_Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:router_Router,useFactory:setupRouter,deps:[core_ApplicationRef,UrlSerializer,ChildrenOutletContexts,common_Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION,[UrlHandlingStrategy,new Optional],[RouteReuseStrategy,new Optional]]},ChildrenOutletContexts,{provide:router_ActivatedRoute,useFactory:rootRoute,deps:[router_Router]},{provide:NgModuleFactoryLoader,useClass:SystemJsNgModuleLoader},router_RouterPreloader,router_NoPreloading,router_PreloadAllModules,{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}];function routerNgProbeToken(){return new NgProbeToken(\"Router\",router_Router)}class router_RouterModule{constructor(guard,router){}static forRoot(routes,config){return{ngModule:router_RouterModule,providers:[ROUTER_PROVIDERS,provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[router_Router,new Optional,new SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config||{}},{provide:LocationStrategy,useFactory:provideLocationStrategy,deps:[PlatformLocation,[new Inject(APP_BASE_HREF),new Optional],ROUTER_CONFIGURATION]},{provide:RouterScroller,useFactory:createRouterScroller,deps:[router_Router,common_ViewportScroller,ROUTER_CONFIGURATION]},{provide:PreloadingStrategy,useExisting:config&&config.preloadingStrategy?config.preloadingStrategy:router_NoPreloading},{provide:NgProbeToken,multi:!0,useFactory:routerNgProbeToken},[router_RouterInitializer,{provide:APP_INITIALIZER,multi:!0,useFactory:getAppInitializer,deps:[router_RouterInitializer]},{provide:ROUTER_INITIALIZER,useFactory:getBootstrapListener,deps:[router_RouterInitializer]},{provide:APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ROUTER_INITIALIZER}]]}}static forChild(routes){return{ngModule:router_RouterModule,providers:[provideRoutes(routes)]}}}function createRouterScroller(router,viewportScroller,config){return config.scrollOffset&&viewportScroller.setOffset(config.scrollOffset),new RouterScroller(router,viewportScroller,config)}function provideLocationStrategy(platformLocationStrategy,baseHref,options={}){return options.useHash?new HashLocationStrategy(platformLocationStrategy,baseHref):new PathLocationStrategy(platformLocationStrategy,baseHref)}function provideForRootGuard(router){if(router)throw new Error(\"RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.\");return\"guarded\"}function provideRoutes(routes){return[{provide:ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:routes},{provide:ROUTES,multi:!0,useValue:routes}]}function setupRouter(ref,urlSerializer,contexts,location,injector,loader,compiler,config,opts={},urlHandlingStrategy,routeReuseStrategy){const router=new router_Router(null,urlSerializer,contexts,location,injector,loader,compiler,router_flatten(config));if(urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy),routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy),opts.errorHandler&&(router.errorHandler=opts.errorHandler),opts.malformedUriErrorHandler&&(router.malformedUriErrorHandler=opts.malformedUriErrorHandler),opts.enableTracing){const dom=getDOM();router.events.subscribe(e=>{dom.logGroup(`Router Event: ${e.constructor.name}`),dom.log(e.toString()),dom.log(e),dom.logGroupEnd()})}return opts.onSameUrlNavigation&&(router.onSameUrlNavigation=opts.onSameUrlNavigation),opts.paramsInheritanceStrategy&&(router.paramsInheritanceStrategy=opts.paramsInheritanceStrategy),opts.urlUpdateStrategy&&(router.urlUpdateStrategy=opts.urlUpdateStrategy),opts.relativeLinkResolution&&(router.relativeLinkResolution=opts.relativeLinkResolution),router}function rootRoute(router){return router.routerState.root}class router_RouterInitializer{constructor(injector){this.injector=injector,this.initNavigation=!1,this.resultOfPreactivationDone=new Subject_Subject}appInitializer(){return this.injector.get(LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let resolve=null;const res=new Promise(r=>resolve=r),router=this.injector.get(router_Router),opts=this.injector.get(ROUTER_CONFIGURATION);if(this.isLegacyDisabled(opts)||this.isLegacyEnabled(opts))resolve(!0);else if(\"disabled\"===opts.initialNavigation)router.setUpLocationChangeListener(),resolve(!0);else{if(\"enabled\"!==opts.initialNavigation)throw new Error(`Invalid initialNavigation options: '${opts.initialNavigation}'`);router.hooks.afterPreactivation=()=>this.initNavigation?of(null):(this.initNavigation=!0,resolve(!0),this.resultOfPreactivationDone),router.initialNavigation()}return res})}bootstrapListener(bootstrappedComponentRef){const opts=this.injector.get(ROUTER_CONFIGURATION),preloader=this.injector.get(router_RouterPreloader),routerScroller=this.injector.get(RouterScroller),router=this.injector.get(router_Router),ref=this.injector.get(core_ApplicationRef);bootstrappedComponentRef===ref.components[0]&&(this.isLegacyEnabled(opts)?router.initialNavigation():this.isLegacyDisabled(opts)&&router.setUpLocationChangeListener(),preloader.setUpPreloading(),routerScroller.init(),router.resetRootComponentType(ref.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(opts){return\"legacy_enabled\"===opts.initialNavigation||!0===opts.initialNavigation||void 0===opts.initialNavigation}isLegacyDisabled(opts){return\"legacy_disabled\"===opts.initialNavigation||!1===opts.initialNavigation}}function getAppInitializer(r){return r.appInitializer.bind(r)}function getBootstrapListener(r){return r.bootstrapListener.bind(r)}const ROUTER_INITIALIZER=new InjectionToken(\"Router Initializer\");var RenderType_ɵangular_packages_router_router_l=createRendererType2({encapsulation:2,styles:[],data:{}});function View_ɵangular_packages_router_router_l_0(_l){return viewDef(0,[(_l()(),elementDef(0,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),directiveDef(1,212992,null,0,router_RouterOutlet,[ChildrenOutletContexts,ViewContainerRef,ComponentFactoryResolver,[8,null],ChangeDetectorRef],null,null)],function(_ck,_v){_ck(_v,1,0)},null)}function View_ɵangular_packages_router_router_l_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_ɵangular_packages_router_router_l_0,RenderType_ɵangular_packages_router_router_l)),directiveDef(1,49152,null,0,ɵEmptyOutletComponent,[],null,null)],null,null)}var ɵangular_packages_router_router_lNgFactory=createComponentFactory(\"ng-component\",ɵEmptyOutletComponent,View_ɵangular_packages_router_router_l_Host_0,{},{},[]),RenderType_AppComponent=createRendererType2({encapsulation:0,styles:[['body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"}#chartLinediv[_ngcontent-%COMP%], #chartpiediv[_ngcontent-%COMP%]{width:50%;height:200px}#chartdiv[_ngcontent-%COMP%]{width:50%;height:400px}']],data:{}});function View_AppComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"p\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Pie Chart - All Coverages Premium percentages\"])),(_l()(),elementDef(2,0,null,null,0,\"div\",[[\"id\",\"chartpiediv\"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,\"p\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Bar Diagram - All Coverages\"])),(_l()(),elementDef(5,0,null,null,0,\"div\",[[\"id\",\"chartdiv\"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,1,\"p\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Trends\"])),(_l()(),elementDef(8,0,null,null,0,\"div\",[[\"id\",\"chartLinediv\"]],null,null,null,null,null))],null,null)}function View_AppComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"app-root\",[],null,null,null,View_AppComponent_0,RenderType_AppComponent)),directiveDef(1,4243456,null,0,app_component_AppComponent,[],null,null)],null,null)}var AppComponentNgFactory=createComponentFactory(\"app-root\",app_component_AppComponent,View_AppComponent_Host_0,{},{},[]);class AppRoutingModule{}var AppModuleNgFactory=createNgModuleFactory(AppModule,[app_component_AppComponent],function(_l){return function(providers){const providersByKey={},modules=[];let isRoot=!1;for(let i=0;i<providers.length;i++){const provider=providers[i];provider.token===APP_ROOT&&!0===provider.value&&(isRoot=!0),1073741824&provider.flags&&modules.push(provider.token),provider.index=i,providersByKey[tokenKey(provider.token)]=provider}return{factory:null,providersByKey:providersByKey,providers:providers,modules:modules,isRoot:isRoot}}([moduleProvideDef(512,ComponentFactoryResolver,CodegenComponentFactoryResolver,[[8,[ɵangular_packages_router_router_lNgFactory,AppComponentNgFactory]],[3,ComponentFactoryResolver],NgModuleRef]),moduleProvideDef(5120,LOCALE_ID$1,_localeFactory,[[3,LOCALE_ID$1]]),moduleProvideDef(4608,NgLocalization,NgLocaleLocalization,[LOCALE_ID$1,[2,DEPRECATED_PLURAL_FN]]),moduleProvideDef(5120,SCHEDULER,zoneSchedulerFactory,[NgZone]),moduleProvideDef(5120,APP_ID,_appIdRandomProviderFactory,[]),moduleProvideDef(5120,IterableDiffers,_iterableDiffersFactory,[]),moduleProvideDef(5120,KeyValueDiffers,_keyValueDiffersFactory,[]),moduleProvideDef(4608,DomSanitizer,platform_browser_DomSanitizerImpl,[DOCUMENT]),moduleProvideDef(6144,Sanitizer,null,[DomSanitizer]),moduleProvideDef(4608,HAMMER_GESTURE_CONFIG,HammerGestureConfig,[]),moduleProvideDef(5120,EVENT_MANAGER_PLUGINS,function(p0_0,p0_1,p0_2,p1_0,p2_0,p2_1,p2_2,p2_3){return[new platform_browser_DomEventsPlugin(p0_0,p0_1,p0_2),new KeyEventsPlugin(p1_0),new HammerGesturesPlugin(p2_0,p2_1,p2_2,p2_3)]},[DOCUMENT,NgZone,PLATFORM_ID,DOCUMENT,DOCUMENT,HAMMER_GESTURE_CONFIG,Console,[2,HAMMER_LOADER]]),moduleProvideDef(4608,EventManager,EventManager,[EVENT_MANAGER_PLUGINS,NgZone]),moduleProvideDef(135680,DomSharedStylesHost,DomSharedStylesHost,[DOCUMENT]),moduleProvideDef(4608,platform_browser_DomRendererFactory2,platform_browser_DomRendererFactory2,[EventManager,DomSharedStylesHost,APP_ID]),moduleProvideDef(6144,RendererFactory2,null,[platform_browser_DomRendererFactory2]),moduleProvideDef(6144,SharedStylesHost,null,[DomSharedStylesHost]),moduleProvideDef(4608,Testability,Testability,[NgZone]),moduleProvideDef(5120,router_ActivatedRoute,rootRoute,[router_Router]),moduleProvideDef(4608,router_NoPreloading,router_NoPreloading,[]),moduleProvideDef(6144,PreloadingStrategy,null,[router_NoPreloading]),moduleProvideDef(135680,router_RouterPreloader,router_RouterPreloader,[router_Router,NgModuleFactoryLoader,Compiler,Injector,PreloadingStrategy]),moduleProvideDef(4608,router_PreloadAllModules,router_PreloadAllModules,[]),moduleProvideDef(5120,RouterScroller,createRouterScroller,[router_Router,common_ViewportScroller,ROUTER_CONFIGURATION]),moduleProvideDef(5120,ROUTER_INITIALIZER,getBootstrapListener,[router_RouterInitializer]),moduleProvideDef(5120,APP_BOOTSTRAP_LISTENER,function(p0_0){return[p0_0]},[ROUTER_INITIALIZER]),moduleProvideDef(1073742336,CommonModule,CommonModule,[]),moduleProvideDef(1024,ErrorHandler,errorHandler,[]),moduleProvideDef(1024,NgProbeToken,function(){return[routerNgProbeToken()]},[]),moduleProvideDef(512,router_RouterInitializer,router_RouterInitializer,[Injector]),moduleProvideDef(1024,APP_INITIALIZER,function(p0_0,p1_0){return[(coreTokens=p0_0,exportNgVar(\"probe\",inspectNativeElement),exportNgVar(\"coreTokens\",Object.assign({},CORE_TOKENS,(coreTokens||[]).reduce((prev,t)=>(prev[t.name]=t.token,prev),{}))),()=>inspectNativeElement),getAppInitializer(p1_0)];var coreTokens},[[2,NgProbeToken],router_RouterInitializer]),moduleProvideDef(512,ApplicationInitStatus,ApplicationInitStatus,[[2,APP_INITIALIZER]]),moduleProvideDef(131584,core_ApplicationRef,core_ApplicationRef,[NgZone,Console,Injector,ErrorHandler,ComponentFactoryResolver,ApplicationInitStatus]),moduleProvideDef(1073742336,ApplicationModule,ApplicationModule,[core_ApplicationRef]),moduleProvideDef(1073742336,platform_browser_BrowserModule,platform_browser_BrowserModule,[[3,platform_browser_BrowserModule]]),moduleProvideDef(1024,ROUTER_FORROOT_GUARD,provideForRootGuard,[[3,router_Router]]),moduleProvideDef(512,UrlSerializer,DefaultUrlSerializer,[]),moduleProvideDef(512,ChildrenOutletContexts,ChildrenOutletContexts,[]),moduleProvideDef(256,ROUTER_CONFIGURATION,{},[]),moduleProvideDef(1024,LocationStrategy,provideLocationStrategy,[PlatformLocation,[2,APP_BASE_HREF],ROUTER_CONFIGURATION]),moduleProvideDef(512,common_Location,common_Location,[LocationStrategy,PlatformLocation]),moduleProvideDef(512,Compiler,Compiler,[]),moduleProvideDef(512,NgModuleFactoryLoader,SystemJsNgModuleLoader,[Compiler,[2,SystemJsNgModuleLoaderConfig]]),moduleProvideDef(1024,ROUTES,function(){return[[]]},[]),moduleProvideDef(1024,router_Router,setupRouter,[core_ApplicationRef,UrlSerializer,ChildrenOutletContexts,common_Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION,[2,UrlHandlingStrategy],[2,RouteReuseStrategy]]),moduleProvideDef(1073742336,router_RouterModule,router_RouterModule,[[2,ROUTER_FORROOT_GUARD],[2,router_Router]]),moduleProvideDef(1073742336,AppRoutingModule,AppRoutingModule,[]),moduleProvideDef(1073742336,AppModule,AppModule,[]),moduleProvideDef(256,APP_ROOT,!0,[])])});(function(){if(_runModeLocked)throw new Error(\"Cannot enable prod mode after platform setup.\");_devMode=!1})(),platformBrowser().bootstrapModuleFactory(AppModuleNgFactory).catch(err=>console.error(err))},zn8P:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then(function(){var e=new Error(\"Cannot find module '\"+req+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e})}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=\"zn8P\"}},[[0,0]]]);","extractedComments":[]}